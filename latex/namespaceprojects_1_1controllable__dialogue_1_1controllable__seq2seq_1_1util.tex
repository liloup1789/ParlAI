\hypertarget{namespaceprojects_1_1controllable__dialogue_1_1controllable__seq2seq_1_1util}{}\section{projects.\+controllable\+\_\+dialogue.\+controllable\+\_\+seq2seq.\+util Namespace Reference}
\label{namespaceprojects_1_1controllable__dialogue_1_1controllable__seq2seq_1_1util}\index{projects.\+controllable\+\_\+dialogue.\+controllable\+\_\+seq2seq.\+util@{projects.\+controllable\+\_\+dialogue.\+controllable\+\_\+seq2seq.\+util}}
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \hyperlink{classprojects_1_1controllable__dialogue_1_1controllable__seq2seq_1_1util_1_1ConvAI2History}{Conv\+A\+I2\+History}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{namespaceprojects_1_1controllable__dialogue_1_1controllable__seq2seq_1_1util_accba1ac2dc7bedf184abe7d46120861c}{remove\+\_\+prefix} (utt, prefix)
\item 
def \hyperlink{namespaceprojects_1_1controllable__dialogue_1_1controllable__seq2seq_1_1util_a21f7e685d288dffc51d76664b3f31859}{fix\+\_\+personaline\+\_\+period} (line)
\item 
def \hyperlink{namespaceprojects_1_1controllable__dialogue_1_1controllable__seq2seq_1_1util_ad8bee76107b49379c621746db6fd7d4e}{show\+\_\+beam\+\_\+cands} (n\+\_\+best\+\_\+beam\+\_\+preds, history, dictionary)
\item 
def \hyperlink{namespaceprojects_1_1controllable__dialogue_1_1controllable__seq2seq_1_1util_aa1ba917d170af0191d23b033358bc9eb}{reorder\+\_\+extrep2gram\+\_\+qn} (n\+\_\+best\+\_\+beam\+\_\+preds, history, dictionary, verbose)
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\mbox{\Hypertarget{namespaceprojects_1_1controllable__dialogue_1_1controllable__seq2seq_1_1util_a21f7e685d288dffc51d76664b3f31859}\label{namespaceprojects_1_1controllable__dialogue_1_1controllable__seq2seq_1_1util_a21f7e685d288dffc51d76664b3f31859}} 
\index{projects\+::controllable\+\_\+dialogue\+::controllable\+\_\+seq2seq\+::util@{projects\+::controllable\+\_\+dialogue\+::controllable\+\_\+seq2seq\+::util}!fix\+\_\+personaline\+\_\+period@{fix\+\_\+personaline\+\_\+period}}
\index{fix\+\_\+personaline\+\_\+period@{fix\+\_\+personaline\+\_\+period}!projects\+::controllable\+\_\+dialogue\+::controllable\+\_\+seq2seq\+::util@{projects\+::controllable\+\_\+dialogue\+::controllable\+\_\+seq2seq\+::util}}
\subsubsection{\texorpdfstring{fix\+\_\+personaline\+\_\+period()}{fix\_personaline\_period()}}
{\footnotesize\ttfamily def projects.\+controllable\+\_\+dialogue.\+controllable\+\_\+seq2seq.\+util.\+fix\+\_\+personaline\+\_\+period (\begin{DoxyParamCaption}\item[{}]{line }\end{DoxyParamCaption})}

\begin{DoxyVerb}Sometimes the tokenized persona lines have a period at the end but no space before
the period.

This function fixes it, e.g. changes 'my favorite color is blue.' to 'my favorite
color is blue .'
\end{DoxyVerb}
 \mbox{\Hypertarget{namespaceprojects_1_1controllable__dialogue_1_1controllable__seq2seq_1_1util_accba1ac2dc7bedf184abe7d46120861c}\label{namespaceprojects_1_1controllable__dialogue_1_1controllable__seq2seq_1_1util_accba1ac2dc7bedf184abe7d46120861c}} 
\index{projects\+::controllable\+\_\+dialogue\+::controllable\+\_\+seq2seq\+::util@{projects\+::controllable\+\_\+dialogue\+::controllable\+\_\+seq2seq\+::util}!remove\+\_\+prefix@{remove\+\_\+prefix}}
\index{remove\+\_\+prefix@{remove\+\_\+prefix}!projects\+::controllable\+\_\+dialogue\+::controllable\+\_\+seq2seq\+::util@{projects\+::controllable\+\_\+dialogue\+::controllable\+\_\+seq2seq\+::util}}
\subsubsection{\texorpdfstring{remove\+\_\+prefix()}{remove\_prefix()}}
{\footnotesize\ttfamily def projects.\+controllable\+\_\+dialogue.\+controllable\+\_\+seq2seq.\+util.\+remove\+\_\+prefix (\begin{DoxyParamCaption}\item[{}]{utt,  }\item[{}]{prefix }\end{DoxyParamCaption})}

\begin{DoxyVerb}Check that utt begins with prefix+" ", and then remove.

Inputs:
  utt: string
  prefix: string

Returns:
  new utt: utt with the prefix+" " removed.
\end{DoxyVerb}
 \mbox{\Hypertarget{namespaceprojects_1_1controllable__dialogue_1_1controllable__seq2seq_1_1util_aa1ba917d170af0191d23b033358bc9eb}\label{namespaceprojects_1_1controllable__dialogue_1_1controllable__seq2seq_1_1util_aa1ba917d170af0191d23b033358bc9eb}} 
\index{projects\+::controllable\+\_\+dialogue\+::controllable\+\_\+seq2seq\+::util@{projects\+::controllable\+\_\+dialogue\+::controllable\+\_\+seq2seq\+::util}!reorder\+\_\+extrep2gram\+\_\+qn@{reorder\+\_\+extrep2gram\+\_\+qn}}
\index{reorder\+\_\+extrep2gram\+\_\+qn@{reorder\+\_\+extrep2gram\+\_\+qn}!projects\+::controllable\+\_\+dialogue\+::controllable\+\_\+seq2seq\+::util@{projects\+::controllable\+\_\+dialogue\+::controllable\+\_\+seq2seq\+::util}}
\subsubsection{\texorpdfstring{reorder\+\_\+extrep2gram\+\_\+qn()}{reorder\_extrep2gram\_qn()}}
{\footnotesize\ttfamily def projects.\+controllable\+\_\+dialogue.\+controllable\+\_\+seq2seq.\+util.\+reorder\+\_\+extrep2gram\+\_\+qn (\begin{DoxyParamCaption}\item[{}]{n\+\_\+best\+\_\+beam\+\_\+preds,  }\item[{}]{history,  }\item[{}]{dictionary,  }\item[{}]{verbose }\end{DoxyParamCaption})}

\begin{DoxyVerb}Inputs:
    n_best_beam_preds: list length num_candidates of (prediction, score) pairs.
      prediction is a tensor of word indices, score is a single float tensor.
    history: ConvAI2History
    dictionary: parlai DictionaryAgent
    verbose: bool. If True, print out the selection process.

Outputs: (tensor, tensor) pair which is the chosen (prediction, score)
\end{DoxyVerb}
 \mbox{\Hypertarget{namespaceprojects_1_1controllable__dialogue_1_1controllable__seq2seq_1_1util_ad8bee76107b49379c621746db6fd7d4e}\label{namespaceprojects_1_1controllable__dialogue_1_1controllable__seq2seq_1_1util_ad8bee76107b49379c621746db6fd7d4e}} 
\index{projects\+::controllable\+\_\+dialogue\+::controllable\+\_\+seq2seq\+::util@{projects\+::controllable\+\_\+dialogue\+::controllable\+\_\+seq2seq\+::util}!show\+\_\+beam\+\_\+cands@{show\+\_\+beam\+\_\+cands}}
\index{show\+\_\+beam\+\_\+cands@{show\+\_\+beam\+\_\+cands}!projects\+::controllable\+\_\+dialogue\+::controllable\+\_\+seq2seq\+::util@{projects\+::controllable\+\_\+dialogue\+::controllable\+\_\+seq2seq\+::util}}
\subsubsection{\texorpdfstring{show\+\_\+beam\+\_\+cands()}{show\_beam\_cands()}}
{\footnotesize\ttfamily def projects.\+controllable\+\_\+dialogue.\+controllable\+\_\+seq2seq.\+util.\+show\+\_\+beam\+\_\+cands (\begin{DoxyParamCaption}\item[{}]{n\+\_\+best\+\_\+beam\+\_\+preds,  }\item[{}]{history,  }\item[{}]{dictionary }\end{DoxyParamCaption})}

\begin{DoxyVerb}Pretty-print the n-best candidates from beam search, along with their probabilities.

Inputs:
  n_best_beam_preds: list length num_candidates of (prediction, score) pairs.
    prediction is a tensor of word indices, score is a single float tensor.
  history: ConvAI2History
  dictionary: parlai DictionaryAgent
\end{DoxyVerb}
 