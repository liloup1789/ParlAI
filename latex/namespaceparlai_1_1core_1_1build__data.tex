\hypertarget{namespaceparlai_1_1core_1_1build__data}{}\section{parlai.\+core.\+build\+\_\+data Namespace Reference}
\label{namespaceparlai_1_1core_1_1build__data}\index{parlai.\+core.\+build\+\_\+data@{parlai.\+core.\+build\+\_\+data}}
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \hyperlink{classparlai_1_1core_1_1build__data_1_1DownloadableFile}{Downloadable\+File}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{namespaceparlai_1_1core_1_1build__data_ad834e1a9be02e18a6c2de2b03b9a8f10}{built} (path, version\+\_\+string=None)
\item 
def \hyperlink{namespaceparlai_1_1core_1_1build__data_a2527e6d29b0ccb7b841182890ac36a59}{mark\+\_\+done} (path, version\+\_\+string=None)
\item 
def \hyperlink{namespaceparlai_1_1core_1_1build__data_ab74f0e428f05e5d91fa93c8afb367622}{download} (url, path, fname, redownload=False)
\item 
def \hyperlink{namespaceparlai_1_1core_1_1build__data_a6ce042fedd4194bd016845bbe7a8facf}{make\+\_\+dir} (path)
\item 
def \hyperlink{namespaceparlai_1_1core_1_1build__data_a1678b8a042eeb9d9c8e9de08f52e496b}{move} (path1, path2)
\item 
def \hyperlink{namespaceparlai_1_1core_1_1build__data_a24ab3b7e68e41adf774df058d330ff33}{remove\+\_\+dir} (path)
\item 
def \hyperlink{namespaceparlai_1_1core_1_1build__data_a4d33f97932682a8513904022d852f3cf}{untar} (path, fname, delete\+Tar=True)
\item 
def \hyperlink{namespaceparlai_1_1core_1_1build__data_a7cbfdf246ca40dc3ed9f8613deb14a00}{unzip} (path, fname, delete\+Zip=True)
\item 
def \hyperlink{namespaceparlai_1_1core_1_1build__data_adc4feba864e2a0d0663cdf6bf84afaf6}{cat} (file1, file2, outfile, delete\+Files=True)
\item 
def \hyperlink{namespaceparlai_1_1core_1_1build__data_ac9224da5c4e4ce9d1f4ab05e837c1f45}{download\+\_\+from\+\_\+google\+\_\+drive} (gd\+\_\+id, destination)
\item 
def \hyperlink{namespaceparlai_1_1core_1_1build__data_ad2fe6222094caae59f304931aee0952a}{get\+\_\+model\+\_\+dir} (datapath)
\item 
def \hyperlink{namespaceparlai_1_1core_1_1build__data_ab697f23f05d3e36d7979fe5e0ed7911e}{download\+\_\+models} (opt, fnames, model\+\_\+folder, version=\textquotesingle{}v1.\+0\textquotesingle{}, path=\textquotesingle{}aws\textquotesingle{}, use\+\_\+model\+\_\+type=False)
\item 
def \hyperlink{namespaceparlai_1_1core_1_1build__data_ad06e9e38ca85db9c4a676ccd9ae41649}{modelzoo\+\_\+path} (datapath, path)
\item 
def \hyperlink{namespaceparlai_1_1core_1_1build__data_ae259aeb321a77560fbcd23028178c897}{download\+\_\+multiprocess} (urls, path, num\+\_\+processes=32, chunk\+\_\+size=100, dest\+\_\+filenames=None, error\+\_\+path=None)
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\mbox{\Hypertarget{namespaceparlai_1_1core_1_1build__data_ad834e1a9be02e18a6c2de2b03b9a8f10}\label{namespaceparlai_1_1core_1_1build__data_ad834e1a9be02e18a6c2de2b03b9a8f10}} 
\index{parlai\+::core\+::build\+\_\+data@{parlai\+::core\+::build\+\_\+data}!built@{built}}
\index{built@{built}!parlai\+::core\+::build\+\_\+data@{parlai\+::core\+::build\+\_\+data}}
\subsubsection{\texorpdfstring{built()}{built()}}
{\footnotesize\ttfamily def parlai.\+core.\+build\+\_\+data.\+built (\begin{DoxyParamCaption}\item[{}]{path,  }\item[{}]{version\+\_\+string = {\ttfamily None} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Check if '.built' flag has been set for that task.

If a version_string is provided, this has to match, or the version is regarded as
not built.
\end{DoxyVerb}
 \mbox{\Hypertarget{namespaceparlai_1_1core_1_1build__data_adc4feba864e2a0d0663cdf6bf84afaf6}\label{namespaceparlai_1_1core_1_1build__data_adc4feba864e2a0d0663cdf6bf84afaf6}} 
\index{parlai\+::core\+::build\+\_\+data@{parlai\+::core\+::build\+\_\+data}!cat@{cat}}
\index{cat@{cat}!parlai\+::core\+::build\+\_\+data@{parlai\+::core\+::build\+\_\+data}}
\subsubsection{\texorpdfstring{cat()}{cat()}}
{\footnotesize\ttfamily def parlai.\+core.\+build\+\_\+data.\+cat (\begin{DoxyParamCaption}\item[{}]{file1,  }\item[{}]{file2,  }\item[{}]{outfile,  }\item[{}]{delete\+Files = {\ttfamily True} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Concatenate two files to an outfile, possibly deleting the originals.
\end{DoxyVerb}
 \mbox{\Hypertarget{namespaceparlai_1_1core_1_1build__data_ab74f0e428f05e5d91fa93c8afb367622}\label{namespaceparlai_1_1core_1_1build__data_ab74f0e428f05e5d91fa93c8afb367622}} 
\index{parlai\+::core\+::build\+\_\+data@{parlai\+::core\+::build\+\_\+data}!download@{download}}
\index{download@{download}!parlai\+::core\+::build\+\_\+data@{parlai\+::core\+::build\+\_\+data}}
\subsubsection{\texorpdfstring{download()}{download()}}
{\footnotesize\ttfamily def parlai.\+core.\+build\+\_\+data.\+download (\begin{DoxyParamCaption}\item[{}]{url,  }\item[{}]{path,  }\item[{}]{fname,  }\item[{}]{redownload = {\ttfamily False} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Download file using `requests`.

If ``redownload`` is set to false, then will not download tar file again if it is
present (default ``True``).
\end{DoxyVerb}
 \mbox{\Hypertarget{namespaceparlai_1_1core_1_1build__data_ac9224da5c4e4ce9d1f4ab05e837c1f45}\label{namespaceparlai_1_1core_1_1build__data_ac9224da5c4e4ce9d1f4ab05e837c1f45}} 
\index{parlai\+::core\+::build\+\_\+data@{parlai\+::core\+::build\+\_\+data}!download\+\_\+from\+\_\+google\+\_\+drive@{download\+\_\+from\+\_\+google\+\_\+drive}}
\index{download\+\_\+from\+\_\+google\+\_\+drive@{download\+\_\+from\+\_\+google\+\_\+drive}!parlai\+::core\+::build\+\_\+data@{parlai\+::core\+::build\+\_\+data}}
\subsubsection{\texorpdfstring{download\+\_\+from\+\_\+google\+\_\+drive()}{download\_from\_google\_drive()}}
{\footnotesize\ttfamily def parlai.\+core.\+build\+\_\+data.\+download\+\_\+from\+\_\+google\+\_\+drive (\begin{DoxyParamCaption}\item[{}]{gd\+\_\+id,  }\item[{}]{destination }\end{DoxyParamCaption})}

\begin{DoxyVerb}Use the requests package to download a file from Google Drive.
\end{DoxyVerb}
 \mbox{\Hypertarget{namespaceparlai_1_1core_1_1build__data_ab697f23f05d3e36d7979fe5e0ed7911e}\label{namespaceparlai_1_1core_1_1build__data_ab697f23f05d3e36d7979fe5e0ed7911e}} 
\index{parlai\+::core\+::build\+\_\+data@{parlai\+::core\+::build\+\_\+data}!download\+\_\+models@{download\+\_\+models}}
\index{download\+\_\+models@{download\+\_\+models}!parlai\+::core\+::build\+\_\+data@{parlai\+::core\+::build\+\_\+data}}
\subsubsection{\texorpdfstring{download\+\_\+models()}{download\_models()}}
{\footnotesize\ttfamily def parlai.\+core.\+build\+\_\+data.\+download\+\_\+models (\begin{DoxyParamCaption}\item[{}]{opt,  }\item[{}]{fnames,  }\item[{}]{model\+\_\+folder,  }\item[{}]{version = {\ttfamily \textquotesingle{}v1.0\textquotesingle{}},  }\item[{}]{path = {\ttfamily \textquotesingle{}aws\textquotesingle{}},  }\item[{}]{use\+\_\+model\+\_\+type = {\ttfamily False} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Download models into the ParlAI model zoo from a url.

:param fnames: list of filenames to download
:param model_folder: models will be downloaded into models/model_folder/model_type
:param path: url for downloading models; defaults to downloading from AWS
:param use_model_type: whether models are categorized by type in AWS
\end{DoxyVerb}
 \mbox{\Hypertarget{namespaceparlai_1_1core_1_1build__data_ae259aeb321a77560fbcd23028178c897}\label{namespaceparlai_1_1core_1_1build__data_ae259aeb321a77560fbcd23028178c897}} 
\index{parlai\+::core\+::build\+\_\+data@{parlai\+::core\+::build\+\_\+data}!download\+\_\+multiprocess@{download\+\_\+multiprocess}}
\index{download\+\_\+multiprocess@{download\+\_\+multiprocess}!parlai\+::core\+::build\+\_\+data@{parlai\+::core\+::build\+\_\+data}}
\subsubsection{\texorpdfstring{download\+\_\+multiprocess()}{download\_multiprocess()}}
{\footnotesize\ttfamily def parlai.\+core.\+build\+\_\+data.\+download\+\_\+multiprocess (\begin{DoxyParamCaption}\item[{}]{urls,  }\item[{}]{path,  }\item[{}]{num\+\_\+processes = {\ttfamily 32},  }\item[{}]{chunk\+\_\+size = {\ttfamily 100},  }\item[{}]{dest\+\_\+filenames = {\ttfamily None},  }\item[{}]{error\+\_\+path = {\ttfamily None} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Download items in parallel (e.g. for an image + dialogue task)

Note: "of threading, multiprocess and pytorch.multiprocessing pick two".
These three don't all play well together. On OS X, may hang upon successful finish.

:param urls: Array of urls to download
:param path: directory to save items in
:param num_processes: number of processes to use
:param chunk_size: chunk size to use
:param dest_filenames: optional array of same length as url with filenames.
 Images will be saved as path + dest_filename
:param error_path: where to save error logs
:return: array of tuples of (destination filename, http status code, error
message if any). Note that upon failure, file may not actually be created.
\end{DoxyVerb}
 \mbox{\Hypertarget{namespaceparlai_1_1core_1_1build__data_ad2fe6222094caae59f304931aee0952a}\label{namespaceparlai_1_1core_1_1build__data_ad2fe6222094caae59f304931aee0952a}} 
\index{parlai\+::core\+::build\+\_\+data@{parlai\+::core\+::build\+\_\+data}!get\+\_\+model\+\_\+dir@{get\+\_\+model\+\_\+dir}}
\index{get\+\_\+model\+\_\+dir@{get\+\_\+model\+\_\+dir}!parlai\+::core\+::build\+\_\+data@{parlai\+::core\+::build\+\_\+data}}
\subsubsection{\texorpdfstring{get\+\_\+model\+\_\+dir()}{get\_model\_dir()}}
{\footnotesize\ttfamily def parlai.\+core.\+build\+\_\+data.\+get\+\_\+model\+\_\+dir (\begin{DoxyParamCaption}\item[{}]{datapath }\end{DoxyParamCaption})}

\mbox{\Hypertarget{namespaceparlai_1_1core_1_1build__data_a6ce042fedd4194bd016845bbe7a8facf}\label{namespaceparlai_1_1core_1_1build__data_a6ce042fedd4194bd016845bbe7a8facf}} 
\index{parlai\+::core\+::build\+\_\+data@{parlai\+::core\+::build\+\_\+data}!make\+\_\+dir@{make\+\_\+dir}}
\index{make\+\_\+dir@{make\+\_\+dir}!parlai\+::core\+::build\+\_\+data@{parlai\+::core\+::build\+\_\+data}}
\subsubsection{\texorpdfstring{make\+\_\+dir()}{make\_dir()}}
{\footnotesize\ttfamily def parlai.\+core.\+build\+\_\+data.\+make\+\_\+dir (\begin{DoxyParamCaption}\item[{}]{path }\end{DoxyParamCaption})}

\begin{DoxyVerb}Make the directory and any nonexistent parent directories (`mkdir -p`).
\end{DoxyVerb}
 \mbox{\Hypertarget{namespaceparlai_1_1core_1_1build__data_a2527e6d29b0ccb7b841182890ac36a59}\label{namespaceparlai_1_1core_1_1build__data_a2527e6d29b0ccb7b841182890ac36a59}} 
\index{parlai\+::core\+::build\+\_\+data@{parlai\+::core\+::build\+\_\+data}!mark\+\_\+done@{mark\+\_\+done}}
\index{mark\+\_\+done@{mark\+\_\+done}!parlai\+::core\+::build\+\_\+data@{parlai\+::core\+::build\+\_\+data}}
\subsubsection{\texorpdfstring{mark\+\_\+done()}{mark\_done()}}
{\footnotesize\ttfamily def parlai.\+core.\+build\+\_\+data.\+mark\+\_\+done (\begin{DoxyParamCaption}\item[{}]{path,  }\item[{}]{version\+\_\+string = {\ttfamily None} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Mark this path as prebuilt.

Marks the path as done by adding a '.built' file with the current timestamp
plus a version description string if specified.

:param str path:
    The file path to mark as built.

:param str version_string:
    The version of this dataset.
\end{DoxyVerb}
 \mbox{\Hypertarget{namespaceparlai_1_1core_1_1build__data_ad06e9e38ca85db9c4a676ccd9ae41649}\label{namespaceparlai_1_1core_1_1build__data_ad06e9e38ca85db9c4a676ccd9ae41649}} 
\index{parlai\+::core\+::build\+\_\+data@{parlai\+::core\+::build\+\_\+data}!modelzoo\+\_\+path@{modelzoo\+\_\+path}}
\index{modelzoo\+\_\+path@{modelzoo\+\_\+path}!parlai\+::core\+::build\+\_\+data@{parlai\+::core\+::build\+\_\+data}}
\subsubsection{\texorpdfstring{modelzoo\+\_\+path()}{modelzoo\_path()}}
{\footnotesize\ttfamily def parlai.\+core.\+build\+\_\+data.\+modelzoo\+\_\+path (\begin{DoxyParamCaption}\item[{}]{datapath,  }\item[{}]{path }\end{DoxyParamCaption})}

\begin{DoxyVerb}Map pretrain models filenames to their path on disk.

If path starts with 'models:', then we remap it to the model zoo path within the
data directory (default is ParlAI/data/models). We download models from the model
zoo if they are not here yet.
\end{DoxyVerb}
 \mbox{\Hypertarget{namespaceparlai_1_1core_1_1build__data_a1678b8a042eeb9d9c8e9de08f52e496b}\label{namespaceparlai_1_1core_1_1build__data_a1678b8a042eeb9d9c8e9de08f52e496b}} 
\index{parlai\+::core\+::build\+\_\+data@{parlai\+::core\+::build\+\_\+data}!move@{move}}
\index{move@{move}!parlai\+::core\+::build\+\_\+data@{parlai\+::core\+::build\+\_\+data}}
\subsubsection{\texorpdfstring{move()}{move()}}
{\footnotesize\ttfamily def parlai.\+core.\+build\+\_\+data.\+move (\begin{DoxyParamCaption}\item[{}]{path1,  }\item[{}]{path2 }\end{DoxyParamCaption})}

\begin{DoxyVerb}Rename the given file.
\end{DoxyVerb}
 \mbox{\Hypertarget{namespaceparlai_1_1core_1_1build__data_a24ab3b7e68e41adf774df058d330ff33}\label{namespaceparlai_1_1core_1_1build__data_a24ab3b7e68e41adf774df058d330ff33}} 
\index{parlai\+::core\+::build\+\_\+data@{parlai\+::core\+::build\+\_\+data}!remove\+\_\+dir@{remove\+\_\+dir}}
\index{remove\+\_\+dir@{remove\+\_\+dir}!parlai\+::core\+::build\+\_\+data@{parlai\+::core\+::build\+\_\+data}}
\subsubsection{\texorpdfstring{remove\+\_\+dir()}{remove\_dir()}}
{\footnotesize\ttfamily def parlai.\+core.\+build\+\_\+data.\+remove\+\_\+dir (\begin{DoxyParamCaption}\item[{}]{path }\end{DoxyParamCaption})}

\begin{DoxyVerb}Remove the given directory, if it exists.
\end{DoxyVerb}
 \mbox{\Hypertarget{namespaceparlai_1_1core_1_1build__data_a4d33f97932682a8513904022d852f3cf}\label{namespaceparlai_1_1core_1_1build__data_a4d33f97932682a8513904022d852f3cf}} 
\index{parlai\+::core\+::build\+\_\+data@{parlai\+::core\+::build\+\_\+data}!untar@{untar}}
\index{untar@{untar}!parlai\+::core\+::build\+\_\+data@{parlai\+::core\+::build\+\_\+data}}
\subsubsection{\texorpdfstring{untar()}{untar()}}
{\footnotesize\ttfamily def parlai.\+core.\+build\+\_\+data.\+untar (\begin{DoxyParamCaption}\item[{}]{path,  }\item[{}]{fname,  }\item[{}]{delete\+Tar = {\ttfamily True} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Unpack the given archive file to the same directory.

:param str path:
    The folder containing the archive. Will contain the contents.

:param str fname:
    The filename of the archive file.

:param bool deleteTar:
    If true, the archive will be deleted after extraction.
\end{DoxyVerb}
 \mbox{\Hypertarget{namespaceparlai_1_1core_1_1build__data_a7cbfdf246ca40dc3ed9f8613deb14a00}\label{namespaceparlai_1_1core_1_1build__data_a7cbfdf246ca40dc3ed9f8613deb14a00}} 
\index{parlai\+::core\+::build\+\_\+data@{parlai\+::core\+::build\+\_\+data}!unzip@{unzip}}
\index{unzip@{unzip}!parlai\+::core\+::build\+\_\+data@{parlai\+::core\+::build\+\_\+data}}
\subsubsection{\texorpdfstring{unzip()}{unzip()}}
{\footnotesize\ttfamily def parlai.\+core.\+build\+\_\+data.\+unzip (\begin{DoxyParamCaption}\item[{}]{path,  }\item[{}]{fname,  }\item[{}]{delete\+Zip = {\ttfamily True} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Unzip the given archive file to the same directory.

:param str path:
    The folder containing the archive. Will contain the contents.

:param str fname:
    The filename of the archive file.

:param bool deleteZip:
    If true, the archive will be deleted after extraction.
\end{DoxyVerb}
 