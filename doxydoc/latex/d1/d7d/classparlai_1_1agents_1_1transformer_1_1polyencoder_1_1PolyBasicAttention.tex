\hypertarget{classparlai_1_1agents_1_1transformer_1_1polyencoder_1_1PolyBasicAttention}{}\section{parlai.\+agents.\+transformer.\+polyencoder.\+Poly\+Basic\+Attention Class Reference}
\label{classparlai_1_1agents_1_1transformer_1_1polyencoder_1_1PolyBasicAttention}\index{parlai.\+agents.\+transformer.\+polyencoder.\+Poly\+Basic\+Attention@{parlai.\+agents.\+transformer.\+polyencoder.\+Poly\+Basic\+Attention}}


Inheritance diagram for parlai.\+agents.\+transformer.\+polyencoder.\+Poly\+Basic\+Attention\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=263pt]{d4/d6b/classparlai_1_1agents_1_1transformer_1_1polyencoder_1_1PolyBasicAttention__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for parlai.\+agents.\+transformer.\+polyencoder.\+Poly\+Basic\+Attention\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=263pt]{d6/d05/classparlai_1_1agents_1_1transformer_1_1polyencoder_1_1PolyBasicAttention__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{classparlai_1_1agents_1_1transformer_1_1polyencoder_1_1PolyBasicAttention_a421bbb5dad363d0d16be9ab49b13a4e3}{\+\_\+\+\_\+init\+\_\+\+\_\+} (self, \hyperlink{classparlai_1_1agents_1_1transformer_1_1polyencoder_1_1PolyBasicAttention_aa82d4585cb9a4f671353565fcc0785ab}{poly\+\_\+type}, \hyperlink{classparlai_1_1agents_1_1transformer_1_1polyencoder_1_1PolyBasicAttention_a45603a52525744549d48b10e0bd1b63c}{n\+\_\+codes}, args, kwargs)
\item 
def \hyperlink{classparlai_1_1agents_1_1transformer_1_1polyencoder_1_1PolyBasicAttention_a6927374c5336d0111ab936c1fd2b62ff}{forward} (self, args, kwargs)
\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classparlai_1_1agents_1_1transformer_1_1polyencoder_1_1PolyBasicAttention_aa82d4585cb9a4f671353565fcc0785ab}{poly\+\_\+type}
\item 
\hyperlink{classparlai_1_1agents_1_1transformer_1_1polyencoder_1_1PolyBasicAttention_a45603a52525744549d48b10e0bd1b63c}{n\+\_\+codes}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
\begin{DoxyVerb}Override basic attention to account for edge case for polyencoder.
\end{DoxyVerb}
 

Definition at line 469 of file polyencoder.\+py.



\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classparlai_1_1agents_1_1transformer_1_1polyencoder_1_1PolyBasicAttention_a421bbb5dad363d0d16be9ab49b13a4e3}\label{classparlai_1_1agents_1_1transformer_1_1polyencoder_1_1PolyBasicAttention_a421bbb5dad363d0d16be9ab49b13a4e3}} 
\index{parlai\+::agents\+::transformer\+::polyencoder\+::\+Poly\+Basic\+Attention@{parlai\+::agents\+::transformer\+::polyencoder\+::\+Poly\+Basic\+Attention}!\+\_\+\+\_\+init\+\_\+\+\_\+@{\+\_\+\+\_\+init\+\_\+\+\_\+}}
\index{\+\_\+\+\_\+init\+\_\+\+\_\+@{\+\_\+\+\_\+init\+\_\+\+\_\+}!parlai\+::agents\+::transformer\+::polyencoder\+::\+Poly\+Basic\+Attention@{parlai\+::agents\+::transformer\+::polyencoder\+::\+Poly\+Basic\+Attention}}
\subsubsection{\texorpdfstring{\+\_\+\+\_\+init\+\_\+\+\_\+()}{\_\_init\_\_()}}
{\footnotesize\ttfamily def parlai.\+agents.\+transformer.\+polyencoder.\+Poly\+Basic\+Attention.\+\_\+\+\_\+init\+\_\+\+\_\+ (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{poly\+\_\+type,  }\item[{}]{n\+\_\+codes,  }\item[{}]{args,  }\item[{}]{kwargs }\end{DoxyParamCaption})}



Definition at line 474 of file polyencoder.\+py.


\begin{DoxyCode}
474     \textcolor{keyword}{def }\_\_init\_\_(self, poly\_type, n\_codes, *args, **kwargs):
475         super().\_\_init\_\_(*args, **kwargs)
476         self.poly\_type = poly\_type
477         self.n\_codes = n\_codes
478 
\end{DoxyCode}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{classparlai_1_1agents_1_1transformer_1_1polyencoder_1_1PolyBasicAttention_a6927374c5336d0111ab936c1fd2b62ff}\label{classparlai_1_1agents_1_1transformer_1_1polyencoder_1_1PolyBasicAttention_a6927374c5336d0111ab936c1fd2b62ff}} 
\index{parlai\+::agents\+::transformer\+::polyencoder\+::\+Poly\+Basic\+Attention@{parlai\+::agents\+::transformer\+::polyencoder\+::\+Poly\+Basic\+Attention}!forward@{forward}}
\index{forward@{forward}!parlai\+::agents\+::transformer\+::polyencoder\+::\+Poly\+Basic\+Attention@{parlai\+::agents\+::transformer\+::polyencoder\+::\+Poly\+Basic\+Attention}}
\subsubsection{\texorpdfstring{forward()}{forward()}}
{\footnotesize\ttfamily def parlai.\+agents.\+transformer.\+polyencoder.\+Poly\+Basic\+Attention.\+forward (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{args,  }\item[{}]{kwargs }\end{DoxyParamCaption})}

\begin{DoxyVerb}Forward pass.

Account for accidental dimensionality reduction when num_codes is 1 and the
polyencoder type is 'codes'
\end{DoxyVerb}
 

Definition at line 479 of file polyencoder.\+py.


\begin{DoxyCode}
479     \textcolor{keyword}{def }forward(self, *args, **kwargs):
480         \textcolor{stringliteral}{"""}
481 \textcolor{stringliteral}{        Forward pass.}
482 \textcolor{stringliteral}{}
483 \textcolor{stringliteral}{        Account for accidental dimensionality reduction when num\_codes is 1 and the}
484 \textcolor{stringliteral}{        polyencoder type is 'codes'}
485 \textcolor{stringliteral}{        """}
486         lhs\_emb = super().forward(*args, **kwargs)
487         \textcolor{keywordflow}{if} self.poly\_type == \textcolor{stringliteral}{'codes'} \textcolor{keywordflow}{and} self.n\_codes == 1 \textcolor{keywordflow}{and} len(lhs\_emb.shape) == 2:
488             lhs\_emb = lhs\_emb.unsqueeze(self.dim - 1)
489         \textcolor{keywordflow}{return} lhs\_emb
490 
491 
\end{DoxyCode}


\subsection{Member Data Documentation}
\mbox{\Hypertarget{classparlai_1_1agents_1_1transformer_1_1polyencoder_1_1PolyBasicAttention_a45603a52525744549d48b10e0bd1b63c}\label{classparlai_1_1agents_1_1transformer_1_1polyencoder_1_1PolyBasicAttention_a45603a52525744549d48b10e0bd1b63c}} 
\index{parlai\+::agents\+::transformer\+::polyencoder\+::\+Poly\+Basic\+Attention@{parlai\+::agents\+::transformer\+::polyencoder\+::\+Poly\+Basic\+Attention}!n\+\_\+codes@{n\+\_\+codes}}
\index{n\+\_\+codes@{n\+\_\+codes}!parlai\+::agents\+::transformer\+::polyencoder\+::\+Poly\+Basic\+Attention@{parlai\+::agents\+::transformer\+::polyencoder\+::\+Poly\+Basic\+Attention}}
\subsubsection{\texorpdfstring{n\+\_\+codes}{n\_codes}}
{\footnotesize\ttfamily parlai.\+agents.\+transformer.\+polyencoder.\+Poly\+Basic\+Attention.\+n\+\_\+codes}



Definition at line 477 of file polyencoder.\+py.

\mbox{\Hypertarget{classparlai_1_1agents_1_1transformer_1_1polyencoder_1_1PolyBasicAttention_aa82d4585cb9a4f671353565fcc0785ab}\label{classparlai_1_1agents_1_1transformer_1_1polyencoder_1_1PolyBasicAttention_aa82d4585cb9a4f671353565fcc0785ab}} 
\index{parlai\+::agents\+::transformer\+::polyencoder\+::\+Poly\+Basic\+Attention@{parlai\+::agents\+::transformer\+::polyencoder\+::\+Poly\+Basic\+Attention}!poly\+\_\+type@{poly\+\_\+type}}
\index{poly\+\_\+type@{poly\+\_\+type}!parlai\+::agents\+::transformer\+::polyencoder\+::\+Poly\+Basic\+Attention@{parlai\+::agents\+::transformer\+::polyencoder\+::\+Poly\+Basic\+Attention}}
\subsubsection{\texorpdfstring{poly\+\_\+type}{poly\_type}}
{\footnotesize\ttfamily parlai.\+agents.\+transformer.\+polyencoder.\+Poly\+Basic\+Attention.\+poly\+\_\+type}



Definition at line 476 of file polyencoder.\+py.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
parlai/agents/transformer/\hyperlink{polyencoder_8py}{polyencoder.\+py}\end{DoxyCompactItemize}
