\hypertarget{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph}{}\section{projects.\+mastering\+\_\+the\+\_\+dungeon.\+tasks.\+graph\+\_\+world2.\+graph.\+Graph Class Reference}
\label{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph}\index{projects.\+mastering\+\_\+the\+\_\+dungeon.\+tasks.\+graph\+\_\+world2.\+graph.\+Graph@{projects.\+mastering\+\_\+the\+\_\+dungeon.\+tasks.\+graph\+\_\+world2.\+graph.\+Graph}}


Inheritance diagram for projects.\+mastering\+\_\+the\+\_\+dungeon.\+tasks.\+graph\+\_\+world2.\+graph.\+Graph\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=211pt]{d5/d1f/classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for projects.\+mastering\+\_\+the\+\_\+dungeon.\+tasks.\+graph\+\_\+world2.\+graph.\+Graph\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=211pt]{d2/d78/classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_ab78f8e7e877bd4aef992c075fcbd13d1}{\+\_\+\+\_\+init\+\_\+\+\_\+} (self, opt)
\item 
def \hyperlink{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a201d7b1a9a28cc8f3790f88eb3b7479a}{new\+\_\+agent} (self, id)
\item 
def \hyperlink{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a91d58a8f0c4d19648c0a91967a7c9f4a}{delete\+\_\+node} (self, id)
\item 
def \hyperlink{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a605d2a67ebf1d4336f15a0d2a0bf230c}{save\+\_\+graph} (self, fname)
\item 
def \hyperlink{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a95dd7298b5df701a35be0a65552483f3}{load\+\_\+graph} (self, fname)
\item 
def \hyperlink{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_acc0a17702ba44719283709176a354d47}{freeze} (self, freeze=None)
\item 
def \hyperlink{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a81d2f214566e08e4ddc4414c4284fbe4}{node\+\_\+path\+\_\+to} (self, id)
\item 
def \hyperlink{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a42fff07b3f21289c9b360adf0d37d231}{desc\+\_\+to\+\_\+node} (self, desc, nearbyid=None, nearbytype=None, should\+\_\+have=\mbox{[}$\,$\mbox{]}, shouldnt\+\_\+have=\mbox{[}$\,$\mbox{]})
\item 
def \hyperlink{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_aa5f7e25bb9caf56472851221896c985f}{copy} (self)
\item 
def \hyperlink{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a4f83fec0576a592cb25b47ea826a809a}{unique\+\_\+hash} (self)
\item 
def \hyperlink{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a4672233fe36f6c3c96ef7003bc01cb29}{\+\_\+\+\_\+eq\+\_\+\+\_\+} (self, other)
\item 
def \hyperlink{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a376c611b33232ca0d9c3381ce46e1dcd}{add\+\_\+node} (self, desc, props)
\item 
def \hyperlink{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a08a8809ac13068275e9d3aea5e6f9627}{node\+\_\+exists} (self, id)
\item 
def \hyperlink{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a466f94bd52581035b412ac3e5d0856a3}{set\+\_\+desc} (self, id, desc)
\item 
def \hyperlink{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a79b5f4581006441d287386e8548a92fe}{node\+\_\+to\+\_\+desc\+\_\+raw} (self, id)
\item 
def \hyperlink{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a6e3ed011d27b7469311a3f0c43ef9ae7}{node\+\_\+to\+\_\+desc} (self, id, use\+\_\+the=False)
\item 
def \hyperlink{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_ab5b7564cd1ccd9e0ee7a047b077fc98a}{add\+\_\+edge} (self, id1, edge, id2)
\item 
def \hyperlink{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a43f24abdb3c8f2c549570bc3e8382c11}{add\+\_\+path\+\_\+to} (self, id1, id2)
\item 
def \hyperlink{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a1c511b9aad3724f2fc299e152b93b6ba}{is\+\_\+path\+\_\+to} (self, id1, id2)
\item 
def \hyperlink{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a3df3ec00ecf1be68674c26e3d554cf91}{add\+\_\+contained\+\_\+in} (self, id1, id2)
\item 
def \hyperlink{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_aa0a6449c5a865e9b47d3f367aeb859ff}{node\+\_\+contained\+\_\+in} (self, id)
\item 
def \hyperlink{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a81a5b41f69e26069a34d86cc435ec9c3}{set\+\_\+follow} (self, id1, id2)
\item 
def \hyperlink{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a741f4883acfc4a2ed2ff4a0252147dd3}{valid} (self, id, prop)
\item 
def \hyperlink{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_acf7515b326c420223c184330ae8dbff4}{messages\+\_\+in\+\_\+same\+\_\+room\+\_\+as} (self, agent, txt)
\item 
def \hyperlink{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_af002f18d01d8845e6a69ceb7ccc4a89f}{has\+\_\+prop} (self, id, prop)
\item 
def \hyperlink{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_aea241c8e3a1ac9af2517454c76208ce4}{set\+\_\+prop} (self, id, prop, val=True)
\item 
def \hyperlink{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_acde814d9a671217a2110d8a0c6039e9b}{inc\+\_\+prop} (self, id, prop, val=1)
\item 
def \hyperlink{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_ab54da0d36931eb0f546a79f7d5e23883}{delete\+\_\+prop} (self, id, prop)
\item 
def \hyperlink{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a1a74b132da5047b1312ac2887b2aa4ae}{location} (self, thing)
\item 
def \hyperlink{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a7d58b9a688d3a775f150c7a40a72c11d}{room} (self, thing)
\item 
def \hyperlink{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_aab5ee706618d10e1936d78943a0431cc}{node\+\_\+contains} (self, loc)
\item 
def \hyperlink{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a343a58d79711988b57c6d2b3b1727ef6}{send\+\_\+msg} (self, agentid, txt)
\item 
def \hyperlink{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_aff30ced8dfe1c7910bdf511f5b7af635}{die} (self, id)
\begin{DoxyCompactList}\small\item\em 

 T\+O\+DO\+: Ideally, all functions below do not use the graph structure directly, but only the accessor functions (i.\+e. \end{DoxyCompactList}\item 
def \hyperlink{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a22747eb7801d7fabd0af3400410ae83d}{move\+\_\+agent} (self, agent\+\_\+id, to\+\_\+txt=None, to\+\_\+id=None)
\item 
def \hyperlink{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a69ce0daca3f7c28c02e0c858d4b7e2e9}{follow} (self, agent\+\_\+id, params)
\item 
def \hyperlink{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a4efc9cab1e760d98614810c72dc075ee}{get\+\_\+object} (self, agent\+\_\+id, obj\+\_\+txt)
\item 
def \hyperlink{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_ac41cef28bdac9c94bb8622e9f19506e5}{drop\+\_\+object} (self, agent\+\_\+id, obj\+\_\+txt)
\item 
def \hyperlink{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a574ecd8c8313952047c19dc910129460}{put} (self, agent\+\_\+id, params)
\item 
def \hyperlink{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_ae184354b5a945cec6e70b9d961b7856c}{get\+\_\+from} (self, agent\+\_\+id, params)
\item 
def \hyperlink{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a38fea5cf99bdf0d057082af566763dca}{give} (self, agent\+\_\+id, params)
\item 
def \hyperlink{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a17a562ca25e8ef876deaa6aae8a7c5e6}{take} (self, agent\+\_\+id, params)
\item 
def \hyperlink{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a8709bca6f375c14cbfaa578228f94fcb}{hit\+\_\+agent} (self, agent\+\_\+id, victim\+\_\+txt, victim\+\_\+id=None)
\item 
def \hyperlink{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a3e325f222b98c939673190da0f1f4b79}{wear} (self, agent\+\_\+id, thing)
\item 
def \hyperlink{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_aa045bba6d2db124d119b7338c5ad79f4}{wield} (self, agent\+\_\+id, thing)
\item 
def \hyperlink{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a0d81485443eb223640c8bd5bc158ae32}{remove} (self, agent\+\_\+id, thing)
\item 
def \hyperlink{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a118d4ed2c9eb72184ed3940f6173bc04}{ingest} (self, agent\+\_\+id, cmd, thing)
\item 
def \hyperlink{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a36bfab4fc9fb5cb54e4698175b1565b0}{create} (self, agent\+\_\+id, params)
\item 
def \hyperlink{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a0e754e04d1c69f6531f0f7e18ba7f35a}{display\+\_\+room\+\_\+edges} (self, roomid, third\+\_\+person=False)
\item 
def \hyperlink{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a466a066fe10c50b36b6290e271e3f299}{display\+\_\+room\+\_\+objects} (self, roomid, third\+\_\+person=False)
\item 
def \hyperlink{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a53875bd0094c23c7f852f2320a6a8b25}{display\+\_\+room\+\_\+agents} (self, me, \hyperlink{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a7d58b9a688d3a775f150c7a40a72c11d}{room}, third\+\_\+person=False)
\item 
def \hyperlink{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_af732db53ab81a30152d5c4ed8bbdef41}{get\+\_\+text} (self, agent)
\item 
def \hyperlink{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_ac230ca7418811a6c9c4d9880c4d6334f}{cnt\+\_\+obj} (self, obj, c)
\item 
def \hyperlink{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_ad4765421393cb14a6084a9d98dd530a0}{display\+\_\+node\+\_\+list} (self, l)
\item 
def \hyperlink{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a22e60e26302aae3e1c0d43f86f4c332d}{display\+\_\+node} (self, id)
\item 
def \hyperlink{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a7976e6ef1b45caf0e61d3d11a1ff6c1d}{examine} (self, agent\+\_\+id, thing)
\item 
def \hyperlink{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a3f929c89e9ca47b66c8851490a518f5e}{inventory} (self, id, id2=None)
\item 
def \hyperlink{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a94d0e8825af02aaf8de5f328a644b8c4}{health} (self, id)
\item 
def \hyperlink{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a2a896bf212e0f87f0c5765d2cc249617}{look} (self, id)
\item 
def \hyperlink{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a07dc981149e210b044bdb2faa8d437a9}{split\+\_\+params} (self, params, word)
\item 
def \hyperlink{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a36381674cd448a339870939d058fe0ae}{help} (self)
\item 
def \hyperlink{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a0d9e8f386ec8cb4a8b1235f8e7f7086d}{get\+\_\+possible\+\_\+actions} (self, my\+\_\+agent\+\_\+id=\textquotesingle{}dragon\textquotesingle{})
\item 
def \hyperlink{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a965691173de36efdc59238a2cd5ab8d7}{parse} (self, inst)
\item 
def \hyperlink{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_afdbdcd09ae2a8b3d66cf70fabfbdf86f}{parse\+\_\+exec} (self, agentid, inst=None)
\item 
def \hyperlink{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a23324301e21091e84366d23c626d8125}{update\+\_\+world} (self)
\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a81ec4b7a30f8a6eaa6ed1e72da629299}{parse\+\_\+static} (inst)
\item 
def \hyperlink{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_aaeefec1f409cbe2ce0f4531c353264a6}{filter\+\_\+actions} (inst)
\end{DoxyCompactItemize}


\subsection{Detailed Description}


Definition at line 75 of file graph.\+py.



\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_ab78f8e7e877bd4aef992c075fcbd13d1}\label{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_ab78f8e7e877bd4aef992c075fcbd13d1}} 
\index{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}!\+\_\+\+\_\+init\+\_\+\+\_\+@{\+\_\+\+\_\+init\+\_\+\+\_\+}}
\index{\+\_\+\+\_\+init\+\_\+\+\_\+@{\+\_\+\+\_\+init\+\_\+\+\_\+}!projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}}
\subsubsection{\texorpdfstring{\+\_\+\+\_\+init\+\_\+\+\_\+()}{\_\_init\_\_()}}
{\footnotesize\ttfamily def projects.\+mastering\+\_\+the\+\_\+dungeon.\+tasks.\+graph\+\_\+world2.\+graph.\+Graph.\+\_\+\+\_\+init\+\_\+\+\_\+ (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{opt }\end{DoxyParamCaption})}



Definition at line 76 of file graph.\+py.


\begin{DoxyCode}
76     \textcolor{keyword}{def }\_\_init\_\_(self, opt):
77         self.\_opt = opt
78         self.\_node\_to\_edges = \{\}
79         self.\_node\_to\_prop = \{\}
80         self.\_node\_contained\_in = \{\}
81         self.\_node\_contains = \{\}
82         self.\_node\_follows = \{\}
83         self.\_node\_followed\_by = \{\}
84         self.\_node\_npcs = (
85             set()
86         )  \textcolor{comment}{# non-player characters that we move during update\_world func.}
87         self.\_node\_to\_desc = \{\}
88         self.\_node\_freeze = \textcolor{keyword}{False}
89         self.\_cnt = 0
90         self.\_save\_fname = \textcolor{stringliteral}{'tmp.gw'}
91         self.\_node\_to\_text\_buffer = \{\}
92 
\end{DoxyCode}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a4672233fe36f6c3c96ef7003bc01cb29}\label{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a4672233fe36f6c3c96ef7003bc01cb29}} 
\index{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}!\+\_\+\+\_\+eq\+\_\+\+\_\+@{\+\_\+\+\_\+eq\+\_\+\+\_\+}}
\index{\+\_\+\+\_\+eq\+\_\+\+\_\+@{\+\_\+\+\_\+eq\+\_\+\+\_\+}!projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}}
\subsubsection{\texorpdfstring{\+\_\+\+\_\+eq\+\_\+\+\_\+()}{\_\_eq\_\_()}}
{\footnotesize\ttfamily def projects.\+mastering\+\_\+the\+\_\+dungeon.\+tasks.\+graph\+\_\+world2.\+graph.\+Graph.\+\_\+\+\_\+eq\+\_\+\+\_\+ (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{other }\end{DoxyParamCaption})}



Definition at line 243 of file graph.\+py.


\begin{DoxyCode}
243     \textcolor{keyword}{def }\_\_eq\_\_(self, other):
244         \textcolor{keywordflow}{return} self.unique\_hash() == other.unique\_hash()
245 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a3df3ec00ecf1be68674c26e3d554cf91}\label{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a3df3ec00ecf1be68674c26e3d554cf91}} 
\index{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}!add\+\_\+contained\+\_\+in@{add\+\_\+contained\+\_\+in}}
\index{add\+\_\+contained\+\_\+in@{add\+\_\+contained\+\_\+in}!projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}}
\subsubsection{\texorpdfstring{add\+\_\+contained\+\_\+in()}{add\_contained\_in()}}
{\footnotesize\ttfamily def projects.\+mastering\+\_\+the\+\_\+dungeon.\+tasks.\+graph\+\_\+world2.\+graph.\+Graph.\+add\+\_\+contained\+\_\+in (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{id1,  }\item[{}]{id2 }\end{DoxyParamCaption})}



Definition at line 317 of file graph.\+py.


\begin{DoxyCode}
317     \textcolor{keyword}{def }add\_contained\_in(self, id1, id2):
318         \textcolor{keywordflow}{if} id1 \textcolor{keywordflow}{in} self.\_node\_contained\_in:
319             i\_am\_in = self.\_node\_contained\_in[id1]
320             self.\_node\_contains[i\_am\_in].remove(id1)
321         self.\_node\_contained\_in[id1] = id2
322         self.\_node\_contains[id2].add(id1)
323         \textcolor{keywordflow}{return} \textcolor{keyword}{True}
324 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_ab5b7564cd1ccd9e0ee7a047b077fc98a}\label{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_ab5b7564cd1ccd9e0ee7a047b077fc98a}} 
\index{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}!add\+\_\+edge@{add\+\_\+edge}}
\index{add\+\_\+edge@{add\+\_\+edge}!projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}}
\subsubsection{\texorpdfstring{add\+\_\+edge()}{add\_edge()}}
{\footnotesize\ttfamily def projects.\+mastering\+\_\+the\+\_\+dungeon.\+tasks.\+graph\+\_\+world2.\+graph.\+Graph.\+add\+\_\+edge (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{id1,  }\item[{}]{edge,  }\item[{}]{id2 }\end{DoxyParamCaption})}



Definition at line 298 of file graph.\+py.


\begin{DoxyCode}
298     \textcolor{keyword}{def }add\_edge(self, id1, edge, id2):
299         \textcolor{keywordflow}{if} [edge, id2] \textcolor{keywordflow}{not} \textcolor{keywordflow}{in} self.\_node\_to\_edges[id1]:
300             self.\_node\_to\_edges[id1].insert(0, [edge, id2])
301 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a376c611b33232ca0d9c3381ce46e1dcd}\label{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a376c611b33232ca0d9c3381ce46e1dcd}} 
\index{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}!add\+\_\+node@{add\+\_\+node}}
\index{add\+\_\+node@{add\+\_\+node}!projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}}
\subsubsection{\texorpdfstring{add\+\_\+node()}{add\_node()}}
{\footnotesize\ttfamily def projects.\+mastering\+\_\+the\+\_\+dungeon.\+tasks.\+graph\+\_\+world2.\+graph.\+Graph.\+add\+\_\+node (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{desc,  }\item[{}]{props }\end{DoxyParamCaption})}



Definition at line 246 of file graph.\+py.


\begin{DoxyCode}
246     \textcolor{keyword}{def }add\_node(self, desc, props):
247         id = desc
248         \textcolor{keywordflow}{if} id != \textcolor{stringliteral}{'dragon'}:
249             id = id + \textcolor{stringliteral}{"\_"} + \hyperlink{namespacegenerate__task__READMEs_a5b88452ffb87b78c8c85ececebafc09f}{str}(self.\_cnt)
250         self.\_cnt = self.\_cnt + 1
251         \textcolor{keywordflow}{if} id \textcolor{keywordflow}{in} self.\_node\_to\_edges:
252             \textcolor{keywordflow}{return} \textcolor{keyword}{False}
253         self.\_node\_to\_edges[id] = []
254         \textcolor{keywordflow}{if} \hyperlink{namespaceparlai_1_1agents_1_1tfidf__retriever_1_1build__tfidf_ad5dfae268e23f506da084a9efb72f619}{type}(props) == str:
255             self.\_node\_to\_prop[id] = \{\}
256             self.\_node\_to\_prop[id][props] = \textcolor{keyword}{True}
257         \textcolor{keywordflow}{else}:
258             self.\_node\_to\_prop[id] = \{\}
259             \textcolor{keywordflow}{for} p \textcolor{keywordflow}{in} props:
260                 self.\_node\_to\_prop[id][p] = \textcolor{keyword}{True}
261         self.\_node\_contains[id] = set()
262         self.\_node\_to\_desc[id] = desc
263 
264         \textcolor{keywordflow}{if} \textcolor{stringliteral}{'agent'} \textcolor{keywordflow}{in} self.\_node\_to\_prop[id]:
265             self.set\_prop(id, \textcolor{stringliteral}{'health'}, INIT\_HEALTH)
266 
267         \textcolor{keywordflow}{return} id
268 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a43f24abdb3c8f2c549570bc3e8382c11}\label{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a43f24abdb3c8f2c549570bc3e8382c11}} 
\index{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}!add\+\_\+path\+\_\+to@{add\+\_\+path\+\_\+to}}
\index{add\+\_\+path\+\_\+to@{add\+\_\+path\+\_\+to}!projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}}
\subsubsection{\texorpdfstring{add\+\_\+path\+\_\+to()}{add\_path\_to()}}
{\footnotesize\ttfamily def projects.\+mastering\+\_\+the\+\_\+dungeon.\+tasks.\+graph\+\_\+world2.\+graph.\+Graph.\+add\+\_\+path\+\_\+to (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{id1,  }\item[{}]{id2 }\end{DoxyParamCaption})}



Definition at line 302 of file graph.\+py.


\begin{DoxyCode}
302     \textcolor{keyword}{def }add\_path\_to(self, id1, id2):
303         \textcolor{keywordflow}{if} id1 == id2:
304             \textcolor{keywordflow}{return} \textcolor{keyword}{False}
305         self.add\_edge(id1, \textcolor{stringliteral}{'path\_to'}, id2)
306         self.add\_edge(id2, \textcolor{stringliteral}{'path\_to'}, id1)
307         \textcolor{keywordflow}{return} \textcolor{keyword}{True}
308 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_ac230ca7418811a6c9c4d9880c4d6334f}\label{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_ac230ca7418811a6c9c4d9880c4d6334f}} 
\index{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}!cnt\+\_\+obj@{cnt\+\_\+obj}}
\index{cnt\+\_\+obj@{cnt\+\_\+obj}!projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}}
\subsubsection{\texorpdfstring{cnt\+\_\+obj()}{cnt\_obj()}}
{\footnotesize\ttfamily def projects.\+mastering\+\_\+the\+\_\+dungeon.\+tasks.\+graph\+\_\+world2.\+graph.\+Graph.\+cnt\+\_\+obj (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{obj,  }\item[{}]{c }\end{DoxyParamCaption})}



Definition at line 987 of file graph.\+py.


\begin{DoxyCode}
987     \textcolor{keyword}{def }cnt\_obj(self, obj, c):
988         cnt = c[obj]
989         \textcolor{keywordflow}{if} cnt == 1:
990             \textcolor{keywordflow}{return} obj
991         \textcolor{keywordflow}{else}:
992             words = obj.split(\textcolor{stringliteral}{' '})
993             f = [
994                 \textcolor{stringliteral}{'two'},
995                 \textcolor{stringliteral}{'three'},
996                 \textcolor{stringliteral}{'four'},
997                 \textcolor{stringliteral}{'five'},
998                 \textcolor{stringliteral}{'six'},
999                 \textcolor{stringliteral}{'seven'},
1000                 \textcolor{stringliteral}{'eight'},
1001                 \textcolor{stringliteral}{'nine'},
1002                 \textcolor{stringliteral}{'a lot of'},
1003             ]
1004             rep = [\textcolor{stringliteral}{'a'}, \textcolor{stringliteral}{'an'}, \textcolor{stringliteral}{'the'}]
1005             cnt = cnt - 2
1006             \textcolor{keywordflow}{if} cnt > 8:
1007                 cnt = 8
1008             cnt = f[cnt]
1009             \textcolor{keywordflow}{if} words[0] \textcolor{keywordflow}{in} rep:
1010                 \textcolor{keywordflow}{return} cnt + \textcolor{stringliteral}{' '} + \textcolor{stringliteral}{' '}.join(words[1:]) + \textcolor{stringliteral}{'s'}
1011             \textcolor{keywordflow}{else}:
1012                 \textcolor{keywordflow}{return} cnt + \textcolor{stringliteral}{' '} + \textcolor{stringliteral}{' '}.join(words) + \textcolor{stringliteral}{'s'}
1013 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_aa5f7e25bb9caf56472851221896c985f}\label{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_aa5f7e25bb9caf56472851221896c985f}} 
\index{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}!copy@{copy}}
\index{copy@{copy}!projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}}
\subsubsection{\texorpdfstring{copy()}{copy()}}
{\footnotesize\ttfamily def projects.\+mastering\+\_\+the\+\_\+dungeon.\+tasks.\+graph\+\_\+world2.\+graph.\+Graph.\+copy (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line 219 of file graph.\+py.


\begin{DoxyCode}
219     \textcolor{keyword}{def }copy(self):
220         \textcolor{keywordflow}{return} deepcopy(self)
221 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a36bfab4fc9fb5cb54e4698175b1565b0}\label{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a36bfab4fc9fb5cb54e4698175b1565b0}} 
\index{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}!create@{create}}
\index{create@{create}!projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}}
\subsubsection{\texorpdfstring{create()}{create()}}
{\footnotesize\ttfamily def projects.\+mastering\+\_\+the\+\_\+dungeon.\+tasks.\+graph\+\_\+world2.\+graph.\+Graph.\+create (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{agent\+\_\+id,  }\item[{}]{params }\end{DoxyParamCaption})}



Definition at line 828 of file graph.\+py.


\begin{DoxyCode}
828     \textcolor{keyword}{def }create(self, agent\_id, params):
829         \textcolor{comment}{# -- create commands: --}
830         \textcolor{comment}{# create room kitchen  -> creates room with path from this room}
831         \textcolor{comment}{# create path kitchen  -> create path to that room from this one}
832         \textcolor{comment}{# create agent orc}
833         \textcolor{comment}{# create object ring}
834         \textcolor{comment}{# create container box}
835         \textcolor{comment}{# create [un]freeze}
836         \textcolor{comment}{# create reset/load/save [fname]}
837         \textcolor{comment}{# create rename <node> <value>}
838         \textcolor{comment}{# create delete <node>}
839         \textcolor{comment}{# create set\_prop orc to health=5}
840         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} self.valid(agent\_id, \textcolor{stringliteral}{'agent'}):
841             \textcolor{keywordflow}{return} \textcolor{keyword}{False}
842         room\_id = self.room(agent\_id)
843         all = \textcolor{stringliteral}{' '}.join(params)
844         txt = \textcolor{stringliteral}{' '}.join(params[1:])
845         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} (all == \textcolor{stringliteral}{'save'} \textcolor{keywordflow}{or} all == \textcolor{stringliteral}{'load'} \textcolor{keywordflow}{or} all == \textcolor{stringliteral}{'freeze'} \textcolor{keywordflow}{or} all == \textcolor{stringliteral}{'unfreeze'}):
846             \textcolor{keywordflow}{if} txt == \textcolor{stringliteral}{''}:
847                 \textcolor{keywordflow}{return} \textcolor{keyword}{False}
848         \textcolor{keywordflow}{if} params[0] == \textcolor{stringliteral}{'save'}:
849             self.save\_graph(txt)
850             self.send\_msg(agent\_id, \textcolor{stringliteral}{"[ saved: "} + self.\_save\_fname + \textcolor{stringliteral}{']\(\backslash\)n'})
851             \textcolor{keywordflow}{return} \textcolor{keyword}{True}
852         \textcolor{keywordflow}{if} params[0] == \textcolor{stringliteral}{'load'} \textcolor{keywordflow}{or} params[0] == \textcolor{stringliteral}{'reset'}:
853             self.load\_graph(txt)
854             self.send\_msg(agent\_id, \textcolor{stringliteral}{"[ loaded: "} + self.\_save\_fname + \textcolor{stringliteral}{']\(\backslash\)n'})
855             \textcolor{keywordflow}{return} \textcolor{keyword}{True}
856         \textcolor{keywordflow}{if} params[0] == \textcolor{stringliteral}{'freeze'}:
857             self.freeze(\textcolor{keyword}{True})
858             self.send\_msg(agent\_id, \textcolor{stringliteral}{"Frozen.\(\backslash\)n"})
859             \textcolor{keywordflow}{return} \textcolor{keyword}{True}
860         \textcolor{keywordflow}{if} params[0] == \textcolor{stringliteral}{'unfreeze'}:
861             self.freeze(\textcolor{keyword}{False})
862             self.send\_msg(agent\_id, \textcolor{stringliteral}{"Unfrozen.\(\backslash\)n"})
863             \textcolor{keywordflow}{return} \textcolor{keyword}{True}
864         \textcolor{keywordflow}{if} params[0] == \textcolor{stringliteral}{'delete'} \textcolor{keywordflow}{or} params[0] == \textcolor{stringliteral}{'del'} \textcolor{keywordflow}{or} params[0] == \textcolor{stringliteral}{'rm'}:
865             id = self.desc\_to\_node(txt, nearbyid=agent\_id, nearbytype=\textcolor{stringliteral}{'all'})
866             \textcolor{keywordflow}{if} id == \textcolor{keyword}{False}:
867                 \textcolor{keywordflow}{return} \textcolor{keyword}{False}
868             self.delete\_node(id)
869             self.send\_msg(agent\_id, \textcolor{stringliteral}{"Deleted.\(\backslash\)n"})
870             \textcolor{keywordflow}{return} \textcolor{keyword}{True}
871         \textcolor{keywordflow}{if} params[0] == \textcolor{stringliteral}{'rename'}:
872             params = self.split\_params(params[1:], \textcolor{stringliteral}{'to'})
873             to\_id = self.desc\_to\_node(params[0], nearbyid=agent\_id, nearbytype=\textcolor{stringliteral}{'all'})
874             \textcolor{keywordflow}{if} to\_id == \textcolor{keyword}{False}:
875                 \textcolor{keywordflow}{return} \textcolor{keyword}{False}
876             self.set\_desc(to\_id, params[1])
877             self.send\_msg(agent\_id, \textcolor{stringliteral}{"Done.\(\backslash\)n"})
878             \textcolor{keywordflow}{return} \textcolor{keyword}{True}
879         \textcolor{keywordflow}{if} params[0] == \textcolor{stringliteral}{'agent'}:
880             new\_id = self.add\_node(txt, params[0])
881             self.add\_contained\_in(new\_id, room\_id)
882             self.\_node\_npcs.add(new\_id)
883             self.send\_msg(agent\_id, \textcolor{stringliteral}{"Done.\(\backslash\)n"})
884             \textcolor{keywordflow}{return} \textcolor{keyword}{True}
885         \textcolor{keywordflow}{if} params[0] == \textcolor{stringliteral}{'room'}:
886             new\_id = self.add\_node(txt, params[0])
887             self.add\_contained\_in(new\_id, room\_id)
888             self.add\_path\_to(new\_id, room\_id)
889             self.send\_msg(agent\_id, \textcolor{stringliteral}{"Done.\(\backslash\)n"})
890             \textcolor{keywordflow}{return} \textcolor{keyword}{True}
891         \textcolor{keywordflow}{if} params[0] == \textcolor{stringliteral}{'set\_prop'}:
892             params = self.split\_params(params[1:], \textcolor{stringliteral}{'to'})
893             print(params)
894             to\_id = self.desc\_to\_node(params[0], nearbyid=agent\_id, nearbytype=\textcolor{stringliteral}{'all'})
895             \textcolor{keywordflow}{if} to\_id == \textcolor{keyword}{False}:
896                 \textcolor{keywordflow}{return} \textcolor{keyword}{False}
897             key = params[1]
898             value = \textcolor{keyword}{True}
899             \textcolor{keywordflow}{if} \textcolor{stringliteral}{'='} \textcolor{keywordflow}{in} key:
900                 sp = key.split(\textcolor{stringliteral}{'='})
901                 \textcolor{keywordflow}{if} len(sp) != 2:
902                     \textcolor{keywordflow}{return} \textcolor{keyword}{False}
903                 key = sp[0]
904                 value = sp[1]
905                 \textcolor{keywordflow}{if} value == \textcolor{stringliteral}{'True'}:
906                     value = \textcolor{keyword}{True}
907                 \textcolor{keywordflow}{try}:
908                     value = \hyperlink{namespacelanguage__model_1_1eval__ppl_a7d12ee00479673c5c8d1f6d01faa272a}{int}(value)
909                 \textcolor{keywordflow}{except} ValueError:
910                     \textcolor{keywordflow}{pass}
911             self.set\_prop(to\_id, key, value)
912             self.send\_msg(agent\_id, \textcolor{stringliteral}{"Done.\(\backslash\)n"})
913             \textcolor{keywordflow}{return} \textcolor{keyword}{True}
914         \textcolor{keywordflow}{if} (
915             params[0] == \textcolor{stringliteral}{'container'}
916             \textcolor{keywordflow}{or} params[0] == \textcolor{stringliteral}{'object'}
917             \textcolor{keywordflow}{or} params[0] == \textcolor{stringliteral}{'food'}
918             \textcolor{keywordflow}{or} params[0] == \textcolor{stringliteral}{'drink'}
919         ):
920             new\_id = self.add\_node(txt, \textcolor{stringliteral}{'object'})
921             self.add\_contained\_in(new\_id, room\_id)
922             self.set\_prop(new\_id, params[0])
923             self.send\_msg(agent\_id, \textcolor{stringliteral}{"Done.\(\backslash\)n"})
924             \textcolor{keywordflow}{return} \textcolor{keyword}{True}
925         \textcolor{keywordflow}{if} params[0] == \textcolor{stringliteral}{'path'}:
926             to\_id = self.desc\_to\_node(txt)
927             \textcolor{keywordflow}{if} to\_id == \textcolor{keyword}{False}:
928                 \textcolor{keywordflow}{return} \textcolor{keyword}{False}
929             self.add\_path\_to(to\_id, room\_id)
930             self.send\_msg(agent\_id, \textcolor{stringliteral}{"Done.\(\backslash\)n"})
931             \textcolor{keywordflow}{return} \textcolor{keyword}{True}
932         \textcolor{keywordflow}{return} \textcolor{keyword}{False}
933 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a91d58a8f0c4d19648c0a91967a7c9f4a}\label{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a91d58a8f0c4d19648c0a91967a7c9f4a}} 
\index{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}!delete\+\_\+node@{delete\+\_\+node}}
\index{delete\+\_\+node@{delete\+\_\+node}!projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}}
\subsubsection{\texorpdfstring{delete\+\_\+node()}{delete\_node()}}
{\footnotesize\ttfamily def projects.\+mastering\+\_\+the\+\_\+dungeon.\+tasks.\+graph\+\_\+world2.\+graph.\+Graph.\+delete\+\_\+node (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{id }\end{DoxyParamCaption})}



Definition at line 96 of file graph.\+py.


\begin{DoxyCode}
96     \textcolor{keyword}{def }delete\_node(self, id):
97         \hyperlink{namespaceprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_a0da062d03bdfbab1c65ea71371c0c469}{rm}(self.\_node\_to\_prop, id)
98         \textcolor{keywordflow}{if} id \textcolor{keywordflow}{in} self.\_node\_contains[self.location(id)]:
99             self.\_node\_contains[self.location(id)].remove(id)
100         \hyperlink{namespaceprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_a0da062d03bdfbab1c65ea71371c0c469}{rm}(self.\_node\_contained\_in, id)
101         \textcolor{comment}{# all things inside this are zapped too}
102         os = deepcopy(self.\_node\_contains[id])
103         \textcolor{keywordflow}{for} o \textcolor{keywordflow}{in} os:
104             self.delete\_node(o)
105         \textcolor{comment}{# now remove edges from other rooms}
106         \textcolor{keywordflow}{for} r \textcolor{keywordflow}{in} self.\_node\_to\_edges[id]:
107             \textcolor{keywordflow}{if} r[0] == \textcolor{stringliteral}{'path\_to'}:
108                 self.\_node\_to\_edges[r[1]].remove([\textcolor{stringliteral}{'path\_to'}, id])
109         \hyperlink{namespaceprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_a0da062d03bdfbab1c65ea71371c0c469}{rm}(self.\_node\_to\_edges, id)
110         \hyperlink{namespaceprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_a0da062d03bdfbab1c65ea71371c0c469}{rm}(self.\_node\_to\_text\_buffer, id)
111         \hyperlink{namespaceprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_a0da062d03bdfbab1c65ea71371c0c469}{rm}(self.\_node\_to\_text\_buffer, id)
112         \textcolor{comment}{# remove all agents following this one:}
113         \textcolor{keywordflow}{if} id \textcolor{keywordflow}{in} self.\_node\_followed\_by:
114             ags = deepcopy(self.\_node\_followed\_by[id])
115             \textcolor{keywordflow}{for} a \textcolor{keywordflow}{in} ags:
116                 self.set\_follow(a, \textcolor{keywordtype}{None})
117         \hyperlink{namespaceprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_a0da062d03bdfbab1c65ea71371c0c469}{rm}(self.\_node\_follows, id)
118         \textcolor{keywordflow}{if} id \textcolor{keywordflow}{in} self.\_node\_npcs:
119             self.\_node\_npcs.remove(id)
120 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_ab54da0d36931eb0f546a79f7d5e23883}\label{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_ab54da0d36931eb0f546a79f7d5e23883}} 
\index{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}!delete\+\_\+prop@{delete\+\_\+prop}}
\index{delete\+\_\+prop@{delete\+\_\+prop}!projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}}
\subsubsection{\texorpdfstring{delete\+\_\+prop()}{delete\_prop()}}
{\footnotesize\ttfamily def projects.\+mastering\+\_\+the\+\_\+dungeon.\+tasks.\+graph\+\_\+world2.\+graph.\+Graph.\+delete\+\_\+prop (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{id,  }\item[{}]{prop }\end{DoxyParamCaption})}



Definition at line 375 of file graph.\+py.


\begin{DoxyCode}
375     \textcolor{keyword}{def }delete\_prop(self, id, prop):
376         \textcolor{keywordflow}{if} id \textcolor{keywordflow}{in} self.\_node\_to\_prop:
377             \textcolor{keywordflow}{if} prop \textcolor{keywordflow}{in} self.\_node\_to\_prop[id]:
378                 del self.\_node\_to\_prop[id][prop]
379 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a42fff07b3f21289c9b360adf0d37d231}\label{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a42fff07b3f21289c9b360adf0d37d231}} 
\index{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}!desc\+\_\+to\+\_\+node@{desc\+\_\+to\+\_\+node}}
\index{desc\+\_\+to\+\_\+node@{desc\+\_\+to\+\_\+node}!projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}}
\subsubsection{\texorpdfstring{desc\+\_\+to\+\_\+node()}{desc\_to\_node()}}
{\footnotesize\ttfamily def projects.\+mastering\+\_\+the\+\_\+dungeon.\+tasks.\+graph\+\_\+world2.\+graph.\+Graph.\+desc\+\_\+to\+\_\+node (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{desc,  }\item[{}]{nearbyid = {\ttfamily None},  }\item[{}]{nearbytype = {\ttfamily None},  }\item[{}]{should\+\_\+have = {\ttfamily \mbox{[}\mbox{]}},  }\item[{}]{shouldnt\+\_\+have = {\ttfamily \mbox{[}\mbox{]}} }\end{DoxyParamCaption})}



Definition at line 179 of file graph.\+py.


\begin{DoxyCode}
179     ):
180         \textcolor{keywordflow}{if} nearbyid \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}:
181             \textcolor{keywordflow}{if} nearbytype == \textcolor{stringliteral}{'path'}:
182                 o = self.node\_path\_to(self.location(nearbyid))
183             \textcolor{keywordflow}{elif} nearbytype == \textcolor{stringliteral}{'carrying'}:
184                 o = self.node\_contains(nearbyid)
185             \textcolor{keywordflow}{elif} nearbytype == \textcolor{stringliteral}{'sameloc'}:
186                 o = self.node\_contains(self.location(nearbyid))
187             \textcolor{keywordflow}{elif} nearbytype == \textcolor{stringliteral}{'all'}:
188                 o1 = self.node\_contains(nearbyid)
189                 o2 = self.node\_contains(self.location(nearbyid))
190                 o3 = self.node\_path\_to(self.location(nearbyid))
191                 o = o1.union(o2).union(o3)
192             \textcolor{keywordflow}{else}:
193                 o1 = self.node\_contains(nearbyid)
194                 o2 = self.node\_contains(self.location(nearbyid))
195                 o = o1.union(o2)
196         \textcolor{keywordflow}{else}:
197             o = set(self.\_node\_to\_desc.keys())
198 
199         o = [id \textcolor{keywordflow}{for} id \textcolor{keywordflow}{in} o \textcolor{keywordflow}{if} self.\_node\_to\_desc[id] == desc]
200         o.sort()  \textcolor{comment}{# ensure deterministic order (e.g., which apple is got first)}
201 
202         \textcolor{keywordflow}{if} len(o) == 0:
203             \textcolor{keywordflow}{return} \textcolor{keywordtype}{None}  \textcolor{comment}{# No results given the nearby conditions}
204 
205         \textcolor{keywordflow}{for} i \textcolor{keywordflow}{in} o:
206             flag = \textcolor{keyword}{True}
207             \textcolor{keywordflow}{for} prop \textcolor{keywordflow}{in} should\_have:
208                 \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} self.valid(i, prop):
209                     flag = \textcolor{keyword}{False}
210             \textcolor{keywordflow}{for} prop \textcolor{keywordflow}{in} shouldnt\_have:
211                 \textcolor{keywordflow}{if} self.valid(i, prop):
212                     flag = \textcolor{keyword}{False}
213             \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} flag:
214                 \textcolor{keywordflow}{continue}
215             \textcolor{keywordflow}{return} i
216 
217         \textcolor{keywordflow}{return} \textcolor{keyword}{False}  \textcolor{comment}{# There are results given the nearby conditions, but they do not satisfy the property
       constraints.}
218 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_aff30ced8dfe1c7910bdf511f5b7af635}\label{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_aff30ced8dfe1c7910bdf511f5b7af635}} 
\index{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}!die@{die}}
\index{die@{die}!projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}}
\subsubsection{\texorpdfstring{die()}{die()}}
{\footnotesize\ttfamily def projects.\+mastering\+\_\+the\+\_\+dungeon.\+tasks.\+graph\+\_\+world2.\+graph.\+Graph.\+die (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{id }\end{DoxyParamCaption})}





 T\+O\+DO\+: Ideally, all functions below do not use the graph structure directly, but only the accessor functions (i.\+e. 

should not use self.\+\_\+node\+\_\+$\ast$ ). 

Definition at line 403 of file graph.\+py.


\begin{DoxyCode}
403     \textcolor{keyword}{def }die(self, id):
404         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} self.valid(id, \textcolor{stringliteral}{'agent'}):
405             \textcolor{keywordflow}{return} \textcolor{keyword}{False}
406         self.send\_msg(id, \textcolor{stringliteral}{'You are dead!!!!!!!\(\backslash\)n'})
407         agent\_desc = self.node\_to\_desc(id, use\_the=\textcolor{keyword}{True}).capitalize()
408         self.messages\_in\_same\_room\_as(id, agent\_desc + \textcolor{stringliteral}{' is dead!!!!\(\backslash\)n'})
409         self.set\_follow(id, \textcolor{keywordtype}{None})
410         self.set\_prop(id, \textcolor{stringliteral}{'dead'})
411         \textcolor{comment}{# self.delete\_prop(id, 'agent')}
412         \textcolor{comment}{# self.set\_prop(id, 'object')}
413 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a22e60e26302aae3e1c0d43f86f4c332d}\label{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a22e60e26302aae3e1c0d43f86f4c332d}} 
\index{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}!display\+\_\+node@{display\+\_\+node}}
\index{display\+\_\+node@{display\+\_\+node}!projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}}
\subsubsection{\texorpdfstring{display\+\_\+node()}{display\_node()}}
{\footnotesize\ttfamily def projects.\+mastering\+\_\+the\+\_\+dungeon.\+tasks.\+graph\+\_\+world2.\+graph.\+Graph.\+display\+\_\+node (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{id }\end{DoxyParamCaption})}



Definition at line 1034 of file graph.\+py.


\begin{DoxyCode}
1034     \textcolor{keyword}{def }display\_node(self, id):
1035         s = \textcolor{stringliteral}{''}
1036         \textcolor{keywordflow}{if} len(self.node\_contains(id)) > 0:
1037             s = (
1038                 s
1039                 + id
1040                 + \textcolor{stringliteral}{' contains '}
1041                 + self.display\_node\_list(self.node\_contains(id))
1042                 + \textcolor{stringliteral}{'\(\backslash\)n'}
1043             )
1044         \textcolor{keywordflow}{return} s
1045 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_ad4765421393cb14a6084a9d98dd530a0}\label{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_ad4765421393cb14a6084a9d98dd530a0}} 
\index{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}!display\+\_\+node\+\_\+list@{display\+\_\+node\+\_\+list}}
\index{display\+\_\+node\+\_\+list@{display\+\_\+node\+\_\+list}!projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}}
\subsubsection{\texorpdfstring{display\+\_\+node\+\_\+list()}{display\_node\_list()}}
{\footnotesize\ttfamily def projects.\+mastering\+\_\+the\+\_\+dungeon.\+tasks.\+graph\+\_\+world2.\+graph.\+Graph.\+display\+\_\+node\+\_\+list (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{l }\end{DoxyParamCaption})}



Definition at line 1014 of file graph.\+py.


\begin{DoxyCode}
1014     \textcolor{keyword}{def }display\_node\_list(self, l):
1015         \textcolor{keywordflow}{if} len(l) == 0:
1016             \textcolor{keywordflow}{return} \textcolor{stringliteral}{'nothing'}
1017         l = [self.node\_to\_desc(ent) \textcolor{keywordflow}{for} ent \textcolor{keywordflow}{in} l]
1018         \textcolor{keywordflow}{if} len(l) == 1:
1019             \textcolor{keywordflow}{return} l[0]
1020         c = Counter(l)
1021         l = set(l)
1022         s = \textcolor{stringliteral}{''}
1023         cnt = 0
1024         \textcolor{keywordflow}{for} o \textcolor{keywordflow}{in} l:
1025             s += self.cnt\_obj(o, c)
1026             \textcolor{keywordflow}{if} len(l) > 2 \textcolor{keywordflow}{and} cnt < len(l) - 1:
1027                 s += \textcolor{stringliteral}{','}
1028             s += \textcolor{stringliteral}{' '}
1029             cnt = cnt + 1
1030             \textcolor{keywordflow}{if} cnt == len(l) - 1:
1031                 s += \textcolor{stringliteral}{'and '}
1032         \textcolor{keywordflow}{return} s.rstrip(\textcolor{stringliteral}{' '})
1033 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a53875bd0094c23c7f852f2320a6a8b25}\label{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a53875bd0094c23c7f852f2320a6a8b25}} 
\index{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}!display\+\_\+room\+\_\+agents@{display\+\_\+room\+\_\+agents}}
\index{display\+\_\+room\+\_\+agents@{display\+\_\+room\+\_\+agents}!projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}}
\subsubsection{\texorpdfstring{display\+\_\+room\+\_\+agents()}{display\_room\_agents()}}
{\footnotesize\ttfamily def projects.\+mastering\+\_\+the\+\_\+dungeon.\+tasks.\+graph\+\_\+world2.\+graph.\+Graph.\+display\+\_\+room\+\_\+agents (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{me,  }\item[{}]{room,  }\item[{}]{third\+\_\+person = {\ttfamily False} }\end{DoxyParamCaption})}



Definition at line 970 of file graph.\+py.


\begin{DoxyCode}
970     \textcolor{keyword}{def }display\_room\_agents(self, me, room, third\_person=False):
971         s = \textcolor{stringliteral}{''}
972         agents = self.node\_contains(room)
973         agents = [a \textcolor{keywordflow}{for} a \textcolor{keywordflow}{in} agents \textcolor{keywordflow}{if} self.has\_prop(a, \textcolor{stringliteral}{'agent'}) \textcolor{keywordflow}{and} a != me]
974         \textcolor{keywordflow}{if} len(agents) > 0:
975             \textcolor{keywordflow}{for} a \textcolor{keywordflow}{in} agents:
976                 desc = self.node\_to\_desc(a).capitalize()
977                 s += desc + \textcolor{stringliteral}{' is here.\(\backslash\)n'}
978         \textcolor{keywordflow}{return} s
979 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a0e754e04d1c69f6531f0f7e18ba7f35a}\label{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a0e754e04d1c69f6531f0f7e18ba7f35a}} 
\index{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}!display\+\_\+room\+\_\+edges@{display\+\_\+room\+\_\+edges}}
\index{display\+\_\+room\+\_\+edges@{display\+\_\+room\+\_\+edges}!projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}}
\subsubsection{\texorpdfstring{display\+\_\+room\+\_\+edges()}{display\_room\_edges()}}
{\footnotesize\ttfamily def projects.\+mastering\+\_\+the\+\_\+dungeon.\+tasks.\+graph\+\_\+world2.\+graph.\+Graph.\+display\+\_\+room\+\_\+edges (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{roomid,  }\item[{}]{third\+\_\+person = {\ttfamily False} }\end{DoxyParamCaption})}



Definition at line 934 of file graph.\+py.


\begin{DoxyCode}
934     \textcolor{keyword}{def }display\_room\_edges(self, roomid, third\_person=False):
935         s = \textcolor{stringliteral}{''}
936         rooms = self.\_node\_to\_edges[roomid]
937         rooms = [r[1] \textcolor{keywordflow}{for} r \textcolor{keywordflow}{in} rooms \textcolor{keywordflow}{if} r[0] == \textcolor{stringliteral}{'path\_to'}]
938         room = self.node\_to\_desc(roomid)
939         \textcolor{keywordflow}{if} third\_person:
940             s += \textcolor{stringliteral}{'\{\} is connected to '}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(room).capitalize()
941         \textcolor{keywordflow}{else}:
942             \textcolor{keywordflow}{if} len(rooms) == 1:
943                 s += \textcolor{stringliteral}{'There is a path to '}
944             \textcolor{keywordflow}{else}:
945                 s += \textcolor{stringliteral}{'There are paths to '}
946         s += self.display\_node\_list(rooms)
947         s += \textcolor{stringliteral}{'.\(\backslash\)n'}
948         \textcolor{keywordflow}{return} s
949 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a466a066fe10c50b36b6290e271e3f299}\label{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a466a066fe10c50b36b6290e271e3f299}} 
\index{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}!display\+\_\+room\+\_\+objects@{display\+\_\+room\+\_\+objects}}
\index{display\+\_\+room\+\_\+objects@{display\+\_\+room\+\_\+objects}!projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}}
\subsubsection{\texorpdfstring{display\+\_\+room\+\_\+objects()}{display\_room\_objects()}}
{\footnotesize\ttfamily def projects.\+mastering\+\_\+the\+\_\+dungeon.\+tasks.\+graph\+\_\+world2.\+graph.\+Graph.\+display\+\_\+room\+\_\+objects (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{roomid,  }\item[{}]{third\+\_\+person = {\ttfamily False} }\end{DoxyParamCaption})}



Definition at line 950 of file graph.\+py.


\begin{DoxyCode}
950     \textcolor{keyword}{def }display\_room\_objects(self, roomid, third\_person=False):
951         s = \textcolor{stringliteral}{''}
952         objects = self.node\_contains(roomid)
953         objects = [o \textcolor{keywordflow}{for} o \textcolor{keywordflow}{in} objects \textcolor{keywordflow}{if} self.has\_prop(o, \textcolor{stringliteral}{'object'})]
954         \textcolor{comment}{# import pdb; pdb.set\_trace()}
955         room = self.node\_to\_desc(roomid)
956         \textcolor{keywordflow}{if} len(objects) == 0:
957             s += \textcolor{stringliteral}{'\{\} is empty.\(\backslash\)n'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(room).capitalize()
958         \textcolor{keywordflow}{else}:
959             \textcolor{keywordflow}{if} third\_person:
960                 s += \textcolor{stringliteral}{'In \{\} there is '}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(room)
961             \textcolor{keywordflow}{else}:
962                 s += \textcolor{stringliteral}{'There is '}
963             s += self.display\_node\_list(objects)
964             \textcolor{keywordflow}{if} third\_person:
965                 s += \textcolor{stringliteral}{'\(\backslash\)n'}
966             \textcolor{keywordflow}{else}:
967                 s += \textcolor{stringliteral}{' here.\(\backslash\)n'}
968         \textcolor{keywordflow}{return} s
969 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_ac41cef28bdac9c94bb8622e9f19506e5}\label{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_ac41cef28bdac9c94bb8622e9f19506e5}} 
\index{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}!drop\+\_\+object@{drop\+\_\+object}}
\index{drop\+\_\+object@{drop\+\_\+object}!projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}}
\subsubsection{\texorpdfstring{drop\+\_\+object()}{drop\_object()}}
{\footnotesize\ttfamily def projects.\+mastering\+\_\+the\+\_\+dungeon.\+tasks.\+graph\+\_\+world2.\+graph.\+Graph.\+drop\+\_\+object (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{agent\+\_\+id,  }\item[{}]{obj\+\_\+txt }\end{DoxyParamCaption})}



Definition at line 500 of file graph.\+py.


\begin{DoxyCode}
500     \textcolor{keyword}{def }drop\_object(self, agent\_id, obj\_txt):
501         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} self.valid(agent\_id, \textcolor{stringliteral}{'agent'}):
502             \textcolor{keywordflow}{return} \textcolor{keyword}{False}
503         obj\_id = self.desc\_to\_node(
504             obj\_txt,
505             nearbyid=agent\_id,
506             nearbytype=\textcolor{stringliteral}{'carrying'},
507             should\_have=[\textcolor{stringliteral}{'object'}],
508             shouldnt\_have=[\textcolor{stringliteral}{'wearing'}, \textcolor{stringliteral}{'wielding'}],
509         )
510         \textcolor{keywordflow}{if} obj\_id \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
511             self.send\_msg(agent\_id, \textcolor{stringliteral}{"You do not have that.\(\backslash\)n"})
512             \textcolor{keywordflow}{return} \textcolor{keyword}{False}
513         \textcolor{keywordflow}{if} obj\_id == \textcolor{keyword}{False}:
514             self.send\_msg(agent\_id, \textcolor{stringliteral}{'You must unwield/remove it before dropping it.\(\backslash\)n'})
515             \textcolor{keywordflow}{return} \textcolor{keyword}{False}
516         room\_id = self.node\_contained\_in(agent\_id)
517         self.add\_contained\_in(obj\_id, room\_id)
518         self.send\_msg(agent\_id, \textcolor{stringliteral}{'Done.\(\backslash\)n'})
519         \textcolor{keywordflow}{return} \textcolor{keyword}{True}
520 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a7976e6ef1b45caf0e61d3d11a1ff6c1d}\label{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a7976e6ef1b45caf0e61d3d11a1ff6c1d}} 
\index{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}!examine@{examine}}
\index{examine@{examine}!projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}}
\subsubsection{\texorpdfstring{examine()}{examine()}}
{\footnotesize\ttfamily def projects.\+mastering\+\_\+the\+\_\+dungeon.\+tasks.\+graph\+\_\+world2.\+graph.\+Graph.\+examine (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{agent\+\_\+id,  }\item[{}]{thing }\end{DoxyParamCaption})}



Definition at line 1046 of file graph.\+py.


\begin{DoxyCode}
1046     \textcolor{keyword}{def }examine(self, agent\_id, thing):
1047         thing\_id = self.desc\_to\_node(thing, nearbyid=agent\_id)
1048         \textcolor{keywordflow}{if} thing\_id \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
1049             self.send\_msg(agent\_id, \textcolor{stringliteral}{"That is not here.\(\backslash\)n"})
1050             \textcolor{keywordflow}{return} \textcolor{keyword}{True}
1051         s = \textcolor{stringliteral}{''}
1052         \textcolor{keywordflow}{if} self.has\_prop(thing\_id, \textcolor{stringliteral}{'agent'}):
1053             s = self.inventory(thing\_id, agent\_id)
1054         \textcolor{keywordflow}{else}:
1055             object\_ids = self.node\_contains(thing\_id)
1056             object\_ids = [o \textcolor{keywordflow}{for} o \textcolor{keywordflow}{in} object\_ids \textcolor{keywordflow}{if} self.has\_prop(o, \textcolor{stringliteral}{'object'})]
1057             thing\_desc = self.node\_to\_desc(thing\_id, use\_the=\textcolor{keyword}{True}).capitalize()
1058             inside\_txt = \textcolor{stringliteral}{' contains '}
1059             \textcolor{keywordflow}{if} len(object\_ids) == 0:
1060                 s += thing\_desc + inside\_txt + \textcolor{stringliteral}{'nothing.\(\backslash\)n'}
1061             \textcolor{keywordflow}{else}:
1062                 s += thing\_desc + inside\_txt
1063                 s += self.display\_node\_list(object\_ids)
1064                 s += \textcolor{stringliteral}{'.\(\backslash\)n'}
1065         self.send\_msg(agent\_id, s)
1066         \textcolor{keywordflow}{return} \textcolor{keyword}{True}
1067 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_aaeefec1f409cbe2ce0f4531c353264a6}\label{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_aaeefec1f409cbe2ce0f4531c353264a6}} 
\index{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}!filter\+\_\+actions@{filter\+\_\+actions}}
\index{filter\+\_\+actions@{filter\+\_\+actions}!projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}}
\subsubsection{\texorpdfstring{filter\+\_\+actions()}{filter\_actions()}}
{\footnotesize\ttfamily def projects.\+mastering\+\_\+the\+\_\+dungeon.\+tasks.\+graph\+\_\+world2.\+graph.\+Graph.\+filter\+\_\+actions (\begin{DoxyParamCaption}\item[{}]{inst }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 1258 of file graph.\+py.


\begin{DoxyCode}
1258     \textcolor{keyword}{def }filter\_actions(inst):
1259         ret\_actions = []
1260         inst, symb\_points = Graph.parse\_static(inst)
1261         \textcolor{keywordflow}{for} i \textcolor{keywordflow}{in} range(len(symb\_points) - 1):
1262             j, k = symb\_points[i], symb\_points[i + 1]
1263             \textcolor{keywordflow}{if} inst[j] \textcolor{keywordflow}{in} [
1264                 \textcolor{stringliteral}{'go'},
1265                 \textcolor{stringliteral}{'get'},
1266                 \textcolor{stringliteral}{'drop'},
1267                 \textcolor{stringliteral}{'hit'},
1268                 \textcolor{stringliteral}{'give'},
1269                 \textcolor{stringliteral}{'take'},
1270                 \textcolor{stringliteral}{'put'},
1271                 \textcolor{stringliteral}{'eat'},
1272                 \textcolor{stringliteral}{'drink'},
1273                 \textcolor{stringliteral}{'wear'},
1274                 \textcolor{stringliteral}{'wield'},
1275                 \textcolor{stringliteral}{'unwield'},
1276                 \textcolor{stringliteral}{'remove'},
1277             ]:
1278                 ret\_actions.append(\textcolor{stringliteral}{' '}.join(inst[j:k]))
1279         \textcolor{keywordflow}{return} \textcolor{stringliteral}{' '}.join(ret\_actions)
1280 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a69ce0daca3f7c28c02e0c858d4b7e2e9}\label{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a69ce0daca3f7c28c02e0c858d4b7e2e9}} 
\index{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}!follow@{follow}}
\index{follow@{follow}!projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}}
\subsubsection{\texorpdfstring{follow()}{follow()}}
{\footnotesize\ttfamily def projects.\+mastering\+\_\+the\+\_\+dungeon.\+tasks.\+graph\+\_\+world2.\+graph.\+Graph.\+follow (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{agent\+\_\+id,  }\item[{}]{params }\end{DoxyParamCaption})}



Definition at line 448 of file graph.\+py.


\begin{DoxyCode}
448     \textcolor{keyword}{def }follow(self, agent\_id, params):
449         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} self.valid(agent\_id, \textcolor{stringliteral}{'agent'}):
450             \textcolor{keywordflow}{return} \textcolor{keyword}{False}
451         thing = \textcolor{stringliteral}{' '}.join(params)
452         \textcolor{keywordflow}{if} thing == \textcolor{stringliteral}{'off'} \textcolor{keywordflow}{or} thing == \textcolor{stringliteral}{''}:
453             \textcolor{keywordflow}{if} agent\_id \textcolor{keywordflow}{in} self.\_node\_follows:
454                 thing\_id = self.\_node\_follows[agent\_id]
455                 self.set\_follow(agent\_id, \textcolor{keywordtype}{None})
456                 thing\_desc = self.node\_to\_desc(thing\_id, use\_the=\textcolor{keyword}{True})
457                 s = \textcolor{stringliteral}{'You stop following '} + thing\_desc + \textcolor{stringliteral}{'.\(\backslash\)n'}
458                 self.send\_msg(agent\_id, s)
459                 agent\_desc = self.node\_to\_desc(agent\_id, use\_the=\textcolor{keyword}{True}).capitalize()
460                 s = agent\_desc + \textcolor{stringliteral}{' stops following you.\(\backslash\)n'}
461                 self.send\_msg(thing\_id, s)
462                 \textcolor{keywordflow}{return} \textcolor{keyword}{True}
463             \textcolor{keywordflow}{else}:
464                 s = \textcolor{stringliteral}{'You are not following anyone.\(\backslash\)n'}
465                 self.send\_msg(agent\_id, s)
466                 \textcolor{keywordflow}{return} \textcolor{keyword}{True}
467         thing\_id = self.desc\_to\_node(thing, nearbyid=agent\_id, nearbytype=\textcolor{stringliteral}{'sameloc'})
468         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} thing\_id \textcolor{keywordflow}{or} \textcolor{keywordflow}{not} self.valid(thing\_id, \textcolor{stringliteral}{'agent'}):
469             \textcolor{keywordflow}{return} \textcolor{keyword}{False}
470         room1\_id = self.room(agent\_id)
471         room2\_id = self.room(thing\_id)
472         thing\_desc = self.node\_to\_desc(thing\_id, use\_the=\textcolor{keyword}{True})
473         \textcolor{keywordflow}{if} room1\_id != room2\_id:
474             self.send\_msg(agent\_id, thing\_desc + \textcolor{stringliteral}{" is not here."})
475             \textcolor{keywordflow}{return} \textcolor{keyword}{True}
476         self.set\_follow(agent\_id, thing\_id)
477         s = \textcolor{stringliteral}{'You are following the '} + thing\_desc + \textcolor{stringliteral}{'.\(\backslash\)n'}
478         self.send\_msg(agent\_id, s)
479         agent\_desc = self.node\_to\_desc(agent\_id, use\_the=\textcolor{keyword}{True}).capitalize()
480         s = agent\_desc + \textcolor{stringliteral}{' is following you.\(\backslash\)n'}
481         self.send\_msg(thing\_id, s)
482         \textcolor{keywordflow}{return} \textcolor{keyword}{True}
483 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_acc0a17702ba44719283709176a354d47}\label{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_acc0a17702ba44719283709176a354d47}} 
\index{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}!freeze@{freeze}}
\index{freeze@{freeze}!projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}}
\subsubsection{\texorpdfstring{freeze()}{freeze()}}
{\footnotesize\ttfamily def projects.\+mastering\+\_\+the\+\_\+dungeon.\+tasks.\+graph\+\_\+world2.\+graph.\+Graph.\+freeze (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{freeze = {\ttfamily None} }\end{DoxyParamCaption})}



Definition at line 167 of file graph.\+py.


\begin{DoxyCode}
167     \textcolor{keyword}{def }freeze(self, freeze=None):
168         \textcolor{keywordflow}{if} freeze \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}:
169             self.\_node\_freeze = freeze
170         \textcolor{keywordflow}{return} self.\_node\_freeze
171 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_ae184354b5a945cec6e70b9d961b7856c}\label{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_ae184354b5a945cec6e70b9d961b7856c}} 
\index{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}!get\+\_\+from@{get\+\_\+from}}
\index{get\+\_\+from@{get\+\_\+from}!projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}}
\subsubsection{\texorpdfstring{get\+\_\+from()}{get\_from()}}
{\footnotesize\ttfamily def projects.\+mastering\+\_\+the\+\_\+dungeon.\+tasks.\+graph\+\_\+world2.\+graph.\+Graph.\+get\+\_\+from (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{agent\+\_\+id,  }\item[{}]{params }\end{DoxyParamCaption})}



Definition at line 563 of file graph.\+py.


\begin{DoxyCode}
563     \textcolor{keyword}{def }get\_from(self, agent\_id, params):
564         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} self.valid(agent\_id, \textcolor{stringliteral}{'agent'}):
565             \textcolor{keywordflow}{return} \textcolor{keyword}{False}
566         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} len(params) == 2:
567             \textcolor{keywordflow}{return} \textcolor{keyword}{False}
568         victim\_id = self.desc\_to\_node(
569             params[1], nearbyid=agent\_id, should\_have=[\textcolor{stringliteral}{'container'}]
570         )
571         \textcolor{keywordflow}{if} victim\_id \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
572             self.send\_msg(agent\_id, \textcolor{stringliteral}{'That is not here.\(\backslash\)n'})
573             \textcolor{keywordflow}{return} \textcolor{keyword}{False}
574         \textcolor{keywordflow}{if} victim\_id == \textcolor{keyword}{False}:
575             self.send\_msg(agent\_id, \textcolor{stringliteral}{'It is not a container.\(\backslash\)n'})
576             \textcolor{keywordflow}{return} \textcolor{keyword}{False}
577         \textcolor{comment}{# if not self.valid(victim\_id, 'container'): return False}
578         obj\_id = self.desc\_to\_node(
579             params[0], nearbyid=victim\_id, nearbytype=\textcolor{stringliteral}{'carrying'}, should\_have=[\textcolor{stringliteral}{'object'}]
580         )
581         \textcolor{keywordflow}{if} obj\_id \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
582             self.send\_msg(agent\_id, \textcolor{stringliteral}{"You couldn't find it.\(\backslash\)n"})
583             \textcolor{keywordflow}{return} \textcolor{keyword}{False}
584         \textcolor{keywordflow}{if} obj\_id == \textcolor{keyword}{False}:
585             self.send\_msg(agent\_id, \textcolor{stringliteral}{'It is not an object.\(\backslash\)n'})
586             \textcolor{keywordflow}{return} \textcolor{keyword}{False}
587         self.add\_contained\_in(obj\_id, agent\_id)
588         agent\_desc = self.node\_to\_desc(agent\_id, use\_the=\textcolor{keyword}{True}).capitalize()
589         victim\_desc = self.node\_to\_desc(victim\_id, use\_the=\textcolor{keyword}{True})
590         self.send\_msg(
591             agent\_id,
592             \textcolor{stringliteral}{"You took "}
593             + self.display\_node\_list([obj\_id])
594             + \textcolor{stringliteral}{" from "}
595             + victim\_desc
596             + \textcolor{stringliteral}{'.\(\backslash\)n'},
597         )
598         self.send\_msg(
599             victim\_id,
600             agent\_desc
601             + \textcolor{stringliteral}{" took the "}
602             + self.display\_node\_list([obj\_id])
603             + \textcolor{stringliteral}{" from you.\(\backslash\)n"},
604         )
605         \textcolor{keywordflow}{return} \textcolor{keyword}{True}
606 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a4efc9cab1e760d98614810c72dc075ee}\label{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a4efc9cab1e760d98614810c72dc075ee}} 
\index{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}!get\+\_\+object@{get\+\_\+object}}
\index{get\+\_\+object@{get\+\_\+object}!projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}}
\subsubsection{\texorpdfstring{get\+\_\+object()}{get\_object()}}
{\footnotesize\ttfamily def projects.\+mastering\+\_\+the\+\_\+dungeon.\+tasks.\+graph\+\_\+world2.\+graph.\+Graph.\+get\+\_\+object (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{agent\+\_\+id,  }\item[{}]{obj\+\_\+txt }\end{DoxyParamCaption})}



Definition at line 484 of file graph.\+py.


\begin{DoxyCode}
484     \textcolor{keyword}{def }get\_object(self, agent\_id, obj\_txt):
485         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} self.valid(agent\_id, \textcolor{stringliteral}{'agent'}):
486             \textcolor{keywordflow}{return} \textcolor{keyword}{False}
487         obj\_id = self.desc\_to\_node(
488             obj\_txt, nearbyid=agent\_id, nearbytype=\textcolor{stringliteral}{'sameloc'}, should\_have=[\textcolor{stringliteral}{'object'}]
489         )
490         \textcolor{keywordflow}{if} obj\_id \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
491             self.send\_msg(agent\_id, \textcolor{stringliteral}{'It is not here.\(\backslash\)n'})
492             \textcolor{keywordflow}{return} \textcolor{keyword}{False}
493         \textcolor{keywordflow}{if} obj\_id == \textcolor{keyword}{False}:
494             self.send\_msg(agent\_id, \textcolor{stringliteral}{'It is not an object.\(\backslash\)n'})
495             \textcolor{keywordflow}{return} \textcolor{keyword}{False}
496         self.add\_contained\_in(obj\_id, agent\_id)
497         self.send\_msg(agent\_id, \textcolor{stringliteral}{'Done.\(\backslash\)n'})
498         \textcolor{keywordflow}{return} \textcolor{keyword}{True}
499 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a0d9e8f386ec8cb4a8b1235f8e7f7086d}\label{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a0d9e8f386ec8cb4a8b1235f8e7f7086d}} 
\index{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}!get\+\_\+possible\+\_\+actions@{get\+\_\+possible\+\_\+actions}}
\index{get\+\_\+possible\+\_\+actions@{get\+\_\+possible\+\_\+actions}!projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}}
\subsubsection{\texorpdfstring{get\+\_\+possible\+\_\+actions()}{get\_possible\_actions()}}
{\footnotesize\ttfamily def projects.\+mastering\+\_\+the\+\_\+dungeon.\+tasks.\+graph\+\_\+world2.\+graph.\+Graph.\+get\+\_\+possible\+\_\+actions (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{my\+\_\+agent\+\_\+id = {\ttfamily \textquotesingle{}dragon\textquotesingle{}} }\end{DoxyParamCaption})}



Definition at line 1145 of file graph.\+py.


\begin{DoxyCode}
1145     \textcolor{keyword}{def }get\_possible\_actions(self, my\_agent\_id='dragon'):
1146         \textcolor{comment}{# TODO: make it independent of specific world settings}
1147         actions = []
1148         dragon\_id = my\_agent\_id
1149         \textcolor{keywordflow}{if} self.valid(dragon\_id, \textcolor{stringliteral}{'dead'}):
1150             \textcolor{keywordflow}{return} actions
1151         current\_room\_id = self.node\_contained\_in(dragon\_id)
1152         \textcolor{keywordflow}{for} id \textcolor{keywordflow}{in} self.node\_path\_to(current\_room\_id):
1153             actions.append(\textcolor{stringliteral}{'go \{\}'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(self.node\_to\_desc\_raw(id)))
1154         \textcolor{keywordflow}{for} id \textcolor{keywordflow}{in} self.object\_ids + self.container\_ids:
1155             \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} self.node\_exists(id):
1156                 \textcolor{keywordflow}{continue}
1157             desc = self.node\_to\_desc\_raw(id)
1158             \textcolor{keywordflow}{if} self.node\_contained\_in(id) == current\_room\_id:
1159                 actions.append(\textcolor{stringliteral}{'get \{\}'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(desc))
1160             \textcolor{keywordflow}{if} self.node\_contained\_in(id) == dragon\_id:
1161                 \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} self.valid(id, \textcolor{stringliteral}{'wearing'}) \textcolor{keywordflow}{and} \textcolor{keywordflow}{not} self.valid(id, \textcolor{stringliteral}{'wielding'}):
1162                     actions.append(\textcolor{stringliteral}{'drop \{\}'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(desc))
1163                     \textcolor{keywordflow}{for} container\_id \textcolor{keywordflow}{in} self.container\_ids:
1164                         \textcolor{keywordflow}{if} container\_id != id \textcolor{keywordflow}{and} (
1165                             self.node\_contained\_in(container\_id) == dragon\_id
1166                             \textcolor{keywordflow}{or} self.node\_contained\_in(container\_id) == current\_room\_id
1167                         ):
1168                             actions.append(
1169                                 \textcolor{stringliteral}{'put \{\} in \{\}'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(
1170                                     desc, self.node\_to\_desc\_raw(container\_id)
1171                                 )
1172                             )
1173                     \textcolor{keywordflow}{for} agent\_id \textcolor{keywordflow}{in} self.agent\_ids:
1174                         \textcolor{keywordflow}{if} (
1175                             agent\_id != dragon\_id
1176                             \textcolor{keywordflow}{and} \textcolor{keywordflow}{not} self.valid(agent\_id, \textcolor{stringliteral}{'dead'})
1177                             \textcolor{keywordflow}{and} self.node\_contained\_in(agent\_id) == current\_room\_id
1178                         ):
1179                             actions.append(
1180                                 \textcolor{stringliteral}{'give \{\} to \{\}'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(
1181                                     desc, self.node\_to\_desc\_raw(agent\_id)
1182                                 )
1183                             )
1184                 \textcolor{keywordflow}{if} self.valid(id, \textcolor{stringliteral}{'food'}):
1185                     actions.append(\textcolor{stringliteral}{'eat \{\}'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(desc))
1186                 \textcolor{keywordflow}{if} self.valid(id, \textcolor{stringliteral}{'drink'}):
1187                     actions.append(\textcolor{stringliteral}{'drink \{\}'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(desc))
1188                 \textcolor{keywordflow}{if} self.valid(id, \textcolor{stringliteral}{'wearable'}) \textcolor{keywordflow}{and} \textcolor{keywordflow}{not} self.valid(id, \textcolor{stringliteral}{'wearing'}):
1189                     actions.append(\textcolor{stringliteral}{'wear \{\}'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(desc))
1190                 \textcolor{keywordflow}{if} self.valid(id, \textcolor{stringliteral}{'wearing'}):
1191                     actions.append(\textcolor{stringliteral}{'remove \{\}'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(desc))
1192                 \textcolor{keywordflow}{if} self.valid(id, \textcolor{stringliteral}{'wieldable'}) \textcolor{keywordflow}{and} \textcolor{keywordflow}{not} self.valid(id, \textcolor{stringliteral}{'wielding'}):
1193                     actions.append(\textcolor{stringliteral}{'wield \{\}'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(desc))
1194                 \textcolor{keywordflow}{if} self.valid(id, \textcolor{stringliteral}{'wielding'}):
1195                     actions.append(\textcolor{stringliteral}{'unwield \{\}'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(desc))
1196 
1197             container\_id = self.node\_contained\_in(id)
1198             \textcolor{keywordflow}{if} (
1199                 self.valid(container\_id, \textcolor{stringliteral}{'agent'})
1200                 \textcolor{keywordflow}{and} container\_id != dragon\_id
1201                 \textcolor{keywordflow}{and} self.node\_contained\_in(container\_id) == current\_room\_id
1202             ):
1203                 actions.append(
1204                     \textcolor{stringliteral}{'take \{\} from \{\}'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(desc, self.node\_to\_desc\_raw(container\_id))
1205                 )
1206             \textcolor{keywordflow}{if} self.valid(container\_id, \textcolor{stringliteral}{'container'}) \textcolor{keywordflow}{and} (
1207                 self.node\_contained\_in(container\_id)
1208                 == self.node\_contained\_in(dragon\_id)
1209                 \textcolor{keywordflow}{or} self.node\_contained\_in(container\_id) == dragon\_id
1210             ):
1211                 actions.append(
1212                     \textcolor{stringliteral}{'get \{\} from \{\}'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(desc, self.node\_to\_desc\_raw(container\_id))
1213                 )
1214 
1215         \textcolor{keywordflow}{for} id \textcolor{keywordflow}{in} self.agent\_ids:
1216             \textcolor{keywordflow}{if} (
1217                 id != dragon\_id
1218                 \textcolor{keywordflow}{and} \textcolor{keywordflow}{not} self.valid(id, \textcolor{stringliteral}{'dead'})
1219                 \textcolor{keywordflow}{and} self.node\_contained\_in(id) == current\_room\_id
1220             ):
1221                 actions.append(\textcolor{stringliteral}{'hit \{\}'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(self.node\_to\_desc\_raw(id)))
1222 
1223         \textcolor{keywordflow}{return} list(set(actions))
1224 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_af732db53ab81a30152d5c4ed8bbdef41}\label{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_af732db53ab81a30152d5c4ed8bbdef41}} 
\index{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}!get\+\_\+text@{get\+\_\+text}}
\index{get\+\_\+text@{get\+\_\+text}!projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}}
\subsubsection{\texorpdfstring{get\+\_\+text()}{get\_text()}}
{\footnotesize\ttfamily def projects.\+mastering\+\_\+the\+\_\+dungeon.\+tasks.\+graph\+\_\+world2.\+graph.\+Graph.\+get\+\_\+text (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{agent }\end{DoxyParamCaption})}



Definition at line 980 of file graph.\+py.


\begin{DoxyCode}
980     \textcolor{keyword}{def }get\_text(self, agent):
981         txt = \textcolor{stringliteral}{''}
982         \textcolor{keywordflow}{if} agent \textcolor{keywordflow}{in} self.\_node\_to\_text\_buffer:
983             txt = self.\_node\_to\_text\_buffer[agent]
984         self.\_node\_to\_text\_buffer[agent] = \textcolor{stringliteral}{''}  \textcolor{comment}{# clear buffer}
985         \textcolor{keywordflow}{return} txt
986 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a38fea5cf99bdf0d057082af566763dca}\label{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a38fea5cf99bdf0d057082af566763dca}} 
\index{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}!give@{give}}
\index{give@{give}!projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}}
\subsubsection{\texorpdfstring{give()}{give()}}
{\footnotesize\ttfamily def projects.\+mastering\+\_\+the\+\_\+dungeon.\+tasks.\+graph\+\_\+world2.\+graph.\+Graph.\+give (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{agent\+\_\+id,  }\item[{}]{params }\end{DoxyParamCaption})}



Definition at line 607 of file graph.\+py.


\begin{DoxyCode}
607     \textcolor{keyword}{def }give(self, agent\_id, params):
608         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} self.valid(agent\_id, \textcolor{stringliteral}{'agent'}):
609             \textcolor{keywordflow}{return} \textcolor{keyword}{False}
610         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} len(params) == 2:
611             \textcolor{keywordflow}{return} \textcolor{keyword}{False}
612         obj\_id = self.desc\_to\_node(
613             params[0],
614             nearbyid=agent\_id,
615             nearbytype=\textcolor{stringliteral}{'carrying'},
616             should\_have=[\textcolor{stringliteral}{'object'}],
617             shouldnt\_have=[\textcolor{stringliteral}{'wearing'}, \textcolor{stringliteral}{'wielding'}],
618         )
619         \textcolor{keywordflow}{if} obj\_id \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
620             self.send\_msg(agent\_id, \textcolor{stringliteral}{'You do not have that.\(\backslash\)n'})
621             \textcolor{keywordflow}{return} \textcolor{keyword}{False}
622         \textcolor{keywordflow}{if} obj\_id == \textcolor{keyword}{False}:
623             self.send\_msg(
624                 agent\_id, \textcolor{stringliteral}{'You must remove/unwield it before giving it to others.\(\backslash\)n'}
625             )
626             \textcolor{keywordflow}{return} \textcolor{keyword}{False}
627         receiver\_id = self.desc\_to\_node(
628             params[1],
629             nearbyid=agent\_id,
630             nearbytype=\textcolor{stringliteral}{'sameloc'},
631             should\_have=[\textcolor{stringliteral}{'agent'}],
632             shouldnt\_have=[\textcolor{stringliteral}{'dead'}],
633         )
634         \textcolor{keywordflow}{if} receiver\_id == agent\_id:
635             \textcolor{keywordflow}{return} \textcolor{keyword}{False}
636         \textcolor{keywordflow}{if} receiver\_id \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
637             self.send\_msg(agent\_id, \textcolor{stringliteral}{'They are not here.\(\backslash\)n'})
638             \textcolor{keywordflow}{return} \textcolor{keyword}{False}
639         \textcolor{keywordflow}{if} receiver\_id == \textcolor{keyword}{False}:
640             self.send\_msg(agent\_id, \textcolor{stringliteral}{'They are not alive agents.\(\backslash\)n'})
641             \textcolor{keywordflow}{return} \textcolor{keyword}{False}
642         self.add\_contained\_in(obj\_id, receiver\_id)
643         agent\_desc = self.node\_to\_desc(agent\_id, use\_the=\textcolor{keyword}{True}).capitalize()
644         receiver\_desc = self.node\_to\_desc(receiver\_id, use\_the=\textcolor{keyword}{True})
645         self.send\_msg(
646             agent\_id,
647             \textcolor{stringliteral}{"You gave "}
648             + self.display\_node\_list([obj\_id])
649             + \textcolor{stringliteral}{" to "}
650             + receiver\_desc
651             + \textcolor{stringliteral}{'.\(\backslash\)n'},
652         )
653         self.send\_msg(
654             receiver\_id,
655             agent\_desc + \textcolor{stringliteral}{" gave you "} + self.display\_node\_list([obj\_id]) + \textcolor{stringliteral}{'\(\backslash\)n'},
656         )
657         \textcolor{keywordflow}{return} \textcolor{keyword}{True}
658 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_af002f18d01d8845e6a69ceb7ccc4a89f}\label{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_af002f18d01d8845e6a69ceb7ccc4a89f}} 
\index{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}!has\+\_\+prop@{has\+\_\+prop}}
\index{has\+\_\+prop@{has\+\_\+prop}!projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}}
\subsubsection{\texorpdfstring{has\+\_\+prop()}{has\_prop()}}
{\footnotesize\ttfamily def projects.\+mastering\+\_\+the\+\_\+dungeon.\+tasks.\+graph\+\_\+world2.\+graph.\+Graph.\+has\+\_\+prop (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{id,  }\item[{}]{prop }\end{DoxyParamCaption})}



Definition at line 357 of file graph.\+py.


\begin{DoxyCode}
357     \textcolor{keyword}{def }has\_prop(self, id, prop):
358         \textcolor{keywordflow}{if} id \textcolor{keywordflow}{in} self.\_node\_to\_prop:
359             \textcolor{keywordflow}{if} prop \textcolor{keywordflow}{in} self.\_node\_to\_prop[id]:
360                 \textcolor{keywordflow}{return} self.\_node\_to\_prop[id][prop]
361         \textcolor{keywordflow}{return} \textcolor{keyword}{False}
362 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a94d0e8825af02aaf8de5f328a644b8c4}\label{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a94d0e8825af02aaf8de5f328a644b8c4}} 
\index{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}!health@{health}}
\index{health@{health}!projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}}
\subsubsection{\texorpdfstring{health()}{health()}}
{\footnotesize\ttfamily def projects.\+mastering\+\_\+the\+\_\+dungeon.\+tasks.\+graph\+\_\+world2.\+graph.\+Graph.\+health (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{id }\end{DoxyParamCaption})}



Definition at line 1094 of file graph.\+py.


\begin{DoxyCode}
1094     \textcolor{keyword}{def }health(self, id):
1095         health = self.has\_prop(id, \textcolor{stringliteral}{'health'})
1096         \textcolor{keywordflow}{if} health == \textcolor{keywordtype}{None} \textcolor{keywordflow}{or} health == \textcolor{keyword}{False}:
1097             health = 1
1098         \textcolor{keywordflow}{if} health > 8:
1099             health = 8
1100         f = [
1101             \textcolor{stringliteral}{'dead'},
1102             \textcolor{stringliteral}{'on the verge of death'},
1103             \textcolor{stringliteral}{'very weak'},
1104             \textcolor{stringliteral}{'weak'},
1105             \textcolor{stringliteral}{'ok'},
1106             \textcolor{stringliteral}{'good'},
1107             \textcolor{stringliteral}{'strong'},
1108             \textcolor{stringliteral}{'very strong'},
1109             \textcolor{stringliteral}{'nigh on invincible'},
1110         ]
1111         \textcolor{keywordflow}{return} f[health]
1112 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a36381674cd448a339870939d058fe0ae}\label{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a36381674cd448a339870939d058fe0ae}} 
\index{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}!help@{help}}
\index{help@{help}!projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}}
\subsubsection{\texorpdfstring{help()}{help()}}
{\footnotesize\ttfamily def projects.\+mastering\+\_\+the\+\_\+dungeon.\+tasks.\+graph\+\_\+world2.\+graph.\+Graph.\+help (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line 1124 of file graph.\+py.


\begin{DoxyCode}
1124     \textcolor{keyword}{def }\hyperlink{namespaceparlai_1_1agents_1_1tfidf__retriever_1_1build__tfidf_a0e12682c80997535ca4f7f293b8c6d10}{help}(self):
1125         txt = (
1126             \textcolor{stringliteral}{'----------------------------------\(\backslash\)n'}
1127             + \textcolor{stringliteral}{'Commands:\(\backslash\)n'}
1128             + \textcolor{stringliteral}{'look\(\backslash\)n'}
1129             + \textcolor{stringliteral}{'examine <thing>\(\backslash\)n'}
1130             + \textcolor{stringliteral}{'go <room>\(\backslash\)n'}
1131             + \textcolor{stringliteral}{'get/drop <object>\(\backslash\)n'}
1132             + \textcolor{stringliteral}{'eat/drink <object>\(\backslash\)n'}
1133             + \textcolor{stringliteral}{'wear/remove <object>\(\backslash\)n'}
1134             + \textcolor{stringliteral}{'wield/unwield <object>\(\backslash\)n'}
1135             + \textcolor{stringliteral}{'follow <agent>\(\backslash\)n'}
1136             + \textcolor{stringliteral}{'hit <agent>\(\backslash\)n'}
1137             + \textcolor{stringliteral}{'put <object> in <container>\(\backslash\)n'}
1138             + \textcolor{stringliteral}{'get <object> from <container>\(\backslash\)n'}
1139             + \textcolor{stringliteral}{'give <object> to <agent>\(\backslash\)n'}
1140             + \textcolor{stringliteral}{'take <object> from <agent>\(\backslash\)n'}
1141             + \textcolor{stringliteral}{'----------------------------------\(\backslash\)n'}
1142         )
1143         \textcolor{keywordflow}{return} txt
1144 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a8709bca6f375c14cbfaa578228f94fcb}\label{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a8709bca6f375c14cbfaa578228f94fcb}} 
\index{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}!hit\+\_\+agent@{hit\+\_\+agent}}
\index{hit\+\_\+agent@{hit\+\_\+agent}!projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}}
\subsubsection{\texorpdfstring{hit\+\_\+agent()}{hit\_agent()}}
{\footnotesize\ttfamily def projects.\+mastering\+\_\+the\+\_\+dungeon.\+tasks.\+graph\+\_\+world2.\+graph.\+Graph.\+hit\+\_\+agent (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{agent\+\_\+id,  }\item[{}]{victim\+\_\+txt,  }\item[{}]{victim\+\_\+id = {\ttfamily None} }\end{DoxyParamCaption})}



Definition at line 704 of file graph.\+py.


\begin{DoxyCode}
704     \textcolor{keyword}{def }hit\_agent(self, agent\_id, victim\_txt, victim\_id=None):
705         \textcolor{keywordflow}{if} victim\_id \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
706             victim\_id = self.desc\_to\_node(
707                 victim\_txt,
708                 nearbyid=agent\_id,
709                 nearbytype=\textcolor{stringliteral}{'sameloc'},
710                 should\_have=[\textcolor{stringliteral}{'agent'}],
711                 shouldnt\_have=[\textcolor{stringliteral}{'dead'}],
712             )
713             \textcolor{keywordflow}{if} victim\_id \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
714                 self.send\_msg(agent\_id, \textcolor{stringliteral}{'They are not here.\(\backslash\)n'})
715                 \textcolor{keywordflow}{return} \textcolor{keyword}{False}
716             \textcolor{keywordflow}{if} victim\_id == \textcolor{keyword}{False}:
717                 self.send\_msg(agent\_id, \textcolor{stringliteral}{"You can't hit that.\(\backslash\)n"})
718                 \textcolor{keywordflow}{return} \textcolor{keyword}{False}
719         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} self.valid(agent\_id, \textcolor{stringliteral}{'agent'}):
720             \textcolor{keywordflow}{return} \textcolor{keyword}{False}
721         agent\_desc = self.node\_to\_desc(agent\_id, use\_the=\textcolor{keyword}{True}).capitalize()
722         victim\_desc = self.node\_to\_desc(victim\_id, use\_the=\textcolor{keyword}{True})
723         self.send\_msg(agent\_id, \textcolor{stringliteral}{"You hit "} + victim\_desc + \textcolor{stringliteral}{'! '})
724         self.send\_msg(victim\_id, agent\_desc + \textcolor{stringliteral}{" attacked you! "})
725         energy = self.has\_prop(victim\_id, \textcolor{stringliteral}{'health'})
726         \textcolor{keywordflow}{if} \hyperlink{namespaceparlai_1_1agents_1_1tfidf__retriever_1_1build__tfidf_ad5dfae268e23f506da084a9efb72f619}{type}(energy) == bool:
727             energy = INIT\_HEALTH
728         energy = max(0, energy - 1)
729         \textcolor{keywordflow}{if} energy == 0:
730             self.die(victim\_id)
731         \textcolor{keywordflow}{elif} energy < 4 \textcolor{keywordflow}{and} energy > 0:
732             self.send\_msg(victim\_id, \textcolor{stringliteral}{'You are '} + self.health(victim\_id) + \textcolor{stringliteral}{'.\(\backslash\)n'})
733         self.set\_prop(victim\_id, \textcolor{stringliteral}{'health'}, energy)
734         \textcolor{keywordflow}{return} \textcolor{keyword}{True}
735 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_acde814d9a671217a2110d8a0c6039e9b}\label{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_acde814d9a671217a2110d8a0c6039e9b}} 
\index{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}!inc\+\_\+prop@{inc\+\_\+prop}}
\index{inc\+\_\+prop@{inc\+\_\+prop}!projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}}
\subsubsection{\texorpdfstring{inc\+\_\+prop()}{inc\_prop()}}
{\footnotesize\ttfamily def projects.\+mastering\+\_\+the\+\_\+dungeon.\+tasks.\+graph\+\_\+world2.\+graph.\+Graph.\+inc\+\_\+prop (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{id,  }\item[{}]{prop,  }\item[{}]{val = {\ttfamily 1} }\end{DoxyParamCaption})}



Definition at line 367 of file graph.\+py.


\begin{DoxyCode}
367     \textcolor{keyword}{def }inc\_prop(self, id, prop, val=1):
368         \textcolor{keywordflow}{if} id \textcolor{keywordflow}{in} self.\_node\_to\_prop:
369             \textcolor{keywordflow}{if} prop \textcolor{keywordflow}{not} \textcolor{keywordflow}{in} self.\_node\_to\_prop[id]:
370                 self.set\_prop(id, prop, 0)
371             \textcolor{keywordflow}{if} \hyperlink{namespaceparlai_1_1agents_1_1tfidf__retriever_1_1build__tfidf_ad5dfae268e23f506da084a9efb72f619}{type}(self.\_node\_to\_prop[id][prop]) != int:
372                 self.set\_prop(id, prop, 0)
373             self.\_node\_to\_prop[id][prop] += val
374 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a118d4ed2c9eb72184ed3940f6173bc04}\label{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a118d4ed2c9eb72184ed3940f6173bc04}} 
\index{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}!ingest@{ingest}}
\index{ingest@{ingest}!projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}}
\subsubsection{\texorpdfstring{ingest()}{ingest()}}
{\footnotesize\ttfamily def projects.\+mastering\+\_\+the\+\_\+dungeon.\+tasks.\+graph\+\_\+world2.\+graph.\+Graph.\+ingest (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{agent\+\_\+id,  }\item[{}]{cmd,  }\item[{}]{thing }\end{DoxyParamCaption})}



Definition at line 800 of file graph.\+py.


\begin{DoxyCode}
800     \textcolor{keyword}{def }ingest(self, agent\_id, cmd, thing):
801         \textcolor{keywordflow}{if} cmd == \textcolor{stringliteral}{'eat'}:
802             thing\_id = self.desc\_to\_node(
803                 thing, nearbyid=agent\_id, nearbytype=\textcolor{stringliteral}{'carrying'}, should\_have=[\textcolor{stringliteral}{'food'}]
804             )
805         \textcolor{keywordflow}{else}:
806             thing\_id = self.desc\_to\_node(
807                 thing, nearbyid=agent\_id, nearbytype=\textcolor{stringliteral}{'carrying'}, should\_have=[\textcolor{stringliteral}{'drink'}]
808             )
809         \textcolor{keywordflow}{if} thing\_id \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
810             self.send\_msg(agent\_id, \textcolor{stringliteral}{"You do not have that.\(\backslash\)n"})
811             \textcolor{keywordflow}{return} \textcolor{keyword}{False}
812         \textcolor{keywordflow}{if} thing\_id == \textcolor{keyword}{False}:
813             \textcolor{keywordflow}{if} cmd == \textcolor{stringliteral}{'eat'}:
814                 self.send\_msg(agent\_id, \textcolor{stringliteral}{"You can't eat that.\(\backslash\)n"})
815             \textcolor{keywordflow}{else}:
816                 self.send\_msg(agent\_id, \textcolor{stringliteral}{"You can't drink that.\(\backslash\)n"})
817             \textcolor{keywordflow}{return} \textcolor{keyword}{False}
818         self.delete\_node(thing\_id)
819         self.send\_msg(agent\_id, \textcolor{stringliteral}{"Yum.\(\backslash\)n"})
820         energy = self.has\_prop(agent\_id, \textcolor{stringliteral}{'health'})
821         \textcolor{keywordflow}{if} energy == \textcolor{keyword}{False}:
822             energy = INIT\_HEALTH
823         \textcolor{keywordflow}{if} energy < 8:
824             energy = energy + 1
825         self.set\_prop(agent\_id, \textcolor{stringliteral}{'health'}, energy)
826         \textcolor{keywordflow}{return} \textcolor{keyword}{True}
827 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a3f929c89e9ca47b66c8851490a518f5e}\label{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a3f929c89e9ca47b66c8851490a518f5e}} 
\index{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}!inventory@{inventory}}
\index{inventory@{inventory}!projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}}
\subsubsection{\texorpdfstring{inventory()}{inventory()}}
{\footnotesize\ttfamily def projects.\+mastering\+\_\+the\+\_\+dungeon.\+tasks.\+graph\+\_\+world2.\+graph.\+Graph.\+inventory (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{id,  }\item[{}]{id2 = {\ttfamily None} }\end{DoxyParamCaption})}



Definition at line 1068 of file graph.\+py.


\begin{DoxyCode}
1068     \textcolor{keyword}{def }inventory(self, id, id2=None):
1069         s = \textcolor{stringliteral}{''}
1070         carry\_ids = []
1071         wear\_ids = []
1072         wield\_ids = []
1073         \textcolor{keywordflow}{for} o \textcolor{keywordflow}{in} self.node\_contains(id):
1074             \textcolor{keywordflow}{if} self.has\_prop(o, \textcolor{stringliteral}{'wearing'}):
1075                 wear\_ids.append(o)
1076             \textcolor{keywordflow}{elif} self.has\_prop(o, \textcolor{stringliteral}{'wielding'}):
1077                 wield\_ids.append(o)
1078             \textcolor{keywordflow}{else}:
1079                 carry\_ids.append(o)
1080         \textcolor{keywordflow}{if} id2 \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}:
1081             thing\_desc = self.node\_to\_desc(id, use\_the=\textcolor{keyword}{True}).capitalize() + \textcolor{stringliteral}{' is'}
1082         \textcolor{keywordflow}{else}:
1083             thing\_desc = \textcolor{stringliteral}{'You are'}
1084         \textcolor{keywordflow}{if} len(carry\_ids) == 0:
1085             s += thing\_desc + \textcolor{stringliteral}{' carrying nothing.\(\backslash\)n'}
1086         \textcolor{keywordflow}{else}:
1087             s += thing\_desc + \textcolor{stringliteral}{' carrying '} + self.display\_node\_list(carry\_ids) + \textcolor{stringliteral}{'.\(\backslash\)n'}
1088         \textcolor{keywordflow}{if} len(wear\_ids) > 0:
1089             s += thing\_desc + \textcolor{stringliteral}{' wearing '} + self.display\_node\_list(wear\_ids) + \textcolor{stringliteral}{'.\(\backslash\)n'}
1090         \textcolor{keywordflow}{if} len(wield\_ids) > 0:
1091             s += thing\_desc + \textcolor{stringliteral}{' wielding '} + self.display\_node\_list(wield\_ids) + \textcolor{stringliteral}{'.\(\backslash\)n'}
1092         \textcolor{keywordflow}{return} s
1093 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a1c511b9aad3724f2fc299e152b93b6ba}\label{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a1c511b9aad3724f2fc299e152b93b6ba}} 
\index{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}!is\+\_\+path\+\_\+to@{is\+\_\+path\+\_\+to}}
\index{is\+\_\+path\+\_\+to@{is\+\_\+path\+\_\+to}!projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}}
\subsubsection{\texorpdfstring{is\+\_\+path\+\_\+to()}{is\_path\_to()}}
{\footnotesize\ttfamily def projects.\+mastering\+\_\+the\+\_\+dungeon.\+tasks.\+graph\+\_\+world2.\+graph.\+Graph.\+is\+\_\+path\+\_\+to (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{id1,  }\item[{}]{id2 }\end{DoxyParamCaption})}



Definition at line 309 of file graph.\+py.


\begin{DoxyCode}
309     \textcolor{keyword}{def }is\_path\_to(self, id1, id2):
310         rooms = self.\_node\_to\_edges[id1]
311         rooms = [r[1] \textcolor{keywordflow}{for} r \textcolor{keywordflow}{in} rooms \textcolor{keywordflow}{if} r[0] == \textcolor{stringliteral}{'path\_to'} \textcolor{keywordflow}{and} r[1] == id2]
312         \textcolor{keywordflow}{if} len(rooms) == 1:
313             \textcolor{keywordflow}{return} \textcolor{keyword}{True}
314         \textcolor{keywordflow}{else}:
315             \textcolor{keywordflow}{return} \textcolor{keyword}{False}
316 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a95dd7298b5df701a35be0a65552483f3}\label{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a95dd7298b5df701a35be0a65552483f3}} 
\index{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}!load\+\_\+graph@{load\+\_\+graph}}
\index{load\+\_\+graph@{load\+\_\+graph}!projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}}
\subsubsection{\texorpdfstring{load\+\_\+graph()}{load\_graph()}}
{\footnotesize\ttfamily def projects.\+mastering\+\_\+the\+\_\+dungeon.\+tasks.\+graph\+\_\+world2.\+graph.\+Graph.\+load\+\_\+graph (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{fname }\end{DoxyParamCaption})}



Definition at line 141 of file graph.\+py.


\begin{DoxyCode}
141     \textcolor{keyword}{def }load\_graph(self, fname):
142         \textcolor{keywordflow}{if} fname != \textcolor{stringliteral}{''}:
143             path = os.path.join(self.\_opt[\textcolor{stringliteral}{'datapath'}], \textcolor{stringliteral}{'graph\_world2'})
144             fname = path + \textcolor{stringliteral}{'/'} + fname + \textcolor{stringliteral}{'.gw2'}
145         \textcolor{keywordflow}{else}:
146             fname = self.\_save\_fname
147         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} os.path.isfile(fname):
148             print(\textcolor{stringliteral}{"[graph file not found: "} + fname + \textcolor{stringliteral}{']'})
149             \textcolor{keywordflow}{return}
150         print(\textcolor{stringliteral}{"[loading graph: "} + fname + \textcolor{stringliteral}{']'})
151         members = [
152             attr
153             \textcolor{keywordflow}{for} attr \textcolor{keywordflow}{in} dir(self)
154             \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} callable(getattr(self, attr))
155             \textcolor{keywordflow}{and} (\textcolor{keywordflow}{not} attr.startswith(\textcolor{stringliteral}{"\_\_"}))
156             \textcolor{keywordflow}{and} (attr.startswith(\textcolor{stringliteral}{"\_"}))
157         ]
158         with open(fname, \textcolor{stringliteral}{'rb'}) \textcolor{keyword}{as} read:
159             model = torch.load(read)
160         \textcolor{keywordflow}{for} m \textcolor{keywordflow}{in} members:
161             \textcolor{keywordflow}{if} m \textcolor{keywordflow}{in} model:
162                 setattr(self, m, model[m])
163             \textcolor{keywordflow}{else}:
164                 print(\textcolor{stringliteral}{"[ loading: "} + m + \textcolor{stringliteral}{" is missing in file ]"})
165         self.\_save\_fname = fname
166 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a1a74b132da5047b1312ac2887b2aa4ae}\label{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a1a74b132da5047b1312ac2887b2aa4ae}} 
\index{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}!location@{location}}
\index{location@{location}!projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}}
\subsubsection{\texorpdfstring{location()}{location()}}
{\footnotesize\ttfamily def projects.\+mastering\+\_\+the\+\_\+dungeon.\+tasks.\+graph\+\_\+world2.\+graph.\+Graph.\+location (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{thing }\end{DoxyParamCaption})}



Definition at line 380 of file graph.\+py.


\begin{DoxyCode}
380     \textcolor{keyword}{def }location(self, thing):
381         \textcolor{keywordflow}{return} self.\_node\_contained\_in[thing]
382 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a2a896bf212e0f87f0c5765d2cc249617}\label{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a2a896bf212e0f87f0c5765d2cc249617}} 
\index{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}!look@{look}}
\index{look@{look}!projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}}
\subsubsection{\texorpdfstring{look()}{look()}}
{\footnotesize\ttfamily def projects.\+mastering\+\_\+the\+\_\+dungeon.\+tasks.\+graph\+\_\+world2.\+graph.\+Graph.\+look (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{id }\end{DoxyParamCaption})}



Definition at line 1113 of file graph.\+py.


\begin{DoxyCode}
1113     \textcolor{keyword}{def }look(self, id):
1114         room = self.location(id)
1115         s = \textcolor{stringliteral}{'You are in \{\}.\(\backslash\)n'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(self.node\_to\_desc(room))
1116         s += self.display\_room\_agents(id, room)
1117         s += self.display\_room\_objects(room)
1118         s += self.display\_room\_edges(room)
1119         \textcolor{keywordflow}{return} s
1120 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_acf7515b326c420223c184330ae8dbff4}\label{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_acf7515b326c420223c184330ae8dbff4}} 
\index{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}!messages\+\_\+in\+\_\+same\+\_\+room\+\_\+as@{messages\+\_\+in\+\_\+same\+\_\+room\+\_\+as}}
\index{messages\+\_\+in\+\_\+same\+\_\+room\+\_\+as@{messages\+\_\+in\+\_\+same\+\_\+room\+\_\+as}!projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}}
\subsubsection{\texorpdfstring{messages\+\_\+in\+\_\+same\+\_\+room\+\_\+as()}{messages\_in\_same\_room\_as()}}
{\footnotesize\ttfamily def projects.\+mastering\+\_\+the\+\_\+dungeon.\+tasks.\+graph\+\_\+world2.\+graph.\+Graph.\+messages\+\_\+in\+\_\+same\+\_\+room\+\_\+as (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{agent,  }\item[{}]{txt }\end{DoxyParamCaption})}



Definition at line 349 of file graph.\+py.


\begin{DoxyCode}
349     \textcolor{keyword}{def }messages\_in\_same\_room\_as(self, agent, txt):
350         room = self.\_node\_contained\_in[agent]
351         agents = self.\_node\_contains[room]
352         agents = [a \textcolor{keywordflow}{for} a \textcolor{keywordflow}{in} agents \textcolor{keywordflow}{if} self.has\_prop(a, \textcolor{stringliteral}{'agent'}) \textcolor{keywordflow}{and} a != agent]
353         \textcolor{keywordflow}{if} len(agents) > 0:
354             \textcolor{keywordflow}{for} a \textcolor{keywordflow}{in} agents:
355                 self.send\_msg(a, txt)
356 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a22747eb7801d7fabd0af3400410ae83d}\label{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a22747eb7801d7fabd0af3400410ae83d}} 
\index{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}!move\+\_\+agent@{move\+\_\+agent}}
\index{move\+\_\+agent@{move\+\_\+agent}!projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}}
\subsubsection{\texorpdfstring{move\+\_\+agent()}{move\_agent()}}
{\footnotesize\ttfamily def projects.\+mastering\+\_\+the\+\_\+dungeon.\+tasks.\+graph\+\_\+world2.\+graph.\+Graph.\+move\+\_\+agent (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{agent\+\_\+id,  }\item[{}]{to\+\_\+txt = {\ttfamily None},  }\item[{}]{to\+\_\+id = {\ttfamily None} }\end{DoxyParamCaption})}



Definition at line 414 of file graph.\+py.


\begin{DoxyCode}
414     \textcolor{keyword}{def }move\_agent(self, agent\_id, to\_txt=None, to\_id=None):
415         \textcolor{keywordflow}{if} to\_id \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
416             to\_id = self.desc\_to\_node(
417                 to\_txt, nearbyid=agent\_id, nearbytype=\textcolor{stringliteral}{'path'}, should\_have=[\textcolor{stringliteral}{'room'}]
418             )
419             \textcolor{keywordflow}{if} to\_id \textcolor{keywordflow}{is} \textcolor{keywordtype}{None} \textcolor{keywordflow}{or} to\_id == \textcolor{keyword}{False}:
420                 \textcolor{keywordflow}{return} \textcolor{keyword}{False}
421         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} self.valid(agent\_id, \textcolor{stringliteral}{'agent'}):
422             \textcolor{keywordflow}{return} \textcolor{keyword}{False}
423         \textcolor{comment}{# if not self.valid(to\_id, 'room'): return False}
424         from\_id = self.location(agent\_id)
425         to\_desc = self.node\_to\_desc(to\_id)
426         from\_desc = self.node\_to\_desc(from\_id)
427         \textcolor{keywordflow}{if} self.is\_path\_to(from\_id, to\_id):
428             agent\_desc = self.node\_to\_desc(agent\_id, use\_the=\textcolor{keyword}{True}).capitalize()
429             self.messages\_in\_same\_room\_as(
430                 agent\_id, agent\_desc + \textcolor{stringliteral}{' leaves towards '} + to\_desc + \textcolor{stringliteral}{'.\(\backslash\)n'}
431             )
432             self.add\_contained\_in(agent\_id, to\_id)
433             agent\_desc = self.node\_to\_desc(agent\_id).capitalize()
434             self.messages\_in\_same\_room\_as(
435                 agent\_id, agent\_desc + \textcolor{stringliteral}{' enters from '} + from\_desc + \textcolor{stringliteral}{'.\(\backslash\)n'}
436             )
437             self.send\_msg(agent\_id, self.look(agent\_id))
438         \textcolor{keywordflow}{else}:
439             \textcolor{keywordflow}{return} \textcolor{keyword}{False}
440         \textcolor{keywordflow}{if} agent\_id \textcolor{keywordflow}{in} self.\_node\_followed\_by:
441             \textcolor{keywordflow}{for} ppl \textcolor{keywordflow}{in} self.\_node\_followed\_by[agent\_id]:
442                 room2 = self.location(ppl)
443                 \textcolor{keywordflow}{if} from\_id == room2:
444                     self.send\_msg(ppl, \textcolor{stringliteral}{'You follow. '})
445                     self.move\_agent(ppl, to\_id=to\_id)
446         \textcolor{keywordflow}{return} \textcolor{keyword}{True}
447 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a201d7b1a9a28cc8f3790f88eb3b7479a}\label{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a201d7b1a9a28cc8f3790f88eb3b7479a}} 
\index{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}!new\+\_\+agent@{new\+\_\+agent}}
\index{new\+\_\+agent@{new\+\_\+agent}!projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}}
\subsubsection{\texorpdfstring{new\+\_\+agent()}{new\_agent()}}
{\footnotesize\ttfamily def projects.\+mastering\+\_\+the\+\_\+dungeon.\+tasks.\+graph\+\_\+world2.\+graph.\+Graph.\+new\+\_\+agent (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{id }\end{DoxyParamCaption})}



Definition at line 93 of file graph.\+py.


\begin{DoxyCode}
93     \textcolor{keyword}{def }new\_agent(self, id):
94         self.\_node\_to\_text\_buffer[id] = \textcolor{stringliteral}{''}  \textcolor{comment}{# clear buffer}
95 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_aa0a6449c5a865e9b47d3f367aeb859ff}\label{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_aa0a6449c5a865e9b47d3f367aeb859ff}} 
\index{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}!node\+\_\+contained\+\_\+in@{node\+\_\+contained\+\_\+in}}
\index{node\+\_\+contained\+\_\+in@{node\+\_\+contained\+\_\+in}!projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}}
\subsubsection{\texorpdfstring{node\+\_\+contained\+\_\+in()}{node\_contained\_in()}}
{\footnotesize\ttfamily def projects.\+mastering\+\_\+the\+\_\+dungeon.\+tasks.\+graph\+\_\+world2.\+graph.\+Graph.\+node\+\_\+contained\+\_\+in (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{id }\end{DoxyParamCaption})}



Definition at line 325 of file graph.\+py.


\begin{DoxyCode}
325     \textcolor{keyword}{def }node\_contained\_in(self, id):
326         \textcolor{keywordflow}{return} self.\_node\_contained\_in[id]
327 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_aab5ee706618d10e1936d78943a0431cc}\label{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_aab5ee706618d10e1936d78943a0431cc}} 
\index{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}!node\+\_\+contains@{node\+\_\+contains}}
\index{node\+\_\+contains@{node\+\_\+contains}!projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}}
\subsubsection{\texorpdfstring{node\+\_\+contains()}{node\_contains()}}
{\footnotesize\ttfamily def projects.\+mastering\+\_\+the\+\_\+dungeon.\+tasks.\+graph\+\_\+world2.\+graph.\+Graph.\+node\+\_\+contains (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{loc }\end{DoxyParamCaption})}



Definition at line 389 of file graph.\+py.


\begin{DoxyCode}
389     \textcolor{keyword}{def }node\_contains(self, loc):
390         \textcolor{keywordflow}{if} loc \textcolor{keywordflow}{in} self.\_node\_contains:
391             \textcolor{keywordflow}{return} self.\_node\_contains[loc]
392         \textcolor{keywordflow}{else}:
393             \textcolor{keywordflow}{return} set()
394 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a08a8809ac13068275e9d3aea5e6f9627}\label{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a08a8809ac13068275e9d3aea5e6f9627}} 
\index{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}!node\+\_\+exists@{node\+\_\+exists}}
\index{node\+\_\+exists@{node\+\_\+exists}!projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}}
\subsubsection{\texorpdfstring{node\+\_\+exists()}{node\_exists()}}
{\footnotesize\ttfamily def projects.\+mastering\+\_\+the\+\_\+dungeon.\+tasks.\+graph\+\_\+world2.\+graph.\+Graph.\+node\+\_\+exists (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{id }\end{DoxyParamCaption})}



Definition at line 269 of file graph.\+py.


\begin{DoxyCode}
269     \textcolor{keyword}{def }node\_exists(self, id):
270         \textcolor{keywordflow}{return} id \textcolor{keywordflow}{in} self.\_node\_contained\_in
271 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a81d2f214566e08e4ddc4414c4284fbe4}\label{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a81d2f214566e08e4ddc4414c4284fbe4}} 
\index{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}!node\+\_\+path\+\_\+to@{node\+\_\+path\+\_\+to}}
\index{node\+\_\+path\+\_\+to@{node\+\_\+path\+\_\+to}!projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}}
\subsubsection{\texorpdfstring{node\+\_\+path\+\_\+to()}{node\_path\_to()}}
{\footnotesize\ttfamily def projects.\+mastering\+\_\+the\+\_\+dungeon.\+tasks.\+graph\+\_\+world2.\+graph.\+Graph.\+node\+\_\+path\+\_\+to (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{id }\end{DoxyParamCaption})}



Definition at line 172 of file graph.\+py.


\begin{DoxyCode}
172     \textcolor{keyword}{def }node\_path\_to(self, id):
173         rooms = self.\_node\_to\_edges[id]
174         rooms = [r[1] \textcolor{keywordflow}{for} r \textcolor{keywordflow}{in} rooms \textcolor{keywordflow}{if} r[0] == \textcolor{stringliteral}{'path\_to'}]
175         \textcolor{keywordflow}{return} rooms
176 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a6e3ed011d27b7469311a3f0c43ef9ae7}\label{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a6e3ed011d27b7469311a3f0c43ef9ae7}} 
\index{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}!node\+\_\+to\+\_\+desc@{node\+\_\+to\+\_\+desc}}
\index{node\+\_\+to\+\_\+desc@{node\+\_\+to\+\_\+desc}!projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}}
\subsubsection{\texorpdfstring{node\+\_\+to\+\_\+desc()}{node\_to\_desc()}}
{\footnotesize\ttfamily def projects.\+mastering\+\_\+the\+\_\+dungeon.\+tasks.\+graph\+\_\+world2.\+graph.\+Graph.\+node\+\_\+to\+\_\+desc (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{id,  }\item[{}]{use\+\_\+the = {\ttfamily False} }\end{DoxyParamCaption})}



Definition at line 278 of file graph.\+py.


\begin{DoxyCode}
278     \textcolor{keyword}{def }node\_to\_desc(self, id, use\_the=False):
279         \textcolor{keywordflow}{if} id \textcolor{keywordflow}{in} self.\_node\_to\_desc:
280             ent = self.\_node\_to\_desc[id]
281             \textcolor{keywordflow}{if} self.has\_prop(id, \textcolor{stringliteral}{'dead'}):
282                 ent = \textcolor{stringliteral}{'dead '} + ent
283             \textcolor{keywordflow}{if} self.has\_prop(id, \textcolor{stringliteral}{'agent'}) \textcolor{keywordflow}{or} self.has\_prop(id, \textcolor{stringliteral}{'object'}):
284                 \textcolor{keywordflow}{if} use\_the:
285                     ent = \textcolor{stringliteral}{'the '} + ent
286                 \textcolor{keywordflow}{else}:
287                     ent = (
288                         \textcolor{stringliteral}{'an '} + ent
289                         \textcolor{keywordflow}{if} ent[0] \textcolor{keywordflow}{in} [\textcolor{stringliteral}{'a'}, \textcolor{stringliteral}{'e'}, \textcolor{stringliteral}{'i'}, \textcolor{stringliteral}{'o'}, \textcolor{stringliteral}{'u']}
290 \textcolor{stringliteral}{                        }\textcolor{keywordflow}{else} \textcolor{stringliteral}{'a '} + ent
291                     )
292             \textcolor{keywordflow}{elif} self.has\_prop(id, \textcolor{stringliteral}{'room'}):
293                 ent = \textcolor{stringliteral}{'the '} + ent
294             \textcolor{keywordflow}{return} ent
295         \textcolor{keywordflow}{else}:
296             \textcolor{keywordflow}{return} id
297 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a79b5f4581006441d287386e8548a92fe}\label{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a79b5f4581006441d287386e8548a92fe}} 
\index{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}!node\+\_\+to\+\_\+desc\+\_\+raw@{node\+\_\+to\+\_\+desc\+\_\+raw}}
\index{node\+\_\+to\+\_\+desc\+\_\+raw@{node\+\_\+to\+\_\+desc\+\_\+raw}!projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}}
\subsubsection{\texorpdfstring{node\+\_\+to\+\_\+desc\+\_\+raw()}{node\_to\_desc\_raw()}}
{\footnotesize\ttfamily def projects.\+mastering\+\_\+the\+\_\+dungeon.\+tasks.\+graph\+\_\+world2.\+graph.\+Graph.\+node\+\_\+to\+\_\+desc\+\_\+raw (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{id }\end{DoxyParamCaption})}



Definition at line 275 of file graph.\+py.


\begin{DoxyCode}
275     \textcolor{keyword}{def }node\_to\_desc\_raw(self, id):
276         \textcolor{keywordflow}{return} self.\_node\_to\_desc[id]
277 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a965691173de36efdc59238a2cd5ab8d7}\label{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a965691173de36efdc59238a2cd5ab8d7}} 
\index{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}!parse@{parse}}
\index{parse@{parse}!projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}}
\subsubsection{\texorpdfstring{parse()}{parse()}}
{\footnotesize\ttfamily def projects.\+mastering\+\_\+the\+\_\+dungeon.\+tasks.\+graph\+\_\+world2.\+graph.\+Graph.\+parse (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{inst }\end{DoxyParamCaption})}



Definition at line 1281 of file graph.\+py.


\begin{DoxyCode}
1281     \textcolor{keyword}{def }parse(self, inst):
1282         \textcolor{keywordflow}{return} Graph.parse\_static(inst)
1283 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_afdbdcd09ae2a8b3d66cf70fabfbdf86f}\label{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_afdbdcd09ae2a8b3d66cf70fabfbdf86f}} 
\index{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}!parse\+\_\+exec@{parse\+\_\+exec}}
\index{parse\+\_\+exec@{parse\+\_\+exec}!projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}}
\subsubsection{\texorpdfstring{parse\+\_\+exec()}{parse\_exec()}}
{\footnotesize\ttfamily def projects.\+mastering\+\_\+the\+\_\+dungeon.\+tasks.\+graph\+\_\+world2.\+graph.\+Graph.\+parse\+\_\+exec (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{agentid,  }\item[{}]{inst = {\ttfamily None} }\end{DoxyParamCaption})}

\begin{DoxyVerb}ATTENTION: even if one of the actions is invalid, all actions before that will still be executed (the world state will be changed)!\end{DoxyVerb}
 

Definition at line 1284 of file graph.\+py.


\begin{DoxyCode}
1284     \textcolor{keyword}{def }parse\_exec(self, agentid, inst=None):
1285         \textcolor{stringliteral}{"""ATTENTION: even if one of the actions is invalid, all actions before that will still be executed
       (the world state will be changed)!"""}
1286         \textcolor{keywordflow}{if} inst \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
1287             inst = agentid
1288             agentid = \textcolor{stringliteral}{'dragon'}
1289 
1290         \textcolor{keywordflow}{if} self.has\_prop(agentid, \textcolor{stringliteral}{'dead'}):
1291             self.send\_msg(agentid, \textcolor{stringliteral}{"You are dead, you can't do anything, sorry."})
1292             \textcolor{keywordflow}{return} \textcolor{keyword}{True}
1293         inst, symb\_points = self.parse(inst)
1294         \textcolor{keywordflow}{if} len(inst) == 1 \textcolor{keywordflow}{and} (
1295             inst[0] == \textcolor{stringliteral}{'a'} \textcolor{keywordflow}{or} inst[0] == \textcolor{stringliteral}{'actions'} \textcolor{keywordflow}{or} inst[0] == \textcolor{stringliteral}{'hints'}
1296         ):
1297             self.send\_msg(
1298                 agentid,
1299                 \textcolor{stringliteral}{'\(\backslash\)n'}.join(sorted(self.get\_possible\_actions()))
1300                 + \textcolor{stringliteral}{'\(\backslash\)ninventory\(\backslash\)nlook\(\backslash\)nexamine <object>\(\backslash\)n'},
1301             )
1302             \textcolor{keywordflow}{return} \textcolor{keyword}{True}
1303         \textcolor{keywordflow}{if} len(inst) == 1 \textcolor{keywordflow}{and} (
1304             inst[0] == \textcolor{stringliteral}{'i'} \textcolor{keywordflow}{or} inst[0] == \textcolor{stringliteral}{'inv'} \textcolor{keywordflow}{or} inst[0] == \textcolor{stringliteral}{'inventory'}
1305         ):
1306             self.send\_msg(agentid, self.inventory(agentid))
1307             \textcolor{keywordflow}{return} \textcolor{keyword}{True}
1308         \textcolor{keywordflow}{if} len(inst) == 1 \textcolor{keywordflow}{and} (inst[0] == \textcolor{stringliteral}{'health'} \textcolor{keywordflow}{or} inst[0] == \textcolor{stringliteral}{'status'}):
1309             self.send\_msg(agentid, \textcolor{stringliteral}{'You are feeling '} + self.health(agentid) + \textcolor{stringliteral}{'.\(\backslash\)n'})
1310             \textcolor{keywordflow}{return} \textcolor{keyword}{True}
1311         \textcolor{keywordflow}{if} len(inst) == 1 \textcolor{keywordflow}{and} (inst[0] == \textcolor{stringliteral}{'look'} \textcolor{keywordflow}{or} inst[0] == \textcolor{stringliteral}{'l'}):
1312             self.send\_msg(agentid, self.look(agentid))
1313             \textcolor{keywordflow}{return} \textcolor{keyword}{True}
1314         \textcolor{keywordflow}{if} len(inst) == 1 \textcolor{keywordflow}{and} (inst[0] == \textcolor{stringliteral}{'wait'} \textcolor{keywordflow}{or} inst[0] == \textcolor{stringliteral}{'w'}):
1315             self.send\_msg(agentid, \textcolor{stringliteral}{'You wait. '})
1316             \textcolor{keywordflow}{return} \textcolor{keyword}{True}
1317         \textcolor{keywordflow}{if} len(inst) == 1 \textcolor{keywordflow}{and} (inst[0] == \textcolor{stringliteral}{'help'}):
1318             self.send\_msg(agentid, self.help())
1319             \textcolor{keywordflow}{return} \textcolor{keyword}{True}
1320         \textcolor{keywordflow}{if} len(symb\_points) <= 1 \textcolor{keywordflow}{or} symb\_points[0] != 0:
1321             \textcolor{keywordflow}{return} \textcolor{keyword}{False}
1322         \textcolor{keywordflow}{for} i \textcolor{keywordflow}{in} range(len(symb\_points) - 1):
1323             j, k = symb\_points[i], symb\_points[i + 1]
1324             params = inst[j + 1 : k]
1325             \textcolor{keywordflow}{if} inst[j] == \textcolor{stringliteral}{'go'}:
1326                 room\_name = \textcolor{stringliteral}{' '}.join(inst[j + 1 : k])
1327                 \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} self.move\_agent(agentid, room\_name):
1328                     \textcolor{keywordflow}{return} \textcolor{keyword}{False}
1329             \textcolor{keywordflow}{elif} inst[j] == \textcolor{stringliteral}{'eat'} \textcolor{keywordflow}{or} inst[j] == \textcolor{stringliteral}{'drink'}:
1330                 thing = \textcolor{stringliteral}{' '}.join(inst[j + 1 : k])
1331                 \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} self.ingest(agentid, inst[j], thing):
1332                     \textcolor{keywordflow}{return} \textcolor{keyword}{False}
1333             \textcolor{keywordflow}{elif} inst[j] == \textcolor{stringliteral}{'wear'}:
1334                 thing = \textcolor{stringliteral}{' '}.join(inst[j + 1 : k])
1335                 \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} self.wear(agentid, thing):
1336                     \textcolor{keywordflow}{return} \textcolor{keyword}{False}
1337             \textcolor{keywordflow}{elif} inst[j] == \textcolor{stringliteral}{'wield'}:
1338                 thing = \textcolor{stringliteral}{' '}.join(inst[j + 1 : k])
1339                 \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} self.wield(agentid, thing):
1340                     \textcolor{keywordflow}{return} \textcolor{keyword}{False}
1341             \textcolor{keywordflow}{elif} inst[j] == \textcolor{stringliteral}{'remove'} \textcolor{keywordflow}{or} inst[j] == \textcolor{stringliteral}{'unwield'}:
1342                 thing = \textcolor{stringliteral}{' '}.join(inst[j + 1 : k])
1343                 \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} self.remove(agentid, thing):
1344                     \textcolor{keywordflow}{return} \textcolor{keyword}{False}
1345             \textcolor{keywordflow}{elif} inst[j] == \textcolor{stringliteral}{'put'}:
1346                 params = self.split\_params(params, \textcolor{stringliteral}{'in'})
1347                 \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} self.put(agentid, params):
1348                     \textcolor{keywordflow}{return} \textcolor{keyword}{False}
1349             \textcolor{keywordflow}{elif} inst[j] == \textcolor{stringliteral}{'create'} \textcolor{keywordflow}{or} inst[j] == \textcolor{stringliteral}{'c'}:
1350                 \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} self.create(agentid, params):
1351                     \textcolor{keywordflow}{return} \textcolor{keyword}{False}
1352             \textcolor{keywordflow}{elif} inst[j] == \textcolor{stringliteral}{'get'}:
1353                 \textcolor{keywordflow}{if} \textcolor{stringliteral}{'from'} \textcolor{keywordflow}{in} inst[j + 1 : k]:
1354                     \textcolor{comment}{# get X from Y}
1355                     params = self.split\_params(params, \textcolor{stringliteral}{'from'})
1356                     \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} self.get\_from(agentid, params):
1357                         \textcolor{keywordflow}{return} \textcolor{keyword}{False}
1358                 \textcolor{keywordflow}{else}:
1359                     \textcolor{comment}{# get from loc}
1360                     object\_name = \textcolor{stringliteral}{' '}.join(inst[j + 1 : k])
1361                     \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} self.get\_object(agentid, object\_name):
1362                         \textcolor{keywordflow}{return} \textcolor{keyword}{False}
1363             \textcolor{keywordflow}{elif} inst[j] == \textcolor{stringliteral}{'drop'}:
1364                 object\_name = \textcolor{stringliteral}{' '}.join(inst[j + 1 : k])
1365                 \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} self.drop\_object(agentid, object\_name):
1366                     \textcolor{keywordflow}{return} \textcolor{keyword}{False}
1367             \textcolor{keywordflow}{elif} inst[j] == \textcolor{stringliteral}{'examine'} \textcolor{keywordflow}{or} inst[j] == \textcolor{stringliteral}{'ex'}:
1368                 thing = \textcolor{stringliteral}{' '}.join(inst[j + 1 : k])
1369                 \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} self.examine(agentid, thing):
1370                     \textcolor{keywordflow}{return} \textcolor{keyword}{False}
1371             \textcolor{keywordflow}{elif} inst[j] == \textcolor{stringliteral}{'hit'}:
1372                 victim = \textcolor{stringliteral}{' '}.join(inst[j + 1 : k])
1373                 \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} self.hit\_agent(agentid, victim):
1374                     \textcolor{keywordflow}{return} \textcolor{keyword}{False}
1375             \textcolor{keywordflow}{elif} inst[j] == \textcolor{stringliteral}{'give'}:
1376                 params = self.split\_params(params, \textcolor{stringliteral}{'to'})
1377                 \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} self.give(agentid, params):
1378                     \textcolor{keywordflow}{return} \textcolor{keyword}{False}
1379             \textcolor{keywordflow}{elif} inst[j] == \textcolor{stringliteral}{'take'}:
1380                 params = self.split\_params(params, \textcolor{stringliteral}{'from'})
1381                 \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} self.take(agentid, params):
1382                     \textcolor{keywordflow}{return} \textcolor{keyword}{False}
1383             \textcolor{keywordflow}{elif} inst[j] == \textcolor{stringliteral}{'follow'}:
1384                 \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} self.follow(agentid, params):
1385                     \textcolor{keywordflow}{return} \textcolor{keyword}{False}
1386             \textcolor{keywordflow}{else}:
1387                 \textcolor{keywordflow}{return} \textcolor{keyword}{False}
1388                 \textcolor{comment}{# assert False}
1389         \textcolor{keywordflow}{return} \textcolor{keyword}{True}
1390 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a81ec4b7a30f8a6eaa6ed1e72da629299}\label{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a81ec4b7a30f8a6eaa6ed1e72da629299}} 
\index{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}!parse\+\_\+static@{parse\+\_\+static}}
\index{parse\+\_\+static@{parse\+\_\+static}!projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}}
\subsubsection{\texorpdfstring{parse\+\_\+static()}{parse\_static()}}
{\footnotesize\ttfamily def projects.\+mastering\+\_\+the\+\_\+dungeon.\+tasks.\+graph\+\_\+world2.\+graph.\+Graph.\+parse\+\_\+static (\begin{DoxyParamCaption}\item[{}]{inst }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 1226 of file graph.\+py.


\begin{DoxyCode}
1226     \textcolor{keyword}{def }parse\_static(inst):
1227         inst = inst.lower().strip().split()
1228         symb\_points = []
1229         \textcolor{keywordflow}{for} i, symb \textcolor{keywordflow}{in} enumerate(inst):
1230             \textcolor{keywordflow}{if} symb \textcolor{keywordflow}{in} [
1231                 \textcolor{stringliteral}{'go'},
1232                 \textcolor{stringliteral}{'get'},
1233                 \textcolor{stringliteral}{'drop'},
1234                 \textcolor{stringliteral}{'hit'},
1235                 \textcolor{stringliteral}{'examine'},
1236                 \textcolor{stringliteral}{'ex'},
1237                 \textcolor{stringliteral}{'give'},
1238                 \textcolor{stringliteral}{'take'},
1239                 \textcolor{stringliteral}{'follow'},
1240                 \textcolor{stringliteral}{'put'},
1241                 \textcolor{stringliteral}{'create'},
1242                 \textcolor{stringliteral}{'c'},
1243                 \textcolor{stringliteral}{'eat'},
1244                 \textcolor{stringliteral}{'drink'},
1245                 \textcolor{stringliteral}{'wear'},
1246                 \textcolor{stringliteral}{'wield'},
1247                 \textcolor{stringliteral}{'unwield'},
1248                 \textcolor{stringliteral}{'remove'},
1249                 \textcolor{stringliteral}{'look'},
1250                 \textcolor{stringliteral}{'actions'},
1251                 \textcolor{stringliteral}{'hints'},
1252             ]:
1253                 symb\_points.append(i)
1254         symb\_points.append(len(inst))
1255         \textcolor{keywordflow}{return} inst, symb\_points
1256 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a574ecd8c8313952047c19dc910129460}\label{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a574ecd8c8313952047c19dc910129460}} 
\index{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}!put@{put}}
\index{put@{put}!projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}}
\subsubsection{\texorpdfstring{put()}{put()}}
{\footnotesize\ttfamily def projects.\+mastering\+\_\+the\+\_\+dungeon.\+tasks.\+graph\+\_\+world2.\+graph.\+Graph.\+put (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{agent\+\_\+id,  }\item[{}]{params }\end{DoxyParamCaption})}



Definition at line 521 of file graph.\+py.


\begin{DoxyCode}
521     \textcolor{keyword}{def }put(self, agent\_id, params):
522         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} self.valid(agent\_id, \textcolor{stringliteral}{'agent'}):
523             \textcolor{keywordflow}{return} \textcolor{keyword}{False}
524         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} len(params) == 2:
525             \textcolor{keywordflow}{return} \textcolor{keyword}{False}
526         obj\_id = self.desc\_to\_node(
527             params[0],
528             nearbyid=agent\_id,
529             nearbytype=\textcolor{stringliteral}{'carrying'},
530             should\_have=[\textcolor{stringliteral}{'object'}],
531             shouldnt\_have=[\textcolor{stringliteral}{'wearing'}, \textcolor{stringliteral}{'wielding'}],
532         )
533         \textcolor{keywordflow}{if} obj\_id \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
534             self.send\_msg(agent\_id, \textcolor{stringliteral}{'You do not have that.\(\backslash\)n'})
535             \textcolor{keywordflow}{return} \textcolor{keyword}{False}
536         \textcolor{keywordflow}{if} obj\_id == \textcolor{keyword}{False}:
537             self.send\_msg(
538                 agent\_id,
539                 \textcolor{stringliteral}{'You must unwield/remove it before putting it into containers.\(\backslash\)n'},
540             )
541             \textcolor{keywordflow}{return} \textcolor{keyword}{False}
542         receiver\_id = self.desc\_to\_node(
543             params[1], nearbyid=agent\_id, should\_have=[\textcolor{stringliteral}{'container'}]
544         )
545         \textcolor{keywordflow}{if} receiver\_id \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
546             self.send\_msg(agent\_id, \textcolor{stringliteral}{'That is not here.\(\backslash\)n'})
547             \textcolor{keywordflow}{return} \textcolor{keyword}{False}
548         \textcolor{keywordflow}{if} receiver\_id == \textcolor{keyword}{False}:
549             self.send\_msg(agent\_id, \textcolor{stringliteral}{'It is not a container.\(\backslash\)n'})
550             \textcolor{keywordflow}{return} \textcolor{keyword}{False}
551         self.add\_contained\_in(obj\_id, receiver\_id)
552         receiver\_desc = self.node\_to\_desc(receiver\_id, use\_the=\textcolor{keyword}{True})
553         self.send\_msg(
554             agent\_id,
555             \textcolor{stringliteral}{"You put "}
556             + self.display\_node\_list([obj\_id])
557             + \textcolor{stringliteral}{" in "}
558             + receiver\_desc
559             + \textcolor{stringliteral}{'.\(\backslash\)n'},
560         )
561         \textcolor{keywordflow}{return} \textcolor{keyword}{True}
562 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a0d81485443eb223640c8bd5bc158ae32}\label{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a0d81485443eb223640c8bd5bc158ae32}} 
\index{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}!remove@{remove}}
\index{remove@{remove}!projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}}
\subsubsection{\texorpdfstring{remove()}{remove()}}
{\footnotesize\ttfamily def projects.\+mastering\+\_\+the\+\_\+dungeon.\+tasks.\+graph\+\_\+world2.\+graph.\+Graph.\+remove (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{agent\+\_\+id,  }\item[{}]{thing }\end{DoxyParamCaption})}



Definition at line 776 of file graph.\+py.


\begin{DoxyCode}
776     \textcolor{keyword}{def }remove(self, agent\_id, thing):
777         thing\_id\_wear = self.desc\_to\_node(
778             thing, nearbyid=agent\_id, nearbytype=\textcolor{stringliteral}{'carrying'}, should\_have=[\textcolor{stringliteral}{'wearing'}]
779         )
780         thing\_id\_wield = self.desc\_to\_node(
781             thing, nearbyid=agent\_id, nearbytype=\textcolor{stringliteral}{'carrying'}, should\_have=[\textcolor{stringliteral}{'wielding'}]
782         )
783         thing\_id = thing\_id\_wear \textcolor{keywordflow}{or} thing\_id\_wield
784         \textcolor{keywordflow}{if} thing\_id \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
785             self.send\_msg(agent\_id, \textcolor{stringliteral}{"You do not have that.\(\backslash\)n"})
786             \textcolor{keywordflow}{return} \textcolor{keyword}{False}
787         \textcolor{keywordflow}{if} thing\_id == \textcolor{keyword}{False}:
788             self.send\_msg(agent\_id, \textcolor{stringliteral}{'You are not using that.\(\backslash\)n'})
789             \textcolor{keywordflow}{return} \textcolor{keyword}{False}
790         \textcolor{keywordflow}{if} self.has\_prop(thing\_id, \textcolor{stringliteral}{'wielding'}):
791             self.set\_prop(thing\_id, \textcolor{stringliteral}{'wielding'}, \textcolor{keywordtype}{None})
792             self.inc\_prop(agent\_id, \textcolor{stringliteral}{'weapon'}, -1)
793         \textcolor{keywordflow}{else}:
794             self.set\_prop(thing\_id, \textcolor{stringliteral}{'wearing'}, \textcolor{keywordtype}{None})
795             self.inc\_prop(agent\_id, \textcolor{stringliteral}{'armour'}, -1)
796         self.send\_msg(agent\_id, \textcolor{stringliteral}{"Done.\(\backslash\)n"})
797 
798         \textcolor{keywordflow}{return} \textcolor{keyword}{True}
799 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a7d58b9a688d3a775f150c7a40a72c11d}\label{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a7d58b9a688d3a775f150c7a40a72c11d}} 
\index{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}!room@{room}}
\index{room@{room}!projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}}
\subsubsection{\texorpdfstring{room()}{room()}}
{\footnotesize\ttfamily def projects.\+mastering\+\_\+the\+\_\+dungeon.\+tasks.\+graph\+\_\+world2.\+graph.\+Graph.\+room (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{thing }\end{DoxyParamCaption})}



Definition at line 383 of file graph.\+py.


\begin{DoxyCode}
383     \textcolor{keyword}{def }room(self, thing):
384         id = self.\_node\_contained\_in[thing]
385         \textcolor{keywordflow}{while} \textcolor{keywordflow}{not} self.has\_prop(id, \textcolor{stringliteral}{'room'}):
386             id = self.\_node\_contained\_in[id]
387         \textcolor{keywordflow}{return} id
388 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a605d2a67ebf1d4336f15a0d2a0bf230c}\label{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a605d2a67ebf1d4336f15a0d2a0bf230c}} 
\index{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}!save\+\_\+graph@{save\+\_\+graph}}
\index{save\+\_\+graph@{save\+\_\+graph}!projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}}
\subsubsection{\texorpdfstring{save\+\_\+graph()}{save\_graph()}}
{\footnotesize\ttfamily def projects.\+mastering\+\_\+the\+\_\+dungeon.\+tasks.\+graph\+\_\+world2.\+graph.\+Graph.\+save\+\_\+graph (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{fname }\end{DoxyParamCaption})}



Definition at line 121 of file graph.\+py.


\begin{DoxyCode}
121     \textcolor{keyword}{def }save\_graph(self, fname):
122         path = os.path.join(self.\_opt[\textcolor{stringliteral}{'datapath'}], \textcolor{stringliteral}{'graph\_world2'})
123         build\_data.make\_dir(path)
124         \textcolor{keywordflow}{if} fname != \textcolor{stringliteral}{''}:
125             self.\_save\_fname = path + \textcolor{stringliteral}{'/'} + fname + \textcolor{stringliteral}{'.gw2'}
126         \textcolor{keywordflow}{else}:
127             fname = self.\_save\_fname
128         members = [
129             attr
130             \textcolor{keywordflow}{for} attr \textcolor{keywordflow}{in} dir(self)
131             \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} callable(getattr(self, attr))
132             \textcolor{keywordflow}{and} (\textcolor{keywordflow}{not} attr.startswith(\textcolor{stringliteral}{"\_\_"}))
133             \textcolor{keywordflow}{and} (attr.startswith(\textcolor{stringliteral}{"\_"}))
134         ]
135         model = \{\}
136         \textcolor{keywordflow}{for} m \textcolor{keywordflow}{in} members:
137             model[m] = getattr(self, m)
138         with open(fname, \textcolor{stringliteral}{'wb'}) \textcolor{keyword}{as} write:
139             torch.save(model, write)
140 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a343a58d79711988b57c6d2b3b1727ef6}\label{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a343a58d79711988b57c6d2b3b1727ef6}} 
\index{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}!send\+\_\+msg@{send\+\_\+msg}}
\index{send\+\_\+msg@{send\+\_\+msg}!projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}}
\subsubsection{\texorpdfstring{send\+\_\+msg()}{send\_msg()}}
{\footnotesize\ttfamily def projects.\+mastering\+\_\+the\+\_\+dungeon.\+tasks.\+graph\+\_\+world2.\+graph.\+Graph.\+send\+\_\+msg (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{agentid,  }\item[{}]{txt }\end{DoxyParamCaption})}



Definition at line 395 of file graph.\+py.


\begin{DoxyCode}
395     \textcolor{keyword}{def }send\_msg(self, agentid, txt):
396         \textcolor{keywordflow}{if} agentid \textcolor{keywordflow}{in} self.\_node\_to\_text\_buffer:
397             self.\_node\_to\_text\_buffer[agentid] += txt
398 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a466f94bd52581035b412ac3e5d0856a3}\label{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a466f94bd52581035b412ac3e5d0856a3}} 
\index{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}!set\+\_\+desc@{set\+\_\+desc}}
\index{set\+\_\+desc@{set\+\_\+desc}!projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}}
\subsubsection{\texorpdfstring{set\+\_\+desc()}{set\_desc()}}
{\footnotesize\ttfamily def projects.\+mastering\+\_\+the\+\_\+dungeon.\+tasks.\+graph\+\_\+world2.\+graph.\+Graph.\+set\+\_\+desc (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{id,  }\item[{}]{desc }\end{DoxyParamCaption})}



Definition at line 272 of file graph.\+py.


\begin{DoxyCode}
272     \textcolor{keyword}{def }set\_desc(self, id, desc):
273         self.\_node\_to\_desc[id] = desc
274 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a81a5b41f69e26069a34d86cc435ec9c3}\label{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a81a5b41f69e26069a34d86cc435ec9c3}} 
\index{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}!set\+\_\+follow@{set\+\_\+follow}}
\index{set\+\_\+follow@{set\+\_\+follow}!projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}}
\subsubsection{\texorpdfstring{set\+\_\+follow()}{set\_follow()}}
{\footnotesize\ttfamily def projects.\+mastering\+\_\+the\+\_\+dungeon.\+tasks.\+graph\+\_\+world2.\+graph.\+Graph.\+set\+\_\+follow (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{id1,  }\item[{}]{id2 }\end{DoxyParamCaption})}



Definition at line 328 of file graph.\+py.


\begin{DoxyCode}
328     \textcolor{keyword}{def }set\_follow(self, id1, id2):
329         \textcolor{keywordflow}{if} id1 \textcolor{keywordflow}{in} self.\_node\_follows:
330             i\_follow = self.\_node\_follows[id1]
331             self.\_node\_followed\_by[i\_follow].remove(id1)
332         \textcolor{keywordflow}{if} id2 \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}:
333             self.\_node\_follows[id1] = id2
334             \textcolor{keywordflow}{if} id2 \textcolor{keywordflow}{not} \textcolor{keywordflow}{in} self.\_node\_followed\_by:
335                 self.\_node\_followed\_by[id2] = set()
336             self.\_node\_followed\_by[id2].add(id1)
337             \textcolor{keywordflow}{return} \textcolor{keyword}{True}
338         \textcolor{keywordflow}{else}:
339             \textcolor{keywordflow}{if} id1 \textcolor{keywordflow}{in} self.\_node\_follows:
340                 self.\_node\_follows.pop(id1)
341 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_aea241c8e3a1ac9af2517454c76208ce4}\label{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_aea241c8e3a1ac9af2517454c76208ce4}} 
\index{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}!set\+\_\+prop@{set\+\_\+prop}}
\index{set\+\_\+prop@{set\+\_\+prop}!projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}}
\subsubsection{\texorpdfstring{set\+\_\+prop()}{set\_prop()}}
{\footnotesize\ttfamily def projects.\+mastering\+\_\+the\+\_\+dungeon.\+tasks.\+graph\+\_\+world2.\+graph.\+Graph.\+set\+\_\+prop (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{id,  }\item[{}]{prop,  }\item[{}]{val = {\ttfamily True} }\end{DoxyParamCaption})}



Definition at line 363 of file graph.\+py.


\begin{DoxyCode}
363     \textcolor{keyword}{def }set\_prop(self, id, prop, val=True):
364         \textcolor{keywordflow}{if} id \textcolor{keywordflow}{in} self.\_node\_to\_prop:
365             self.\_node\_to\_prop[id][prop] = val
366 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a07dc981149e210b044bdb2faa8d437a9}\label{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a07dc981149e210b044bdb2faa8d437a9}} 
\index{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}!split\+\_\+params@{split\+\_\+params}}
\index{split\+\_\+params@{split\+\_\+params}!projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}}
\subsubsection{\texorpdfstring{split\+\_\+params()}{split\_params()}}
{\footnotesize\ttfamily def projects.\+mastering\+\_\+the\+\_\+dungeon.\+tasks.\+graph\+\_\+world2.\+graph.\+Graph.\+split\+\_\+params (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{params,  }\item[{}]{word }\end{DoxyParamCaption})}



Definition at line 1121 of file graph.\+py.


\begin{DoxyCode}
1121     \textcolor{keyword}{def }split\_params(self, params, word):
1122         \textcolor{keywordflow}{return} \textcolor{stringliteral}{' '}.join(params).split(\textcolor{stringliteral}{' \{\} '}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(word))
1123 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a17a562ca25e8ef876deaa6aae8a7c5e6}\label{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a17a562ca25e8ef876deaa6aae8a7c5e6}} 
\index{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}!take@{take}}
\index{take@{take}!projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}}
\subsubsection{\texorpdfstring{take()}{take()}}
{\footnotesize\ttfamily def projects.\+mastering\+\_\+the\+\_\+dungeon.\+tasks.\+graph\+\_\+world2.\+graph.\+Graph.\+take (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{agent\+\_\+id,  }\item[{}]{params }\end{DoxyParamCaption})}



Definition at line 659 of file graph.\+py.


\begin{DoxyCode}
659     \textcolor{keyword}{def }take(self, agent\_id, params):
660         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} self.valid(agent\_id, \textcolor{stringliteral}{'agent'}):
661             \textcolor{keywordflow}{return} \textcolor{keyword}{False}
662         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} len(params) == 2:
663             \textcolor{keywordflow}{return} \textcolor{keyword}{False}
664         victim\_id = self.desc\_to\_node(
665             params[1], nearbyid=agent\_id, nearbytype=\textcolor{stringliteral}{'sameloc'}, should\_have=[\textcolor{stringliteral}{'agent'}]
666         )
667         \textcolor{keywordflow}{if} victim\_id == agent\_id:
668             \textcolor{keywordflow}{return} \textcolor{keyword}{False}
669         \textcolor{keywordflow}{if} victim\_id \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
670             self.send\_msg(agent\_id, \textcolor{stringliteral}{'They are not here.\(\backslash\)n'})
671             \textcolor{keywordflow}{return} \textcolor{keyword}{False}
672         \textcolor{keywordflow}{if} victim\_id == \textcolor{keyword}{False}:
673             self.send\_msg(agent\_id, \textcolor{stringliteral}{'It is not an agent.\(\backslash\)n'})
674             \textcolor{keywordflow}{return} \textcolor{keyword}{False}
675         obj\_id = self.desc\_to\_node(
676             params[0], nearbyid=victim\_id, nearbytype=\textcolor{stringliteral}{'carrying'}, should\_have=[\textcolor{stringliteral}{'object'}]
677         )
678         \textcolor{keywordflow}{if} obj\_id \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
679             self.send\_msg(agent\_id, \textcolor{stringliteral}{'They do not have that.\(\backslash\)n'})
680             \textcolor{keywordflow}{return} \textcolor{keyword}{False}
681         \textcolor{keywordflow}{if} obj\_id == \textcolor{keyword}{False}:
682             self.send\_msg(agent\_id, \textcolor{stringliteral}{'It is not an object.\(\backslash\)n'})
683             \textcolor{keywordflow}{return} \textcolor{keyword}{False}
684         self.add\_contained\_in(obj\_id, agent\_id)
685         agent\_desc = self.node\_to\_desc(agent\_id, use\_the=\textcolor{keyword}{True}).capitalize()
686         victim\_desc = self.node\_to\_desc(victim\_id, use\_the=\textcolor{keyword}{True})
687         self.send\_msg(
688             agent\_id,
689             \textcolor{stringliteral}{"You took "}
690             + self.display\_node\_list([obj\_id])
691             + \textcolor{stringliteral}{" from "}
692             + victim\_desc
693             + \textcolor{stringliteral}{'.\(\backslash\)n'},
694         )
695         self.send\_msg(
696             victim\_id,
697             agent\_desc
698             + \textcolor{stringliteral}{" took the "}
699             + self.display\_node\_list([obj\_id])
700             + \textcolor{stringliteral}{" from you.\(\backslash\)n"},
701         )
702         \textcolor{keywordflow}{return} \textcolor{keyword}{True}
703 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a4f83fec0576a592cb25b47ea826a809a}\label{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a4f83fec0576a592cb25b47ea826a809a}} 
\index{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}!unique\+\_\+hash@{unique\+\_\+hash}}
\index{unique\+\_\+hash@{unique\+\_\+hash}!projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}}
\subsubsection{\texorpdfstring{unique\+\_\+hash()}{unique\_hash()}}
{\footnotesize\ttfamily def projects.\+mastering\+\_\+the\+\_\+dungeon.\+tasks.\+graph\+\_\+world2.\+graph.\+Graph.\+unique\+\_\+hash (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line 222 of file graph.\+py.


\begin{DoxyCode}
222     \textcolor{keyword}{def }unique\_hash(self):
223         \textcolor{comment}{# TODO: make it independent of specific world settings}
224         \textcolor{comment}{# object\_ids, agent\_ids, and container\_ids are set by construct\_graph}
225         s = \textcolor{stringliteral}{''}
226         apple\_s = []
227         \textcolor{keywordflow}{for} id \textcolor{keywordflow}{in} self.object\_ids + self.container\_ids + self.agent\_ids:
228             cur\_s = \textcolor{stringliteral}{''}
229             \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} self.node\_exists(id):
230                 cur\_s += \textcolor{stringliteral}{'eaten'}
231             \textcolor{keywordflow}{else}:
232                 cur\_s += self.\_node\_contained\_in[id]
233                 \textcolor{keywordflow}{for} prop \textcolor{keywordflow}{in} [\textcolor{stringliteral}{'wielding'}, \textcolor{stringliteral}{'wearing'}, \textcolor{stringliteral}{'dead'}]:
234                     \textcolor{keywordflow}{if} prop \textcolor{keywordflow}{in} self.\_node\_to\_prop[id]:
235                         cur\_s += prop
236             \textcolor{keywordflow}{if} self.node\_to\_desc\_raw(id) == \textcolor{stringliteral}{'apple'}:
237                 apple\_s.append(cur\_s)
238             \textcolor{keywordflow}{else}:
239                 s += cur\_s
240         s += \textcolor{stringliteral}{''}.join(sorted(apple\_s))
241         \textcolor{keywordflow}{return} s
242 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a23324301e21091e84366d23c626d8125}\label{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a23324301e21091e84366d23c626d8125}} 
\index{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}!update\+\_\+world@{update\+\_\+world}}
\index{update\+\_\+world@{update\+\_\+world}!projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}}
\subsubsection{\texorpdfstring{update\+\_\+world()}{update\_world()}}
{\footnotesize\ttfamily def projects.\+mastering\+\_\+the\+\_\+dungeon.\+tasks.\+graph\+\_\+world2.\+graph.\+Graph.\+update\+\_\+world (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line 1391 of file graph.\+py.


\begin{DoxyCode}
1391     \textcolor{keyword}{def }update\_world(self):
1392         \textcolor{comment}{# move all the agents and junk, unless world frozen}
1393         \textcolor{keywordflow}{if} self.freeze():
1394             \textcolor{keywordflow}{return}
1395         \textcolor{keywordflow}{for} agent\_id \textcolor{keywordflow}{in} self.\_node\_npcs:
1396             \textcolor{keywordflow}{if} self.has\_prop(agent\_id, \textcolor{stringliteral}{'dead'}):
1397                 \textcolor{keywordflow}{continue}
1398             \textcolor{comment}{# random movement for npcs..}
1399             locs = self.node\_path\_to(self.room(agent\_id))
1400             loc = locs[random.randint(0, len(locs) - 1)]
1401             act = \textcolor{stringliteral}{'go '} + self.node\_to\_desc(loc)
1402             self.move\_agent(agent\_id, to\_id=loc)
1403             \textcolor{keywordflow}{if} random.randint(0, 100) < 50:
1404                 act = \textcolor{stringliteral}{'hit dragon'}
1405             self.parse\_exec(agent\_id, act)
1406 
1407 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a741f4883acfc4a2ed2ff4a0252147dd3}\label{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a741f4883acfc4a2ed2ff4a0252147dd3}} 
\index{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}!valid@{valid}}
\index{valid@{valid}!projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}}
\subsubsection{\texorpdfstring{valid()}{valid()}}
{\footnotesize\ttfamily def projects.\+mastering\+\_\+the\+\_\+dungeon.\+tasks.\+graph\+\_\+world2.\+graph.\+Graph.\+valid (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{id,  }\item[{}]{prop }\end{DoxyParamCaption})}



Definition at line 342 of file graph.\+py.


\begin{DoxyCode}
342     \textcolor{keyword}{def }valid(self, id, prop):
343         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} id \textcolor{keywordflow}{in} self.\_node\_to\_prop:
344             \textcolor{keywordflow}{return} \textcolor{keyword}{False}
345         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} self.has\_prop(id, prop):
346             \textcolor{keywordflow}{return} \textcolor{keyword}{False}
347         \textcolor{keywordflow}{return} \textcolor{keyword}{True}
348 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a3e325f222b98c939673190da0f1f4b79}\label{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_a3e325f222b98c939673190da0f1f4b79}} 
\index{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}!wear@{wear}}
\index{wear@{wear}!projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}}
\subsubsection{\texorpdfstring{wear()}{wear()}}
{\footnotesize\ttfamily def projects.\+mastering\+\_\+the\+\_\+dungeon.\+tasks.\+graph\+\_\+world2.\+graph.\+Graph.\+wear (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{agent\+\_\+id,  }\item[{}]{thing }\end{DoxyParamCaption})}



Definition at line 736 of file graph.\+py.


\begin{DoxyCode}
736     \textcolor{keyword}{def }wear(self, agent\_id, thing):
737         thing\_id = self.desc\_to\_node(
738             thing,
739             nearbyid=agent\_id,
740             nearbytype=\textcolor{stringliteral}{'carrying'},
741             should\_have=[\textcolor{stringliteral}{'wearable'}],
742             shouldnt\_have=[\textcolor{stringliteral}{'wearing'}],
743         )
744         \textcolor{keywordflow}{if} thing\_id \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
745             self.send\_msg(agent\_id, \textcolor{stringliteral}{"You do not have that.\(\backslash\)n"})
746             \textcolor{keywordflow}{return} \textcolor{keyword}{False}
747         \textcolor{keywordflow}{if} thing\_id == \textcolor{keyword}{False}:
748             \textcolor{comment}{# self.send\_msg(agent\_id, 'You are wearing that or it is not wearable.\(\backslash\)n')}
749             self.send\_msg(agent\_id, \textcolor{stringliteral}{"You can't do that.\(\backslash\)n"})
750             \textcolor{keywordflow}{return} \textcolor{keyword}{False}
751         self.set\_prop(thing\_id, \textcolor{stringliteral}{'wearing'})
752         self.send\_msg(agent\_id, \textcolor{stringliteral}{"Done.\(\backslash\)n"})
753         self.inc\_prop(agent\_id, \textcolor{stringliteral}{'armour'}, 1)
754         \textcolor{keywordflow}{return} \textcolor{keyword}{True}
755 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_aa045bba6d2db124d119b7338c5ad79f4}\label{classprojects_1_1mastering__the__dungeon_1_1tasks_1_1graph__world2_1_1graph_1_1Graph_aa045bba6d2db124d119b7338c5ad79f4}} 
\index{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}!wield@{wield}}
\index{wield@{wield}!projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph@{projects\+::mastering\+\_\+the\+\_\+dungeon\+::tasks\+::graph\+\_\+world2\+::graph\+::\+Graph}}
\subsubsection{\texorpdfstring{wield()}{wield()}}
{\footnotesize\ttfamily def projects.\+mastering\+\_\+the\+\_\+dungeon.\+tasks.\+graph\+\_\+world2.\+graph.\+Graph.\+wield (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{agent\+\_\+id,  }\item[{}]{thing }\end{DoxyParamCaption})}



Definition at line 756 of file graph.\+py.


\begin{DoxyCode}
756     \textcolor{keyword}{def }wield(self, agent\_id, thing):
757         thing\_id = self.desc\_to\_node(
758             thing,
759             nearbyid=agent\_id,
760             nearbytype=\textcolor{stringliteral}{'carrying'},
761             should\_have=[\textcolor{stringliteral}{'wieldable'}],
762             shouldnt\_have=[\textcolor{stringliteral}{'wielding'}],
763         )
764         \textcolor{keywordflow}{if} thing\_id \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
765             self.send\_msg(agent\_id, \textcolor{stringliteral}{"You do not have that.\(\backslash\)n"})
766             \textcolor{keywordflow}{return} \textcolor{keyword}{False}
767         \textcolor{keywordflow}{if} thing\_id == \textcolor{keyword}{False}:
768             \textcolor{comment}{# self.send\_msg(agent\_id, 'You are wielding that or it is not wieldable.\(\backslash\)n')}
769             self.send\_msg(agent\_id, \textcolor{stringliteral}{"You can't do that.\(\backslash\)n"})
770             \textcolor{keywordflow}{return} \textcolor{keyword}{False}
771         self.set\_prop(thing\_id, \textcolor{stringliteral}{'wielding'})
772         self.send\_msg(agent\_id, \textcolor{stringliteral}{"Done.\(\backslash\)n"})
773         self.inc\_prop(agent\_id, \textcolor{stringliteral}{'weapon'}, 1)
774         \textcolor{keywordflow}{return} \textcolor{keyword}{True}
775 
\end{DoxyCode}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
projects/mastering\+\_\+the\+\_\+dungeon/tasks/graph\+\_\+world2/\hyperlink{projects_2mastering__the__dungeon_2tasks_2graph__world2_2graph_8py}{graph.\+py}\end{DoxyCompactItemize}
