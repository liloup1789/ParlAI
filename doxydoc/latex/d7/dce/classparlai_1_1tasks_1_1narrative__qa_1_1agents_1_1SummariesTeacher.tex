\hypertarget{classparlai_1_1tasks_1_1narrative__qa_1_1agents_1_1SummariesTeacher}{}\section{parlai.\+tasks.\+narrative\+\_\+qa.\+agents.\+Summaries\+Teacher Class Reference}
\label{classparlai_1_1tasks_1_1narrative__qa_1_1agents_1_1SummariesTeacher}\index{parlai.\+tasks.\+narrative\+\_\+qa.\+agents.\+Summaries\+Teacher@{parlai.\+tasks.\+narrative\+\_\+qa.\+agents.\+Summaries\+Teacher}}


Inheritance diagram for parlai.\+tasks.\+narrative\+\_\+qa.\+agents.\+Summaries\+Teacher\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=232pt]{dc/d20/classparlai_1_1tasks_1_1narrative__qa_1_1agents_1_1SummariesTeacher__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for parlai.\+tasks.\+narrative\+\_\+qa.\+agents.\+Summaries\+Teacher\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=232pt]{dd/dd2/classparlai_1_1tasks_1_1narrative__qa_1_1agents_1_1SummariesTeacher__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{classparlai_1_1tasks_1_1narrative__qa_1_1agents_1_1SummariesTeacher_a833c2c54f6084e88dbe0a16151fc4a46}{\+\_\+\+\_\+init\+\_\+\+\_\+} (self, \hyperlink{classparlai_1_1core_1_1agents_1_1Teacher_a3ce6243860ce978a897922863ed32fa4}{opt}, shared=None)
\item 
def \hyperlink{classparlai_1_1tasks_1_1narrative__qa_1_1agents_1_1SummariesTeacher_a76f9cadca71b61d42c5997ba590f107e}{setup\+\_\+data} (self, path)
\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classparlai_1_1tasks_1_1narrative__qa_1_1agents_1_1SummariesTeacher_a00d240ba5d5d8c7ba0257dbbbc2ba58c}{id}
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}


Definition at line 31 of file agents.\+py.



\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classparlai_1_1tasks_1_1narrative__qa_1_1agents_1_1SummariesTeacher_a833c2c54f6084e88dbe0a16151fc4a46}\label{classparlai_1_1tasks_1_1narrative__qa_1_1agents_1_1SummariesTeacher_a833c2c54f6084e88dbe0a16151fc4a46}} 
\index{parlai\+::tasks\+::narrative\+\_\+qa\+::agents\+::\+Summaries\+Teacher@{parlai\+::tasks\+::narrative\+\_\+qa\+::agents\+::\+Summaries\+Teacher}!\+\_\+\+\_\+init\+\_\+\+\_\+@{\+\_\+\+\_\+init\+\_\+\+\_\+}}
\index{\+\_\+\+\_\+init\+\_\+\+\_\+@{\+\_\+\+\_\+init\+\_\+\+\_\+}!parlai\+::tasks\+::narrative\+\_\+qa\+::agents\+::\+Summaries\+Teacher@{parlai\+::tasks\+::narrative\+\_\+qa\+::agents\+::\+Summaries\+Teacher}}
\subsubsection{\texorpdfstring{\+\_\+\+\_\+init\+\_\+\+\_\+()}{\_\_init\_\_()}}
{\footnotesize\ttfamily def parlai.\+tasks.\+narrative\+\_\+qa.\+agents.\+Summaries\+Teacher.\+\_\+\+\_\+init\+\_\+\+\_\+ (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{opt,  }\item[{}]{shared = {\ttfamily None} }\end{DoxyParamCaption})}



Definition at line 32 of file agents.\+py.


\begin{DoxyCode}
32     \textcolor{keyword}{def }\_\_init\_\_(self, opt, shared=None):
33         opt = copy.deepcopy(opt)
34         data\_path = \_path(opt)
35         opt[\textcolor{stringliteral}{'datafile'}] = data\_path
36         self.id = \textcolor{stringliteral}{'NarrativeQA'}
37 
38         super().\_\_init\_\_(opt, shared)
39 
\end{DoxyCode}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{classparlai_1_1tasks_1_1narrative__qa_1_1agents_1_1SummariesTeacher_a76f9cadca71b61d42c5997ba590f107e}\label{classparlai_1_1tasks_1_1narrative__qa_1_1agents_1_1SummariesTeacher_a76f9cadca71b61d42c5997ba590f107e}} 
\index{parlai\+::tasks\+::narrative\+\_\+qa\+::agents\+::\+Summaries\+Teacher@{parlai\+::tasks\+::narrative\+\_\+qa\+::agents\+::\+Summaries\+Teacher}!setup\+\_\+data@{setup\+\_\+data}}
\index{setup\+\_\+data@{setup\+\_\+data}!parlai\+::tasks\+::narrative\+\_\+qa\+::agents\+::\+Summaries\+Teacher@{parlai\+::tasks\+::narrative\+\_\+qa\+::agents\+::\+Summaries\+Teacher}}
\subsubsection{\texorpdfstring{setup\+\_\+data()}{setup\_data()}}
{\footnotesize\ttfamily def parlai.\+tasks.\+narrative\+\_\+qa.\+agents.\+Summaries\+Teacher.\+setup\+\_\+data (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{path }\end{DoxyParamCaption})}



Definition at line 40 of file agents.\+py.


\begin{DoxyCode}
40     \textcolor{keyword}{def }\hyperlink{namespaceparlai_1_1tasks_1_1multinli_1_1agents_a4fa2cb0ba1ed745336ad8bceed36b841}{setup\_data}(self, path):
41         print(\textcolor{stringliteral}{'loading data from: '} + path)
42 
43         qa\_path = os.path.join(path, \textcolor{stringliteral}{'qaps.csv'})
44         summaries\_path = os.path.join(path, \textcolor{stringliteral}{'summaries.csv'})
45 
46         qa\_pairs = dict()
47 
48         with open(qa\_path, \textcolor{stringliteral}{'r') as f:}
49 \textcolor{stringliteral}{            reader = csv.DictReader(f)}
50 \textcolor{stringliteral}{            }\textcolor{keywordflow}{for} row \textcolor{keywordflow}{in} reader:
51                 \textcolor{keywordflow}{if} row[\textcolor{stringliteral}{'document\_id'}] \textcolor{keywordflow}{not} \textcolor{keywordflow}{in} qa\_pairs:
52                     qa\_pairs[row[\textcolor{stringliteral}{'document\_id'}]] = []
53                 qa\_pairs[row[\textcolor{stringliteral}{'document\_id'}]].append(row)
54 
55         with open(summaries\_path, \textcolor{stringliteral}{'r') as f:}
56 \textcolor{stringliteral}{            reader = csv.DictReader(f)}
57 \textcolor{stringliteral}{}
58 \textcolor{stringliteral}{            }\textcolor{keywordflow}{for} row \textcolor{keywordflow}{in} reader:
59                 info = \textcolor{stringliteral}{'Summary:  %s'} % row[\textcolor{stringliteral}{'summary\_tokenized'}]
60 
61                 \textcolor{keywordflow}{for} i, qa \textcolor{keywordflow}{in} enumerate(qa\_pairs[row[\textcolor{stringliteral}{'document\_id'}]]):
62                     question = qa[\textcolor{stringliteral}{'question\_tokenized'}]
63                     answer1 = qa[\textcolor{stringliteral}{'answer1\_tokenized'}]
64                     answer2 = qa[\textcolor{stringliteral}{'answer2\_tokenized'}]
65 
66                     \textcolor{keywordflow}{if} i == 0:
67                         \textcolor{comment}{# Prepend start info in first question}
68                         \textcolor{keywordflow}{yield} (info + \textcolor{stringliteral}{'\(\backslash\)n'} + question, [answer1, answer2]), \textcolor{keyword}{True}
69                     \textcolor{keywordflow}{else}:
70                         \textcolor{keywordflow}{yield} (question, [answer1, answer2]), \textcolor{keyword}{False}
71 
72 
\end{DoxyCode}


\subsection{Member Data Documentation}
\mbox{\Hypertarget{classparlai_1_1tasks_1_1narrative__qa_1_1agents_1_1SummariesTeacher_a00d240ba5d5d8c7ba0257dbbbc2ba58c}\label{classparlai_1_1tasks_1_1narrative__qa_1_1agents_1_1SummariesTeacher_a00d240ba5d5d8c7ba0257dbbbc2ba58c}} 
\index{parlai\+::tasks\+::narrative\+\_\+qa\+::agents\+::\+Summaries\+Teacher@{parlai\+::tasks\+::narrative\+\_\+qa\+::agents\+::\+Summaries\+Teacher}!id@{id}}
\index{id@{id}!parlai\+::tasks\+::narrative\+\_\+qa\+::agents\+::\+Summaries\+Teacher@{parlai\+::tasks\+::narrative\+\_\+qa\+::agents\+::\+Summaries\+Teacher}}
\subsubsection{\texorpdfstring{id}{id}}
{\footnotesize\ttfamily parlai.\+tasks.\+narrative\+\_\+qa.\+agents.\+Summaries\+Teacher.\+id}



Definition at line 36 of file agents.\+py.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
parlai/tasks/narrative\+\_\+qa/\hyperlink{parlai_2tasks_2narrative__qa_2agents_8py}{agents.\+py}\end{DoxyCompactItemize}
