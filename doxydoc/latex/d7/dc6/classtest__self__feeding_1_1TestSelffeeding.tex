\hypertarget{classtest__self__feeding_1_1TestSelffeeding}{}\section{test\+\_\+self\+\_\+feeding.\+Test\+Selffeeding Class Reference}
\label{classtest__self__feeding_1_1TestSelffeeding}\index{test\+\_\+self\+\_\+feeding.\+Test\+Selffeeding@{test\+\_\+self\+\_\+feeding.\+Test\+Selffeeding}}


Inheritance diagram for test\+\_\+self\+\_\+feeding.\+Test\+Selffeeding\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=242pt]{dd/df0/classtest__self__feeding_1_1TestSelffeeding__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for test\+\_\+self\+\_\+feeding.\+Test\+Selffeeding\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=242pt]{df/d22/classtest__self__feeding_1_1TestSelffeeding__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{classtest__self__feeding_1_1TestSelffeeding_a73a16fe92177da1bedaa79fb15f6e937}{test\+\_\+dataset\+\_\+integrity} (self)
\item 
def \hyperlink{classtest__self__feeding_1_1TestSelffeeding_a98171dd8471ea27cf898db407bae5ef8}{test\+\_\+train\+\_\+model} (self)
\item 
def \hyperlink{classtest__self__feeding_1_1TestSelffeeding_ab8bbbada5b5836a100cf30ce3154d666}{test\+\_\+released\+\_\+model} (self)
\end{DoxyCompactItemize}


\subsection{Detailed Description}


Definition at line 18 of file test\+\_\+self\+\_\+feeding.\+py.



\subsection{Member Function Documentation}
\mbox{\Hypertarget{classtest__self__feeding_1_1TestSelffeeding_a73a16fe92177da1bedaa79fb15f6e937}\label{classtest__self__feeding_1_1TestSelffeeding_a73a16fe92177da1bedaa79fb15f6e937}} 
\index{test\+\_\+self\+\_\+feeding\+::\+Test\+Selffeeding@{test\+\_\+self\+\_\+feeding\+::\+Test\+Selffeeding}!test\+\_\+dataset\+\_\+integrity@{test\+\_\+dataset\+\_\+integrity}}
\index{test\+\_\+dataset\+\_\+integrity@{test\+\_\+dataset\+\_\+integrity}!test\+\_\+self\+\_\+feeding\+::\+Test\+Selffeeding@{test\+\_\+self\+\_\+feeding\+::\+Test\+Selffeeding}}
\subsubsection{\texorpdfstring{test\+\_\+dataset\+\_\+integrity()}{test\_dataset\_integrity()}}
{\footnotesize\ttfamily def test\+\_\+self\+\_\+feeding.\+Test\+Selffeeding.\+test\+\_\+dataset\+\_\+integrity (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}

\begin{DoxyVerb}Check the controllble dialogue data loads.
\end{DoxyVerb}
 

Definition at line 19 of file test\+\_\+self\+\_\+feeding.\+py.


\begin{DoxyCode}
19     \textcolor{keyword}{def }test\_dataset\_integrity(self):
20         \textcolor{stringliteral}{"""}
21 \textcolor{stringliteral}{        Check the controllble dialogue data loads.}
22 \textcolor{stringliteral}{        """}
23         train\_output, valid\_output, test\_output = testing\_utils.display\_data(
24             \{\textcolor{stringliteral}{'task'}: \textcolor{stringliteral}{'self\_feeding:all'}\}
25         )
26 
27         \textcolor{comment}{# check valid data}
28         self.assertIn(\textcolor{stringliteral}{"i am spending time with my 4 sisters"}, train\_output)
29         self.assertIn(\textcolor{stringliteral}{'193777 episodes with a total of 193777 examples'}, train\_output)
30 
31         \textcolor{comment}{# check valid data}
32         self.assertIn(\textcolor{stringliteral}{'3500 examples'}, valid\_output)
33         \textcolor{comment}{# check test data}
34         self.assertIn(\textcolor{stringliteral}{'7801 examples'}, test\_output)
35 
\end{DoxyCode}
\mbox{\Hypertarget{classtest__self__feeding_1_1TestSelffeeding_ab8bbbada5b5836a100cf30ce3154d666}\label{classtest__self__feeding_1_1TestSelffeeding_ab8bbbada5b5836a100cf30ce3154d666}} 
\index{test\+\_\+self\+\_\+feeding\+::\+Test\+Selffeeding@{test\+\_\+self\+\_\+feeding\+::\+Test\+Selffeeding}!test\+\_\+released\+\_\+model@{test\+\_\+released\+\_\+model}}
\index{test\+\_\+released\+\_\+model@{test\+\_\+released\+\_\+model}!test\+\_\+self\+\_\+feeding\+::\+Test\+Selffeeding@{test\+\_\+self\+\_\+feeding\+::\+Test\+Selffeeding}}
\subsubsection{\texorpdfstring{test\+\_\+released\+\_\+model()}{test\_released\_model()}}
{\footnotesize\ttfamily def test\+\_\+self\+\_\+feeding.\+Test\+Selffeeding.\+test\+\_\+released\+\_\+model (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}

\begin{DoxyVerb}Check the pretrained model produces correct results.
\end{DoxyVerb}
 

Definition at line 57 of file test\+\_\+self\+\_\+feeding.\+py.


\begin{DoxyCode}
57     \textcolor{keyword}{def }test\_released\_model(self):
58         \textcolor{stringliteral}{"""}
59 \textcolor{stringliteral}{        Check the pretrained model produces correct results.}
60 \textcolor{stringliteral}{        """}
61         \_, \_, test = testing\_utils.eval\_model(
62             \{
63                 \textcolor{stringliteral}{'model\_file'}: \textcolor{stringliteral}{'zoo:self\_feeding/hh131k\_hb60k\_fb60k\_st1k/model'},
64                 \textcolor{stringliteral}{'task'}: \textcolor{stringliteral}{'self\_feeding:all'},
65                 \textcolor{stringliteral}{'batchsize'}: 20,
66             \},
67             skip\_valid=\textcolor{keyword}{True},
68         )
69 
70         self.assertAlmostEqual(test[\textcolor{stringliteral}{'dia\_acc'}], 0.506, delta=0.001)
71         self.assertAlmostEqual(test[\textcolor{stringliteral}{'fee\_acc'}], 0.744, delta=0.001)
72         self.assertAlmostEqual(test[\textcolor{stringliteral}{'sat\_f1'}], 0.8343, delta=0.0001)
73 
74 
\end{DoxyCode}
\mbox{\Hypertarget{classtest__self__feeding_1_1TestSelffeeding_a98171dd8471ea27cf898db407bae5ef8}\label{classtest__self__feeding_1_1TestSelffeeding_a98171dd8471ea27cf898db407bae5ef8}} 
\index{test\+\_\+self\+\_\+feeding\+::\+Test\+Selffeeding@{test\+\_\+self\+\_\+feeding\+::\+Test\+Selffeeding}!test\+\_\+train\+\_\+model@{test\+\_\+train\+\_\+model}}
\index{test\+\_\+train\+\_\+model@{test\+\_\+train\+\_\+model}!test\+\_\+self\+\_\+feeding\+::\+Test\+Selffeeding@{test\+\_\+self\+\_\+feeding\+::\+Test\+Selffeeding}}
\subsubsection{\texorpdfstring{test\+\_\+train\+\_\+model()}{test\_train\_model()}}
{\footnotesize\ttfamily def test\+\_\+self\+\_\+feeding.\+Test\+Selffeeding.\+test\+\_\+train\+\_\+model (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}

\begin{DoxyVerb}Check the training script doesn't crash.
\end{DoxyVerb}
 

Definition at line 36 of file test\+\_\+self\+\_\+feeding.\+py.


\begin{DoxyCode}
36     \textcolor{keyword}{def }test\_train\_model(self):
37         \textcolor{stringliteral}{"""}
38 \textcolor{stringliteral}{        Check the training script doesn't crash.}
39 \textcolor{stringliteral}{        """}
40         opt = \{
41             \textcolor{stringliteral}{'model'}: \textcolor{stringliteral}{'projects.self\_feeding.self\_feeding\_agent:SelfFeedingAgent'},
42             \textcolor{stringliteral}{'task'}: \textcolor{stringliteral}{'self\_feeding:all'},
43             \textcolor{stringliteral}{'max\_train\_time'}: 120,
44             \textcolor{stringliteral}{'dia\_train'}: \textcolor{stringliteral}{'train\_hh131k\_hb60k.txt'},
45             \textcolor{stringliteral}{'n\_layers'}: 2,
46             \textcolor{stringliteral}{'n\_heads'}: 2,
47             \textcolor{stringliteral}{'candidates'}: \textcolor{stringliteral}{'batch'},
48             \textcolor{stringliteral}{'validation\_metric'}: \textcolor{stringliteral}{'dia\_acc'},
49             \textcolor{stringliteral}{'optimizer'}: \textcolor{stringliteral}{'adamax'},
50             \textcolor{stringliteral}{'learning\_rate'}: 0.0025,
51             \textcolor{stringliteral}{'ffn\_size'}: 32,
52             \textcolor{stringliteral}{'batchsize'}: 32,
53             \textcolor{stringliteral}{'embeddings\_scale'}: \textcolor{keyword}{False},
54         \}
55         \_, \_, \_ = testing\_utils.train\_model(opt)
56 
\end{DoxyCode}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
tests/nightly/gpu/\hyperlink{test__self__feeding_8py}{test\+\_\+self\+\_\+feeding.\+py}\end{DoxyCompactItemize}
