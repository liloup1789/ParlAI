\hypertarget{classprojects_1_1wizard__of__wikipedia_1_1knowledge__retriever_1_1knowledge__retriever_1_1KnowledgeRetrieverAgent}{}\section{projects.\+wizard\+\_\+of\+\_\+wikipedia.\+knowledge\+\_\+retriever.\+knowledge\+\_\+retriever.\+Knowledge\+Retriever\+Agent Class Reference}
\label{classprojects_1_1wizard__of__wikipedia_1_1knowledge__retriever_1_1knowledge__retriever_1_1KnowledgeRetrieverAgent}\index{projects.\+wizard\+\_\+of\+\_\+wikipedia.\+knowledge\+\_\+retriever.\+knowledge\+\_\+retriever.\+Knowledge\+Retriever\+Agent@{projects.\+wizard\+\_\+of\+\_\+wikipedia.\+knowledge\+\_\+retriever.\+knowledge\+\_\+retriever.\+Knowledge\+Retriever\+Agent}}


Inheritance diagram for projects.\+wizard\+\_\+of\+\_\+wikipedia.\+knowledge\+\_\+retriever.\+knowledge\+\_\+retriever.\+Knowledge\+Retriever\+Agent\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=253pt]{d0/d8c/classprojects_1_1wizard__of__wikipedia_1_1knowledge__retriever_1_1knowledge__retriever_1_1Knowle56c07c17dab9d293982156c7cdc81fe0}
\end{center}
\end{figure}


Collaboration diagram for projects.\+wizard\+\_\+of\+\_\+wikipedia.\+knowledge\+\_\+retriever.\+knowledge\+\_\+retriever.\+Knowledge\+Retriever\+Agent\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=253pt]{d6/d96/classprojects_1_1wizard__of__wikipedia_1_1knowledge__retriever_1_1knowledge__retriever_1_1KnowledgeRetrieverAgent__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{classprojects_1_1wizard__of__wikipedia_1_1knowledge__retriever_1_1knowledge__retriever_1_1KnowledgeRetrieverAgent_a56e833bf9622d078a5b8b808091e9060}{\+\_\+\+\_\+init\+\_\+\+\_\+} (self, \hyperlink{classprojects_1_1wizard__of__wikipedia_1_1knowledge__retriever_1_1knowledge__retriever_1_1KnowledgeRetrieverAgent_a6869be2c3be40d0ccac44b6b19357f26}{opt}, shared=None)
\item 
def \hyperlink{classprojects_1_1wizard__of__wikipedia_1_1knowledge__retriever_1_1knowledge__retriever_1_1KnowledgeRetrieverAgent_a2801dcbb7f6d0c021b4e8778498abcb7}{maintain\+\_\+retriever\+\_\+history} (self, obs, actor\+\_\+id=\textquotesingle{}apprentice\textquotesingle{})
\item 
def \hyperlink{classprojects_1_1wizard__of__wikipedia_1_1knowledge__retriever_1_1knowledge__retriever_1_1KnowledgeRetrieverAgent_ad7ec946d49376942cfa3a8eff0721014}{get\+\_\+chosen\+\_\+topic\+\_\+passages} (self, chosen\+\_\+topic)
\item 
def \hyperlink{classprojects_1_1wizard__of__wikipedia_1_1knowledge__retriever_1_1knowledge__retriever_1_1KnowledgeRetrieverAgent_a6eded0e2af98d064dcf803b7d239101f}{get\+\_\+passages} (self, \hyperlink{classprojects_1_1wizard__of__wikipedia_1_1knowledge__retriever_1_1knowledge__retriever_1_1KnowledgeRetrieverAgent_a0a560f254aaecee85d01266ecf5d45b6}{act})
\item 
def \hyperlink{classprojects_1_1wizard__of__wikipedia_1_1knowledge__retriever_1_1knowledge__retriever_1_1KnowledgeRetrieverAgent_a389261b03820abae81c05211056db463}{tfidf\+\_\+retriever\+\_\+act} (self, history)
\item 
def \hyperlink{classprojects_1_1wizard__of__wikipedia_1_1knowledge__retriever_1_1knowledge__retriever_1_1KnowledgeRetrieverAgent_a0a560f254aaecee85d01266ecf5d45b6}{act} (self)
\item 
def \hyperlink{classprojects_1_1wizard__of__wikipedia_1_1knowledge__retriever_1_1knowledge__retriever_1_1KnowledgeRetrieverAgent_a5116c18367cb3b8067ae2db42cce9773}{observe} (self, \hyperlink{classprojects_1_1wizard__of__wikipedia_1_1knowledge__retriever_1_1knowledge__retriever_1_1KnowledgeRetrieverAgent_a5f5a97ffa5bbb97a1a15377a56fd4bdc}{observation}, actor\+\_\+id=\textquotesingle{}apprentice\textquotesingle{})
\item 
def \hyperlink{classprojects_1_1wizard__of__wikipedia_1_1knowledge__retriever_1_1knowledge__retriever_1_1KnowledgeRetrieverAgent_a1befed09274e61e1872da0a0d8bf9804}{share} (self)
\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{classprojects_1_1wizard__of__wikipedia_1_1knowledge__retriever_1_1knowledge__retriever_1_1KnowledgeRetrieverAgent_a64886f913a246709fec34c1895d1d88b}{add\+\_\+cmdline\+\_\+args} (argparser)
\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classprojects_1_1wizard__of__wikipedia_1_1knowledge__retriever_1_1knowledge__retriever_1_1KnowledgeRetrieverAgent_a6869be2c3be40d0ccac44b6b19357f26}{opt}
\item 
\hyperlink{classprojects_1_1wizard__of__wikipedia_1_1knowledge__retriever_1_1knowledge__retriever_1_1KnowledgeRetrieverAgent_a844234360c751d35f7cbd55f6e40eb88}{add\+\_\+token\+\_\+knowledge}
\item 
\hyperlink{classprojects_1_1wizard__of__wikipedia_1_1knowledge__retriever_1_1knowledge__retriever_1_1KnowledgeRetrieverAgent_af2a0ab10072155f6bbebf166f8e7fb1f}{model\+\_\+path}
\item 
\hyperlink{classprojects_1_1wizard__of__wikipedia_1_1knowledge__retriever_1_1knowledge__retriever_1_1KnowledgeRetrieverAgent_ada9a4811fa4123242270fc9da2b740bd}{selector}
\item 
\hyperlink{classprojects_1_1wizard__of__wikipedia_1_1knowledge__retriever_1_1knowledge__retriever_1_1KnowledgeRetrieverAgent_aed292bc6d233711f3a365438f17f07b8}{retriever}
\item 
\hyperlink{classprojects_1_1wizard__of__wikipedia_1_1knowledge__retriever_1_1knowledge__retriever_1_1KnowledgeRetrieverAgent_a1c0bf41e2cddb1265a1ef06854309245}{sent\+\_\+tok}
\item 
\hyperlink{classprojects_1_1wizard__of__wikipedia_1_1knowledge__retriever_1_1knowledge__retriever_1_1KnowledgeRetrieverAgent_ab448fa581f073b320b5fc1d678db1862}{wiki\+\_\+map}
\item 
\hyperlink{classprojects_1_1wizard__of__wikipedia_1_1knowledge__retriever_1_1knowledge__retriever_1_1KnowledgeRetrieverAgent_a93d3e411a4309ab826aec19d7f7554f1}{id}
\item 
\hyperlink{classprojects_1_1wizard__of__wikipedia_1_1knowledge__retriever_1_1knowledge__retriever_1_1KnowledgeRetrieverAgent_ad3360729c61c66a52de9424ab1ca8b8b}{retriever\+\_\+history}
\item 
\hyperlink{classprojects_1_1wizard__of__wikipedia_1_1knowledge__retriever_1_1knowledge__retriever_1_1KnowledgeRetrieverAgent_abe817cce2fecf075e151320d3678f237}{dialogue\+\_\+history}
\item 
\hyperlink{classprojects_1_1wizard__of__wikipedia_1_1knowledge__retriever_1_1knowledge__retriever_1_1KnowledgeRetrieverAgent_a27159ce1397703ac47f63f4b7777c2c7}{checked\+\_\+sentence\+\_\+history}
\item 
\hyperlink{classprojects_1_1wizard__of__wikipedia_1_1knowledge__retriever_1_1knowledge__retriever_1_1KnowledgeRetrieverAgent_a5f5a97ffa5bbb97a1a15377a56fd4bdc}{observation}
\item 
\hyperlink{classprojects_1_1wizard__of__wikipedia_1_1knowledge__retriever_1_1knowledge__retriever_1_1KnowledgeRetrieverAgent_a23b756fa8cd8524012ea20ac623ea1f1}{next\+\_\+wizard}
\end{DoxyCompactItemize}


\subsection{Detailed Description}


Definition at line 25 of file knowledge\+\_\+retriever.\+py.



\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classprojects_1_1wizard__of__wikipedia_1_1knowledge__retriever_1_1knowledge__retriever_1_1KnowledgeRetrieverAgent_a56e833bf9622d078a5b8b808091e9060}\label{classprojects_1_1wizard__of__wikipedia_1_1knowledge__retriever_1_1knowledge__retriever_1_1KnowledgeRetrieverAgent_a56e833bf9622d078a5b8b808091e9060}} 
\index{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent}!\+\_\+\+\_\+init\+\_\+\+\_\+@{\+\_\+\+\_\+init\+\_\+\+\_\+}}
\index{\+\_\+\+\_\+init\+\_\+\+\_\+@{\+\_\+\+\_\+init\+\_\+\+\_\+}!projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent}}
\subsubsection{\texorpdfstring{\+\_\+\+\_\+init\+\_\+\+\_\+()}{\_\_init\_\_()}}
{\footnotesize\ttfamily def projects.\+wizard\+\_\+of\+\_\+wikipedia.\+knowledge\+\_\+retriever.\+knowledge\+\_\+retriever.\+Knowledge\+Retriever\+Agent.\+\_\+\+\_\+init\+\_\+\+\_\+ (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{opt,  }\item[{}]{shared = {\ttfamily None} }\end{DoxyParamCaption})}



Definition at line 50 of file knowledge\+\_\+retriever.\+py.


\begin{DoxyCode}
50     \textcolor{keyword}{def }\_\_init\_\_(self, opt, shared=None):
51         self.opt = opt
52         self.add\_token\_knowledge = opt[\textcolor{stringliteral}{'add\_token\_knowledge'}]
53         self.model\_path = os.path.join(
54             opt[\textcolor{stringliteral}{'datapath'}],
55             \textcolor{stringliteral}{'models'},
56             \textcolor{stringliteral}{'wizard\_of\_wikipedia'},
57             \textcolor{stringliteral}{'full\_dialogue\_retrieval\_model'},
58         )
59 
60         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} shared:
61             \textcolor{comment}{# Create retriever}
62             \hyperlink{namespaceparlai_1_1zoo_1_1wizard__of__wikipedia_1_1knowledge__retriever_a106476a619c671f1333e4de41ee883b6}{download}(opt[\textcolor{stringliteral}{'datapath'}])  \textcolor{comment}{# make sure to download all relevant files}
63             self.\_set\_up\_tfidf\_retriever(opt)
64             self.\_set\_up\_selector(opt)
65         \textcolor{keywordflow}{else}:
66             self.selector = \hyperlink{namespaceparlai_1_1core_1_1agents_aa5af5dd1d2f9da491b60348d479b849f}{create\_agent\_from\_shared}(shared[\textcolor{stringliteral}{'selector'}])
67             self.retriever = shared[\textcolor{stringliteral}{'retriever'}]
68             self.sent\_tok = shared[\textcolor{stringliteral}{'sent\_tok'}]
69             self.wiki\_map = shared[\textcolor{stringliteral}{'wiki\_map'}]
70 
71         self.id = \textcolor{stringliteral}{'KnowledgeRetrieverAgent'}
72 
73         \textcolor{comment}{# NOTE: dialogue history should NOT be shared between instances}
74         self.retriever\_history = \{\textcolor{stringliteral}{'episode\_done'}: \textcolor{keyword}{False}\}
75         self.dialogue\_history = []
76         self.checked\_sentence\_history = []
77 
\end{DoxyCode}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{classprojects_1_1wizard__of__wikipedia_1_1knowledge__retriever_1_1knowledge__retriever_1_1KnowledgeRetrieverAgent_a0a560f254aaecee85d01266ecf5d45b6}\label{classprojects_1_1wizard__of__wikipedia_1_1knowledge__retriever_1_1knowledge__retriever_1_1KnowledgeRetrieverAgent_a0a560f254aaecee85d01266ecf5d45b6}} 
\index{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent}!act@{act}}
\index{act@{act}!projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent}}
\subsubsection{\texorpdfstring{act()}{act()}}
{\footnotesize\ttfamily def projects.\+wizard\+\_\+of\+\_\+wikipedia.\+knowledge\+\_\+retriever.\+knowledge\+\_\+retriever.\+Knowledge\+Retriever\+Agent.\+act (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line 298 of file knowledge\+\_\+retriever.\+py.


\begin{DoxyCode}
298     \textcolor{keyword}{def }act(self):
299         \textcolor{comment}{# retrieve knowledge based on the dialogue history using a TF-IDF retriever}
300         knowledge, knowledge\_no\_title = self.tfidf\_retriever\_act(self.retriever\_history)
301 
302         act = \{\textcolor{stringliteral}{'text'}: knowledge, \textcolor{stringliteral}{'episode\_done'}: \textcolor{keyword}{False}, \textcolor{stringliteral}{'id'}: self.id\}
303         act[\textcolor{stringliteral}{'checked\_sentence'}] = self.\_get\_checked\_sentence(knowledge\_no\_title)
304         act[\textcolor{stringliteral}{'title'}] = self.retriever\_history.get(\textcolor{stringliteral}{'chosen\_topic'}, \textcolor{stringliteral}{''})
305 
306         \textcolor{comment}{# add the wizard reply to the dialogue history (this only happens}
307         \textcolor{comment}{# if there are labels or eval\_labels -- not in interactive mode)}
308         \textcolor{keywordflow}{if} self.next\_wizard \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}:
309             self.maintain\_retriever\_history(
310                 \{\textcolor{stringliteral}{'text'}: self.next\_wizard\}, actor\_id=\textcolor{stringliteral}{'wizard'}
311             )
312 
313         \textcolor{keywordflow}{return} act
314 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1wizard__of__wikipedia_1_1knowledge__retriever_1_1knowledge__retriever_1_1KnowledgeRetrieverAgent_a64886f913a246709fec34c1895d1d88b}\label{classprojects_1_1wizard__of__wikipedia_1_1knowledge__retriever_1_1knowledge__retriever_1_1KnowledgeRetrieverAgent_a64886f913a246709fec34c1895d1d88b}} 
\index{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent}!add\+\_\+cmdline\+\_\+args@{add\+\_\+cmdline\+\_\+args}}
\index{add\+\_\+cmdline\+\_\+args@{add\+\_\+cmdline\+\_\+args}!projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent}}
\subsubsection{\texorpdfstring{add\+\_\+cmdline\+\_\+args()}{add\_cmdline\_args()}}
{\footnotesize\ttfamily def projects.\+wizard\+\_\+of\+\_\+wikipedia.\+knowledge\+\_\+retriever.\+knowledge\+\_\+retriever.\+Knowledge\+Retriever\+Agent.\+add\+\_\+cmdline\+\_\+args (\begin{DoxyParamCaption}\item[{}]{argparser }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\begin{DoxyVerb}Add command-line arguments specifically for this agent.
\end{DoxyVerb}
 

Definition at line 27 of file knowledge\+\_\+retriever.\+py.


\begin{DoxyCode}
27     \textcolor{keyword}{def }\hyperlink{namespaceparlai_1_1agents_1_1drqa_1_1config_a62fdd5554f1da6be0cba185271058320}{add\_cmdline\_args}(argparser):
28         \textcolor{stringliteral}{"""}
29 \textcolor{stringliteral}{        Add command-line arguments specifically for this agent.}
30 \textcolor{stringliteral}{        """}
31         TorchRankerAgent.add\_cmdline\_args(argparser)
32         parser = argparser.add\_argument\_group(\textcolor{stringliteral}{'KnowledgeRetriever Arguments'})
33         parser.add\_argument(\textcolor{stringliteral}{'--retriever-model-file'}, type=str, default=RETRIEVER\_FILE)
34         parser.add\_argument(\textcolor{stringliteral}{'--selector-model-file'}, type=str, default=SELECTOR\_FILE)
35         parser.add\_argument(
36             \textcolor{stringliteral}{'--num-retrieved'},
37             type=int,
38             default=7,
39             help=\textcolor{stringliteral}{'how many passages to retrieve for each category'},
40         )
41         parser.add\_argument(
42             \textcolor{stringliteral}{'--add-token-knowledge'},
43             type=\textcolor{stringliteral}{'bool'},
44             default=\textcolor{keyword}{False},
45             help=\textcolor{stringliteral}{'Add knowledge token to retrieved knowledge'},
46         )
47         parser.add\_argument(\textcolor{stringliteral}{'--debug'}, type=\textcolor{stringliteral}{'bool'}, default=\textcolor{keyword}{False})
48         \textcolor{keywordflow}{return} parser
49 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1wizard__of__wikipedia_1_1knowledge__retriever_1_1knowledge__retriever_1_1KnowledgeRetrieverAgent_ad7ec946d49376942cfa3a8eff0721014}\label{classprojects_1_1wizard__of__wikipedia_1_1knowledge__retriever_1_1knowledge__retriever_1_1KnowledgeRetrieverAgent_ad7ec946d49376942cfa3a8eff0721014}} 
\index{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent}!get\+\_\+chosen\+\_\+topic\+\_\+passages@{get\+\_\+chosen\+\_\+topic\+\_\+passages}}
\index{get\+\_\+chosen\+\_\+topic\+\_\+passages@{get\+\_\+chosen\+\_\+topic\+\_\+passages}!projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent}}
\subsubsection{\texorpdfstring{get\+\_\+chosen\+\_\+topic\+\_\+passages()}{get\_chosen\_topic\_passages()}}
{\footnotesize\ttfamily def projects.\+wizard\+\_\+of\+\_\+wikipedia.\+knowledge\+\_\+retriever.\+knowledge\+\_\+retriever.\+Knowledge\+Retriever\+Agent.\+get\+\_\+chosen\+\_\+topic\+\_\+passages (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{chosen\+\_\+topic }\end{DoxyParamCaption})}



Definition at line 148 of file knowledge\+\_\+retriever.\+py.


\begin{DoxyCode}
148     \textcolor{keyword}{def }get\_chosen\_topic\_passages(self, chosen\_topic):
149         retrieved\_txt\_format = []
150         retrieved\_txt\_format\_no\_title = []
151         \textcolor{keywordflow}{if} chosen\_topic \textcolor{keywordflow}{in} self.wiki\_map:
152             retrieved\_txt = self.wiki\_map[chosen\_topic]
153             retrieved\_txts = retrieved\_txt.split(\textcolor{stringliteral}{'\(\backslash\)n'})
154 
155             \textcolor{keywordflow}{if} len(retrieved\_txts) > 1:
156                 combined = \textcolor{stringliteral}{' '}.join(retrieved\_txts[2:])
157                 sentences = self.sent\_tok.\hyperlink{namespaceparlai_1_1agents_1_1tfidf__retriever_1_1build__tfidf_a1fdb457e98eb4e4c26047e229686a616}{tokenize}(combined)
158                 total = 0
159                 \textcolor{keywordflow}{for} sent \textcolor{keywordflow}{in} sentences:
160                     \textcolor{keywordflow}{if} total >= 10:
161                         \textcolor{keywordflow}{break}
162                     \textcolor{keywordflow}{if} len(sent) > 0:
163                         \textcolor{keywordflow}{if} self.add\_token\_knowledge:
164                             delim = \textcolor{stringliteral}{' '} + TOKEN\_KNOWLEDGE + \textcolor{stringliteral}{' '}
165                         \textcolor{keywordflow}{else}:
166                             delim = \textcolor{stringliteral}{' '}
167                         retrieved\_txt\_format.append(delim.join([chosen\_topic, sent]))
168                         retrieved\_txt\_format\_no\_title.append(sent)
169                         total += 1
170 
171         \textcolor{keywordflow}{if} len(retrieved\_txt\_format) > 0:
172             passages = \textcolor{stringliteral}{'\(\backslash\)n'}.join(retrieved\_txt\_format)
173             passages\_no\_title = \textcolor{stringliteral}{'\(\backslash\)n'}.join(retrieved\_txt\_format\_no\_title)
174         \textcolor{keywordflow}{else}:
175             passages = \textcolor{stringliteral}{''}
176             passages\_no\_title = \textcolor{stringliteral}{''}
177 
178         \textcolor{keywordflow}{return} passages, passages\_no\_title
179 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1wizard__of__wikipedia_1_1knowledge__retriever_1_1knowledge__retriever_1_1KnowledgeRetrieverAgent_a6eded0e2af98d064dcf803b7d239101f}\label{classprojects_1_1wizard__of__wikipedia_1_1knowledge__retriever_1_1knowledge__retriever_1_1KnowledgeRetrieverAgent_a6eded0e2af98d064dcf803b7d239101f}} 
\index{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent}!get\+\_\+passages@{get\+\_\+passages}}
\index{get\+\_\+passages@{get\+\_\+passages}!projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent}}
\subsubsection{\texorpdfstring{get\+\_\+passages()}{get\_passages()}}
{\footnotesize\ttfamily def projects.\+wizard\+\_\+of\+\_\+wikipedia.\+knowledge\+\_\+retriever.\+knowledge\+\_\+retriever.\+Knowledge\+Retriever\+Agent.\+get\+\_\+passages (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{act }\end{DoxyParamCaption})}

\begin{DoxyVerb}Format passages retrieved by taking the first paragraph of the top
`num_retrieved` passages.
\end{DoxyVerb}
 

Definition at line 180 of file knowledge\+\_\+retriever.\+py.


\begin{DoxyCode}
180     \textcolor{keyword}{def }get\_passages(self, act):
181         \textcolor{stringliteral}{"""}
182 \textcolor{stringliteral}{        Format passages retrieved by taking the first paragraph of the top}
183 \textcolor{stringliteral}{        `num\_retrieved` passages.}
184 \textcolor{stringliteral}{        """}
185         retrieved\_txt = act.get(\textcolor{stringliteral}{'text'}, \textcolor{stringliteral}{''})
186         cands = act.get(\textcolor{stringliteral}{'text\_candidates'}, [])
187         \textcolor{keywordflow}{if} len(cands) > 0:
188             retrieved\_txts = cands[: self.opt[\textcolor{stringliteral}{'num\_retrieved'}]]
189         \textcolor{keywordflow}{else}:
190             retrieved\_txts = [retrieved\_txt]
191 
192         retrieved\_txt\_format = []
193         retrieved\_txt\_format\_no\_title = []
194         \textcolor{keywordflow}{for} ret\_txt \textcolor{keywordflow}{in} retrieved\_txts:
195             paragraphs = ret\_txt.split(\textcolor{stringliteral}{'\(\backslash\)n'})
196             \textcolor{keywordflow}{if} len(paragraphs) > 2:
197                 sentences = self.sent\_tok.\hyperlink{namespaceparlai_1_1agents_1_1tfidf__retriever_1_1build__tfidf_a1fdb457e98eb4e4c26047e229686a616}{tokenize}(paragraphs[2])
198                 \textcolor{keywordflow}{for} sent \textcolor{keywordflow}{in} sentences:
199                     \textcolor{keywordflow}{if} self.add\_token\_knowledge:
200                         delim = \textcolor{stringliteral}{' '} + TOKEN\_KNOWLEDGE + \textcolor{stringliteral}{' '}
201                     \textcolor{keywordflow}{else}:
202                         delim = \textcolor{stringliteral}{' '}
203                     retrieved\_txt\_format.append(delim.join([paragraphs[0], sent]))
204                     retrieved\_txt\_format\_no\_title.append(sent)
205 
206         \textcolor{keywordflow}{if} len(retrieved\_txt\_format) > 0:
207             passages = \textcolor{stringliteral}{'\(\backslash\)n'}.join(retrieved\_txt\_format)
208             passages\_no\_title = \textcolor{stringliteral}{'\(\backslash\)n'}.join(retrieved\_txt\_format\_no\_title)
209         \textcolor{keywordflow}{else}:
210             passages = \textcolor{stringliteral}{''}
211             passages\_no\_title = \textcolor{stringliteral}{''}
212 
213         \textcolor{keywordflow}{return} passages, passages\_no\_title
214 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1wizard__of__wikipedia_1_1knowledge__retriever_1_1knowledge__retriever_1_1KnowledgeRetrieverAgent_a2801dcbb7f6d0c021b4e8778498abcb7}\label{classprojects_1_1wizard__of__wikipedia_1_1knowledge__retriever_1_1knowledge__retriever_1_1KnowledgeRetrieverAgent_a2801dcbb7f6d0c021b4e8778498abcb7}} 
\index{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent}!maintain\+\_\+retriever\+\_\+history@{maintain\+\_\+retriever\+\_\+history}}
\index{maintain\+\_\+retriever\+\_\+history@{maintain\+\_\+retriever\+\_\+history}!projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent}}
\subsubsection{\texorpdfstring{maintain\+\_\+retriever\+\_\+history()}{maintain\_retriever\_history()}}
{\footnotesize\ttfamily def projects.\+wizard\+\_\+of\+\_\+wikipedia.\+knowledge\+\_\+retriever.\+knowledge\+\_\+retriever.\+Knowledge\+Retriever\+Agent.\+maintain\+\_\+retriever\+\_\+history (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{obs,  }\item[{}]{actor\+\_\+id = {\ttfamily \textquotesingle{}apprentice\textquotesingle{}} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Maintain texts retrieved by the retriever to mimic the set-up from the data
collection for the task.
\end{DoxyVerb}
 

Definition at line 118 of file knowledge\+\_\+retriever.\+py.


\begin{DoxyCode}
118     \textcolor{keyword}{def }maintain\_retriever\_history(self, obs, actor\_id='apprentice'):
119         \textcolor{stringliteral}{"""}
120 \textcolor{stringliteral}{        Maintain texts retrieved by the retriever to mimic the set-up from the data}
121 \textcolor{stringliteral}{        collection for the task.}
122 \textcolor{stringliteral}{        """}
123 
124         \textcolor{keywordflow}{if} actor\_id == \textcolor{stringliteral}{'apprentice'}:
125             \textcolor{keywordflow}{if} self.retriever\_history[\textcolor{stringliteral}{'episode\_done'}]:
126                 \textcolor{comment}{# clear history}
127                 self.retriever\_history[\textcolor{stringliteral}{'chosen\_topic'}] = \textcolor{stringliteral}{''}
128                 self.retriever\_history[\textcolor{stringliteral}{'wizard'}] = \textcolor{stringliteral}{''}
129                 self.retriever\_history[\textcolor{stringliteral}{'apprentice'}] = \textcolor{stringliteral}{''}
130                 self.retriever\_history[\textcolor{stringliteral}{'episode\_done'}] = \textcolor{keyword}{False}
131                 self.dialogue\_history = []
132 
133             \textcolor{comment}{# save chosen topic}
134             \textcolor{keywordflow}{if} \textcolor{stringliteral}{'chosen\_topic'} \textcolor{keywordflow}{in} obs:
135                 self.retriever\_history[\textcolor{stringliteral}{'chosen\_topic'}] = obs[\textcolor{stringliteral}{'chosen\_topic'}]
136             \textcolor{keywordflow}{if} \textcolor{stringliteral}{'text'} \textcolor{keywordflow}{in} obs:
137                 self.retriever\_history[\textcolor{stringliteral}{'apprentice'}] = obs[\textcolor{stringliteral}{'text'}]
138 
139             self.retriever\_history[\textcolor{stringliteral}{'episode\_done'}] = obs[\textcolor{stringliteral}{'episode\_done'}]
140 
141         \textcolor{keywordflow}{elif} \textcolor{keywordflow}{not} self.retriever\_history[\textcolor{stringliteral}{'episode\_done'}]:
142             \textcolor{comment}{# only add the wizard item to the history if episode\_done is not}
143             \textcolor{comment}{# True}
144             self.retriever\_history[\textcolor{stringliteral}{'wizard'}] = obs[\textcolor{stringliteral}{'text'}]
145 
146         self.dialogue\_history.append(\{\textcolor{stringliteral}{'id'}: actor\_id, \textcolor{stringliteral}{'text'}: obs[\textcolor{stringliteral}{'text'}]\})
147 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1wizard__of__wikipedia_1_1knowledge__retriever_1_1knowledge__retriever_1_1KnowledgeRetrieverAgent_a5116c18367cb3b8067ae2db42cce9773}\label{classprojects_1_1wizard__of__wikipedia_1_1knowledge__retriever_1_1knowledge__retriever_1_1KnowledgeRetrieverAgent_a5116c18367cb3b8067ae2db42cce9773}} 
\index{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent}!observe@{observe}}
\index{observe@{observe}!projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent}}
\subsubsection{\texorpdfstring{observe()}{observe()}}
{\footnotesize\ttfamily def projects.\+wizard\+\_\+of\+\_\+wikipedia.\+knowledge\+\_\+retriever.\+knowledge\+\_\+retriever.\+Knowledge\+Retriever\+Agent.\+observe (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{observation,  }\item[{}]{actor\+\_\+id = {\ttfamily \textquotesingle{}apprentice\textquotesingle{}} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Observe a dialogue act.

Use `actor_id` to indicate whether dialogue acts are from the 'apprentice' or
the 'wizard' agent.
\end{DoxyVerb}
 

Definition at line 315 of file knowledge\+\_\+retriever.\+py.


\begin{DoxyCode}
315     \textcolor{keyword}{def }observe(self, observation, actor\_id='apprentice'):
316         \textcolor{stringliteral}{"""}
317 \textcolor{stringliteral}{        Observe a dialogue act.}
318 \textcolor{stringliteral}{}
319 \textcolor{stringliteral}{        Use `actor\_id` to indicate whether dialogue acts are from the 'apprentice' or}
320 \textcolor{stringliteral}{        the 'wizard' agent.}
321 \textcolor{stringliteral}{        """}
322         \textcolor{keywordflow}{if} actor\_id == \textcolor{stringliteral}{'apprentice'}:
323             self.observation = observation
324         self.maintain\_retriever\_history(observation, actor\_id=actor\_id)
325         \textcolor{keywordflow}{if} \textcolor{stringliteral}{'labels'} \textcolor{keywordflow}{in} observation \textcolor{keywordflow}{or} \textcolor{stringliteral}{'eval\_labels'} \textcolor{keywordflow}{in} observation:
326             labels = \textcolor{stringliteral}{'labels'} \textcolor{keywordflow}{if} \textcolor{stringliteral}{'labels'} \textcolor{keywordflow}{in} observation \textcolor{keywordflow}{else} \textcolor{stringliteral}{'eval\_labels'}
327             self.next\_wizard = observation[labels][0]
328         \textcolor{keywordflow}{else}:
329             \textcolor{comment}{# NOTE: if we are in interactive mode, we need to make sure}
330             \textcolor{comment}{# to call observe again on the wizard's act}
331             self.next\_wizard = \textcolor{keywordtype}{None}
332 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1wizard__of__wikipedia_1_1knowledge__retriever_1_1knowledge__retriever_1_1KnowledgeRetrieverAgent_a1befed09274e61e1872da0a0d8bf9804}\label{classprojects_1_1wizard__of__wikipedia_1_1knowledge__retriever_1_1knowledge__retriever_1_1KnowledgeRetrieverAgent_a1befed09274e61e1872da0a0d8bf9804}} 
\index{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent}!share@{share}}
\index{share@{share}!projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent}}
\subsubsection{\texorpdfstring{share()}{share()}}
{\footnotesize\ttfamily def projects.\+wizard\+\_\+of\+\_\+wikipedia.\+knowledge\+\_\+retriever.\+knowledge\+\_\+retriever.\+Knowledge\+Retriever\+Agent.\+share (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line 333 of file knowledge\+\_\+retriever.\+py.


\begin{DoxyCode}
333     \textcolor{keyword}{def }share(self):
334         shared = super().share()
335         shared[\textcolor{stringliteral}{'opt'}] = self.opt
336         shared[\textcolor{stringliteral}{'retriever'}] = self.retriever
337         shared[\textcolor{stringliteral}{'selector'}] = self.selector.share()
338         shared[\textcolor{stringliteral}{'sent\_tok'}] = self.sent\_tok
339         shared[\textcolor{stringliteral}{'wiki\_map'}] = self.wiki\_map
340         \textcolor{keywordflow}{return} shared
341 \end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1wizard__of__wikipedia_1_1knowledge__retriever_1_1knowledge__retriever_1_1KnowledgeRetrieverAgent_a389261b03820abae81c05211056db463}\label{classprojects_1_1wizard__of__wikipedia_1_1knowledge__retriever_1_1knowledge__retriever_1_1KnowledgeRetrieverAgent_a389261b03820abae81c05211056db463}} 
\index{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent}!tfidf\+\_\+retriever\+\_\+act@{tfidf\+\_\+retriever\+\_\+act}}
\index{tfidf\+\_\+retriever\+\_\+act@{tfidf\+\_\+retriever\+\_\+act}!projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent}}
\subsubsection{\texorpdfstring{tfidf\+\_\+retriever\+\_\+act()}{tfidf\_retriever\_act()}}
{\footnotesize\ttfamily def projects.\+wizard\+\_\+of\+\_\+wikipedia.\+knowledge\+\_\+retriever.\+knowledge\+\_\+retriever.\+Knowledge\+Retriever\+Agent.\+tfidf\+\_\+retriever\+\_\+act (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{history }\end{DoxyParamCaption})}

\begin{DoxyVerb}Combines and formats texts retrieved by the TFIDF retriever for the chosen
topic, the last thing the wizard said, and the last thing the apprentice said.
\end{DoxyVerb}
 

Definition at line 215 of file knowledge\+\_\+retriever.\+py.


\begin{DoxyCode}
215     \textcolor{keyword}{def }tfidf\_retriever\_act(self, history):
216         \textcolor{stringliteral}{"""}
217 \textcolor{stringliteral}{        Combines and formats texts retrieved by the TFIDF retriever for the chosen}
218 \textcolor{stringliteral}{        topic, the last thing the wizard said, and the last thing the apprentice said.}
219 \textcolor{stringliteral}{        """}
220         \textcolor{comment}{# retrieve on chosen topic}
221         chosen\_topic\_txts = \textcolor{keywordtype}{None}
222         \textcolor{keywordflow}{if} self.retriever\_history.get(\textcolor{stringliteral}{'chosen\_topic'}):
223             (
224                 chosen\_topic\_txts,
225                 chosen\_topic\_txts\_no\_title,
226             ) = self.get\_chosen\_topic\_passages(self.retriever\_history[\textcolor{stringliteral}{'chosen\_topic'}])
227 
228         \textcolor{comment}{# retrieve on apprentice}
229         apprentice\_txts = \textcolor{keywordtype}{None}
230         \textcolor{keywordflow}{if} self.retriever\_history.get(\textcolor{stringliteral}{'apprentice'}):
231             apprentice\_act = \{
232                 \textcolor{stringliteral}{'text'}: self.retriever\_history[\textcolor{stringliteral}{'apprentice'}],
233                 \textcolor{stringliteral}{'episode\_done'}: \textcolor{keyword}{True},
234             \}
235             self.retriever.observe(apprentice\_act)
236             apprentice\_txts, apprentice\_txts\_no\_title = self.get\_passages(
237                 self.retriever.act()
238             )
239 
240         \textcolor{comment}{# retrieve on wizard}
241         wizard\_txts = \textcolor{keywordtype}{None}
242         \textcolor{keywordflow}{if} self.retriever\_history.get(\textcolor{stringliteral}{'wizard'}):
243             wizard\_act = \{
244                 \textcolor{stringliteral}{'text'}: self.retriever\_history[\textcolor{stringliteral}{'wizard'}],
245                 \textcolor{stringliteral}{'episode\_done'}: \textcolor{keyword}{True},
246             \}
247             self.retriever.observe(wizard\_act)
248             wizard\_txts, wizard\_txts\_no\_title = self.get\_passages(self.retriever.act())
249 
250         \textcolor{comment}{# combine everything}
251         combined\_txt = \textcolor{stringliteral}{''}
252         combined\_txt\_no\_title = \textcolor{stringliteral}{''}
253         \textcolor{keywordflow}{if} chosen\_topic\_txts:
254             combined\_txt += chosen\_topic\_txts
255             combined\_txt\_no\_title += chosen\_topic\_txts\_no\_title
256         \textcolor{keywordflow}{if} wizard\_txts:
257             combined\_txt += \textcolor{stringliteral}{'\(\backslash\)n'} + wizard\_txts
258             combined\_txt\_no\_title += \textcolor{stringliteral}{'\(\backslash\)n'} + wizard\_txts\_no\_title
259         \textcolor{keywordflow}{if} apprentice\_txts:
260             combined\_txt += \textcolor{stringliteral}{'\(\backslash\)n'} + apprentice\_txts
261             combined\_txt\_no\_title += \textcolor{stringliteral}{'\(\backslash\)n'} + apprentice\_txts\_no\_title
262 
263         \textcolor{keywordflow}{return} combined\_txt, combined\_txt\_no\_title
264 
\end{DoxyCode}


\subsection{Member Data Documentation}
\mbox{\Hypertarget{classprojects_1_1wizard__of__wikipedia_1_1knowledge__retriever_1_1knowledge__retriever_1_1KnowledgeRetrieverAgent_a844234360c751d35f7cbd55f6e40eb88}\label{classprojects_1_1wizard__of__wikipedia_1_1knowledge__retriever_1_1knowledge__retriever_1_1KnowledgeRetrieverAgent_a844234360c751d35f7cbd55f6e40eb88}} 
\index{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent}!add\+\_\+token\+\_\+knowledge@{add\+\_\+token\+\_\+knowledge}}
\index{add\+\_\+token\+\_\+knowledge@{add\+\_\+token\+\_\+knowledge}!projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent}}
\subsubsection{\texorpdfstring{add\+\_\+token\+\_\+knowledge}{add\_token\_knowledge}}
{\footnotesize\ttfamily projects.\+wizard\+\_\+of\+\_\+wikipedia.\+knowledge\+\_\+retriever.\+knowledge\+\_\+retriever.\+Knowledge\+Retriever\+Agent.\+add\+\_\+token\+\_\+knowledge}



Definition at line 52 of file knowledge\+\_\+retriever.\+py.

\mbox{\Hypertarget{classprojects_1_1wizard__of__wikipedia_1_1knowledge__retriever_1_1knowledge__retriever_1_1KnowledgeRetrieverAgent_a27159ce1397703ac47f63f4b7777c2c7}\label{classprojects_1_1wizard__of__wikipedia_1_1knowledge__retriever_1_1knowledge__retriever_1_1KnowledgeRetrieverAgent_a27159ce1397703ac47f63f4b7777c2c7}} 
\index{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent}!checked\+\_\+sentence\+\_\+history@{checked\+\_\+sentence\+\_\+history}}
\index{checked\+\_\+sentence\+\_\+history@{checked\+\_\+sentence\+\_\+history}!projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent}}
\subsubsection{\texorpdfstring{checked\+\_\+sentence\+\_\+history}{checked\_sentence\_history}}
{\footnotesize\ttfamily projects.\+wizard\+\_\+of\+\_\+wikipedia.\+knowledge\+\_\+retriever.\+knowledge\+\_\+retriever.\+Knowledge\+Retriever\+Agent.\+checked\+\_\+sentence\+\_\+history}



Definition at line 76 of file knowledge\+\_\+retriever.\+py.

\mbox{\Hypertarget{classprojects_1_1wizard__of__wikipedia_1_1knowledge__retriever_1_1knowledge__retriever_1_1KnowledgeRetrieverAgent_abe817cce2fecf075e151320d3678f237}\label{classprojects_1_1wizard__of__wikipedia_1_1knowledge__retriever_1_1knowledge__retriever_1_1KnowledgeRetrieverAgent_abe817cce2fecf075e151320d3678f237}} 
\index{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent}!dialogue\+\_\+history@{dialogue\+\_\+history}}
\index{dialogue\+\_\+history@{dialogue\+\_\+history}!projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent}}
\subsubsection{\texorpdfstring{dialogue\+\_\+history}{dialogue\_history}}
{\footnotesize\ttfamily projects.\+wizard\+\_\+of\+\_\+wikipedia.\+knowledge\+\_\+retriever.\+knowledge\+\_\+retriever.\+Knowledge\+Retriever\+Agent.\+dialogue\+\_\+history}



Definition at line 75 of file knowledge\+\_\+retriever.\+py.

\mbox{\Hypertarget{classprojects_1_1wizard__of__wikipedia_1_1knowledge__retriever_1_1knowledge__retriever_1_1KnowledgeRetrieverAgent_a93d3e411a4309ab826aec19d7f7554f1}\label{classprojects_1_1wizard__of__wikipedia_1_1knowledge__retriever_1_1knowledge__retriever_1_1KnowledgeRetrieverAgent_a93d3e411a4309ab826aec19d7f7554f1}} 
\index{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent}!id@{id}}
\index{id@{id}!projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent}}
\subsubsection{\texorpdfstring{id}{id}}
{\footnotesize\ttfamily projects.\+wizard\+\_\+of\+\_\+wikipedia.\+knowledge\+\_\+retriever.\+knowledge\+\_\+retriever.\+Knowledge\+Retriever\+Agent.\+id}



Definition at line 71 of file knowledge\+\_\+retriever.\+py.

\mbox{\Hypertarget{classprojects_1_1wizard__of__wikipedia_1_1knowledge__retriever_1_1knowledge__retriever_1_1KnowledgeRetrieverAgent_af2a0ab10072155f6bbebf166f8e7fb1f}\label{classprojects_1_1wizard__of__wikipedia_1_1knowledge__retriever_1_1knowledge__retriever_1_1KnowledgeRetrieverAgent_af2a0ab10072155f6bbebf166f8e7fb1f}} 
\index{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent}!model\+\_\+path@{model\+\_\+path}}
\index{model\+\_\+path@{model\+\_\+path}!projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent}}
\subsubsection{\texorpdfstring{model\+\_\+path}{model\_path}}
{\footnotesize\ttfamily projects.\+wizard\+\_\+of\+\_\+wikipedia.\+knowledge\+\_\+retriever.\+knowledge\+\_\+retriever.\+Knowledge\+Retriever\+Agent.\+model\+\_\+path}



Definition at line 53 of file knowledge\+\_\+retriever.\+py.

\mbox{\Hypertarget{classprojects_1_1wizard__of__wikipedia_1_1knowledge__retriever_1_1knowledge__retriever_1_1KnowledgeRetrieverAgent_a23b756fa8cd8524012ea20ac623ea1f1}\label{classprojects_1_1wizard__of__wikipedia_1_1knowledge__retriever_1_1knowledge__retriever_1_1KnowledgeRetrieverAgent_a23b756fa8cd8524012ea20ac623ea1f1}} 
\index{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent}!next\+\_\+wizard@{next\+\_\+wizard}}
\index{next\+\_\+wizard@{next\+\_\+wizard}!projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent}}
\subsubsection{\texorpdfstring{next\+\_\+wizard}{next\_wizard}}
{\footnotesize\ttfamily projects.\+wizard\+\_\+of\+\_\+wikipedia.\+knowledge\+\_\+retriever.\+knowledge\+\_\+retriever.\+Knowledge\+Retriever\+Agent.\+next\+\_\+wizard}



Definition at line 327 of file knowledge\+\_\+retriever.\+py.

\mbox{\Hypertarget{classprojects_1_1wizard__of__wikipedia_1_1knowledge__retriever_1_1knowledge__retriever_1_1KnowledgeRetrieverAgent_a5f5a97ffa5bbb97a1a15377a56fd4bdc}\label{classprojects_1_1wizard__of__wikipedia_1_1knowledge__retriever_1_1knowledge__retriever_1_1KnowledgeRetrieverAgent_a5f5a97ffa5bbb97a1a15377a56fd4bdc}} 
\index{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent}!observation@{observation}}
\index{observation@{observation}!projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent}}
\subsubsection{\texorpdfstring{observation}{observation}}
{\footnotesize\ttfamily projects.\+wizard\+\_\+of\+\_\+wikipedia.\+knowledge\+\_\+retriever.\+knowledge\+\_\+retriever.\+Knowledge\+Retriever\+Agent.\+observation}



Definition at line 323 of file knowledge\+\_\+retriever.\+py.

\mbox{\Hypertarget{classprojects_1_1wizard__of__wikipedia_1_1knowledge__retriever_1_1knowledge__retriever_1_1KnowledgeRetrieverAgent_a6869be2c3be40d0ccac44b6b19357f26}\label{classprojects_1_1wizard__of__wikipedia_1_1knowledge__retriever_1_1knowledge__retriever_1_1KnowledgeRetrieverAgent_a6869be2c3be40d0ccac44b6b19357f26}} 
\index{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent}!opt@{opt}}
\index{opt@{opt}!projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent}}
\subsubsection{\texorpdfstring{opt}{opt}}
{\footnotesize\ttfamily projects.\+wizard\+\_\+of\+\_\+wikipedia.\+knowledge\+\_\+retriever.\+knowledge\+\_\+retriever.\+Knowledge\+Retriever\+Agent.\+opt}



Definition at line 51 of file knowledge\+\_\+retriever.\+py.

\mbox{\Hypertarget{classprojects_1_1wizard__of__wikipedia_1_1knowledge__retriever_1_1knowledge__retriever_1_1KnowledgeRetrieverAgent_aed292bc6d233711f3a365438f17f07b8}\label{classprojects_1_1wizard__of__wikipedia_1_1knowledge__retriever_1_1knowledge__retriever_1_1KnowledgeRetrieverAgent_aed292bc6d233711f3a365438f17f07b8}} 
\index{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent}!retriever@{retriever}}
\index{retriever@{retriever}!projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent}}
\subsubsection{\texorpdfstring{retriever}{retriever}}
{\footnotesize\ttfamily projects.\+wizard\+\_\+of\+\_\+wikipedia.\+knowledge\+\_\+retriever.\+knowledge\+\_\+retriever.\+Knowledge\+Retriever\+Agent.\+retriever}



Definition at line 67 of file knowledge\+\_\+retriever.\+py.

\mbox{\Hypertarget{classprojects_1_1wizard__of__wikipedia_1_1knowledge__retriever_1_1knowledge__retriever_1_1KnowledgeRetrieverAgent_ad3360729c61c66a52de9424ab1ca8b8b}\label{classprojects_1_1wizard__of__wikipedia_1_1knowledge__retriever_1_1knowledge__retriever_1_1KnowledgeRetrieverAgent_ad3360729c61c66a52de9424ab1ca8b8b}} 
\index{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent}!retriever\+\_\+history@{retriever\+\_\+history}}
\index{retriever\+\_\+history@{retriever\+\_\+history}!projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent}}
\subsubsection{\texorpdfstring{retriever\+\_\+history}{retriever\_history}}
{\footnotesize\ttfamily projects.\+wizard\+\_\+of\+\_\+wikipedia.\+knowledge\+\_\+retriever.\+knowledge\+\_\+retriever.\+Knowledge\+Retriever\+Agent.\+retriever\+\_\+history}



Definition at line 74 of file knowledge\+\_\+retriever.\+py.

\mbox{\Hypertarget{classprojects_1_1wizard__of__wikipedia_1_1knowledge__retriever_1_1knowledge__retriever_1_1KnowledgeRetrieverAgent_ada9a4811fa4123242270fc9da2b740bd}\label{classprojects_1_1wizard__of__wikipedia_1_1knowledge__retriever_1_1knowledge__retriever_1_1KnowledgeRetrieverAgent_ada9a4811fa4123242270fc9da2b740bd}} 
\index{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent}!selector@{selector}}
\index{selector@{selector}!projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent}}
\subsubsection{\texorpdfstring{selector}{selector}}
{\footnotesize\ttfamily projects.\+wizard\+\_\+of\+\_\+wikipedia.\+knowledge\+\_\+retriever.\+knowledge\+\_\+retriever.\+Knowledge\+Retriever\+Agent.\+selector}



Definition at line 66 of file knowledge\+\_\+retriever.\+py.

\mbox{\Hypertarget{classprojects_1_1wizard__of__wikipedia_1_1knowledge__retriever_1_1knowledge__retriever_1_1KnowledgeRetrieverAgent_a1c0bf41e2cddb1265a1ef06854309245}\label{classprojects_1_1wizard__of__wikipedia_1_1knowledge__retriever_1_1knowledge__retriever_1_1KnowledgeRetrieverAgent_a1c0bf41e2cddb1265a1ef06854309245}} 
\index{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent}!sent\+\_\+tok@{sent\+\_\+tok}}
\index{sent\+\_\+tok@{sent\+\_\+tok}!projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent}}
\subsubsection{\texorpdfstring{sent\+\_\+tok}{sent\_tok}}
{\footnotesize\ttfamily projects.\+wizard\+\_\+of\+\_\+wikipedia.\+knowledge\+\_\+retriever.\+knowledge\+\_\+retriever.\+Knowledge\+Retriever\+Agent.\+sent\+\_\+tok}



Definition at line 68 of file knowledge\+\_\+retriever.\+py.

\mbox{\Hypertarget{classprojects_1_1wizard__of__wikipedia_1_1knowledge__retriever_1_1knowledge__retriever_1_1KnowledgeRetrieverAgent_ab448fa581f073b320b5fc1d678db1862}\label{classprojects_1_1wizard__of__wikipedia_1_1knowledge__retriever_1_1knowledge__retriever_1_1KnowledgeRetrieverAgent_ab448fa581f073b320b5fc1d678db1862}} 
\index{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent}!wiki\+\_\+map@{wiki\+\_\+map}}
\index{wiki\+\_\+map@{wiki\+\_\+map}!projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::knowledge\+\_\+retriever\+::knowledge\+\_\+retriever\+::\+Knowledge\+Retriever\+Agent}}
\subsubsection{\texorpdfstring{wiki\+\_\+map}{wiki\_map}}
{\footnotesize\ttfamily projects.\+wizard\+\_\+of\+\_\+wikipedia.\+knowledge\+\_\+retriever.\+knowledge\+\_\+retriever.\+Knowledge\+Retriever\+Agent.\+wiki\+\_\+map}



Definition at line 69 of file knowledge\+\_\+retriever.\+py.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
projects/wizard\+\_\+of\+\_\+wikipedia/knowledge\+\_\+retriever/\hyperlink{projects_2wizard__of__wikipedia_2knowledge__retriever_2knowledge__retriever_8py}{knowledge\+\_\+retriever.\+py}\end{DoxyCompactItemize}
