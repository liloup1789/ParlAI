\hypertarget{classparlai_1_1mturk_1_1core_1_1dev_1_1test_1_1test__mturk__manager_1_1TestMTurkManagerUnitFunctions}{}\section{parlai.\+mturk.\+core.\+dev.\+test.\+test\+\_\+mturk\+\_\+manager.\+Test\+M\+Turk\+Manager\+Unit\+Functions Class Reference}
\label{classparlai_1_1mturk_1_1core_1_1dev_1_1test_1_1test__mturk__manager_1_1TestMTurkManagerUnitFunctions}\index{parlai.\+mturk.\+core.\+dev.\+test.\+test\+\_\+mturk\+\_\+manager.\+Test\+M\+Turk\+Manager\+Unit\+Functions@{parlai.\+mturk.\+core.\+dev.\+test.\+test\+\_\+mturk\+\_\+manager.\+Test\+M\+Turk\+Manager\+Unit\+Functions}}


Inheritance diagram for parlai.\+mturk.\+core.\+dev.\+test.\+test\+\_\+mturk\+\_\+manager.\+Test\+M\+Turk\+Manager\+Unit\+Functions\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=275pt]{df/dcd/classparlai_1_1mturk_1_1core_1_1dev_1_1test_1_1test__mturk__manager_1_1TestMTurkManagerUnitFunctions__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for parlai.\+mturk.\+core.\+dev.\+test.\+test\+\_\+mturk\+\_\+manager.\+Test\+M\+Turk\+Manager\+Unit\+Functions\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=275pt]{dd/d54/classparlai_1_1mturk_1_1core_1_1dev_1_1test_1_1test__mturk__manager_1_1TestMTurkManagerUnitFunctions__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1dev_1_1test_1_1test__mturk__manager_1_1TestMTurkManagerUnitFunctions_adaf4bbd8601fc1df928254c5bab460d7}{set\+Up} (self)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1dev_1_1test_1_1test__mturk__manager_1_1TestMTurkManagerUnitFunctions_a91b705565575db1f108703e1559409b1}{tear\+Down} (self)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1dev_1_1test_1_1test__mturk__manager_1_1TestMTurkManagerUnitFunctions_a9842f2d20f095174c0c1e690a14f1311}{test\+\_\+move\+\_\+to\+\_\+waiting} (self)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1dev_1_1test_1_1test__mturk__manager_1_1TestMTurkManagerUnitFunctions_a55a68e0d5f5570efbe667d590bd37df9}{test\+\_\+socket\+\_\+setup} (self)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1dev_1_1test_1_1test__mturk__manager_1_1TestMTurkManagerUnitFunctions_a0a941d24785aa95bd1754ec985899eae}{test\+\_\+worker\+\_\+alive} (self)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1dev_1_1test_1_1test__mturk__manager_1_1TestMTurkManagerUnitFunctions_af68aff7c18fb80c0c3b9dcc683e84ffa}{test\+\_\+mturk\+\_\+messages} (self)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1dev_1_1test_1_1test__mturk__manager_1_1TestMTurkManagerUnitFunctions_a82e736fd03c5f23710bba01e9335f6b8}{test\+\_\+new\+\_\+message} (self)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1dev_1_1test_1_1test__mturk__manager_1_1TestMTurkManagerUnitFunctions_a9439aba4f729dacb09ac64fd0dccbf0f}{test\+\_\+onboarding\+\_\+function} (self)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1dev_1_1test_1_1test__mturk__manager_1_1TestMTurkManagerUnitFunctions_a6f0c764c9678fa486fefb355ce5896f1}{test\+\_\+agents\+\_\+incomplete} (self)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1dev_1_1test_1_1test__mturk__manager_1_1TestMTurkManagerUnitFunctions_aafa25792d9c1368be3f2df182a6109f1}{test\+\_\+world\+\_\+types} (self)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1dev_1_1test_1_1test__mturk__manager_1_1TestMTurkManagerUnitFunctions_a19c8394ebe1f54d5cf9b1bcad6920ec9}{test\+\_\+turk\+\_\+timeout} (self)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1dev_1_1test_1_1test__mturk__manager_1_1TestMTurkManagerUnitFunctions_a6fe5e5af6b831868b8570f8015efafea}{test\+\_\+wait\+\_\+for\+\_\+task\+\_\+expirations} (self)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1dev_1_1test_1_1test__mturk__manager_1_1TestMTurkManagerUnitFunctions_ad8cf3af0039dd5eea8fb280b3375c3c4}{test\+\_\+mark\+\_\+workers\+\_\+done} (self)
\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1dev_1_1test_1_1test__mturk__manager_1_1TestMTurkManagerUnitFunctions_a1e84c87faf30268659b805a20bbc5b61}{fake\+\_\+socket}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1dev_1_1test_1_1test__mturk__manager_1_1TestMTurkManagerUnitFunctions_ac17240901eca7de90b9bda1d0ef51ee5}{opt}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1dev_1_1test_1_1test__mturk__manager_1_1TestMTurkManagerUnitFunctions_a094ae6babb0713956db4a8d26638b3bc}{mturk\+\_\+agent\+\_\+ids}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1dev_1_1test_1_1test__mturk__manager_1_1TestMTurkManagerUnitFunctions_a61563b3db9de781c6e01dde102732082}{mturk\+\_\+manager}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1dev_1_1test_1_1test__mturk__manager_1_1TestMTurkManagerUnitFunctions_a0ddc7e52e532e3d6066e357237af8884}{agent\+\_\+1}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1dev_1_1test_1_1test__mturk__manager_1_1TestMTurkManagerUnitFunctions_ada8da646678c6556ef649b54579f289a}{agent\+\_\+2}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1dev_1_1test_1_1test__mturk__manager_1_1TestMTurkManagerUnitFunctions_ac1fca9dd6e40519f94317db78c8d25c6}{agent\+\_\+3}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
\begin{DoxyVerb}Tests some of the simpler MTurkManager functions that don't require much additional
state to run.
\end{DoxyVerb}
 

Definition at line 202 of file test\+\_\+mturk\+\_\+manager.\+py.



\subsection{Member Function Documentation}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1dev_1_1test_1_1test__mturk__manager_1_1TestMTurkManagerUnitFunctions_adaf4bbd8601fc1df928254c5bab460d7}\label{classparlai_1_1mturk_1_1core_1_1dev_1_1test_1_1test__mturk__manager_1_1TestMTurkManagerUnitFunctions_adaf4bbd8601fc1df928254c5bab460d7}} 
\index{parlai\+::mturk\+::core\+::dev\+::test\+::test\+\_\+mturk\+\_\+manager\+::\+Test\+M\+Turk\+Manager\+Unit\+Functions@{parlai\+::mturk\+::core\+::dev\+::test\+::test\+\_\+mturk\+\_\+manager\+::\+Test\+M\+Turk\+Manager\+Unit\+Functions}!set\+Up@{set\+Up}}
\index{set\+Up@{set\+Up}!parlai\+::mturk\+::core\+::dev\+::test\+::test\+\_\+mturk\+\_\+manager\+::\+Test\+M\+Turk\+Manager\+Unit\+Functions@{parlai\+::mturk\+::core\+::dev\+::test\+::test\+\_\+mturk\+\_\+manager\+::\+Test\+M\+Turk\+Manager\+Unit\+Functions}}
\subsubsection{\texorpdfstring{set\+Up()}{setUp()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+dev.\+test.\+test\+\_\+mturk\+\_\+manager.\+Test\+M\+Turk\+Manager\+Unit\+Functions.\+set\+Up (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line 208 of file test\+\_\+mturk\+\_\+manager.\+py.


\begin{DoxyCode}
208     \textcolor{keyword}{def }setUp(self):
209         self.fake\_socket = MockSocket()
210         time.sleep(0.1)
211         argparser = ParlaiParser(\textcolor{keyword}{False}, \textcolor{keyword}{False})
212         argparser.add\_parlai\_data\_path()
213         argparser.add\_mturk\_args()
214         self.opt = argparser.parse\_args(print\_args=\textcolor{keyword}{False})
215         self.opt[\textcolor{stringliteral}{'task'}] = \textcolor{stringliteral}{'unittest'}
216         self.opt[\textcolor{stringliteral}{'assignment\_duration\_in\_seconds'}] = 6
217         self.mturk\_agent\_ids = [\textcolor{stringliteral}{'mturk\_agent\_1'}, \textcolor{stringliteral}{'mturk\_agent\_2'}]
218         self.mturk\_manager = MTurkManager(
219             opt=self.opt, mturk\_agent\_ids=self.mturk\_agent\_ids, is\_test=\textcolor{keyword}{True}
220         )
221         self.mturk\_manager.\_init\_state()
222         self.mturk\_manager.send\_state\_change = mock.MagicMock()
223         self.mturk\_manager.port = self.fake\_socket.port
224         self.agent\_1 = MTurkAgent(
225             self.opt,
226             self.mturk\_manager,
227             TEST\_HIT\_ID\_1,
228             TEST\_ASSIGNMENT\_ID\_1,
229             TEST\_WORKER\_ID\_1,
230         )
231         self.agent\_2 = MTurkAgent(
232             self.opt,
233             self.mturk\_manager,
234             TEST\_HIT\_ID\_2,
235             TEST\_ASSIGNMENT\_ID\_2,
236             TEST\_WORKER\_ID\_2,
237         )
238         self.agent\_3 = MTurkAgent(
239             self.opt,
240             self.mturk\_manager,
241             TEST\_HIT\_ID\_3,
242             TEST\_ASSIGNMENT\_ID\_3,
243             TEST\_WORKER\_ID\_3,
244         )
245 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1dev_1_1test_1_1test__mturk__manager_1_1TestMTurkManagerUnitFunctions_a91b705565575db1f108703e1559409b1}\label{classparlai_1_1mturk_1_1core_1_1dev_1_1test_1_1test__mturk__manager_1_1TestMTurkManagerUnitFunctions_a91b705565575db1f108703e1559409b1}} 
\index{parlai\+::mturk\+::core\+::dev\+::test\+::test\+\_\+mturk\+\_\+manager\+::\+Test\+M\+Turk\+Manager\+Unit\+Functions@{parlai\+::mturk\+::core\+::dev\+::test\+::test\+\_\+mturk\+\_\+manager\+::\+Test\+M\+Turk\+Manager\+Unit\+Functions}!tear\+Down@{tear\+Down}}
\index{tear\+Down@{tear\+Down}!parlai\+::mturk\+::core\+::dev\+::test\+::test\+\_\+mturk\+\_\+manager\+::\+Test\+M\+Turk\+Manager\+Unit\+Functions@{parlai\+::mturk\+::core\+::dev\+::test\+::test\+\_\+mturk\+\_\+manager\+::\+Test\+M\+Turk\+Manager\+Unit\+Functions}}
\subsubsection{\texorpdfstring{tear\+Down()}{tearDown()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+dev.\+test.\+test\+\_\+mturk\+\_\+manager.\+Test\+M\+Turk\+Manager\+Unit\+Functions.\+tear\+Down (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line 246 of file test\+\_\+mturk\+\_\+manager.\+py.


\begin{DoxyCode}
246     \textcolor{keyword}{def }tearDown(self):
247         self.mturk\_manager.shutdown()
248         self.fake\_socket.close()
249 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1dev_1_1test_1_1test__mturk__manager_1_1TestMTurkManagerUnitFunctions_a6f0c764c9678fa486fefb355ce5896f1}\label{classparlai_1_1mturk_1_1core_1_1dev_1_1test_1_1test__mturk__manager_1_1TestMTurkManagerUnitFunctions_a6f0c764c9678fa486fefb355ce5896f1}} 
\index{parlai\+::mturk\+::core\+::dev\+::test\+::test\+\_\+mturk\+\_\+manager\+::\+Test\+M\+Turk\+Manager\+Unit\+Functions@{parlai\+::mturk\+::core\+::dev\+::test\+::test\+\_\+mturk\+\_\+manager\+::\+Test\+M\+Turk\+Manager\+Unit\+Functions}!test\+\_\+agents\+\_\+incomplete@{test\+\_\+agents\+\_\+incomplete}}
\index{test\+\_\+agents\+\_\+incomplete@{test\+\_\+agents\+\_\+incomplete}!parlai\+::mturk\+::core\+::dev\+::test\+::test\+\_\+mturk\+\_\+manager\+::\+Test\+M\+Turk\+Manager\+Unit\+Functions@{parlai\+::mturk\+::core\+::dev\+::test\+::test\+\_\+mturk\+\_\+manager\+::\+Test\+M\+Turk\+Manager\+Unit\+Functions}}
\subsubsection{\texorpdfstring{test\+\_\+agents\+\_\+incomplete()}{test\_agents\_incomplete()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+dev.\+test.\+test\+\_\+mturk\+\_\+manager.\+Test\+M\+Turk\+Manager\+Unit\+Functions.\+test\+\_\+agents\+\_\+incomplete (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line 588 of file test\+\_\+mturk\+\_\+manager.\+py.


\begin{DoxyCode}
588     \textcolor{keyword}{def }test\_agents\_incomplete(self):
589         agents = [self.agent\_1, self.agent\_2, self.agent\_3]
590         manager = self.mturk\_manager
591         manager.send\_state\_change = mock.MagicMock()
592         self.assertFalse(manager.\_no\_agents\_incomplete(agents))
593         self.agent\_1.set\_status(AssignState.STATUS\_DISCONNECT)
594         self.assertFalse(manager.\_no\_agents\_incomplete(agents))
595         self.agent\_2.set\_status(AssignState.STATUS\_DONE)
596         self.assertFalse(manager.\_no\_agents\_incomplete(agents))
597         self.agent\_3.set\_status(AssignState.STATUS\_PARTNER\_DISCONNECT)
598         self.assertFalse(manager.\_no\_agents\_incomplete(agents))
599         self.agent\_1.set\_status(AssignState.STATUS\_DONE)
600         self.assertFalse(manager.\_no\_agents\_incomplete(agents))
601         self.agent\_3.set\_status(AssignState.STATUS\_DONE)
602         self.assertTrue(manager.\_no\_agents\_incomplete(agents))
603 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1dev_1_1test_1_1test__mturk__manager_1_1TestMTurkManagerUnitFunctions_ad8cf3af0039dd5eea8fb280b3375c3c4}\label{classparlai_1_1mturk_1_1core_1_1dev_1_1test_1_1test__mturk__manager_1_1TestMTurkManagerUnitFunctions_ad8cf3af0039dd5eea8fb280b3375c3c4}} 
\index{parlai\+::mturk\+::core\+::dev\+::test\+::test\+\_\+mturk\+\_\+manager\+::\+Test\+M\+Turk\+Manager\+Unit\+Functions@{parlai\+::mturk\+::core\+::dev\+::test\+::test\+\_\+mturk\+\_\+manager\+::\+Test\+M\+Turk\+Manager\+Unit\+Functions}!test\+\_\+mark\+\_\+workers\+\_\+done@{test\+\_\+mark\+\_\+workers\+\_\+done}}
\index{test\+\_\+mark\+\_\+workers\+\_\+done@{test\+\_\+mark\+\_\+workers\+\_\+done}!parlai\+::mturk\+::core\+::dev\+::test\+::test\+\_\+mturk\+\_\+manager\+::\+Test\+M\+Turk\+Manager\+Unit\+Functions@{parlai\+::mturk\+::core\+::dev\+::test\+::test\+\_\+mturk\+\_\+manager\+::\+Test\+M\+Turk\+Manager\+Unit\+Functions}}
\subsubsection{\texorpdfstring{test\+\_\+mark\+\_\+workers\+\_\+done()}{test\_mark\_workers\_done()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+dev.\+test.\+test\+\_\+mturk\+\_\+manager.\+Test\+M\+Turk\+Manager\+Unit\+Functions.\+test\+\_\+mark\+\_\+workers\+\_\+done (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line 657 of file test\+\_\+mturk\+\_\+manager.\+py.


\begin{DoxyCode}
657     \textcolor{keyword}{def }test\_mark\_workers\_done(self):
658         manager = self.mturk\_manager
659         manager.send\_state\_change = mock.MagicMock()
660         manager.give\_worker\_qualification = mock.MagicMock()
661         manager.\_log\_working\_time = mock.MagicMock()
662         manager.has\_time\_limit = \textcolor{keyword}{False}
663 
664         \textcolor{comment}{# Assert finality doesn't change}
665         self.agent\_1.set\_status(AssignState.STATUS\_DISCONNECT)
666         manager.mark\_workers\_done([self.agent\_1])
667         self.assertEqual(AssignState.STATUS\_DISCONNECT, self.agent\_1.get\_status())
668 
669         \textcolor{comment}{# assert uniqueness works as expected}
670         manager.is\_unique = \textcolor{keyword}{True}
671         with self.assertRaises(AssertionError):
672             manager.mark\_workers\_done([self.agent\_2])
673         manager.give\_worker\_qualification.assert\_not\_called()
674         manager.unique\_qual\_name = \textcolor{stringliteral}{'fake\_qual\_name'}
675         manager.mark\_workers\_done([self.agent\_2])
676         manager.give\_worker\_qualification.assert\_called\_once\_with(
677             self.agent\_2.worker\_id, \textcolor{stringliteral}{'fake\_qual\_name'}
678         )
679         self.assertEqual(self.agent\_2.get\_status(), AssignState.STATUS\_DONE)
680         manager.is\_unique = \textcolor{keyword}{False}
681 
682         \textcolor{comment}{# Ensure working time is called if it's set}
683         manager.has\_time\_limit = \textcolor{keyword}{True}
684         manager.mark\_workers\_done([self.agent\_3])
685         self.assertEqual(self.agent\_3.get\_status(), AssignState.STATUS\_DONE)
686         manager.\_log\_working\_time.assert\_called\_once\_with(self.agent\_3)
687 
688 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1dev_1_1test_1_1test__mturk__manager_1_1TestMTurkManagerUnitFunctions_a9842f2d20f095174c0c1e690a14f1311}\label{classparlai_1_1mturk_1_1core_1_1dev_1_1test_1_1test__mturk__manager_1_1TestMTurkManagerUnitFunctions_a9842f2d20f095174c0c1e690a14f1311}} 
\index{parlai\+::mturk\+::core\+::dev\+::test\+::test\+\_\+mturk\+\_\+manager\+::\+Test\+M\+Turk\+Manager\+Unit\+Functions@{parlai\+::mturk\+::core\+::dev\+::test\+::test\+\_\+mturk\+\_\+manager\+::\+Test\+M\+Turk\+Manager\+Unit\+Functions}!test\+\_\+move\+\_\+to\+\_\+waiting@{test\+\_\+move\+\_\+to\+\_\+waiting}}
\index{test\+\_\+move\+\_\+to\+\_\+waiting@{test\+\_\+move\+\_\+to\+\_\+waiting}!parlai\+::mturk\+::core\+::dev\+::test\+::test\+\_\+mturk\+\_\+manager\+::\+Test\+M\+Turk\+Manager\+Unit\+Functions@{parlai\+::mturk\+::core\+::dev\+::test\+::test\+\_\+mturk\+\_\+manager\+::\+Test\+M\+Turk\+Manager\+Unit\+Functions}}
\subsubsection{\texorpdfstring{test\+\_\+move\+\_\+to\+\_\+waiting()}{test\_move\_to\_waiting()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+dev.\+test.\+test\+\_\+mturk\+\_\+manager.\+Test\+M\+Turk\+Manager\+Unit\+Functions.\+test\+\_\+move\+\_\+to\+\_\+waiting (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line 250 of file test\+\_\+mturk\+\_\+manager.\+py.


\begin{DoxyCode}
250     \textcolor{keyword}{def }test\_move\_to\_waiting(self):
251         manager = self.mturk\_manager
252         manager.socket\_manager = mock.MagicMock()
253         manager.socket\_manager.close\_channel = mock.MagicMock()
254         manager.force\_expire\_hit = mock.MagicMock()
255         self.agent\_1.set\_status(AssignState.STATUS\_DISCONNECT)
256         self.agent\_1.reduce\_state = mock.MagicMock()
257         self.agent\_2.reduce\_state = mock.MagicMock()
258         self.agent\_3.reduce\_state = mock.MagicMock()
259 
260         \textcolor{comment}{# Test with a disconnected agent, assert the channel is closed}
261         manager.\_move\_agents\_to\_waiting([self.agent\_1])
262         self.agent\_1.reduce\_state.assert\_called\_once()
263         manager.socket\_manager.close\_channel.assert\_called\_once\_with(
264             self.agent\_1.get\_connection\_id()
265         )
266         manager.force\_expire\_hit.assert\_not\_called()
267         manager.socket\_manager.close\_channel.reset\_mock()
268 
269         \textcolor{comment}{# Test with a connected agent, should be moved to waiting}
270         manager.\_move\_agents\_to\_waiting([self.agent\_2])
271         self.agent\_2.reduce\_state.assert\_not\_called()
272         manager.socket\_manager.close\_channel.assert\_not\_called()
273         manager.force\_expire\_hit.assert\_not\_called()
274 
275         \textcolor{comment}{# Test when no longer accepting agents}
276         manager.accepting\_workers = \textcolor{keyword}{False}
277         manager.\_move\_agents\_to\_waiting([self.agent\_3])
278         self.agent\_3.reduce\_state.assert\_not\_called()
279         manager.socket\_manager.close\_channel.assert\_not\_called()
280         manager.force\_expire\_hit.assert\_called\_once\_with(
281             self.agent\_3.worker\_id, self.agent\_3.assignment\_id
282         )
283 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1dev_1_1test_1_1test__mturk__manager_1_1TestMTurkManagerUnitFunctions_af68aff7c18fb80c0c3b9dcc683e84ffa}\label{classparlai_1_1mturk_1_1core_1_1dev_1_1test_1_1test__mturk__manager_1_1TestMTurkManagerUnitFunctions_af68aff7c18fb80c0c3b9dcc683e84ffa}} 
\index{parlai\+::mturk\+::core\+::dev\+::test\+::test\+\_\+mturk\+\_\+manager\+::\+Test\+M\+Turk\+Manager\+Unit\+Functions@{parlai\+::mturk\+::core\+::dev\+::test\+::test\+\_\+mturk\+\_\+manager\+::\+Test\+M\+Turk\+Manager\+Unit\+Functions}!test\+\_\+mturk\+\_\+messages@{test\+\_\+mturk\+\_\+messages}}
\index{test\+\_\+mturk\+\_\+messages@{test\+\_\+mturk\+\_\+messages}!parlai\+::mturk\+::core\+::dev\+::test\+::test\+\_\+mturk\+\_\+manager\+::\+Test\+M\+Turk\+Manager\+Unit\+Functions@{parlai\+::mturk\+::core\+::dev\+::test\+::test\+\_\+mturk\+\_\+manager\+::\+Test\+M\+Turk\+Manager\+Unit\+Functions}}
\subsubsection{\texorpdfstring{test\+\_\+mturk\+\_\+messages()}{test\_mturk\_messages()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+dev.\+test.\+test\+\_\+mturk\+\_\+manager.\+Test\+M\+Turk\+Manager\+Unit\+Functions.\+test\+\_\+mturk\+\_\+messages (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}

\begin{DoxyVerb}Ensure incoming messages work as expected.
\end{DoxyVerb}
 

Definition at line 421 of file test\+\_\+mturk\+\_\+manager.\+py.


\begin{DoxyCode}
421     \textcolor{keyword}{def }test\_mturk\_messages(self):
422         \textcolor{stringliteral}{"""}
423 \textcolor{stringliteral}{        Ensure incoming messages work as expected.}
424 \textcolor{stringliteral}{        """}
425         \textcolor{comment}{# Setup for test}
426         manager = self.mturk\_manager
427         manager.task\_group\_id = \textcolor{stringliteral}{'TEST\_GROUP\_ID'}
428         manager.server\_url = \textcolor{stringliteral}{'https://127.0.0.1'}
429         manager.task\_state = manager.STATE\_ACCEPTING\_WORKERS
430         manager.\_setup\_socket()
431         manager.force\_expire\_hit = mock.MagicMock()
432         manager.\_on\_socket\_dead = mock.MagicMock()
433 
434         alive\_packet = Packet(
435             \textcolor{stringliteral}{''},
436             \textcolor{stringliteral}{''},
437             \textcolor{stringliteral}{''},
438             \textcolor{stringliteral}{''},
439             \textcolor{stringliteral}{''},
440             \{
441                 \textcolor{stringliteral}{'worker\_id'}: TEST\_WORKER\_ID\_1,
442                 \textcolor{stringliteral}{'hit\_id'}: TEST\_HIT\_ID\_1,
443                 \textcolor{stringliteral}{'assignment\_id'}: TEST\_ASSIGNMENT\_ID\_1,
444                 \textcolor{stringliteral}{'conversation\_id'}: \textcolor{keywordtype}{None},
445             \},
446             \textcolor{stringliteral}{''},
447         )
448         manager.\_on\_alive(alive\_packet)
449         agent = manager.worker\_manager.get\_agent\_for\_assignment(TEST\_ASSIGNMENT\_ID\_1)
450         self.assertIn(
451             agent.get\_status(), [AssignState.STATUS\_NONE, AssignState.STATUS\_WAITING]
452         )
453         self.assertIsInstance(agent, MTurkAgent)
454         manager.\_on\_socket\_dead = mock.MagicMock()
455 
456         \textcolor{comment}{# Test SNS\_ASSIGN\_ABANDONDED}
457         message\_packet = Packet(
458             \textcolor{stringliteral}{''},
459             \textcolor{stringliteral}{''},
460             \textcolor{stringliteral}{''},
461             \textcolor{stringliteral}{''},
462             TEST\_ASSIGNMENT\_ID\_1,
463             \{\textcolor{stringliteral}{'text'}: MTurkManagerFile.SNS\_ASSIGN\_ABANDONDED\},
464             \textcolor{stringliteral}{''},
465         )
466         manager.\_handle\_mturk\_message(message\_packet)
467         manager.\_on\_socket\_dead.assert\_called\_once\_with(
468             TEST\_WORKER\_ID\_1, TEST\_ASSIGNMENT\_ID\_1
469         )
470         manager.\_on\_socket\_dead.reset\_mock()
471 
472         \textcolor{comment}{# Test SNS\_ASSIGN\_RETURNED}
473         message\_packet = Packet(
474             \textcolor{stringliteral}{''},
475             \textcolor{stringliteral}{''},
476             \textcolor{stringliteral}{''},
477             \textcolor{stringliteral}{''},
478             TEST\_ASSIGNMENT\_ID\_1,
479             \{\textcolor{stringliteral}{'text'}: MTurkManagerFile.SNS\_ASSIGN\_RETURNED\},
480             \textcolor{stringliteral}{''},
481         )
482         agent.hit\_is\_returned = \textcolor{keyword}{False}
483         manager.\_handle\_mturk\_message(message\_packet)
484         manager.\_on\_socket\_dead.assert\_called\_once\_with(
485             TEST\_WORKER\_ID\_1, TEST\_ASSIGNMENT\_ID\_1
486         )
487         manager.\_on\_socket\_dead.reset\_mock()
488         self.assertTrue(agent.hit\_is\_returned)
489 
490         \textcolor{comment}{# Test SNS\_ASSIGN\_SUBMITTED}
491         message\_packet = Packet(
492             \textcolor{stringliteral}{''},
493             \textcolor{stringliteral}{''},
494             \textcolor{stringliteral}{''},
495             \textcolor{stringliteral}{''},
496             TEST\_ASSIGNMENT\_ID\_1,
497             \{\textcolor{stringliteral}{'text'}: MTurkManagerFile.SNS\_ASSIGN\_SUBMITTED\},
498             \textcolor{stringliteral}{''},
499         )
500         agent.hit\_is\_complete = \textcolor{keyword}{False}
501         manager.\_handle\_mturk\_message(message\_packet)
502         manager.\_on\_socket\_dead.assert\_not\_called()
503         self.assertTrue(agent.hit\_is\_complete)
504 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1dev_1_1test_1_1test__mturk__manager_1_1TestMTurkManagerUnitFunctions_a82e736fd03c5f23710bba01e9335f6b8}\label{classparlai_1_1mturk_1_1core_1_1dev_1_1test_1_1test__mturk__manager_1_1TestMTurkManagerUnitFunctions_a82e736fd03c5f23710bba01e9335f6b8}} 
\index{parlai\+::mturk\+::core\+::dev\+::test\+::test\+\_\+mturk\+\_\+manager\+::\+Test\+M\+Turk\+Manager\+Unit\+Functions@{parlai\+::mturk\+::core\+::dev\+::test\+::test\+\_\+mturk\+\_\+manager\+::\+Test\+M\+Turk\+Manager\+Unit\+Functions}!test\+\_\+new\+\_\+message@{test\+\_\+new\+\_\+message}}
\index{test\+\_\+new\+\_\+message@{test\+\_\+new\+\_\+message}!parlai\+::mturk\+::core\+::dev\+::test\+::test\+\_\+mturk\+\_\+manager\+::\+Test\+M\+Turk\+Manager\+Unit\+Functions@{parlai\+::mturk\+::core\+::dev\+::test\+::test\+\_\+mturk\+\_\+manager\+::\+Test\+M\+Turk\+Manager\+Unit\+Functions}}
\subsubsection{\texorpdfstring{test\+\_\+new\+\_\+message()}{test\_new\_message()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+dev.\+test.\+test\+\_\+mturk\+\_\+manager.\+Test\+M\+Turk\+Manager\+Unit\+Functions.\+test\+\_\+new\+\_\+message (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}

\begin{DoxyVerb}test on_new_message.
\end{DoxyVerb}
 

Definition at line 505 of file test\+\_\+mturk\+\_\+manager.\+py.


\begin{DoxyCode}
505     \textcolor{keyword}{def }test\_new\_message(self):
506         \textcolor{stringliteral}{"""}
507 \textcolor{stringliteral}{        test on\_new\_message.}
508 \textcolor{stringliteral}{        """}
509         alive\_packet = Packet(
510             \textcolor{stringliteral}{''},
511             TEST\_WORKER\_ID\_1,
512             \textcolor{stringliteral}{''},
513             \textcolor{stringliteral}{''},
514             \textcolor{stringliteral}{''},
515             \{
516                 \textcolor{stringliteral}{'worker\_id'}: TEST\_WORKER\_ID\_1,
517                 \textcolor{stringliteral}{'hit\_id'}: TEST\_HIT\_ID\_1,
518                 \textcolor{stringliteral}{'assignment\_id'}: TEST\_ASSIGNMENT\_ID\_1,
519                 \textcolor{stringliteral}{'conversation\_id'}: \textcolor{keywordtype}{None},
520             \},
521             \textcolor{stringliteral}{''},
522         )
523 
524         message\_packet = Packet(
525             \textcolor{stringliteral}{''},
526             \textcolor{stringliteral}{''},
527             MTurkManagerFile.AMAZON\_SNS\_NAME,
528             \textcolor{stringliteral}{''},
529             TEST\_ASSIGNMENT\_ID\_1,
530             \{\textcolor{stringliteral}{'text'}: MTurkManagerFile.SNS\_ASSIGN\_SUBMITTED\},
531             \textcolor{stringliteral}{''},
532         )
533 
534         manager = self.mturk\_manager
535         manager.\_handle\_mturk\_message = mock.MagicMock()
536         manager.worker\_manager.route\_packet = mock.MagicMock()
537 
538         \textcolor{comment}{# test mturk message}
539         manager.\_on\_new\_message(alive\_packet)
540         manager.\_handle\_mturk\_message.assert\_not\_called()
541         manager.worker\_manager.route\_packet.assert\_called\_once\_with(alive\_packet)
542         manager.worker\_manager.route\_packet.reset\_mock()
543 
544         \textcolor{comment}{# test non-mturk message}
545         manager.\_on\_new\_message(message\_packet)
546         manager.\_handle\_mturk\_message.assert\_called\_once\_with(message\_packet)
547         manager.worker\_manager.route\_packet.assert\_not\_called()
548 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1dev_1_1test_1_1test__mturk__manager_1_1TestMTurkManagerUnitFunctions_a9439aba4f729dacb09ac64fd0dccbf0f}\label{classparlai_1_1mturk_1_1core_1_1dev_1_1test_1_1test__mturk__manager_1_1TestMTurkManagerUnitFunctions_a9439aba4f729dacb09ac64fd0dccbf0f}} 
\index{parlai\+::mturk\+::core\+::dev\+::test\+::test\+\_\+mturk\+\_\+manager\+::\+Test\+M\+Turk\+Manager\+Unit\+Functions@{parlai\+::mturk\+::core\+::dev\+::test\+::test\+\_\+mturk\+\_\+manager\+::\+Test\+M\+Turk\+Manager\+Unit\+Functions}!test\+\_\+onboarding\+\_\+function@{test\+\_\+onboarding\+\_\+function}}
\index{test\+\_\+onboarding\+\_\+function@{test\+\_\+onboarding\+\_\+function}!parlai\+::mturk\+::core\+::dev\+::test\+::test\+\_\+mturk\+\_\+manager\+::\+Test\+M\+Turk\+Manager\+Unit\+Functions@{parlai\+::mturk\+::core\+::dev\+::test\+::test\+\_\+mturk\+\_\+manager\+::\+Test\+M\+Turk\+Manager\+Unit\+Functions}}
\subsubsection{\texorpdfstring{test\+\_\+onboarding\+\_\+function()}{test\_onboarding\_function()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+dev.\+test.\+test\+\_\+mturk\+\_\+manager.\+Test\+M\+Turk\+Manager\+Unit\+Functions.\+test\+\_\+onboarding\+\_\+function (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line 549 of file test\+\_\+mturk\+\_\+manager.\+py.


\begin{DoxyCode}
549     \textcolor{keyword}{def }test\_onboarding\_function(self):
550         manager = self.mturk\_manager
551         manager.get\_onboard\_world = mock.MagicMock(wraps=get\_onboard\_world)
552         manager.send\_message = mock.MagicMock()
553         manager.\_move\_agents\_to\_waiting = mock.MagicMock()
554         manager.worker\_manager.get\_agent\_for\_assignment = mock.MagicMock(
555             return\_value=self.agent\_1
556         )
557 
558         onboard\_threads = manager.assignment\_to\_onboard\_thread
559         did\_launch = manager.\_onboard\_new\_agent(self.agent\_1)
560         \hyperlink{namespaceparlai_1_1mturk_1_1core_1_1test_1_1test__mturk__manager_a1fd7ac4fedefa65d2416601107dbe44c}{assert\_equal\_by}(onboard\_threads[self.agent\_1.assignment\_id].isAlive, \textcolor{keyword}{True}, 0.2)
561         time.sleep(0.1)
562         self.assertTrue(did\_launch)
563         manager.get\_onboard\_world.assert\_called\_with(self.agent\_1)
564         manager.get\_onboard\_world.reset\_mock()
565 
566         \textcolor{comment}{# Thread will be waiting for agent\_1 status to go to ONBOARDING, ensure}
567         \textcolor{comment}{# won't start new thread on a repeat call when first still alive}
568         did\_launch = manager.\_onboard\_new\_agent(self.agent\_1)
569         manager.worker\_manager.get\_agent\_for\_assignment.assert\_not\_called()
570         manager.get\_onboard\_world.assert\_not\_called()
571         self.assertFalse(did\_launch)
572 
573         \textcolor{comment}{# wait for the task to finally pass along}
574         \hyperlink{namespaceparlai_1_1mturk_1_1core_1_1test_1_1test__mturk__manager_a1fd7ac4fedefa65d2416601107dbe44c}{assert\_equal\_by}(onboard\_threads[self.agent\_1.assignment\_id].isAlive, \textcolor{keyword}{False}, 3)
575         manager.\_move\_agents\_to\_waiting.assert\_called\_once()
576 
577         \textcolor{comment}{# Try to launch a new onboarding world for the same agent still in}
578         \textcolor{comment}{# onboarding, assert that this call is ignored.}
579         did\_launch = manager.\_onboard\_new\_agent(self.agent\_1)
580         self.assertFalse(did\_launch)
581 
582         \textcolor{comment}{# Try to launch with an agent that was in none but supposedly launched}
583         \textcolor{comment}{# before}
584         self.agent\_1.set\_status(AssignState.STATUS\_NONE)
585         did\_launch = manager.\_onboard\_new\_agent(self.agent\_1)
586         self.assertTrue(did\_launch)
587 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1dev_1_1test_1_1test__mturk__manager_1_1TestMTurkManagerUnitFunctions_a55a68e0d5f5570efbe667d590bd37df9}\label{classparlai_1_1mturk_1_1core_1_1dev_1_1test_1_1test__mturk__manager_1_1TestMTurkManagerUnitFunctions_a55a68e0d5f5570efbe667d590bd37df9}} 
\index{parlai\+::mturk\+::core\+::dev\+::test\+::test\+\_\+mturk\+\_\+manager\+::\+Test\+M\+Turk\+Manager\+Unit\+Functions@{parlai\+::mturk\+::core\+::dev\+::test\+::test\+\_\+mturk\+\_\+manager\+::\+Test\+M\+Turk\+Manager\+Unit\+Functions}!test\+\_\+socket\+\_\+setup@{test\+\_\+socket\+\_\+setup}}
\index{test\+\_\+socket\+\_\+setup@{test\+\_\+socket\+\_\+setup}!parlai\+::mturk\+::core\+::dev\+::test\+::test\+\_\+mturk\+\_\+manager\+::\+Test\+M\+Turk\+Manager\+Unit\+Functions@{parlai\+::mturk\+::core\+::dev\+::test\+::test\+\_\+mturk\+\_\+manager\+::\+Test\+M\+Turk\+Manager\+Unit\+Functions}}
\subsubsection{\texorpdfstring{test\+\_\+socket\+\_\+setup()}{test\_socket\_setup()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+dev.\+test.\+test\+\_\+mturk\+\_\+manager.\+Test\+M\+Turk\+Manager\+Unit\+Functions.\+test\+\_\+socket\+\_\+setup (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}

\begin{DoxyVerb}Basic socket setup should fail when not in correct state, but succeed otherwise.
\end{DoxyVerb}
 

Definition at line 284 of file test\+\_\+mturk\+\_\+manager.\+py.


\begin{DoxyCode}
284     \textcolor{keyword}{def }test\_socket\_setup(self):
285         \textcolor{stringliteral}{"""}
286 \textcolor{stringliteral}{        Basic socket setup should fail when not in correct state, but succeed otherwise.}
287 \textcolor{stringliteral}{        """}
288         self.mturk\_manager.task\_state = self.mturk\_manager.STATE\_CREATED
289         with self.assertRaises(AssertionError):
290             self.mturk\_manager.\_setup\_socket()
291         self.mturk\_manager.task\_group\_id = \textcolor{stringliteral}{'TEST\_GROUP\_ID'}
292         self.mturk\_manager.server\_url = \textcolor{stringliteral}{'https://127.0.0.1'}
293         self.mturk\_manager.task\_state = self.mturk\_manager.STATE\_INIT\_RUN
294         self.mturk\_manager.\_setup\_socket()
295         self.assertIsInstance(self.mturk\_manager.socket\_manager, SocketManager)
296 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1dev_1_1test_1_1test__mturk__manager_1_1TestMTurkManagerUnitFunctions_a19c8394ebe1f54d5cf9b1bcad6920ec9}\label{classparlai_1_1mturk_1_1core_1_1dev_1_1test_1_1test__mturk__manager_1_1TestMTurkManagerUnitFunctions_a19c8394ebe1f54d5cf9b1bcad6920ec9}} 
\index{parlai\+::mturk\+::core\+::dev\+::test\+::test\+\_\+mturk\+\_\+manager\+::\+Test\+M\+Turk\+Manager\+Unit\+Functions@{parlai\+::mturk\+::core\+::dev\+::test\+::test\+\_\+mturk\+\_\+manager\+::\+Test\+M\+Turk\+Manager\+Unit\+Functions}!test\+\_\+turk\+\_\+timeout@{test\+\_\+turk\+\_\+timeout}}
\index{test\+\_\+turk\+\_\+timeout@{test\+\_\+turk\+\_\+timeout}!parlai\+::mturk\+::core\+::dev\+::test\+::test\+\_\+mturk\+\_\+manager\+::\+Test\+M\+Turk\+Manager\+Unit\+Functions@{parlai\+::mturk\+::core\+::dev\+::test\+::test\+\_\+mturk\+\_\+manager\+::\+Test\+M\+Turk\+Manager\+Unit\+Functions}}
\subsubsection{\texorpdfstring{test\+\_\+turk\+\_\+timeout()}{test\_turk\_timeout()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+dev.\+test.\+test\+\_\+mturk\+\_\+manager.\+Test\+M\+Turk\+Manager\+Unit\+Functions.\+test\+\_\+turk\+\_\+timeout (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}

\begin{DoxyVerb}Timeout should send expiration message to worker and be treated as a disconnect
event.
\end{DoxyVerb}
 

Definition at line 620 of file test\+\_\+mturk\+\_\+manager.\+py.


\begin{DoxyCode}
620     \textcolor{keyword}{def }test\_turk\_timeout(self):
621         \textcolor{stringliteral}{"""}
622 \textcolor{stringliteral}{        Timeout should send expiration message to worker and be treated as a disconnect}
623 \textcolor{stringliteral}{        event.}
624 \textcolor{stringliteral}{        """}
625         manager = self.mturk\_manager
626         manager.force\_expire\_hit = mock.MagicMock()
627         manager.\_handle\_agent\_disconnect = mock.MagicMock()
628 
629         manager.handle\_turker\_timeout(TEST\_WORKER\_ID\_1, TEST\_ASSIGNMENT\_ID\_1)
630         manager.force\_expire\_hit.assert\_called\_once()
631         call\_args = manager.force\_expire\_hit.call\_args
632         self.assertEqual(call\_args[0][0], TEST\_WORKER\_ID\_1)
633         self.assertEqual(call\_args[0][1], TEST\_ASSIGNMENT\_ID\_1)
634         manager.\_handle\_agent\_disconnect.assert\_called\_once\_with(
635             TEST\_WORKER\_ID\_1, TEST\_ASSIGNMENT\_ID\_1
636         )
637 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1dev_1_1test_1_1test__mturk__manager_1_1TestMTurkManagerUnitFunctions_a6fe5e5af6b831868b8570f8015efafea}\label{classparlai_1_1mturk_1_1core_1_1dev_1_1test_1_1test__mturk__manager_1_1TestMTurkManagerUnitFunctions_a6fe5e5af6b831868b8570f8015efafea}} 
\index{parlai\+::mturk\+::core\+::dev\+::test\+::test\+\_\+mturk\+\_\+manager\+::\+Test\+M\+Turk\+Manager\+Unit\+Functions@{parlai\+::mturk\+::core\+::dev\+::test\+::test\+\_\+mturk\+\_\+manager\+::\+Test\+M\+Turk\+Manager\+Unit\+Functions}!test\+\_\+wait\+\_\+for\+\_\+task\+\_\+expirations@{test\+\_\+wait\+\_\+for\+\_\+task\+\_\+expirations}}
\index{test\+\_\+wait\+\_\+for\+\_\+task\+\_\+expirations@{test\+\_\+wait\+\_\+for\+\_\+task\+\_\+expirations}!parlai\+::mturk\+::core\+::dev\+::test\+::test\+\_\+mturk\+\_\+manager\+::\+Test\+M\+Turk\+Manager\+Unit\+Functions@{parlai\+::mturk\+::core\+::dev\+::test\+::test\+\_\+mturk\+\_\+manager\+::\+Test\+M\+Turk\+Manager\+Unit\+Functions}}
\subsubsection{\texorpdfstring{test\+\_\+wait\+\_\+for\+\_\+task\+\_\+expirations()}{test\_wait\_for\_task\_expirations()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+dev.\+test.\+test\+\_\+mturk\+\_\+manager.\+Test\+M\+Turk\+Manager\+Unit\+Functions.\+test\+\_\+wait\+\_\+for\+\_\+task\+\_\+expirations (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}

\begin{DoxyVerb}Ensure waiting for expiration time actually works out.
\end{DoxyVerb}
 

Definition at line 638 of file test\+\_\+mturk\+\_\+manager.\+py.


\begin{DoxyCode}
638     \textcolor{keyword}{def }test\_wait\_for\_task\_expirations(self):
639         \textcolor{stringliteral}{"""}
640 \textcolor{stringliteral}{        Ensure waiting for expiration time actually works out.}
641 \textcolor{stringliteral}{        """}
642         manager = self.mturk\_manager
643         manager.opt[\textcolor{stringliteral}{'assignment\_duration\_in\_seconds'}] = 0.5
644         manager.expire\_all\_unassigned\_hits = mock.MagicMock()
645         manager.update\_hit\_status = mock.MagicMock()
646         manager.hit\_id\_list = [1, 2, 3]
647 
648         \textcolor{keyword}{def }run\_task\_wait():
649             manager.\_wait\_for\_task\_expirations()
650 
651         wait\_thread = threading.Thread(target=run\_task\_wait, daemon=\textcolor{keyword}{True})
652         wait\_thread.start()
653         time.sleep(0.1)
654         self.assertTrue(wait\_thread.isAlive())
655         \hyperlink{namespaceparlai_1_1mturk_1_1core_1_1test_1_1test__mturk__manager_a1fd7ac4fedefa65d2416601107dbe44c}{assert\_equal\_by}(wait\_thread.isAlive, \textcolor{keyword}{False}, 3)
656 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1dev_1_1test_1_1test__mturk__manager_1_1TestMTurkManagerUnitFunctions_a0a941d24785aa95bd1754ec985899eae}\label{classparlai_1_1mturk_1_1core_1_1dev_1_1test_1_1test__mturk__manager_1_1TestMTurkManagerUnitFunctions_a0a941d24785aa95bd1754ec985899eae}} 
\index{parlai\+::mturk\+::core\+::dev\+::test\+::test\+\_\+mturk\+\_\+manager\+::\+Test\+M\+Turk\+Manager\+Unit\+Functions@{parlai\+::mturk\+::core\+::dev\+::test\+::test\+\_\+mturk\+\_\+manager\+::\+Test\+M\+Turk\+Manager\+Unit\+Functions}!test\+\_\+worker\+\_\+alive@{test\+\_\+worker\+\_\+alive}}
\index{test\+\_\+worker\+\_\+alive@{test\+\_\+worker\+\_\+alive}!parlai\+::mturk\+::core\+::dev\+::test\+::test\+\_\+mturk\+\_\+manager\+::\+Test\+M\+Turk\+Manager\+Unit\+Functions@{parlai\+::mturk\+::core\+::dev\+::test\+::test\+\_\+mturk\+\_\+manager\+::\+Test\+M\+Turk\+Manager\+Unit\+Functions}}
\subsubsection{\texorpdfstring{test\+\_\+worker\+\_\+alive()}{test\_worker\_alive()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+dev.\+test.\+test\+\_\+mturk\+\_\+manager.\+Test\+M\+Turk\+Manager\+Unit\+Functions.\+test\+\_\+worker\+\_\+alive (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line 297 of file test\+\_\+mturk\+\_\+manager.\+py.


\begin{DoxyCode}
297     \textcolor{keyword}{def }test\_worker\_alive(self):
298         \textcolor{comment}{# Setup for test}
299         manager = self.mturk\_manager
300         manager.task\_group\_id = \textcolor{stringliteral}{'TEST\_GROUP\_ID'}
301         manager.server\_url = \textcolor{stringliteral}{'https://127.0.0.1'}
302         manager.task\_state = manager.STATE\_ACCEPTING\_WORKERS
303         manager.\_setup\_socket()
304         manager.force\_expire\_hit = mock.MagicMock()
305         manager.\_onboard\_new\_agent = mock.MagicMock()
306         manager.socket\_manager.open\_channel = mock.MagicMock(
307             wraps=manager.socket\_manager.open\_channel
308         )
309         manager.worker\_manager.worker\_alive = mock.MagicMock(
310             wraps=manager.worker\_manager.worker\_alive
311         )
312         open\_channel = manager.socket\_manager.open\_channel
313         worker\_alive = manager.worker\_manager.worker\_alive
314 
315         \textcolor{comment}{# Test no assignment}
316         alive\_packet = Packet(
317             \textcolor{stringliteral}{''},
318             \textcolor{stringliteral}{''},
319             \textcolor{stringliteral}{''},
320             \textcolor{stringliteral}{''},
321             \textcolor{stringliteral}{''},
322             \{
323                 \textcolor{stringliteral}{'worker\_id'}: TEST\_WORKER\_ID\_1,
324                 \textcolor{stringliteral}{'hit\_id'}: TEST\_HIT\_ID\_1,
325                 \textcolor{stringliteral}{'assignment\_id'}: \textcolor{keywordtype}{None},
326                 \textcolor{stringliteral}{'conversation\_id'}: \textcolor{keywordtype}{None},
327             \},
328             \textcolor{stringliteral}{''},
329         )
330         manager.\_on\_alive(alive\_packet)
331         open\_channel.assert\_not\_called()
332         worker\_alive.assert\_not\_called()
333         manager.\_onboard\_new\_agent.assert\_not\_called()
334 
335         \textcolor{comment}{# Test not accepting workers}
336         alive\_packet = Packet(
337             \textcolor{stringliteral}{''},
338             \textcolor{stringliteral}{''},
339             \textcolor{stringliteral}{''},
340             \textcolor{stringliteral}{''},
341             \textcolor{stringliteral}{''},
342             \{
343                 \textcolor{stringliteral}{'worker\_id'}: TEST\_WORKER\_ID\_1,
344                 \textcolor{stringliteral}{'hit\_id'}: TEST\_HIT\_ID\_1,
345                 \textcolor{stringliteral}{'assignment\_id'}: TEST\_ASSIGNMENT\_ID\_1,
346                 \textcolor{stringliteral}{'conversation\_id'}: \textcolor{keywordtype}{None},
347             \},
348             \textcolor{stringliteral}{''},
349         )
350         manager.accepting\_workers = \textcolor{keyword}{False}
351         manager.\_on\_alive(alive\_packet)
352         open\_channel.assert\_called\_once\_with(TEST\_WORKER\_ID\_1, TEST\_ASSIGNMENT\_ID\_1)
353         worker\_alive.assert\_called\_once\_with(TEST\_WORKER\_ID\_1)
354         worker\_state = manager.worker\_manager.\_get\_worker(TEST\_WORKER\_ID\_1)
355         self.assertIsNotNone(worker\_state)
356         open\_channel.reset\_mock()
357         worker\_alive.reset\_mock()
358         manager.force\_expire\_hit.assert\_called\_once\_with(
359             TEST\_WORKER\_ID\_1, TEST\_ASSIGNMENT\_ID\_1
360         )
361         manager.\_onboard\_new\_agent.assert\_not\_called()
362         manager.force\_expire\_hit.reset\_mock()
363 
364         \textcolor{comment}{# Test successful creation}
365         manager.accepting\_workers = \textcolor{keyword}{True}
366         manager.\_on\_alive(alive\_packet)
367         open\_channel.assert\_called\_once\_with(TEST\_WORKER\_ID\_1, TEST\_ASSIGNMENT\_ID\_1)
368         worker\_alive.assert\_called\_once\_with(TEST\_WORKER\_ID\_1)
369         manager.\_onboard\_new\_agent.assert\_called\_once()
370         manager.\_onboard\_new\_agent.reset\_mock()
371         manager.force\_expire\_hit.assert\_not\_called()
372 
373         agent = manager.worker\_manager.get\_agent\_for\_assignment(TEST\_ASSIGNMENT\_ID\_1)
374         self.assertIsInstance(agent, MTurkAgent)
375         self.assertEqual(agent.get\_status(), AssignState.STATUS\_NONE)
376 
377         \textcolor{comment}{# Test active convos failure}
378         agent.set\_status(AssignState.STATUS\_IN\_TASK)
379         alive\_packet = Packet(
380             \textcolor{stringliteral}{''},
381             \textcolor{stringliteral}{''},
382             \textcolor{stringliteral}{''},
383             \textcolor{stringliteral}{''},
384             \textcolor{stringliteral}{''},
385             \{
386                 \textcolor{stringliteral}{'worker\_id'}: TEST\_WORKER\_ID\_1,
387                 \textcolor{stringliteral}{'hit\_id'}: TEST\_HIT\_ID\_1,
388                 \textcolor{stringliteral}{'assignment\_id'}: TEST\_ASSIGNMENT\_ID\_2,
389                 \textcolor{stringliteral}{'conversation\_id'}: \textcolor{keywordtype}{None},
390             \},
391             \textcolor{stringliteral}{''},
392         )
393         manager.opt[\textcolor{stringliteral}{'allowed\_conversations'}] = 1
394         manager.\_on\_alive(alive\_packet)
395         manager.force\_expire\_hit.assert\_called\_once()
396         manager.\_onboard\_new\_agent.assert\_not\_called()
397         manager.force\_expire\_hit.reset\_mock()
398 
399         \textcolor{comment}{# Test uniqueness failed}
400         agent.set\_status(AssignState.STATUS\_DONE)
401         alive\_packet = Packet(
402             \textcolor{stringliteral}{''},
403             \textcolor{stringliteral}{''},
404             \textcolor{stringliteral}{''},
405             \textcolor{stringliteral}{''},
406             \textcolor{stringliteral}{''},
407             \{
408                 \textcolor{stringliteral}{'worker\_id'}: TEST\_WORKER\_ID\_1,
409                 \textcolor{stringliteral}{'hit\_id'}: TEST\_HIT\_ID\_1,
410                 \textcolor{stringliteral}{'assignment\_id'}: TEST\_ASSIGNMENT\_ID\_2,
411                 \textcolor{stringliteral}{'conversation\_id'}: \textcolor{keywordtype}{None},
412             \},
413             \textcolor{stringliteral}{''},
414         )
415         manager.is\_unique = \textcolor{keyword}{True}
416         manager.\_on\_alive(alive\_packet)
417         manager.force\_expire\_hit.assert\_called\_once()
418         manager.\_onboard\_new\_agent.assert\_not\_called()
419         manager.force\_expire\_hit.reset\_mock()
420 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1dev_1_1test_1_1test__mturk__manager_1_1TestMTurkManagerUnitFunctions_aafa25792d9c1368be3f2df182a6109f1}\label{classparlai_1_1mturk_1_1core_1_1dev_1_1test_1_1test__mturk__manager_1_1TestMTurkManagerUnitFunctions_aafa25792d9c1368be3f2df182a6109f1}} 
\index{parlai\+::mturk\+::core\+::dev\+::test\+::test\+\_\+mturk\+\_\+manager\+::\+Test\+M\+Turk\+Manager\+Unit\+Functions@{parlai\+::mturk\+::core\+::dev\+::test\+::test\+\_\+mturk\+\_\+manager\+::\+Test\+M\+Turk\+Manager\+Unit\+Functions}!test\+\_\+world\+\_\+types@{test\+\_\+world\+\_\+types}}
\index{test\+\_\+world\+\_\+types@{test\+\_\+world\+\_\+types}!parlai\+::mturk\+::core\+::dev\+::test\+::test\+\_\+mturk\+\_\+manager\+::\+Test\+M\+Turk\+Manager\+Unit\+Functions@{parlai\+::mturk\+::core\+::dev\+::test\+::test\+\_\+mturk\+\_\+manager\+::\+Test\+M\+Turk\+Manager\+Unit\+Functions}}
\subsubsection{\texorpdfstring{test\+\_\+world\+\_\+types()}{test\_world\_types()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+dev.\+test.\+test\+\_\+mturk\+\_\+manager.\+Test\+M\+Turk\+Manager\+Unit\+Functions.\+test\+\_\+world\+\_\+types (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line 604 of file test\+\_\+mturk\+\_\+manager.\+py.


\begin{DoxyCode}
604     \textcolor{keyword}{def }test\_world\_types(self):
605         onboard\_type = \textcolor{stringliteral}{'o\_12345'}
606         waiting\_type = \textcolor{stringliteral}{'w\_12345'}
607         task\_type = \textcolor{stringliteral}{'t\_12345'}
608         garbage\_type = \textcolor{stringliteral}{'g\_12345'}
609         manager = self.mturk\_manager
610         self.assertTrue(manager.is\_onboarding\_world(onboard\_type))
611         self.assertTrue(manager.is\_task\_world(task\_type))
612         self.assertTrue(manager.is\_waiting\_world(waiting\_type))
613         \textcolor{keywordflow}{for} world\_type \textcolor{keywordflow}{in} [waiting\_type, task\_type, garbage\_type]:
614             self.assertFalse(manager.is\_onboarding\_world(world\_type))
615         \textcolor{keywordflow}{for} world\_type \textcolor{keywordflow}{in} [onboard\_type, task\_type, garbage\_type]:
616             self.assertFalse(manager.is\_waiting\_world(world\_type))
617         \textcolor{keywordflow}{for} world\_type \textcolor{keywordflow}{in} [waiting\_type, onboard\_type, garbage\_type]:
618             self.assertFalse(manager.is\_task\_world(world\_type))
619 
\end{DoxyCode}


\subsection{Member Data Documentation}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1dev_1_1test_1_1test__mturk__manager_1_1TestMTurkManagerUnitFunctions_a0ddc7e52e532e3d6066e357237af8884}\label{classparlai_1_1mturk_1_1core_1_1dev_1_1test_1_1test__mturk__manager_1_1TestMTurkManagerUnitFunctions_a0ddc7e52e532e3d6066e357237af8884}} 
\index{parlai\+::mturk\+::core\+::dev\+::test\+::test\+\_\+mturk\+\_\+manager\+::\+Test\+M\+Turk\+Manager\+Unit\+Functions@{parlai\+::mturk\+::core\+::dev\+::test\+::test\+\_\+mturk\+\_\+manager\+::\+Test\+M\+Turk\+Manager\+Unit\+Functions}!agent\+\_\+1@{agent\+\_\+1}}
\index{agent\+\_\+1@{agent\+\_\+1}!parlai\+::mturk\+::core\+::dev\+::test\+::test\+\_\+mturk\+\_\+manager\+::\+Test\+M\+Turk\+Manager\+Unit\+Functions@{parlai\+::mturk\+::core\+::dev\+::test\+::test\+\_\+mturk\+\_\+manager\+::\+Test\+M\+Turk\+Manager\+Unit\+Functions}}
\subsubsection{\texorpdfstring{agent\+\_\+1}{agent\_1}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+dev.\+test.\+test\+\_\+mturk\+\_\+manager.\+Test\+M\+Turk\+Manager\+Unit\+Functions.\+agent\+\_\+1}



Definition at line 224 of file test\+\_\+mturk\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1dev_1_1test_1_1test__mturk__manager_1_1TestMTurkManagerUnitFunctions_ada8da646678c6556ef649b54579f289a}\label{classparlai_1_1mturk_1_1core_1_1dev_1_1test_1_1test__mturk__manager_1_1TestMTurkManagerUnitFunctions_ada8da646678c6556ef649b54579f289a}} 
\index{parlai\+::mturk\+::core\+::dev\+::test\+::test\+\_\+mturk\+\_\+manager\+::\+Test\+M\+Turk\+Manager\+Unit\+Functions@{parlai\+::mturk\+::core\+::dev\+::test\+::test\+\_\+mturk\+\_\+manager\+::\+Test\+M\+Turk\+Manager\+Unit\+Functions}!agent\+\_\+2@{agent\+\_\+2}}
\index{agent\+\_\+2@{agent\+\_\+2}!parlai\+::mturk\+::core\+::dev\+::test\+::test\+\_\+mturk\+\_\+manager\+::\+Test\+M\+Turk\+Manager\+Unit\+Functions@{parlai\+::mturk\+::core\+::dev\+::test\+::test\+\_\+mturk\+\_\+manager\+::\+Test\+M\+Turk\+Manager\+Unit\+Functions}}
\subsubsection{\texorpdfstring{agent\+\_\+2}{agent\_2}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+dev.\+test.\+test\+\_\+mturk\+\_\+manager.\+Test\+M\+Turk\+Manager\+Unit\+Functions.\+agent\+\_\+2}



Definition at line 231 of file test\+\_\+mturk\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1dev_1_1test_1_1test__mturk__manager_1_1TestMTurkManagerUnitFunctions_ac1fca9dd6e40519f94317db78c8d25c6}\label{classparlai_1_1mturk_1_1core_1_1dev_1_1test_1_1test__mturk__manager_1_1TestMTurkManagerUnitFunctions_ac1fca9dd6e40519f94317db78c8d25c6}} 
\index{parlai\+::mturk\+::core\+::dev\+::test\+::test\+\_\+mturk\+\_\+manager\+::\+Test\+M\+Turk\+Manager\+Unit\+Functions@{parlai\+::mturk\+::core\+::dev\+::test\+::test\+\_\+mturk\+\_\+manager\+::\+Test\+M\+Turk\+Manager\+Unit\+Functions}!agent\+\_\+3@{agent\+\_\+3}}
\index{agent\+\_\+3@{agent\+\_\+3}!parlai\+::mturk\+::core\+::dev\+::test\+::test\+\_\+mturk\+\_\+manager\+::\+Test\+M\+Turk\+Manager\+Unit\+Functions@{parlai\+::mturk\+::core\+::dev\+::test\+::test\+\_\+mturk\+\_\+manager\+::\+Test\+M\+Turk\+Manager\+Unit\+Functions}}
\subsubsection{\texorpdfstring{agent\+\_\+3}{agent\_3}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+dev.\+test.\+test\+\_\+mturk\+\_\+manager.\+Test\+M\+Turk\+Manager\+Unit\+Functions.\+agent\+\_\+3}



Definition at line 238 of file test\+\_\+mturk\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1dev_1_1test_1_1test__mturk__manager_1_1TestMTurkManagerUnitFunctions_a1e84c87faf30268659b805a20bbc5b61}\label{classparlai_1_1mturk_1_1core_1_1dev_1_1test_1_1test__mturk__manager_1_1TestMTurkManagerUnitFunctions_a1e84c87faf30268659b805a20bbc5b61}} 
\index{parlai\+::mturk\+::core\+::dev\+::test\+::test\+\_\+mturk\+\_\+manager\+::\+Test\+M\+Turk\+Manager\+Unit\+Functions@{parlai\+::mturk\+::core\+::dev\+::test\+::test\+\_\+mturk\+\_\+manager\+::\+Test\+M\+Turk\+Manager\+Unit\+Functions}!fake\+\_\+socket@{fake\+\_\+socket}}
\index{fake\+\_\+socket@{fake\+\_\+socket}!parlai\+::mturk\+::core\+::dev\+::test\+::test\+\_\+mturk\+\_\+manager\+::\+Test\+M\+Turk\+Manager\+Unit\+Functions@{parlai\+::mturk\+::core\+::dev\+::test\+::test\+\_\+mturk\+\_\+manager\+::\+Test\+M\+Turk\+Manager\+Unit\+Functions}}
\subsubsection{\texorpdfstring{fake\+\_\+socket}{fake\_socket}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+dev.\+test.\+test\+\_\+mturk\+\_\+manager.\+Test\+M\+Turk\+Manager\+Unit\+Functions.\+fake\+\_\+socket}



Definition at line 209 of file test\+\_\+mturk\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1dev_1_1test_1_1test__mturk__manager_1_1TestMTurkManagerUnitFunctions_a094ae6babb0713956db4a8d26638b3bc}\label{classparlai_1_1mturk_1_1core_1_1dev_1_1test_1_1test__mturk__manager_1_1TestMTurkManagerUnitFunctions_a094ae6babb0713956db4a8d26638b3bc}} 
\index{parlai\+::mturk\+::core\+::dev\+::test\+::test\+\_\+mturk\+\_\+manager\+::\+Test\+M\+Turk\+Manager\+Unit\+Functions@{parlai\+::mturk\+::core\+::dev\+::test\+::test\+\_\+mturk\+\_\+manager\+::\+Test\+M\+Turk\+Manager\+Unit\+Functions}!mturk\+\_\+agent\+\_\+ids@{mturk\+\_\+agent\+\_\+ids}}
\index{mturk\+\_\+agent\+\_\+ids@{mturk\+\_\+agent\+\_\+ids}!parlai\+::mturk\+::core\+::dev\+::test\+::test\+\_\+mturk\+\_\+manager\+::\+Test\+M\+Turk\+Manager\+Unit\+Functions@{parlai\+::mturk\+::core\+::dev\+::test\+::test\+\_\+mturk\+\_\+manager\+::\+Test\+M\+Turk\+Manager\+Unit\+Functions}}
\subsubsection{\texorpdfstring{mturk\+\_\+agent\+\_\+ids}{mturk\_agent\_ids}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+dev.\+test.\+test\+\_\+mturk\+\_\+manager.\+Test\+M\+Turk\+Manager\+Unit\+Functions.\+mturk\+\_\+agent\+\_\+ids}



Definition at line 217 of file test\+\_\+mturk\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1dev_1_1test_1_1test__mturk__manager_1_1TestMTurkManagerUnitFunctions_a61563b3db9de781c6e01dde102732082}\label{classparlai_1_1mturk_1_1core_1_1dev_1_1test_1_1test__mturk__manager_1_1TestMTurkManagerUnitFunctions_a61563b3db9de781c6e01dde102732082}} 
\index{parlai\+::mturk\+::core\+::dev\+::test\+::test\+\_\+mturk\+\_\+manager\+::\+Test\+M\+Turk\+Manager\+Unit\+Functions@{parlai\+::mturk\+::core\+::dev\+::test\+::test\+\_\+mturk\+\_\+manager\+::\+Test\+M\+Turk\+Manager\+Unit\+Functions}!mturk\+\_\+manager@{mturk\+\_\+manager}}
\index{mturk\+\_\+manager@{mturk\+\_\+manager}!parlai\+::mturk\+::core\+::dev\+::test\+::test\+\_\+mturk\+\_\+manager\+::\+Test\+M\+Turk\+Manager\+Unit\+Functions@{parlai\+::mturk\+::core\+::dev\+::test\+::test\+\_\+mturk\+\_\+manager\+::\+Test\+M\+Turk\+Manager\+Unit\+Functions}}
\subsubsection{\texorpdfstring{mturk\+\_\+manager}{mturk\_manager}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+dev.\+test.\+test\+\_\+mturk\+\_\+manager.\+Test\+M\+Turk\+Manager\+Unit\+Functions.\+mturk\+\_\+manager}



Definition at line 218 of file test\+\_\+mturk\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1dev_1_1test_1_1test__mturk__manager_1_1TestMTurkManagerUnitFunctions_ac17240901eca7de90b9bda1d0ef51ee5}\label{classparlai_1_1mturk_1_1core_1_1dev_1_1test_1_1test__mturk__manager_1_1TestMTurkManagerUnitFunctions_ac17240901eca7de90b9bda1d0ef51ee5}} 
\index{parlai\+::mturk\+::core\+::dev\+::test\+::test\+\_\+mturk\+\_\+manager\+::\+Test\+M\+Turk\+Manager\+Unit\+Functions@{parlai\+::mturk\+::core\+::dev\+::test\+::test\+\_\+mturk\+\_\+manager\+::\+Test\+M\+Turk\+Manager\+Unit\+Functions}!opt@{opt}}
\index{opt@{opt}!parlai\+::mturk\+::core\+::dev\+::test\+::test\+\_\+mturk\+\_\+manager\+::\+Test\+M\+Turk\+Manager\+Unit\+Functions@{parlai\+::mturk\+::core\+::dev\+::test\+::test\+\_\+mturk\+\_\+manager\+::\+Test\+M\+Turk\+Manager\+Unit\+Functions}}
\subsubsection{\texorpdfstring{opt}{opt}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+dev.\+test.\+test\+\_\+mturk\+\_\+manager.\+Test\+M\+Turk\+Manager\+Unit\+Functions.\+opt}



Definition at line 214 of file test\+\_\+mturk\+\_\+manager.\+py.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
parlai/mturk/core/dev/test/\hyperlink{dev_2test_2test__mturk__manager_8py}{test\+\_\+mturk\+\_\+manager.\+py}\end{DoxyCompactItemize}
