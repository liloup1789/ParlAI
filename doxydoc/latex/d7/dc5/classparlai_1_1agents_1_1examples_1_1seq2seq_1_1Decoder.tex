\hypertarget{classparlai_1_1agents_1_1examples_1_1seq2seq_1_1Decoder}{}\section{parlai.\+agents.\+examples.\+seq2seq.\+Decoder Class Reference}
\label{classparlai_1_1agents_1_1examples_1_1seq2seq_1_1Decoder}\index{parlai.\+agents.\+examples.\+seq2seq.\+Decoder@{parlai.\+agents.\+examples.\+seq2seq.\+Decoder}}


Inheritance diagram for parlai.\+agents.\+examples.\+seq2seq.\+Decoder\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=240pt]{d5/d76/classparlai_1_1agents_1_1examples_1_1seq2seq_1_1Decoder__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for parlai.\+agents.\+examples.\+seq2seq.\+Decoder\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=240pt]{d3/d43/classparlai_1_1agents_1_1examples_1_1seq2seq_1_1Decoder__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{classparlai_1_1agents_1_1examples_1_1seq2seq_1_1Decoder_a8d3cde9bfc1341ecf32de4957284a3db}{\+\_\+\+\_\+init\+\_\+\+\_\+} (self, \hyperlink{classparlai_1_1agents_1_1examples_1_1seq2seq_1_1Decoder_aa0bc6e18f86e036101771cfe9c88a228}{embeddings}, hidden\+\_\+size)
\item 
def \hyperlink{classparlai_1_1agents_1_1examples_1_1seq2seq_1_1Decoder_a21c8ac2081cfc42ca7823f6640f40855}{forward} (self, input, encoder\+\_\+state, incr\+\_\+state=None)
\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classparlai_1_1agents_1_1examples_1_1seq2seq_1_1Decoder_a595779e6e60479d413ebe8ca7f643182}{esz}
\item 
\hyperlink{classparlai_1_1agents_1_1examples_1_1seq2seq_1_1Decoder_aa0bc6e18f86e036101771cfe9c88a228}{embeddings}
\item 
\hyperlink{classparlai_1_1agents_1_1examples_1_1seq2seq_1_1Decoder_a1a90e93b199377e14872451abfd67bd9}{lstm}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
\begin{DoxyVerb}Basic example decoder, consisting of an embedding layer and a 1-layer LSTM with the
specified hidden size. Decoder allows for incremental decoding by ingesting the
current incremental state on each forward pass.

Pay particular note to the ``forward``.
\end{DoxyVerb}
 

Definition at line 80 of file seq2seq.\+py.



\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classparlai_1_1agents_1_1examples_1_1seq2seq_1_1Decoder_a8d3cde9bfc1341ecf32de4957284a3db}\label{classparlai_1_1agents_1_1examples_1_1seq2seq_1_1Decoder_a8d3cde9bfc1341ecf32de4957284a3db}} 
\index{parlai\+::agents\+::examples\+::seq2seq\+::\+Decoder@{parlai\+::agents\+::examples\+::seq2seq\+::\+Decoder}!\+\_\+\+\_\+init\+\_\+\+\_\+@{\+\_\+\+\_\+init\+\_\+\+\_\+}}
\index{\+\_\+\+\_\+init\+\_\+\+\_\+@{\+\_\+\+\_\+init\+\_\+\+\_\+}!parlai\+::agents\+::examples\+::seq2seq\+::\+Decoder@{parlai\+::agents\+::examples\+::seq2seq\+::\+Decoder}}
\subsubsection{\texorpdfstring{\+\_\+\+\_\+init\+\_\+\+\_\+()}{\_\_init\_\_()}}
{\footnotesize\ttfamily def parlai.\+agents.\+examples.\+seq2seq.\+Decoder.\+\_\+\+\_\+init\+\_\+\+\_\+ (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{embeddings,  }\item[{}]{hidden\+\_\+size }\end{DoxyParamCaption})}

\begin{DoxyVerb}Initialization.

Arguments here can be used to provide hyperparameters.
\end{DoxyVerb}
 

Definition at line 89 of file seq2seq.\+py.


\begin{DoxyCode}
89     \textcolor{keyword}{def }\_\_init\_\_(self, embeddings, hidden\_size):
90         \textcolor{stringliteral}{"""}
91 \textcolor{stringliteral}{        Initialization.}
92 \textcolor{stringliteral}{}
93 \textcolor{stringliteral}{        Arguments here can be used to provide hyperparameters.}
94 \textcolor{stringliteral}{        """}
95         super().\_\_init\_\_()
96         \_vocab\_size, self.esz = embeddings.weight.shape
97         self.embeddings = embeddings
98         self.lstm = nn.LSTM(
99             input\_size=self.esz, hidden\_size=hidden\_size, num\_layers=1, batch\_first=\textcolor{keyword}{True}
100         )
101 
\end{DoxyCode}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{classparlai_1_1agents_1_1examples_1_1seq2seq_1_1Decoder_a21c8ac2081cfc42ca7823f6640f40855}\label{classparlai_1_1agents_1_1examples_1_1seq2seq_1_1Decoder_a21c8ac2081cfc42ca7823f6640f40855}} 
\index{parlai\+::agents\+::examples\+::seq2seq\+::\+Decoder@{parlai\+::agents\+::examples\+::seq2seq\+::\+Decoder}!forward@{forward}}
\index{forward@{forward}!parlai\+::agents\+::examples\+::seq2seq\+::\+Decoder@{parlai\+::agents\+::examples\+::seq2seq\+::\+Decoder}}
\subsubsection{\texorpdfstring{forward()}{forward()}}
{\footnotesize\ttfamily def parlai.\+agents.\+examples.\+seq2seq.\+Decoder.\+forward (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{input,  }\item[{}]{encoder\+\_\+state,  }\item[{}]{incr\+\_\+state = {\ttfamily None} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Run forward pass.

:param input:
    The currently generated tokens from the decoder.
:param encoder_state:
    The output from the encoder module.
:parm incr_state:
    The previous hidden state of the decoder.
\end{DoxyVerb}
 

Definition at line 102 of file seq2seq.\+py.


\begin{DoxyCode}
102     \textcolor{keyword}{def }forward(self, input, encoder\_state, incr\_state=None):
103         \textcolor{stringliteral}{"""}
104 \textcolor{stringliteral}{        Run forward pass.}
105 \textcolor{stringliteral}{}
106 \textcolor{stringliteral}{        :param input:}
107 \textcolor{stringliteral}{            The currently generated tokens from the decoder.}
108 \textcolor{stringliteral}{        :param encoder\_state:}
109 \textcolor{stringliteral}{            The output from the encoder module.}
110 \textcolor{stringliteral}{        :parm incr\_state:}
111 \textcolor{stringliteral}{            The previous hidden state of the decoder.}
112 \textcolor{stringliteral}{        """}
113         embedded = self.embeddings(input)
114         \textcolor{keywordflow}{if} incr\_state \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
115             \textcolor{comment}{# this is our very first call. We want to seed the LSTM with the}
116             \textcolor{comment}{# hidden state of the decoder}
117             state = encoder\_state
118         \textcolor{keywordflow}{else}:
119             \textcolor{comment}{# We've generated some tokens already, so we can reuse the existing}
120             \textcolor{comment}{# decoder state}
121             state = incr\_state
122 
123         \textcolor{comment}{# get the new output and decoder incremental state}
124         output, incr\_state = self.lstm(embedded, state)
125 
126         \textcolor{keywordflow}{return} output, incr\_state
127 
128 
\end{DoxyCode}


\subsection{Member Data Documentation}
\mbox{\Hypertarget{classparlai_1_1agents_1_1examples_1_1seq2seq_1_1Decoder_aa0bc6e18f86e036101771cfe9c88a228}\label{classparlai_1_1agents_1_1examples_1_1seq2seq_1_1Decoder_aa0bc6e18f86e036101771cfe9c88a228}} 
\index{parlai\+::agents\+::examples\+::seq2seq\+::\+Decoder@{parlai\+::agents\+::examples\+::seq2seq\+::\+Decoder}!embeddings@{embeddings}}
\index{embeddings@{embeddings}!parlai\+::agents\+::examples\+::seq2seq\+::\+Decoder@{parlai\+::agents\+::examples\+::seq2seq\+::\+Decoder}}
\subsubsection{\texorpdfstring{embeddings}{embeddings}}
{\footnotesize\ttfamily parlai.\+agents.\+examples.\+seq2seq.\+Decoder.\+embeddings}



Definition at line 97 of file seq2seq.\+py.

\mbox{\Hypertarget{classparlai_1_1agents_1_1examples_1_1seq2seq_1_1Decoder_a595779e6e60479d413ebe8ca7f643182}\label{classparlai_1_1agents_1_1examples_1_1seq2seq_1_1Decoder_a595779e6e60479d413ebe8ca7f643182}} 
\index{parlai\+::agents\+::examples\+::seq2seq\+::\+Decoder@{parlai\+::agents\+::examples\+::seq2seq\+::\+Decoder}!esz@{esz}}
\index{esz@{esz}!parlai\+::agents\+::examples\+::seq2seq\+::\+Decoder@{parlai\+::agents\+::examples\+::seq2seq\+::\+Decoder}}
\subsubsection{\texorpdfstring{esz}{esz}}
{\footnotesize\ttfamily parlai.\+agents.\+examples.\+seq2seq.\+Decoder.\+esz}



Definition at line 96 of file seq2seq.\+py.

\mbox{\Hypertarget{classparlai_1_1agents_1_1examples_1_1seq2seq_1_1Decoder_a1a90e93b199377e14872451abfd67bd9}\label{classparlai_1_1agents_1_1examples_1_1seq2seq_1_1Decoder_a1a90e93b199377e14872451abfd67bd9}} 
\index{parlai\+::agents\+::examples\+::seq2seq\+::\+Decoder@{parlai\+::agents\+::examples\+::seq2seq\+::\+Decoder}!lstm@{lstm}}
\index{lstm@{lstm}!parlai\+::agents\+::examples\+::seq2seq\+::\+Decoder@{parlai\+::agents\+::examples\+::seq2seq\+::\+Decoder}}
\subsubsection{\texorpdfstring{lstm}{lstm}}
{\footnotesize\ttfamily parlai.\+agents.\+examples.\+seq2seq.\+Decoder.\+lstm}



Definition at line 98 of file seq2seq.\+py.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
parlai/agents/examples/\hyperlink{agents_2examples_2seq2seq_8py}{seq2seq.\+py}\end{DoxyCompactItemize}
