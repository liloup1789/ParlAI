\hypertarget{namespaceparlai_1_1utils_1_1misc}{}\section{parlai.\+utils.\+misc Namespace Reference}
\label{namespaceparlai_1_1utils_1_1misc}\index{parlai.\+utils.\+misc@{parlai.\+utils.\+misc}}
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \hyperlink{classparlai_1_1utils_1_1misc_1_1AttrDict}{Attr\+Dict}
\item 
class \hyperlink{classparlai_1_1utils_1_1misc_1_1NoLock}{No\+Lock}
\item 
class \hyperlink{classparlai_1_1utils_1_1misc_1_1PaddingUtils}{Padding\+Utils}
\item 
class \hyperlink{classparlai_1_1utils_1_1misc_1_1Predictor}{Predictor}
\item 
class \hyperlink{classparlai_1_1utils_1_1misc_1_1TimeLogger}{Time\+Logger}
\item 
class \hyperlink{classparlai_1_1utils_1_1misc_1_1Timer}{Timer}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{namespaceparlai_1_1utils_1_1misc_ac8ca45e62ca906d9b6e5026588a5d2a2}{maintain\+\_\+dialog\+\_\+history} (history, observation, reply=\textquotesingle{}\textquotesingle{}, history\+Length=1, use\+Replies=\textquotesingle{}label\+\_\+else\+\_\+model\textquotesingle{}, dict=None, use\+Start\+End\+Indices=True, split\+Sentences=False)
\item 
def \hyperlink{namespaceparlai_1_1utils_1_1misc_ad935ab0a9d49b897c5e3efdbe1c46c4d}{load\+\_\+cands} (path, lines\+\_\+have\+\_\+ids=False, cands\+\_\+are\+\_\+replies=False)
\item 
def \hyperlink{namespaceparlai_1_1utils_1_1misc_a85b4447d47998393aaca2c83660f096e}{round\+\_\+sigfigs}
\item 
def \hyperlink{namespaceparlai_1_1utils_1_1misc_a38a23cfa0fc3dbed42846787d1c04b57}{no\+\_\+lock} ()
\item 
def \hyperlink{namespaceparlai_1_1utils_1_1misc_a219b248f4399036a381ca859aa97433e}{clip\+\_\+text} (text, max\+\_\+len)
\item 
def \hyperlink{namespaceparlai_1_1utils_1_1misc_a7c86f996f4b55a960da46c1142a2c507}{display\+\_\+messages}
\item 
def \hyperlink{namespaceparlai_1_1utils_1_1misc_a1b053cd9c56e6fa79b058fff587b3a48}{str\+\_\+to\+\_\+msg} (txt, ignore\+\_\+fields=\textquotesingle{}\textquotesingle{})
\item 
def \hyperlink{namespaceparlai_1_1utils_1_1misc_ae5db473b41d3b49814e2566e866282b6}{msg\+\_\+to\+\_\+str} (msg, ignore\+\_\+fields=\textquotesingle{}\textquotesingle{})
\item 
def \hyperlink{namespaceparlai_1_1utils_1_1misc_a8781cc03272b3a118fcd9e5a9f4ca1dd}{set\+\_\+namedtuple\+\_\+defaults} (namedtuple, default=None)
\item 
def \hyperlink{namespaceparlai_1_1utils_1_1misc_a884a3aefa90581f53bc592fa6a78dc43}{warn\+\_\+once}
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\hyperlink{namespaceparlai_1_1utils_1_1misc_a122146c75d0e6910340a6a851d097bdc}{D\+I\+S\+P\+L\+A\+Y\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+D\+E\+F\+A\+U\+L\+T\+\_\+\+F\+I\+E\+L\+DS}
\item 
\hyperlink{namespaceparlai_1_1utils_1_1misc_a5d6ad7f3aef96f16bb9060f5a41fc39b}{single\+\_\+nolock}
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\mbox{\Hypertarget{namespaceparlai_1_1utils_1_1misc_a219b248f4399036a381ca859aa97433e}\label{namespaceparlai_1_1utils_1_1misc_a219b248f4399036a381ca859aa97433e}} 
\index{parlai\+::utils\+::misc@{parlai\+::utils\+::misc}!clip\+\_\+text@{clip\+\_\+text}}
\index{clip\+\_\+text@{clip\+\_\+text}!parlai\+::utils\+::misc@{parlai\+::utils\+::misc}}
\subsubsection{\texorpdfstring{clip\+\_\+text()}{clip\_text()}}
{\footnotesize\ttfamily def parlai.\+utils.\+misc.\+clip\+\_\+text (\begin{DoxyParamCaption}\item[{}]{text,  }\item[{}]{max\+\_\+len }\end{DoxyParamCaption})}

\begin{DoxyVerb}Clip text to max length, adding ellipses.
\end{DoxyVerb}
 

Definition at line 571 of file misc.\+py.


\begin{DoxyCode}
571 \textcolor{keyword}{def }\hyperlink{namespaceparlai_1_1utils_1_1misc_a219b248f4399036a381ca859aa97433e}{clip\_text}(text, max\_len):
572     \textcolor{stringliteral}{"""}
573 \textcolor{stringliteral}{    Clip text to max length, adding ellipses.}
574 \textcolor{stringliteral}{    """}
575     \textcolor{keywordflow}{if} len(text) > max\_len:
576         begin\_text = \textcolor{stringliteral}{' '}.join(text[: math.floor(0.8 * max\_len)].split(\textcolor{stringliteral}{' '})[:-1])
577         end\_text = \textcolor{stringliteral}{' '}.join(
578             text[(len(text) - math.floor(0.2 * max\_len)) :].split(\textcolor{stringliteral}{' '})[1:]
579         )
580         \textcolor{keywordflow}{if} len(end\_text) > 0:
581             text = begin\_text + \textcolor{stringliteral}{' ...\(\backslash\)n'} + end\_text
582         \textcolor{keywordflow}{else}:
583             text = begin\_text + \textcolor{stringliteral}{' ...'}
584     \textcolor{keywordflow}{return} text
585 
586 
\end{DoxyCode}
\mbox{\Hypertarget{namespaceparlai_1_1utils_1_1misc_a7c86f996f4b55a960da46c1142a2c507}\label{namespaceparlai_1_1utils_1_1misc_a7c86f996f4b55a960da46c1142a2c507}} 
\index{parlai\+::utils\+::misc@{parlai\+::utils\+::misc}!display\+\_\+messages@{display\+\_\+messages}}
\index{display\+\_\+messages@{display\+\_\+messages}!parlai\+::utils\+::misc@{parlai\+::utils\+::misc}}
\subsubsection{\texorpdfstring{display\+\_\+messages()}{display\_messages()}}
{\footnotesize\ttfamily def parlai.\+utils.\+misc.\+display\+\_\+messages (\begin{DoxyParamCaption}\item[{}]{msgs }\end{DoxyParamCaption})}



Definition at line 606 of file misc.\+py.


\begin{DoxyCode}
606     msgs: List[Dict[str, Any]],
607     prettify: bool = \textcolor{keyword}{False},
608     ignore\_fields: str = \textcolor{stringliteral}{''},
609     max\_len: int = 1000,
610 ) -> Optional[str]:
611     \textcolor{stringliteral}{"""}
612 \textcolor{stringliteral}{    Return a string describing the set of messages provided.}
613 \textcolor{stringliteral}{}
614 \textcolor{stringliteral}{    If prettify is true, candidates are displayed using prettytable. ignore\_fields}
615 \textcolor{stringliteral}{    provides a list of fields in the msgs which should not be displayed.}
616 \textcolor{stringliteral}{    """}
617 
618     \textcolor{keyword}{def }\_token\_losses\_line(
619         msg: Dict[str, Any], ignore\_fields: List[str], space: str
620     ) -> Optional[str]:
621         \textcolor{stringliteral}{"""}
622 \textcolor{stringliteral}{        Displays the loss associated with each token. Can be used for debugging}
623 \textcolor{stringliteral}{        generative models.}
624 \textcolor{stringliteral}{}
625 \textcolor{stringliteral}{        See TorchGeneratorAgent.\_construct\_token\_losses for an example implementation.}
626 \textcolor{stringliteral}{        """}
627         key = \textcolor{stringliteral}{'token\_losses'}
628         token\_losses = msg.get(key, \textcolor{keywordtype}{None})
629         \textcolor{keywordflow}{if} key \textcolor{keywordflow}{in} ignore\_fields \textcolor{keywordflow}{or} \textcolor{keywordflow}{not} token\_losses:
630             \textcolor{keywordflow}{return} \textcolor{keywordtype}{None}
631         \textcolor{comment}{# Reduce losses to 4 significant figures}
632         formatted\_tl = \textcolor{stringliteral}{' | '}.join(
633             [f\textcolor{stringliteral}{"\{tl[0]\} \{float('\{:.4g\}'.format(tl[1]))\}"} \textcolor{keywordflow}{for} tl \textcolor{keywordflow}{in} token\_losses]
634         )
635         \textcolor{keywordflow}{return} f\textcolor{stringliteral}{'\{space\}[\{key\}]: \{formatted\_tl\}'}
636 
637     lines = []
638     episode\_done = \textcolor{keyword}{False}
639     ignore\_fields\_ = ignore\_fields.split(\textcolor{stringliteral}{','})
640     \textcolor{keywordflow}{for} index, msg \textcolor{keywordflow}{in} enumerate(msgs):
641         \textcolor{keywordflow}{if} msg \textcolor{keywordflow}{is} \textcolor{keywordtype}{None} \textcolor{keywordflow}{or} (index == 1 \textcolor{keywordflow}{and} \textcolor{stringliteral}{'agent\_reply'} \textcolor{keywordflow}{in} ignore\_fields\_):
642             \textcolor{comment}{# We only display the first agent (typically the teacher) if we}
643             \textcolor{comment}{# are ignoring the agent reply.}
644             \textcolor{keywordflow}{continue}
645         \textcolor{keywordflow}{if} msg.get(\textcolor{stringliteral}{'episode\_done'}):
646             episode\_done = \textcolor{keyword}{True}
647         \textcolor{comment}{# Possibly indent the text (for the second speaker, if two).}
648         space = \textcolor{stringliteral}{''}
649         \textcolor{keywordflow}{if} len(msgs) == 2 \textcolor{keywordflow}{and} index == 1:
650             space = \textcolor{stringliteral}{'   '}
651         \textcolor{comment}{# Only display rewards !=0 as they are confusing in non-RL tasks.}
652         \textcolor{keywordflow}{if} msg.get(\textcolor{stringliteral}{'reward'}, 0) != 0:
653             lines.append(space + \textcolor{stringliteral}{'[reward: \{r\}]'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(r=msg[\textcolor{stringliteral}{'reward'}]))
654         \textcolor{keywordflow}{for} key \textcolor{keywordflow}{in} msg:
655             \textcolor{keywordflow}{if} key \textcolor{keywordflow}{not} \textcolor{keywordflow}{in} DISPLAY\_MESSAGE\_DEFAULT\_FIELDS \textcolor{keywordflow}{and} key \textcolor{keywordflow}{not} \textcolor{keywordflow}{in} ignore\_fields\_:
656                 \textcolor{keywordflow}{if} \hyperlink{namespaceparlai_1_1agents_1_1tfidf__retriever_1_1build__tfidf_ad5dfae268e23f506da084a9efb72f619}{type}(msg[key]) \textcolor{keywordflow}{is} list:
657                     line = \textcolor{stringliteral}{'['} + key + \textcolor{stringliteral}{']:\(\backslash\)n  '} + \_ellipse(msg[key], sep=\textcolor{stringliteral}{'\(\backslash\)n  '})
658                 \textcolor{keywordflow}{else}:
659                     line = \textcolor{stringliteral}{'['} + key + \textcolor{stringliteral}{']: '} + \hyperlink{namespaceparlai_1_1utils_1_1misc_a219b248f4399036a381ca859aa97433e}{clip\_text}(\hyperlink{namespacegenerate__task__READMEs_a5b88452ffb87b78c8c85ececebafc09f}{str}(msg.get(key)), max\_len)
660                 lines.append(space + line)
661         \textcolor{keywordflow}{if} \hyperlink{namespaceparlai_1_1agents_1_1tfidf__retriever_1_1build__tfidf_ad5dfae268e23f506da084a9efb72f619}{type}(msg.get(\textcolor{stringliteral}{'image'})) \textcolor{keywordflow}{in} [str, torch.Tensor]:
662             lines.append(f\textcolor{stringliteral}{'[ image ]: \{msg["image"]\}'})
663         \textcolor{keywordflow}{if} msg.get(\textcolor{stringliteral}{'text'}, \textcolor{stringliteral}{''}):
664             text = \hyperlink{namespaceparlai_1_1utils_1_1misc_a219b248f4399036a381ca859aa97433e}{clip\_text}(msg[\textcolor{stringliteral}{'text'}], max\_len)
665             ID = \textcolor{stringliteral}{'['} + msg[\textcolor{stringliteral}{'id'}] + \textcolor{stringliteral}{']: '} \textcolor{keywordflow}{if} \textcolor{stringliteral}{'id'} \textcolor{keywordflow}{in} msg \textcolor{keywordflow}{else} \textcolor{stringliteral}{''}
666             lines.append(space + ID + text)
667         \textcolor{keywordflow}{for} field \textcolor{keywordflow}{in} \{\textcolor{stringliteral}{'labels'}, \textcolor{stringliteral}{'eval\_labels'}, \textcolor{stringliteral}{'label\_candidates'}, \textcolor{stringliteral}{'text\_candidates'}\}:
668             \textcolor{keywordflow}{if} msg.get(field) \textcolor{keywordflow}{and} field \textcolor{keywordflow}{not} \textcolor{keywordflow}{in} ignore\_fields\_:
669                 lines.append(\textcolor{stringliteral}{'\{\}[\{\}: \{\}]'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(space, field, \_ellipse(msg[field])))
670         \textcolor{comment}{# Handling this separately since we need to clean up the raw output before displaying.}
671         token\_loss\_line = \_token\_losses\_line(msg, ignore\_fields\_, space)
672         \textcolor{keywordflow}{if} token\_loss\_line:
673             lines.append(token\_loss\_line)
674 
675     \textcolor{keywordflow}{if} episode\_done:
676         lines.append(\textcolor{stringliteral}{'- - - - - - - - - - - - - - - - - - - - -'})
677 
678     \textcolor{keywordflow}{return} \textcolor{stringliteral}{'\(\backslash\)n'}.join(lines)
679 
680 
\end{DoxyCode}
\mbox{\Hypertarget{namespaceparlai_1_1utils_1_1misc_ad935ab0a9d49b897c5e3efdbe1c46c4d}\label{namespaceparlai_1_1utils_1_1misc_ad935ab0a9d49b897c5e3efdbe1c46c4d}} 
\index{parlai\+::utils\+::misc@{parlai\+::utils\+::misc}!load\+\_\+cands@{load\+\_\+cands}}
\index{load\+\_\+cands@{load\+\_\+cands}!parlai\+::utils\+::misc@{parlai\+::utils\+::misc}}
\subsubsection{\texorpdfstring{load\+\_\+cands()}{load\_cands()}}
{\footnotesize\ttfamily def parlai.\+utils.\+misc.\+load\+\_\+cands (\begin{DoxyParamCaption}\item[{}]{path,  }\item[{}]{lines\+\_\+have\+\_\+ids = {\ttfamily False},  }\item[{}]{cands\+\_\+are\+\_\+replies = {\ttfamily False} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Load global fixed set of candidate labels that the teacher provides.

Every example will include these as candidates. The true labels for a specific
example are also added to this set, so that it's possible to get the right answer.
\end{DoxyVerb}
 

Definition at line 115 of file misc.\+py.


\begin{DoxyCode}
115 \textcolor{keyword}{def }\hyperlink{namespaceparlai_1_1utils_1_1misc_ad935ab0a9d49b897c5e3efdbe1c46c4d}{load\_cands}(path, lines\_have\_ids=False, cands\_are\_replies=False):
116     \textcolor{stringliteral}{"""}
117 \textcolor{stringliteral}{    Load global fixed set of candidate labels that the teacher provides.}
118 \textcolor{stringliteral}{}
119 \textcolor{stringliteral}{    Every example will include these as candidates. The true labels for a specific}
120 \textcolor{stringliteral}{    example are also added to this set, so that it's possible to get the right answer.}
121 \textcolor{stringliteral}{    """}
122     \textcolor{keywordflow}{if} path \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
123         \textcolor{keywordflow}{return} \textcolor{keywordtype}{None}
124     cands = []
125     cnt = 0
126     with open(path) \textcolor{keyword}{as} read:
127         \textcolor{keywordflow}{for} line \textcolor{keywordflow}{in} read:
128             line = line.strip().replace(\textcolor{stringliteral}{'\(\backslash\)\(\backslash\)n'}, \textcolor{stringliteral}{'\(\backslash\)n'})
129             \textcolor{keywordflow}{if} len(line) > 0:
130                 cnt = cnt + 1
131                 \textcolor{comment}{# If lines are numbered we strip them of numbers.}
132                 \textcolor{keywordflow}{if} cnt == 1 \textcolor{keywordflow}{and} line[0:2] == \textcolor{stringliteral}{'1 '}:
133                     lines\_have\_ids = \textcolor{keyword}{True}
134                 \textcolor{comment}{# If tabs then the label\_candidates are all the replies.}
135                 \textcolor{keywordflow}{if} \textcolor{stringliteral}{'\(\backslash\)t'} \textcolor{keywordflow}{in} line \textcolor{keywordflow}{and} \textcolor{keywordflow}{not} cands\_are\_replies:
136                     cands\_are\_replies = \textcolor{keyword}{True}
137                     cands = []
138                 \textcolor{keywordflow}{if} lines\_have\_ids:
139                     space\_idx = line.find(\textcolor{stringliteral}{' '})
140                     line = line[space\_idx + 1 :]
141                     \textcolor{keywordflow}{if} cands\_are\_replies:
142                         sp = line.split(\textcolor{stringliteral}{'\(\backslash\)t'})
143                         \textcolor{keywordflow}{if} len(sp) > 1 \textcolor{keywordflow}{and} sp[1] != \textcolor{stringliteral}{''}:
144                             cands.append(sp[1])
145                     \textcolor{keywordflow}{else}:
146                         cands.append(line)
147                 \textcolor{keywordflow}{else}:
148                     cands.append(line)
149     \textcolor{keywordflow}{return} cands
150 
151 
\end{DoxyCode}
\mbox{\Hypertarget{namespaceparlai_1_1utils_1_1misc_ac8ca45e62ca906d9b6e5026588a5d2a2}\label{namespaceparlai_1_1utils_1_1misc_ac8ca45e62ca906d9b6e5026588a5d2a2}} 
\index{parlai\+::utils\+::misc@{parlai\+::utils\+::misc}!maintain\+\_\+dialog\+\_\+history@{maintain\+\_\+dialog\+\_\+history}}
\index{maintain\+\_\+dialog\+\_\+history@{maintain\+\_\+dialog\+\_\+history}!parlai\+::utils\+::misc@{parlai\+::utils\+::misc}}
\subsubsection{\texorpdfstring{maintain\+\_\+dialog\+\_\+history()}{maintain\_dialog\_history()}}
{\footnotesize\ttfamily def parlai.\+utils.\+misc.\+maintain\+\_\+dialog\+\_\+history (\begin{DoxyParamCaption}\item[{}]{history,  }\item[{}]{observation,  }\item[{}]{reply = {\ttfamily \textquotesingle{}\textquotesingle{}},  }\item[{}]{history\+Length = {\ttfamily 1},  }\item[{}]{use\+Replies = {\ttfamily \textquotesingle{}label\+\_\+else\+\_\+model\textquotesingle{}},  }\item[{}]{dict = {\ttfamily None},  }\item[{}]{use\+Start\+End\+Indices = {\ttfamily True},  }\item[{}]{split\+Sentences = {\ttfamily False} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Keep track of dialog history, up to a truncation length.

Either includes replies from the labels, model, or not all using param
'replies'.

DEPRECATED. USE PARLAI.CORE.TORCH_AGENT INSTEAD.
\end{DoxyVerb}
 

Definition at line 54 of file misc.\+py.


\begin{DoxyCode}
54 ):
55     \textcolor{stringliteral}{"""}
56 \textcolor{stringliteral}{    Keep track of dialog history, up to a truncation length.}
57 \textcolor{stringliteral}{}
58 \textcolor{stringliteral}{    Either includes replies from the labels, model, or not all using param}
59 \textcolor{stringliteral}{    'replies'.}
60 \textcolor{stringliteral}{}
61 \textcolor{stringliteral}{    DEPRECATED. USE PARLAI.CORE.TORCH\_AGENT INSTEAD.}
62 \textcolor{stringliteral}{    """}
63 
64     \textcolor{keyword}{def }parse(txt, splitSentences):
65         \textcolor{keywordflow}{if} dict \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}:
66             \textcolor{keywordflow}{if} splitSentences:
67                 vec = [dict.txt2vec(t) \textcolor{keywordflow}{for} t \textcolor{keywordflow}{in} txt.split(\textcolor{stringliteral}{'\(\backslash\)n'})]
68             \textcolor{keywordflow}{else}:
69                 vec = dict.txt2vec(txt)
70             \textcolor{keywordflow}{return} vec
71         \textcolor{keywordflow}{else}:
72             \textcolor{keywordflow}{return} [txt]
73 
74     \textcolor{keywordflow}{if} \textcolor{stringliteral}{'dialog'} \textcolor{keywordflow}{not} \textcolor{keywordflow}{in} history:
75         history[\textcolor{stringliteral}{'dialog'}] = deque(maxlen=historyLength)
76         history[\textcolor{stringliteral}{'episode\_done'}] = \textcolor{keyword}{False}
77         history[\textcolor{stringliteral}{'labels'}] = []
78 
79     \textcolor{keywordflow}{if} history[\textcolor{stringliteral}{'episode\_done'}]:
80         history[\textcolor{stringliteral}{'dialog'}].clear()
81         history[\textcolor{stringliteral}{'labels'}] = []
82         useReplies = \textcolor{stringliteral}{'none'}
83         history[\textcolor{stringliteral}{'episode\_done'}] = \textcolor{keyword}{False}
84 
85     \textcolor{keywordflow}{if} useReplies != \textcolor{stringliteral}{'none'}:
86         \textcolor{keywordflow}{if} useReplies == \textcolor{stringliteral}{'model'} \textcolor{keywordflow}{or} (
87             useReplies == \textcolor{stringliteral}{'label\_else\_model'} \textcolor{keywordflow}{and} len(history[\textcolor{stringliteral}{'labels'}]) == 0
88         ):
89             \textcolor{keywordflow}{if} reply:
90                 \textcolor{keywordflow}{if} useStartEndIndices:
91                     reply = dict.start\_token + \textcolor{stringliteral}{' '} + reply
92                 history[\textcolor{stringliteral}{'dialog'}].extend(parse(reply, splitSentences))
93         \textcolor{keywordflow}{elif} len(history[\textcolor{stringliteral}{'labels'}]) > 0:
94             r = history[\textcolor{stringliteral}{'labels'}][0]
95             history[\textcolor{stringliteral}{'dialog'}].extend(parse(r, splitSentences))
96 
97     obs = observation
98     \textcolor{keywordflow}{if} \textcolor{stringliteral}{'text'} \textcolor{keywordflow}{in} obs:
99         \textcolor{keywordflow}{if} useStartEndIndices:
100             obs[\textcolor{stringliteral}{'text'}] = dict.end\_token + \textcolor{stringliteral}{' '} + obs[\textcolor{stringliteral}{'text'}]
101         history[\textcolor{stringliteral}{'dialog'}].extend(parse(obs[\textcolor{stringliteral}{'text'}], splitSentences))
102 
103     history[\textcolor{stringliteral}{'episode\_done'}] = obs[\textcolor{stringliteral}{'episode\_done'}]
104 
105     labels = obs.get(\textcolor{stringliteral}{'labels'}, obs.get(\textcolor{stringliteral}{'eval\_labels'}, \textcolor{keywordtype}{None}))
106     \textcolor{keywordflow}{if} labels \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}:
107         \textcolor{keywordflow}{if} useStartEndIndices:
108             history[\textcolor{stringliteral}{'labels'}] = [dict.start\_token + \textcolor{stringliteral}{' '} + l \textcolor{keywordflow}{for} l \textcolor{keywordflow}{in} labels]
109         \textcolor{keywordflow}{else}:
110             history[\textcolor{stringliteral}{'labels'}] = labels
111 
112     \textcolor{keywordflow}{return} history[\textcolor{stringliteral}{'dialog'}]
113 
114 
\end{DoxyCode}
\mbox{\Hypertarget{namespaceparlai_1_1utils_1_1misc_ae5db473b41d3b49814e2566e866282b6}\label{namespaceparlai_1_1utils_1_1misc_ae5db473b41d3b49814e2566e866282b6}} 
\index{parlai\+::utils\+::misc@{parlai\+::utils\+::misc}!msg\+\_\+to\+\_\+str@{msg\+\_\+to\+\_\+str}}
\index{msg\+\_\+to\+\_\+str@{msg\+\_\+to\+\_\+str}!parlai\+::utils\+::misc@{parlai\+::utils\+::misc}}
\subsubsection{\texorpdfstring{msg\+\_\+to\+\_\+str()}{msg\_to\_str()}}
{\footnotesize\ttfamily def parlai.\+utils.\+misc.\+msg\+\_\+to\+\_\+str (\begin{DoxyParamCaption}\item[{}]{msg,  }\item[{}]{ignore\+\_\+fields = {\ttfamily \textquotesingle{}\textquotesingle{}} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Convert ParlAI message dict to string.

:param msg:
    dict to convert into a string.
:param ignore_fields:
    (default '') comma-separated field names to not include in the string
    even if they're in the msg dict.
\end{DoxyVerb}
 

Definition at line 735 of file misc.\+py.


\begin{DoxyCode}
735 \textcolor{keyword}{def }\hyperlink{namespaceparlai_1_1utils_1_1misc_ae5db473b41d3b49814e2566e866282b6}{msg\_to\_str}(msg, ignore\_fields=''):
736     \textcolor{stringliteral}{"""}
737 \textcolor{stringliteral}{    Convert ParlAI message dict to string.}
738 \textcolor{stringliteral}{}
739 \textcolor{stringliteral}{    :param msg:}
740 \textcolor{stringliteral}{        dict to convert into a string.}
741 \textcolor{stringliteral}{    :param ignore\_fields:}
742 \textcolor{stringliteral}{        (default '') comma-separated field names to not include in the string}
743 \textcolor{stringliteral}{        even if they're in the msg dict.}
744 \textcolor{stringliteral}{    """}
745 
746     \textcolor{keyword}{def }filter(txt):
747         txt = \hyperlink{namespacegenerate__task__READMEs_a5b88452ffb87b78c8c85ececebafc09f}{str}(txt)
748         txt = txt.replace(\textcolor{stringliteral}{'\(\backslash\)t'}, \textcolor{stringliteral}{'\(\backslash\)\(\backslash\)t'})
749         txt = txt.replace(\textcolor{stringliteral}{'\(\backslash\)n'}, \textcolor{stringliteral}{'\(\backslash\)\(\backslash\)n'})
750         txt = txt.replace(\textcolor{stringliteral}{'|'}, \textcolor{stringliteral}{'\_\_PIPE\_\_'})
751         \textcolor{keywordflow}{return} txt
752 
753     \textcolor{keyword}{def }add\_field(name, data):
754         \textcolor{keywordflow}{if} name == \textcolor{stringliteral}{'reward'} \textcolor{keywordflow}{and} data == 0:
755             \textcolor{keywordflow}{return} \textcolor{stringliteral}{''}
756         \textcolor{keywordflow}{if} name == \textcolor{stringliteral}{'episode\_done'} \textcolor{keywordflow}{and} data \textcolor{keywordflow}{is} \textcolor{keyword}{False}:
757             \textcolor{keywordflow}{return} \textcolor{stringliteral}{''}
758         txt = \textcolor{stringliteral}{''}
759         \textcolor{keywordflow}{if} \hyperlink{namespaceparlai_1_1agents_1_1tfidf__retriever_1_1build__tfidf_ad5dfae268e23f506da084a9efb72f619}{type}(data) == tuple \textcolor{keywordflow}{or} \hyperlink{namespaceparlai_1_1agents_1_1tfidf__retriever_1_1build__tfidf_ad5dfae268e23f506da084a9efb72f619}{type}(data) == set \textcolor{keywordflow}{or} \hyperlink{namespaceparlai_1_1agents_1_1tfidf__retriever_1_1build__tfidf_ad5dfae268e23f506da084a9efb72f619}{type}(data) == list:
760             \textcolor{comment}{# list entries}
761             \textcolor{keywordflow}{for} c \textcolor{keywordflow}{in} data:
762                 txt += filter(c) + \textcolor{stringliteral}{"|"}
763             txt = txt[:-1]
764         \textcolor{keywordflow}{else}:
765             \textcolor{comment}{# single fields}
766             txt = filter(data)
767         \textcolor{keywordflow}{return} name + \textcolor{stringliteral}{":"} + txt + \textcolor{stringliteral}{'\(\backslash\)t'}
768 
769     default\_fields = [
770         \textcolor{stringliteral}{'id'},
771         \textcolor{stringliteral}{'text'},
772         \textcolor{stringliteral}{'labels'},
773         \textcolor{stringliteral}{'label\_candidates'},
774         \textcolor{stringliteral}{'episode\_done'},
775         \textcolor{stringliteral}{'reward'},
776     ]
777     txt = \textcolor{stringliteral}{""}
778     ignore\_fields = ignore\_fields.split(\textcolor{stringliteral}{','})
779     \textcolor{keywordflow}{for} f \textcolor{keywordflow}{in} default\_fields:
780         \textcolor{keywordflow}{if} f \textcolor{keywordflow}{in} msg \textcolor{keywordflow}{and} f \textcolor{keywordflow}{not} \textcolor{keywordflow}{in} ignore\_fields:
781             txt += add\_field(f, msg[f])
782     \textcolor{keywordflow}{for} f \textcolor{keywordflow}{in} msg.keys():
783         \textcolor{keywordflow}{if} f \textcolor{keywordflow}{not} \textcolor{keywordflow}{in} default\_fields \textcolor{keywordflow}{and} f \textcolor{keywordflow}{not} \textcolor{keywordflow}{in} ignore\_fields:
784             txt += add\_field(f, msg[f])
785     \textcolor{keywordflow}{return} txt.rstrip(\textcolor{stringliteral}{'\(\backslash\)t'})
786 
787 
788 \textcolor{comment}{# DEPRECATION DAY: DELETE}
\end{DoxyCode}
\mbox{\Hypertarget{namespaceparlai_1_1utils_1_1misc_a38a23cfa0fc3dbed42846787d1c04b57}\label{namespaceparlai_1_1utils_1_1misc_a38a23cfa0fc3dbed42846787d1c04b57}} 
\index{parlai\+::utils\+::misc@{parlai\+::utils\+::misc}!no\+\_\+lock@{no\+\_\+lock}}
\index{no\+\_\+lock@{no\+\_\+lock}!parlai\+::utils\+::misc@{parlai\+::utils\+::misc}}
\subsubsection{\texorpdfstring{no\+\_\+lock()}{no\_lock()}}
{\footnotesize\ttfamily def parlai.\+utils.\+misc.\+no\+\_\+lock (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\begin{DoxyVerb}Build a nolock for other classes to use for no-op locking.
\end{DoxyVerb}
 

Definition at line 374 of file misc.\+py.


\begin{DoxyCode}
374 \textcolor{keyword}{def }\hyperlink{namespaceparlai_1_1utils_1_1misc_a38a23cfa0fc3dbed42846787d1c04b57}{no\_lock}():
375     \textcolor{stringliteral}{"""}
376 \textcolor{stringliteral}{    Build a nolock for other classes to use for no-op locking.}
377 \textcolor{stringliteral}{    """}
378     \textcolor{keywordflow}{return} single\_nolock
379 
380 
\end{DoxyCode}
\mbox{\Hypertarget{namespaceparlai_1_1utils_1_1misc_a85b4447d47998393aaca2c83660f096e}\label{namespaceparlai_1_1utils_1_1misc_a85b4447d47998393aaca2c83660f096e}} 
\index{parlai\+::utils\+::misc@{parlai\+::utils\+::misc}!round\+\_\+sigfigs@{round\+\_\+sigfigs}}
\index{round\+\_\+sigfigs@{round\+\_\+sigfigs}!parlai\+::utils\+::misc@{parlai\+::utils\+::misc}}
\subsubsection{\texorpdfstring{round\+\_\+sigfigs()}{round\_sigfigs()}}
{\footnotesize\ttfamily def parlai.\+utils.\+misc.\+round\+\_\+sigfigs (\begin{DoxyParamCaption}\item[{}]{x }\end{DoxyParamCaption})}



Definition at line 345 of file misc.\+py.


\begin{DoxyCode}
345 \textcolor{keyword}{def }\hyperlink{namespaceparlai_1_1utils_1_1misc_a85b4447d47998393aaca2c83660f096e}{round\_sigfigs}(x: Union[float, \textcolor{stringliteral}{'torch.Tensor'}], sigfigs=4) -> float:
346     \textcolor{stringliteral}{"""}
347 \textcolor{stringliteral}{    Round value to specified significant figures.}
348 \textcolor{stringliteral}{}
349 \textcolor{stringliteral}{    :param x: input number}
350 \textcolor{stringliteral}{    :param sigfigs: number of significant figures to return}
351 \textcolor{stringliteral}{}
352 \textcolor{stringliteral}{    :returns: float number rounded to specified sigfigs}
353 \textcolor{stringliteral}{    """}
354     x\_: float
355     \textcolor{keywordflow}{if} \_\_TORCH\_AVAILABLE \textcolor{keywordflow}{and} isinstance(x, torch.Tensor):
356         x\_ = x.item()
357     \textcolor{keywordflow}{else}:
358         x\_ = x  \textcolor{comment}{# type: ignore}
359 
360     \textcolor{keywordflow}{try}:
361         \textcolor{keywordflow}{if} x\_ == 0:
362             \textcolor{keywordflow}{return} 0
363         \textcolor{keywordflow}{return} round(x\_, -math.floor(math.log10(abs(x\_)) - sigfigs + 1))
364     \textcolor{keywordflow}{except} (ValueError, OverflowError) \textcolor{keyword}{as} ex:
365         \textcolor{keywordflow}{if} x\_ \textcolor{keywordflow}{in} [\hyperlink{namespaceprojects_1_1controllable__dialogue_1_1make__control__dataset_aa2b7207688c641dbc094ab44eca27113}{float}(\textcolor{stringliteral}{'inf'}), \hyperlink{namespaceprojects_1_1controllable__dialogue_1_1make__control__dataset_aa2b7207688c641dbc094ab44eca27113}{float}(\textcolor{stringliteral}{'-inf'})] \textcolor{keywordflow}{or} x\_ != x\_:  \textcolor{comment}{# inf or nan}
366             \textcolor{keywordflow}{return} x\_
367         \textcolor{keywordflow}{else}:
368             \textcolor{keywordflow}{raise} ex
369 
370 
\end{DoxyCode}
\mbox{\Hypertarget{namespaceparlai_1_1utils_1_1misc_a8781cc03272b3a118fcd9e5a9f4ca1dd}\label{namespaceparlai_1_1utils_1_1misc_a8781cc03272b3a118fcd9e5a9f4ca1dd}} 
\index{parlai\+::utils\+::misc@{parlai\+::utils\+::misc}!set\+\_\+namedtuple\+\_\+defaults@{set\+\_\+namedtuple\+\_\+defaults}}
\index{set\+\_\+namedtuple\+\_\+defaults@{set\+\_\+namedtuple\+\_\+defaults}!parlai\+::utils\+::misc@{parlai\+::utils\+::misc}}
\subsubsection{\texorpdfstring{set\+\_\+namedtuple\+\_\+defaults()}{set\_namedtuple\_defaults()}}
{\footnotesize\ttfamily def parlai.\+utils.\+misc.\+set\+\_\+namedtuple\+\_\+defaults (\begin{DoxyParamCaption}\item[{}]{namedtuple,  }\item[{}]{default = {\ttfamily None} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Set *all* of the fields for a given nametuple to a singular value.

Additionally removes the default docstring for each field.
Modifies the tuple in place, but returns it anyway.

More info:
https://stackoverflow.com/a/18348004

:param namedtuple: A constructed collections.namedtuple
:param default: The default value to set.

:returns: the modified namedtuple
\end{DoxyVerb}
 

Definition at line 789 of file misc.\+py.


\begin{DoxyCode}
789 \textcolor{keyword}{def }\hyperlink{namespaceparlai_1_1utils_1_1misc_a8781cc03272b3a118fcd9e5a9f4ca1dd}{set\_namedtuple\_defaults}(namedtuple, default=None):
790     \textcolor{stringliteral}{"""}
791 \textcolor{stringliteral}{    Set *all* of the fields for a given nametuple to a singular value.}
792 \textcolor{stringliteral}{}
793 \textcolor{stringliteral}{    Additionally removes the default docstring for each field.}
794 \textcolor{stringliteral}{    Modifies the tuple in place, but returns it anyway.}
795 \textcolor{stringliteral}{}
796 \textcolor{stringliteral}{    More info:}
797 \textcolor{stringliteral}{    https://stackoverflow.com/a/18348004}
798 \textcolor{stringliteral}{}
799 \textcolor{stringliteral}{    :param namedtuple: A constructed collections.namedtuple}
800 \textcolor{stringliteral}{    :param default: The default value to set.}
801 \textcolor{stringliteral}{}
802 \textcolor{stringliteral}{    :returns: the modified namedtuple}
803 \textcolor{stringliteral}{    """}
804     namedtuple.\_\_new\_\_.\_\_defaults\_\_ = (default,) * len(namedtuple.\_fields)
805     \textcolor{keywordflow}{for} f \textcolor{keywordflow}{in} namedtuple.\_fields:
806         del getattr(namedtuple, f).\_\_doc\_\_
807     \textcolor{keywordflow}{return} namedtuple
808 
809 
810 \_seen\_warnings: Set[str] = set()
811 
812 
\end{DoxyCode}
\mbox{\Hypertarget{namespaceparlai_1_1utils_1_1misc_a1b053cd9c56e6fa79b058fff587b3a48}\label{namespaceparlai_1_1utils_1_1misc_a1b053cd9c56e6fa79b058fff587b3a48}} 
\index{parlai\+::utils\+::misc@{parlai\+::utils\+::misc}!str\+\_\+to\+\_\+msg@{str\+\_\+to\+\_\+msg}}
\index{str\+\_\+to\+\_\+msg@{str\+\_\+to\+\_\+msg}!parlai\+::utils\+::misc@{parlai\+::utils\+::misc}}
\subsubsection{\texorpdfstring{str\+\_\+to\+\_\+msg()}{str\_to\_msg()}}
{\footnotesize\ttfamily def parlai.\+utils.\+misc.\+str\+\_\+to\+\_\+msg (\begin{DoxyParamCaption}\item[{}]{txt,  }\item[{}]{ignore\+\_\+fields = {\ttfamily \textquotesingle{}\textquotesingle{}} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Convert formatted string to ParlAI message dict.

:param txt:
    formatted string to convert. String format is tab-separated fields,
    with colon separating field name and contents.
:param ignore_fields:
    (default '') comma-separated field names to not
    include in the msg dict even if they're in the string.
\end{DoxyVerb}
 

Definition at line 681 of file misc.\+py.


\begin{DoxyCode}
681 \textcolor{keyword}{def }\hyperlink{namespaceparlai_1_1utils_1_1misc_a1b053cd9c56e6fa79b058fff587b3a48}{str\_to\_msg}(txt, ignore\_fields=''):
682     \textcolor{stringliteral}{"""}
683 \textcolor{stringliteral}{    Convert formatted string to ParlAI message dict.}
684 \textcolor{stringliteral}{}
685 \textcolor{stringliteral}{    :param txt:}
686 \textcolor{stringliteral}{        formatted string to convert. String format is tab-separated fields,}
687 \textcolor{stringliteral}{        with colon separating field name and contents.}
688 \textcolor{stringliteral}{    :param ignore\_fields:}
689 \textcolor{stringliteral}{        (default '') comma-separated field names to not}
690 \textcolor{stringliteral}{        include in the msg dict even if they're in the string.}
691 \textcolor{stringliteral}{    """}
692 
693     \textcolor{keyword}{def }tostr(txt):
694         txt = \hyperlink{namespacegenerate__task__READMEs_a5b88452ffb87b78c8c85ececebafc09f}{str}(txt)
695         txt = txt.replace(\textcolor{stringliteral}{'\(\backslash\)\(\backslash\)t'}, \textcolor{stringliteral}{'\(\backslash\)t'})
696         txt = txt.replace(\textcolor{stringliteral}{'\(\backslash\)\(\backslash\)n'}, \textcolor{stringliteral}{'\(\backslash\)n'})
697         txt = txt.replace(\textcolor{stringliteral}{'\_\_PIPE\_\_'}, \textcolor{stringliteral}{'|'})
698         \textcolor{keywordflow}{return} txt
699 
700     \textcolor{keyword}{def }tolist(txt):
701         vals = txt.split(\textcolor{stringliteral}{'|'})
702         \textcolor{keywordflow}{for} v \textcolor{keywordflow}{in} vals:
703             v = tostr(v)
704         \textcolor{keywordflow}{return} vals
705 
706     \textcolor{keyword}{def }convert(key, value):
707         \textcolor{keywordflow}{if} key == \textcolor{stringliteral}{'text'} \textcolor{keywordflow}{or} key == \textcolor{stringliteral}{'id'}:
708             \textcolor{keywordflow}{return} tostr(value)
709         \textcolor{keywordflow}{elif} (
710             key == \textcolor{stringliteral}{'label\_candidates'}
711             \textcolor{keywordflow}{or} key == \textcolor{stringliteral}{'labels'}
712             \textcolor{keywordflow}{or} key == \textcolor{stringliteral}{'eval\_labels'}
713             \textcolor{keywordflow}{or} key == \textcolor{stringliteral}{'text\_candidates'}
714         ):
715             \textcolor{keywordflow}{return} tolist(value)
716         \textcolor{keywordflow}{elif} key == \textcolor{stringliteral}{'episode\_done'}:
717             \textcolor{keywordflow}{return} \hyperlink{namespaceprojects_1_1mastering__the__dungeon_1_1mturk_1_1tasks_1_1MTD_1_1run_a6fc0c9b519a36f82b65bcd398f1fbb9d}{bool}(value)
718         \textcolor{keywordflow}{else}:
719             \textcolor{keywordflow}{return} tostr(value)
720 
721     \textcolor{keywordflow}{if} txt == \textcolor{stringliteral}{''} \textcolor{keywordflow}{or} txt \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
722         \textcolor{keywordflow}{return} \textcolor{keywordtype}{None}
723 
724     msg = \{\}
725     \textcolor{keywordflow}{for} t \textcolor{keywordflow}{in} txt.split(\textcolor{stringliteral}{'\(\backslash\)t'}):
726         ind = t.find(\textcolor{stringliteral}{':'})
727         key = t[:ind]
728         value = t[ind + 1 :]
729         \textcolor{keywordflow}{if} key \textcolor{keywordflow}{not} \textcolor{keywordflow}{in} ignore\_fields.split(\textcolor{stringliteral}{','}):
730             msg[key] = convert(key, value)
731     msg[\textcolor{stringliteral}{'episode\_done'}] = msg.get(\textcolor{stringliteral}{'episode\_done'}, \textcolor{keyword}{False})
732     \textcolor{keywordflow}{return} Message(msg)
733 
734 
\end{DoxyCode}
\mbox{\Hypertarget{namespaceparlai_1_1utils_1_1misc_a884a3aefa90581f53bc592fa6a78dc43}\label{namespaceparlai_1_1utils_1_1misc_a884a3aefa90581f53bc592fa6a78dc43}} 
\index{parlai\+::utils\+::misc@{parlai\+::utils\+::misc}!warn\+\_\+once@{warn\+\_\+once}}
\index{warn\+\_\+once@{warn\+\_\+once}!parlai\+::utils\+::misc@{parlai\+::utils\+::misc}}
\subsubsection{\texorpdfstring{warn\+\_\+once()}{warn\_once()}}
{\footnotesize\ttfamily def parlai.\+utils.\+misc.\+warn\+\_\+once (\begin{DoxyParamCaption}\item[{}]{msg }\end{DoxyParamCaption})}



Definition at line 813 of file misc.\+py.


\begin{DoxyCode}
813 \textcolor{keyword}{def }\hyperlink{namespaceparlai_1_1utils_1_1misc_a884a3aefa90581f53bc592fa6a78dc43}{warn\_once}(msg: str, warningtype=\textcolor{keywordtype}{None}) -> \textcolor{keywordtype}{None}:
814     \textcolor{stringliteral}{"""}
815 \textcolor{stringliteral}{    Raise a warning, but only once.}
816 \textcolor{stringliteral}{}
817 \textcolor{stringliteral}{    :param str msg: Message to display}
818 \textcolor{stringliteral}{    :param Warning warningtype: Type of warning, e.g. DeprecationWarning}
819 \textcolor{stringliteral}{    """}
820     \textcolor{keyword}{global} \_seen\_warnings
821     \textcolor{keywordflow}{if} msg \textcolor{keywordflow}{not} \textcolor{keywordflow}{in} \_seen\_warnings:
822         \_seen\_warnings.add(msg)
823         warnings.warn(msg, warningtype, stacklevel=2)
824 \end{DoxyCode}


\subsection{Variable Documentation}
\mbox{\Hypertarget{namespaceparlai_1_1utils_1_1misc_a122146c75d0e6910340a6a851d097bdc}\label{namespaceparlai_1_1utils_1_1misc_a122146c75d0e6910340a6a851d097bdc}} 
\index{parlai\+::utils\+::misc@{parlai\+::utils\+::misc}!D\+I\+S\+P\+L\+A\+Y\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+D\+E\+F\+A\+U\+L\+T\+\_\+\+F\+I\+E\+L\+DS@{D\+I\+S\+P\+L\+A\+Y\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+D\+E\+F\+A\+U\+L\+T\+\_\+\+F\+I\+E\+L\+DS}}
\index{D\+I\+S\+P\+L\+A\+Y\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+D\+E\+F\+A\+U\+L\+T\+\_\+\+F\+I\+E\+L\+DS@{D\+I\+S\+P\+L\+A\+Y\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+D\+E\+F\+A\+U\+L\+T\+\_\+\+F\+I\+E\+L\+DS}!parlai\+::utils\+::misc@{parlai\+::utils\+::misc}}
\subsubsection{\texorpdfstring{D\+I\+S\+P\+L\+A\+Y\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+D\+E\+F\+A\+U\+L\+T\+\_\+\+F\+I\+E\+L\+DS}{DISPLAY\_MESSAGE\_DEFAULT\_FIELDS}}
{\footnotesize\ttfamily parlai.\+utils.\+misc.\+D\+I\+S\+P\+L\+A\+Y\+\_\+\+M\+E\+S\+S\+A\+G\+E\+\_\+\+D\+E\+F\+A\+U\+L\+T\+\_\+\+F\+I\+E\+L\+DS}



Definition at line 28 of file misc.\+py.

\mbox{\Hypertarget{namespaceparlai_1_1utils_1_1misc_a5d6ad7f3aef96f16bb9060f5a41fc39b}\label{namespaceparlai_1_1utils_1_1misc_a5d6ad7f3aef96f16bb9060f5a41fc39b}} 
\index{parlai\+::utils\+::misc@{parlai\+::utils\+::misc}!single\+\_\+nolock@{single\+\_\+nolock}}
\index{single\+\_\+nolock@{single\+\_\+nolock}!parlai\+::utils\+::misc@{parlai\+::utils\+::misc}}
\subsubsection{\texorpdfstring{single\+\_\+nolock}{single\_nolock}}
{\footnotesize\ttfamily parlai.\+utils.\+misc.\+single\+\_\+nolock}



Definition at line 371 of file misc.\+py.

