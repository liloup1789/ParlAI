\hypertarget{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld}{}\section{parlai.\+mturk.\+tasks.\+convai2\+\_\+model\+\_\+eval.\+worlds.\+Convai2\+Eval\+World Class Reference}
\label{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld}\index{parlai.\+mturk.\+tasks.\+convai2\+\_\+model\+\_\+eval.\+worlds.\+Convai2\+Eval\+World@{parlai.\+mturk.\+tasks.\+convai2\+\_\+model\+\_\+eval.\+worlds.\+Convai2\+Eval\+World}}


Inheritance diagram for parlai.\+mturk.\+tasks.\+convai2\+\_\+model\+\_\+eval.\+worlds.\+Convai2\+Eval\+World\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=267pt]{d0/dd3/classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for parlai.\+mturk.\+tasks.\+convai2\+\_\+model\+\_\+eval.\+worlds.\+Convai2\+Eval\+World\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=267pt]{d3/d49/classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_aebd879770da18f491cae32619941df73}{\+\_\+\+\_\+init\+\_\+\+\_\+} (self, \hyperlink{classparlai_1_1core_1_1worlds_1_1World_a3640d92718acd3e6942a28c1ab3678bd}{opt}, \hyperlink{classparlai_1_1core_1_1worlds_1_1MultiAgentDialogWorld_a05fc93525cb86edef121980fc55f9926}{agents}=None, shared=None, \hyperlink{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_aa02c614eed2a38a396d6983a8cdab7a3}{range\+\_\+turn}=(5, 6), \hyperlink{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_ae7db2e165123013a4e83dec5c03b65c4}{max\+\_\+turn}=10, \hyperlink{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_af6ca258fd4c5f59c8250ade8d1ecd111}{max\+\_\+resp\+\_\+time}=120, model\+\_\+agent\+\_\+opt=None, \hyperlink{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_ac3c2c639d22166002b9a8ee1982f3f3f}{world\+\_\+tag}=\textquotesingle{}\textquotesingle{}, \hyperlink{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_abb5303f4898bce84f4404b677cb02163}{agent\+\_\+timeout\+\_\+shutdown}=120)
\item 
def \hyperlink{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_a88eef2bcb0b78f250ba0035df4975652}{parley} (self)
\item 
def \hyperlink{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_a9ba270c76614ca60f115fe0353cfd056}{episode\+\_\+done} (self)
\item 
def \hyperlink{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_a297aba27c40c516873f178758c503079}{get\+\_\+instruction} (self, agent\+\_\+id=None, tag=\textquotesingle{}first\textquotesingle{})
\item 
def \hyperlink{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_a5eb844afbe19ad750c806377798065b7}{save\+\_\+data} (self)
\item 
def \hyperlink{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_af615b8beec269ea925c371b955669770}{is\+\_\+exact\+\_\+match} (self, act, ag, tolerance=0)
\item 
def \hyperlink{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_a71bd41e61be058353520917731662a3d}{is\+\_\+msg\+\_\+tooshortlong} (self, act, ag, th\+\_\+min=3, th\+\_\+max=20)
\item 
def \hyperlink{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_a5ddc0b7a6cc22dcfc9da077e70fd7f44}{reset\+\_\+random} (self)
\item 
def \hyperlink{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_a53f3038cc93afa14d4b4a9fb72d6ca73}{check\+\_\+disconnects} (self, act)
\item 
def \hyperlink{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_a3b678b4be13ff3d6fd8fb7caab68cf43}{shutdown} (self)
\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_acab4083943aae20eab9e3505276af50b}{turn\+\_\+idx}
\item 
\hyperlink{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_a294d759272054f02b30382d4998c3f7d}{hit\+\_\+id}
\item 
\hyperlink{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_aa02c614eed2a38a396d6983a8cdab7a3}{range\+\_\+turn}
\item 
\hyperlink{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_ae7db2e165123013a4e83dec5c03b65c4}{max\+\_\+turn}
\item 
\hyperlink{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_a575e586e963f9f80816167b4533664b9}{n\+\_\+turn}
\item 
\hyperlink{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_aaa938fc6baa4d401158ddbbfb8bfe6f6}{model\+\_\+name}
\item 
\hyperlink{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_aec96ec1a4f5a8022f4c9b340e6deb406}{dialog}
\item 
\hyperlink{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_aad678c612f3e06d4ad65aa00450a0bf1}{task\+\_\+type}
\item 
\hyperlink{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_a22c54d8b25a5eda2af5d9b05d4369b78}{chat\+\_\+done}
\item 
\hyperlink{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_ac7c952a12d590d8bb5cb7bc5e11d9fa4}{n\+\_\+personas}
\item 
\hyperlink{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_a89d0b08008d24520457821f6b4ed6bc9}{fluency\+\_\+score}
\item 
\hyperlink{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_a63ee7fe910e7d5d3601b0f72871de340}{fluency\+\_\+reason}
\item 
\hyperlink{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_a069989c4c000e3154e03b033ccc353e8}{eng\+\_\+score}
\item 
\hyperlink{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_a37863dd765c8d5bb9a5488b19f65ed86}{eng\+\_\+reason}
\item 
\hyperlink{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_ae83088f32ac8101e2e6e64a8537b5d68}{consistent\+\_\+score}
\item 
\hyperlink{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_a3f2f2c2bfafa200c641474e0567a29f7}{consistent\+\_\+reason}
\item 
\hyperlink{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_a747806364239c2320520755980c9166f}{persona\+\_\+picked}
\item 
\hyperlink{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_ac3c2c639d22166002b9a8ee1982f3f3f}{world\+\_\+tag}
\item 
\hyperlink{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_a2b0bf30c34b162ff3d0c6775dea3d0e3}{ratings}
\item 
\hyperlink{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_a0f4af34ac20ed0a5955fda466ddc1083}{model\+\_\+agent}
\item 
\hyperlink{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_af6ca258fd4c5f59c8250ade8d1ecd111}{max\+\_\+resp\+\_\+time}
\item 
\hyperlink{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_abb5303f4898bce84f4404b677cb02163}{agent\+\_\+timeout\+\_\+shutdown}
\item 
\hyperlink{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_aae94215ebc470d0ac5ee523bd65b04e3}{personas}
\item 
\hyperlink{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_ab1a1c68b53d1fa51f460b51c76fbee14}{model\+\_\+persona\+\_\+text}
\end{DoxyCompactItemize}


\subsection{Detailed Description}


Definition at line 206 of file worlds.\+py.



\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_aebd879770da18f491cae32619941df73}\label{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_aebd879770da18f491cae32619941df73}} 
\index{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World@{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World}!\+\_\+\+\_\+init\+\_\+\+\_\+@{\+\_\+\+\_\+init\+\_\+\+\_\+}}
\index{\+\_\+\+\_\+init\+\_\+\+\_\+@{\+\_\+\+\_\+init\+\_\+\+\_\+}!parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World@{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World}}
\subsubsection{\texorpdfstring{\+\_\+\+\_\+init\+\_\+\+\_\+()}{\_\_init\_\_()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+tasks.\+convai2\+\_\+model\+\_\+eval.\+worlds.\+Convai2\+Eval\+World.\+\_\+\+\_\+init\+\_\+\+\_\+ (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{opt,  }\item[{}]{agents = {\ttfamily None},  }\item[{}]{shared = {\ttfamily None},  }\item[{}]{range\+\_\+turn = {\ttfamily (5,~6)},  }\item[{}]{max\+\_\+turn = {\ttfamily 10},  }\item[{}]{max\+\_\+resp\+\_\+time = {\ttfamily 120},  }\item[{}]{model\+\_\+agent\+\_\+opt = {\ttfamily None},  }\item[{}]{world\+\_\+tag = {\ttfamily \textquotesingle{}\textquotesingle{}},  }\item[{}]{agent\+\_\+timeout\+\_\+shutdown = {\ttfamily 120} }\end{DoxyParamCaption})}



Definition at line 218 of file worlds.\+py.


\begin{DoxyCode}
218     ):
219         self.turn\_idx = 0
220         self.hit\_id = \textcolor{keywordtype}{None}
221         self.range\_turn = range\_turn
222         self.max\_turn = max\_turn
223         self.n\_turn = np.random.randint(self.range\_turn[0], self.range\_turn[1]) + 1
224         self.model\_name = opt.get(\textcolor{stringliteral}{'model\_name'})
225         self.dialog = []
226         self.task\_type = \textcolor{stringliteral}{'sandbox'} \textcolor{keywordflow}{if} opt[\textcolor{stringliteral}{'is\_sandbox'}] \textcolor{keywordflow}{else} \textcolor{stringliteral}{'live'}
227         self.chat\_done = \textcolor{keyword}{False}
228         self.n\_personas = []
229         self.fluency\_score = len(agents) * [-1]
230         self.fluency\_reason = len(agents) * [\textcolor{keywordtype}{None}]
231         self.eng\_score = len(agents) * [-1]
232         self.eng\_reason = len(agents) * [\textcolor{keywordtype}{None}]
233         self.consistent\_score = len(agents) * [-1]
234         self.consistent\_reason = len(agents) * [\textcolor{keywordtype}{None}]
235         self.persona\_picked = len(agents) * [\textcolor{keywordtype}{None}]
236         self.world\_tag = world\_tag
237         self.ratings = [\textcolor{stringliteral}{'1'}, \textcolor{stringliteral}{'2'}, \textcolor{stringliteral}{'3'}, \textcolor{stringliteral}{'4'}, \textcolor{stringliteral}{'5'}]
238         super().\_\_init\_\_(opt, agents, shared)
239 
240         \textcolor{comment}{# set up model agent}
241         \textcolor{keywordflow}{if} model\_agent\_opt \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}:
242             self.model\_agent = \hyperlink{namespaceparlai_1_1core_1_1agents_aa5af5dd1d2f9da491b60348d479b849f}{create\_agent\_from\_shared}(model\_agent\_opt)
243         \textcolor{keywordflow}{else}:
244             \textcolor{comment}{# case where we test against a human}
245             self.model\_agent = self.agents[1]
246 
247         \textcolor{comment}{# below are timeout protocols}
248         self.max\_resp\_time = max\_resp\_time  \textcolor{comment}{# in secs}
249         self.agent\_timeout\_shutdown = agent\_timeout\_shutdown
250 
251         \textcolor{comment}{# set up personas}
252         self.personas = [
253             (ag.persona\_data \textcolor{keywordflow}{if} hasattr(ag, \textcolor{stringliteral}{'persona\_data'}) \textcolor{keywordflow}{else} \textcolor{keywordtype}{None})
254             \textcolor{keywordflow}{for} ag \textcolor{keywordflow}{in} self.agents
255         ]
256         self.model\_persona\_text = \textcolor{stringliteral}{'\(\backslash\)n'}.join(
257             [\textcolor{stringliteral}{'your persona:'} + pers \textcolor{keywordflow}{for} pers \textcolor{keywordflow}{in} self.agents[0].model\_persona[1]]
258         )
259         print(self.model\_persona\_text)
260 
\end{DoxyCode}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_a53f3038cc93afa14d4b4a9fb72d6ca73}\label{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_a53f3038cc93afa14d4b4a9fb72d6ca73}} 
\index{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World@{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World}!check\+\_\+disconnects@{check\+\_\+disconnects}}
\index{check\+\_\+disconnects@{check\+\_\+disconnects}!parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World@{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World}}
\subsubsection{\texorpdfstring{check\+\_\+disconnects()}{check\_disconnects()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+tasks.\+convai2\+\_\+model\+\_\+eval.\+worlds.\+Convai2\+Eval\+World.\+check\+\_\+disconnects (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{act }\end{DoxyParamCaption})}



Definition at line 634 of file worlds.\+py.


\begin{DoxyCode}
634     \textcolor{keyword}{def }check\_disconnects(self, act):
635         \textcolor{keywordflow}{if} (
636             act[\textcolor{stringliteral}{'text'}] == \textcolor{stringliteral}{'[TIMEOUT]'}
637             \textcolor{keywordflow}{or} act[\textcolor{stringliteral}{'text'}] == \textcolor{stringliteral}{'[RETURNED]'}
638             \textcolor{keywordflow}{or} act[\textcolor{stringliteral}{'text'}] == \textcolor{stringliteral}{'[DISCONNECT]'}
639         ):
640             control\_msg = \{\textcolor{stringliteral}{'episode\_done'}: \textcolor{keyword}{True}\}
641             control\_msg[\textcolor{stringliteral}{'id'}] = \textcolor{stringliteral}{'SYSTEM'}
642             control\_msg[\textcolor{stringliteral}{'text'}] = self.get\_instruction(
643                 agent\_id=act[\textcolor{stringliteral}{'id'}], tag=\textcolor{stringliteral}{'timeout'}
644             )
645             \textcolor{keywordflow}{for} ag \textcolor{keywordflow}{in} self.agents:
646                 \textcolor{keywordflow}{if} ag.id != act[\textcolor{stringliteral}{'id'}]:
647                     ag.observe(\hyperlink{namespaceparlai_1_1core_1_1worlds_afc3fad603b7bce41dbdc9cdc04a9c794}{validate}(control\_msg))
648             self.chat\_done = \textcolor{keyword}{True}
649             \textcolor{keywordflow}{return} \textcolor{keyword}{True}
650         \textcolor{keywordflow}{else}:
651             \textcolor{keywordflow}{return} \textcolor{keyword}{False}
652 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_a9ba270c76614ca60f115fe0353cfd056}\label{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_a9ba270c76614ca60f115fe0353cfd056}} 
\index{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World@{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World}!episode\+\_\+done@{episode\+\_\+done}}
\index{episode\+\_\+done@{episode\+\_\+done}!parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World@{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World}}
\subsubsection{\texorpdfstring{episode\+\_\+done()}{episode\_done()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+tasks.\+convai2\+\_\+model\+\_\+eval.\+worlds.\+Convai2\+Eval\+World.\+episode\+\_\+done (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line 493 of file worlds.\+py.


\begin{DoxyCode}
493     \textcolor{keyword}{def }episode\_done(self):
494         \textcolor{keywordflow}{return} self.chat\_done
495 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_a297aba27c40c516873f178758c503079}\label{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_a297aba27c40c516873f178758c503079}} 
\index{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World@{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World}!get\+\_\+instruction@{get\+\_\+instruction}}
\index{get\+\_\+instruction@{get\+\_\+instruction}!parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World@{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World}}
\subsubsection{\texorpdfstring{get\+\_\+instruction()}{get\_instruction()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+tasks.\+convai2\+\_\+model\+\_\+eval.\+worlds.\+Convai2\+Eval\+World.\+get\+\_\+instruction (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{agent\+\_\+id = {\ttfamily None},  }\item[{}]{tag = {\ttfamily \textquotesingle{}first\textquotesingle{}} }\end{DoxyParamCaption})}



Definition at line 496 of file worlds.\+py.


\begin{DoxyCode}
496     \textcolor{keyword}{def }get\_instruction(self, agent\_id=None, tag='first'):
497         \textcolor{keywordflow}{if} tag == \textcolor{stringliteral}{'start'}:
498             \textcolor{keywordflow}{return} START\_MSG.format(self.n\_turn)
499 
500         \textcolor{keywordflow}{if} tag == \textcolor{stringliteral}{'chat\_not\_done'}:
501             \textcolor{keywordflow}{return} CHAT\_NOT\_DONE\_MSG.format(self.n\_turn + 1 - self.turn\_idx)
502 
503         \textcolor{keywordflow}{if} tag == \textcolor{stringliteral}{'timeout'}:
504             \textcolor{keywordflow}{return} TIMEOUT\_MESSAGE
505 
506         \textcolor{keywordflow}{if} tag == \textcolor{stringliteral}{'exceed\_min\_turns'}:
507             \textcolor{keywordflow}{return} EXCEED\_MIN\_TURNS\_MSG.format(self.n\_turn)
508 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_af615b8beec269ea925c371b955669770}\label{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_af615b8beec269ea925c371b955669770}} 
\index{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World@{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World}!is\+\_\+exact\+\_\+match@{is\+\_\+exact\+\_\+match}}
\index{is\+\_\+exact\+\_\+match@{is\+\_\+exact\+\_\+match}!parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World@{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World}}
\subsubsection{\texorpdfstring{is\+\_\+exact\+\_\+match()}{is\_exact\_match()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+tasks.\+convai2\+\_\+model\+\_\+eval.\+worlds.\+Convai2\+Eval\+World.\+is\+\_\+exact\+\_\+match (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{act,  }\item[{}]{ag,  }\item[{}]{tolerance = {\ttfamily 0} }\end{DoxyParamCaption})}



Definition at line 582 of file worlds.\+py.


\begin{DoxyCode}
582     \textcolor{keyword}{def }is\_exact\_match(self, act, ag, tolerance=0):
583         \textcolor{keywordflow}{if} act[\textcolor{stringliteral}{'episode\_done'}]:
584             \textcolor{keywordflow}{return} \textcolor{keyword}{False}
585 
586         control\_msg = \{\textcolor{stringliteral}{'episode\_done'}: \textcolor{keyword}{False}\}
587         control\_msg[\textcolor{stringliteral}{'id'}] = \textcolor{stringliteral}{'SYSTEM'}
588 
589         text = act[\textcolor{stringliteral}{'text'}]
590         \textcolor{keywordflow}{if} text \textcolor{keywordflow}{not} \textcolor{keywordflow}{in} [\textcolor{stringliteral}{''}, \textcolor{stringliteral}{' '}, \textcolor{stringliteral}{'  '}, \textcolor{stringliteral}{'   '}]:
591             n\_word\_match = 0
592             \textcolor{keywordflow}{for} per \textcolor{keywordflow}{in} ag.persona\_data:
593                 per\_parse = per.split(\textcolor{stringliteral}{' '})
594                 regular\_words = [\textcolor{stringliteral}{''}, \textcolor{stringliteral}{' '}, \textcolor{stringliteral}{'I'}, \textcolor{stringliteral}{'I\(\backslash\)'m'}, \textcolor{stringliteral}{'My'}, \textcolor{stringliteral}{'i'}]
595                 \textcolor{keywordflow}{for} r\_w \textcolor{keywordflow}{in} regular\_words:
596                     \textcolor{keywordflow}{if} r\_w \textcolor{keywordflow}{in} per\_parse:
597                         per\_parse.remove(r\_w)
598                 per\_subseq = [
599                     \textcolor{stringliteral}{' '}.join(per\_parse[i : i + len(per\_parse) - tolerance])
600                     \textcolor{keywordflow}{for} i \textcolor{keywordflow}{in} range(tolerance + 1)
601                 ]
602                 \textcolor{keywordflow}{for} pp \textcolor{keywordflow}{in} per\_subseq:
603                     \textcolor{keywordflow}{if} pp \textcolor{keywordflow}{in} [\textcolor{stringliteral}{''}, \textcolor{stringliteral}{' '}, \textcolor{stringliteral}{'  '}, \textcolor{stringliteral}{'   '}]:
604                         per\_subseq.remove(pp)
605                 n\_word\_match += sum([(paa \textcolor{keywordflow}{in} text) \textcolor{keywordflow}{for} paa \textcolor{keywordflow}{in} per\_subseq])
606             \textcolor{keywordflow}{if} n\_word\_match > 0:
607                 control\_msg[\textcolor{stringliteral}{'text'}] = COPIED\_CHARACTER\_MSG
608                 ag.observe(\hyperlink{namespaceparlai_1_1core_1_1worlds_afc3fad603b7bce41dbdc9cdc04a9c794}{validate}(control\_msg))
609                 \textcolor{keywordflow}{return} \textcolor{keyword}{True}
610             \textcolor{keywordflow}{else}:
611                 \textcolor{keywordflow}{return} \textcolor{keyword}{False}
612 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_a71bd41e61be058353520917731662a3d}\label{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_a71bd41e61be058353520917731662a3d}} 
\index{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World@{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World}!is\+\_\+msg\+\_\+tooshortlong@{is\+\_\+msg\+\_\+tooshortlong}}
\index{is\+\_\+msg\+\_\+tooshortlong@{is\+\_\+msg\+\_\+tooshortlong}!parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World@{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World}}
\subsubsection{\texorpdfstring{is\+\_\+msg\+\_\+tooshortlong()}{is\_msg\_tooshortlong()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+tasks.\+convai2\+\_\+model\+\_\+eval.\+worlds.\+Convai2\+Eval\+World.\+is\+\_\+msg\+\_\+tooshortlong (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{act,  }\item[{}]{ag,  }\item[{}]{th\+\_\+min = {\ttfamily 3},  }\item[{}]{th\+\_\+max = {\ttfamily 20} }\end{DoxyParamCaption})}



Definition at line 613 of file worlds.\+py.


\begin{DoxyCode}
613     \textcolor{keyword}{def }is\_msg\_tooshortlong(self, act, ag, th\_min=3, th\_max=20):
614         \textcolor{keywordflow}{if} act[\textcolor{stringliteral}{'episode\_done'}]:
615             \textcolor{keywordflow}{return} \textcolor{keyword}{False}
616 
617         control\_msg = \{\textcolor{stringliteral}{'episode\_done'}: \textcolor{keyword}{False}\}
618         control\_msg[\textcolor{stringliteral}{'id'}] = \textcolor{stringliteral}{'SYSTEM'}
619 
620         msg\_len = len(act[\textcolor{stringliteral}{'text'}].split(\textcolor{stringliteral}{' '}))
621         \textcolor{keywordflow}{if} msg\_len < th\_min:
622             control\_msg[\textcolor{stringliteral}{'text'}] = TOO\_SHORT\_MSG.format(th\_min)
623             ag.observe(\hyperlink{namespaceparlai_1_1core_1_1worlds_afc3fad603b7bce41dbdc9cdc04a9c794}{validate}(control\_msg))
624             \textcolor{keywordflow}{return} \textcolor{keyword}{True}
625         \textcolor{keywordflow}{if} msg\_len > th\_max:
626             control\_msg[\textcolor{stringliteral}{'text'}] = TOO\_LONG\_MSG.format(th\_max)
627             ag.observe(\hyperlink{namespaceparlai_1_1core_1_1worlds_afc3fad603b7bce41dbdc9cdc04a9c794}{validate}(control\_msg))
628             \textcolor{keywordflow}{return} \textcolor{keyword}{True}
629         \textcolor{keywordflow}{return} \textcolor{keyword}{False}
630 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_a88eef2bcb0b78f250ba0035df4975652}\label{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_a88eef2bcb0b78f250ba0035df4975652}} 
\index{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World@{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World}!parley@{parley}}
\index{parley@{parley}!parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World@{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World}}
\subsubsection{\texorpdfstring{parley()}{parley()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+tasks.\+convai2\+\_\+model\+\_\+eval.\+worlds.\+Convai2\+Eval\+World.\+parley (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line 261 of file worlds.\+py.


\begin{DoxyCode}
261     \textcolor{keyword}{def }parley(self):
262         self.turn\_idx += 1
263 
264         control\_msg = \{\textcolor{stringliteral}{'episode\_done'}: \textcolor{keyword}{False}\}
265         control\_msg[\textcolor{stringliteral}{'id'}] = \textcolor{stringliteral}{'SYSTEM'}
266 
267         print(self.world\_tag + \textcolor{stringliteral}{' is at turn \{\}...'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(self.turn\_idx))
268 
269         \textcolor{stringliteral}{"""If at first turn, we need to give each agent their persona"""}
270         \textcolor{keywordflow}{if} self.turn\_idx == 1:
271             \textcolor{keywordflow}{for} idx, agent \textcolor{keywordflow}{in} enumerate(self.agents):
272                 persona\_text = \textcolor{stringliteral}{''}
273                 \textcolor{keywordflow}{for} s \textcolor{keywordflow}{in} self.personas[idx]:
274                     persona\_text += (
275                         \textcolor{stringliteral}{'<b><span style="color:blue">'}
276                         \textcolor{stringliteral}{'\{\}\(\backslash\)n</span></b>'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(s.strip())
277                     )
278                 control\_msg[\textcolor{stringliteral}{'persona\_text'}] = persona\_text
279                 control\_msg[\textcolor{stringliteral}{'text'}] = self.get\_instruction(
280                     tag=\textcolor{stringliteral}{'start'}, agent\_id=agent.id
281                 )
282                 agent.observe(\hyperlink{namespaceparlai_1_1core_1_1worlds_afc3fad603b7bce41dbdc9cdc04a9c794}{validate}(control\_msg))
283                 \textcolor{keywordflow}{if} idx == 0:
284                     time.sleep(3)
285 
286         \textcolor{stringliteral}{"""If we get to the min turns, inform turker that they can end if they}
287 \textcolor{stringliteral}{        want}
288 \textcolor{stringliteral}{        """}
289         \textcolor{keywordflow}{if} self.turn\_idx == self.n\_turn:
290             \textcolor{keywordflow}{for} idx, agent \textcolor{keywordflow}{in} enumerate(self.agents):
291                 control\_msg[\textcolor{stringliteral}{'text'}] = self.get\_instruction(idx, tag=\textcolor{stringliteral}{'exceed\_min\_turns'})
292                 control\_msg[\textcolor{stringliteral}{'exceed\_min\_turns'}] = \textcolor{keyword}{True}
293                 agent.observe(\hyperlink{namespaceparlai_1_1core_1_1worlds_afc3fad603b7bce41dbdc9cdc04a9c794}{validate}(control\_msg))
294 
295         \textcolor{stringliteral}{"""Otherwise, we proceed accordingly"""}
296         acts = []
297         \textcolor{comment}{# MTurk evaluating agent turn}
298         idx = 0
299         agent = self.agents[0]
300         acts.append(agent.act(timeout=self.max\_resp\_time))
301         \textcolor{keywordflow}{if} acts[idx] \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}:
302             \textcolor{keywordflow}{if} acts[idx][\textcolor{stringliteral}{'text'}] == \textcolor{stringliteral}{'PERSONA'}:
303                 \_text = \textcolor{stringliteral}{''}
304                 \textcolor{keywordflow}{for} s \textcolor{keywordflow}{in} agent.model\_persona[1][\textcolor{stringliteral}{'persona'}]:
305                     \_text += (
306                         \textcolor{stringliteral}{'<b><span style="color:blue">'} + s.strip() + \textcolor{stringliteral}{'</span></b><br>'}
307                     )
308                 control\_msg[\textcolor{stringliteral}{'text'}] = \textcolor{stringliteral}{'The model persona is: \(\backslash\)n'} + \_text
309                 agent.observe(control\_msg)
310                 \textcolor{keywordflow}{return}
311             \textcolor{keywordflow}{while} self.is\_msg\_tooshortlong(acts[idx], agent) \textcolor{keywordflow}{or} self.is\_exact\_match(
312                 acts[idx], agent
313             ):
314                 acts[idx] = agent.act()
315 
316             \textcolor{keywordflow}{if} acts[idx][\textcolor{stringliteral}{'episode\_done'}]:
317                 print(\textcolor{stringliteral}{"Finished chat"})
318                 self.check\_disconnects(acts[idx])
319                 \textcolor{keywordflow}{for} ag \textcolor{keywordflow}{in} self.agents:
320                     \textcolor{keywordflow}{if} ag != agent \textcolor{keywordflow}{and} ag.some\_agent\_disconnected:
321                         control\_msg[\textcolor{stringliteral}{'text'}] = UNEXPECTED\_DISCONNECTION\_MSG
322                         ag.observe(\hyperlink{namespaceparlai_1_1core_1_1worlds_afc3fad603b7bce41dbdc9cdc04a9c794}{validate}(control\_msg))
323                         \textcolor{keywordflow}{return}
324                 \textcolor{keywordflow}{if} self.turn\_idx >= self.n\_turn:
325                     acts = [\textcolor{keywordtype}{None}]
326 
327                     \textcolor{comment}{# Fluency Check}
328                     \textcolor{keywordflow}{for} idx, agent \textcolor{keywordflow}{in} enumerate(self.agents):
329                         control\_msg[\textcolor{stringliteral}{'text'}] = FLUENCY\_MSG
330                         control\_msg[\textcolor{stringliteral}{'evaluation'}] = \textcolor{keyword}{True}
331                         agent.observe(\hyperlink{namespaceparlai_1_1core_1_1worlds_afc3fad603b7bce41dbdc9cdc04a9c794}{validate}(control\_msg))
332                         acts[idx] = agent.act(timeout=self.max\_resp\_time)
333                         \textcolor{keywordflow}{while} acts[idx][\textcolor{stringliteral}{'text'}] \textcolor{keywordflow}{not} \textcolor{keywordflow}{in} self.ratings:
334                             control\_msg[\textcolor{stringliteral}{'text'}] = NAN\_MSG
335                             agent.observe(\hyperlink{namespaceparlai_1_1core_1_1worlds_afc3fad603b7bce41dbdc9cdc04a9c794}{validate}(control\_msg))
336                             acts[idx] = agent.act(timeout=self.max\_resp\_time)
337                         \textcolor{keywordflow}{if} \textcolor{stringliteral}{'text'} \textcolor{keywordflow}{in} acts[idx] \textcolor{keywordflow}{and} acts[idx][\textcolor{stringliteral}{'text'}] \textcolor{keywordflow}{in} self.ratings:
338                             self.fluency\_score[idx] = \hyperlink{namespacelanguage__model_1_1eval__ppl_a7d12ee00479673c5c8d1f6d01faa272a}{int}(acts[idx][\textcolor{stringliteral}{'text'}])
339 
340                     \textcolor{comment}{# Fluency reason}
341                     \textcolor{keywordflow}{for} idx, agent \textcolor{keywordflow}{in} enumerate(self.agents):
342                         control\_msg[\textcolor{stringliteral}{'text'}] = FLUENCY\_REASON\_MSG
343                         agent.observe(\hyperlink{namespaceparlai_1_1core_1_1worlds_afc3fad603b7bce41dbdc9cdc04a9c794}{validate}(control\_msg))
344                         acts[idx] = agent.act(timeout=self.max\_resp\_time)
345                         \textcolor{keywordflow}{while} acts[idx][\textcolor{stringliteral}{'text'}] == \textcolor{stringliteral}{''}:
346                             control\_msg[\textcolor{stringliteral}{'text'}] = \textcolor{stringliteral}{'Please try again.'}
347                             agent.observe(\hyperlink{namespaceparlai_1_1core_1_1worlds_afc3fad603b7bce41dbdc9cdc04a9c794}{validate}(control\_msg))
348                             acts[idx] = agent.act(timeout=self.max\_resp\_time)
349                         \textcolor{keywordflow}{if} \textcolor{stringliteral}{'text'} \textcolor{keywordflow}{in} acts[idx] \textcolor{keywordflow}{and} acts[idx][\textcolor{stringliteral}{'text'}] != \textcolor{stringliteral}{''}:
350                             self.fluency\_reason[idx] = acts[idx][\textcolor{stringliteral}{'text'}]
351 
352                     \textcolor{comment}{# Engagingness Check}
353                     \textcolor{keywordflow}{for} idx, agent \textcolor{keywordflow}{in} enumerate(self.agents):
354                         control\_msg[\textcolor{stringliteral}{'text'}] = ENGAGINGNESS\_MSG
355                         agent.observe(\hyperlink{namespaceparlai_1_1core_1_1worlds_afc3fad603b7bce41dbdc9cdc04a9c794}{validate}(control\_msg))
356                         acts[idx] = agent.act(timeout=self.max\_resp\_time)
357                         \textcolor{keywordflow}{while} acts[idx][\textcolor{stringliteral}{'text'}] \textcolor{keywordflow}{not} \textcolor{keywordflow}{in} self.ratings:
358                             control\_msg[\textcolor{stringliteral}{'text'}] = NAN\_MSG
359                             agent.observe(\hyperlink{namespaceparlai_1_1core_1_1worlds_afc3fad603b7bce41dbdc9cdc04a9c794}{validate}(control\_msg))
360                             acts[idx] = agent.act(timeout=self.max\_resp\_time)
361                         \textcolor{keywordflow}{if} \textcolor{stringliteral}{'text'} \textcolor{keywordflow}{in} acts[idx] \textcolor{keywordflow}{and} acts[idx][\textcolor{stringliteral}{'text'}] \textcolor{keywordflow}{in} self.ratings:
362                             self.eng\_score[idx] = \hyperlink{namespacelanguage__model_1_1eval__ppl_a7d12ee00479673c5c8d1f6d01faa272a}{int}(acts[idx][\textcolor{stringliteral}{'text'}])
363 
364                     \textcolor{comment}{# Engagingness reason}
365                     \textcolor{keywordflow}{for} idx, agent \textcolor{keywordflow}{in} enumerate(self.agents):
366                         control\_msg[\textcolor{stringliteral}{'text'}] = ENGAGINGNESS\_REASON\_MSG
367                         agent.observe(\hyperlink{namespaceparlai_1_1core_1_1worlds_afc3fad603b7bce41dbdc9cdc04a9c794}{validate}(control\_msg))
368                         acts[idx] = agent.act(timeout=self.max\_resp\_time)
369                         \textcolor{keywordflow}{while} acts[idx][\textcolor{stringliteral}{'text'}] == \textcolor{stringliteral}{''}:
370                             control\_msg[\textcolor{stringliteral}{'text'}] = \textcolor{stringliteral}{'Please try again.'}
371                             agent.observe(\hyperlink{namespaceparlai_1_1core_1_1worlds_afc3fad603b7bce41dbdc9cdc04a9c794}{validate}(control\_msg))
372                             acts[idx] = agent.act(timeout=self.max\_resp\_time)
373                         \textcolor{keywordflow}{if} \textcolor{stringliteral}{'text'} \textcolor{keywordflow}{in} acts[idx] \textcolor{keywordflow}{and} acts[idx][\textcolor{stringliteral}{'text'}] != \textcolor{stringliteral}{''}:
374                             self.eng\_reason[idx] = acts[idx][\textcolor{stringliteral}{'text'}]
375 
376                     \textcolor{comment}{# Check Consistency}
377                     \textcolor{keywordflow}{for} idx, agent \textcolor{keywordflow}{in} enumerate(self.agents):
378                         control\_msg[\textcolor{stringliteral}{'text'}] = CONSISTENCY\_MSG
379                         agent.observe(\hyperlink{namespaceparlai_1_1core_1_1worlds_afc3fad603b7bce41dbdc9cdc04a9c794}{validate}(control\_msg))
380                         acts[idx] = agent.act(timeout=self.max\_resp\_time)
381                         \textcolor{keywordflow}{while} acts[idx][\textcolor{stringliteral}{'text'}] \textcolor{keywordflow}{not} \textcolor{keywordflow}{in} self.ratings:
382                             control\_msg[\textcolor{stringliteral}{'text'}] = NAN\_MSG
383                             agent.observe(\hyperlink{namespaceparlai_1_1core_1_1worlds_afc3fad603b7bce41dbdc9cdc04a9c794}{validate}(control\_msg))
384                             acts[idx] = agent.act(timeout=self.max\_resp\_time)
385                         \textcolor{keywordflow}{if} \textcolor{stringliteral}{'text'} \textcolor{keywordflow}{in} acts[idx] \textcolor{keywordflow}{and} acts[idx][\textcolor{stringliteral}{'text'}] \textcolor{keywordflow}{in} self.ratings:
386                             self.consistent\_score[idx] = \hyperlink{namespacelanguage__model_1_1eval__ppl_a7d12ee00479673c5c8d1f6d01faa272a}{int}(acts[idx][\textcolor{stringliteral}{'text'}])
387 
388                     \textcolor{comment}{# Consistency reasoning}
389                     \textcolor{keywordflow}{for} idx, agent \textcolor{keywordflow}{in} enumerate(self.agents):
390                         control\_msg[\textcolor{stringliteral}{'text'}] = CONSISTENCY\_REASON\_MSG
391                         agent.observe(\hyperlink{namespaceparlai_1_1core_1_1worlds_afc3fad603b7bce41dbdc9cdc04a9c794}{validate}(control\_msg))
392                         acts[idx] = agent.act(timeout=self.max\_resp\_time)
393                         \textcolor{keywordflow}{while} acts[idx][\textcolor{stringliteral}{'text'}] == \textcolor{stringliteral}{''}:
394                             control\_msg[\textcolor{stringliteral}{'text'}] = \textcolor{stringliteral}{'Please try again.'}
395                             agent.observe(\hyperlink{namespaceparlai_1_1core_1_1worlds_afc3fad603b7bce41dbdc9cdc04a9c794}{validate}(control\_msg))
396                             acts[idx] = agent.act(timeout=self.max\_resp\_time)
397                         \textcolor{keywordflow}{if} \textcolor{stringliteral}{'text'} \textcolor{keywordflow}{in} acts[idx] \textcolor{keywordflow}{and} acts[idx][\textcolor{stringliteral}{'text'}] != \textcolor{stringliteral}{''}:
398                             self.consistent\_reason[idx] = acts[idx][\textcolor{stringliteral}{'text'}]
399 
400                     \textcolor{comment}{# Persona Selection}
401                     \textcolor{keywordflow}{for} idx, agent \textcolor{keywordflow}{in} enumerate(self.agents):
402                         model\_idx = agent.model\_persona[0]
403                         self\_idx = agent.persona\_idx
404                         false\_idx\_list = [
405                             x
406                             \textcolor{keywordflow}{for} x \textcolor{keywordflow}{in} range(
407                                 len(agent.persona\_generator.personas\_name\_list)
408                             )
409                         ]
410                         false\_idx\_list.remove(self\_idx)
411                         false\_idx\_list.remove(model\_idx)
412                         false\_idx = random.choice(false\_idx\_list)
413                         false\_data = np.load(
414                             os.path.join(
415                                 agent.persona\_generator.personas\_path,
416                                 agent.persona\_generator.personas\_name\_list[false\_idx],
417                             )
418                         )
419                         cand\_text = []
420                         \textcolor{keywordflow}{for} dt \textcolor{keywordflow}{in} [agent.model\_persona[1], false\_data]:
421                             \textcolor{keywordflow}{if} dt == agent.model\_persona[1]:
422                                 is\_correct = \textcolor{keyword}{True}
423                             \textcolor{keywordflow}{else}:
424                                 is\_correct = \textcolor{keyword}{False}
425                             \_text = \textcolor{stringliteral}{''}
426                             \textcolor{keywordflow}{for} s \textcolor{keywordflow}{in} dt:
427                                 \_text += (
428                                     \textcolor{stringliteral}{'<b><span style="color:blue">'}
429                                     + s.strip()
430                                     + \textcolor{stringliteral}{'</span></b><br>'}
431                                 )
432                             cand\_text.append((is\_correct, \_text))
433                         random.shuffle(cand\_text)
434 
435                         control\_msg[\textcolor{stringliteral}{'text'}] = PERSONA\_CHOICE\_MSG.format(
436                             cand\_text[0][1], cand\_text[1][1]
437                         )
438                         agent.observe(\hyperlink{namespaceparlai_1_1core_1_1worlds_afc3fad603b7bce41dbdc9cdc04a9c794}{validate}(control\_msg))
439                         acts[idx] = agent.act(timeout=self.max\_resp\_time)
440                         \textcolor{keywordflow}{while} acts[idx][\textcolor{stringliteral}{'text'}] \textcolor{keywordflow}{not} \textcolor{keywordflow}{in} [\textcolor{stringliteral}{'1'}, \textcolor{stringliteral}{'2'}]:
441                             control\_msg[\textcolor{stringliteral}{'text'}] = NAN\_PERSONA\_MSG
442                             agent.observe(\hyperlink{namespaceparlai_1_1core_1_1worlds_afc3fad603b7bce41dbdc9cdc04a9c794}{validate}(control\_msg))
443                             acts[idx] = agent.act(timeout=self.max\_resp\_time)
444 
445                         \textcolor{keywordflow}{if} \textcolor{stringliteral}{'text'} \textcolor{keywordflow}{in} acts[idx] \textcolor{keywordflow}{and} acts[idx][\textcolor{stringliteral}{'text'}] \textcolor{keywordflow}{in} [\textcolor{stringliteral}{'1'}, \textcolor{stringliteral}{'2'}]:
446                             self.persona\_picked[idx] = cand\_text[
447                                 \hyperlink{namespacelanguage__model_1_1eval__ppl_a7d12ee00479673c5c8d1f6d01faa272a}{int}(acts[idx][\textcolor{stringliteral}{'text'}]) - 1
448                             ][0]
449 
450                     \textcolor{comment}{# reached the end of the chat}
451                     self.chat\_done = \textcolor{keyword}{True}
452                     \textcolor{keywordflow}{for} ag \textcolor{keywordflow}{in} self.agents:
453                         ag.observe(\hyperlink{namespaceparlai_1_1core_1_1worlds_afc3fad603b7bce41dbdc9cdc04a9c794}{validate}(acts[idx]))
454                         control\_msg[\textcolor{stringliteral}{'text'}] = CHAT\_ENDED\_MSG
455                         ag.observe(\hyperlink{namespaceparlai_1_1core_1_1worlds_afc3fad603b7bce41dbdc9cdc04a9c794}{validate}(control\_msg))
456                 \textcolor{keywordflow}{return}
457 
458             self.dialog.append((idx, acts[idx][\textcolor{stringliteral}{'text'}]))
459             \textcolor{keywordflow}{if} self.turn\_idx == 1:
460                 acts[idx][\textcolor{stringliteral}{'text'}] = self.model\_persona\_text + \textcolor{stringliteral}{'\(\backslash\)n'} + acts[idx][\textcolor{stringliteral}{'text'}]
461 
462             self.model\_agent.observe(acts[idx])
463 
464         \textcolor{comment}{# Model\_agent turn}
465         idx = 1
466         act = self.model\_agent.act()
467 
468         \textcolor{comment}{# NOTE: model agent may or may not need to observe itself here,}
469         \textcolor{comment}{# depending on how your model handles this, uncomment for that}
470         \textcolor{comment}{# self.model\_agent.observe(act)}
471 
472         acts.append(\{\textcolor{stringliteral}{'text'}: act[\textcolor{stringliteral}{'text'}]\})
473 
474         \textcolor{keywordflow}{for} (sb\_0, sb\_1) \textcolor{keywordflow}{in} [
475             (\textcolor{stringliteral}{' .'}, \textcolor{stringliteral}{'.'}),
476             (\textcolor{stringliteral}{' ,'}, \textcolor{stringliteral}{','}),
477             (\textcolor{stringliteral}{' ?'}, \textcolor{stringliteral}{'?'}),
478             (\textcolor{stringliteral}{' !'}, \textcolor{stringliteral}{'!'}),
479             (\textcolor{stringliteral}{'i '}, \textcolor{stringliteral}{'I '}),
480         ]:
481             acts[idx][\textcolor{stringliteral}{'text'}] = acts[idx][\textcolor{stringliteral}{'text'}].replace(sb\_0, sb\_1)
482         acts[idx][\textcolor{stringliteral}{'text'}].capitalize()
483         acts[idx][\textcolor{stringliteral}{'id'}] = \textcolor{stringliteral}{'PERSON\_2'}
484         acts[idx][\textcolor{stringliteral}{'message\_id'}] = (
485             acts[0][\textcolor{stringliteral}{'message\_id'}][:-1] + \textcolor{stringliteral}{'0'}
486             \textcolor{keywordflow}{if} acts[0][\textcolor{stringliteral}{'message\_id'}][-1] != \textcolor{stringliteral}{'0'}
487             \textcolor{keywordflow}{else} acts[0][\textcolor{stringliteral}{'message\_id'}][:-1] + \textcolor{stringliteral}{'1'}
488         )
489         self.dialog.append((idx, acts[idx][\textcolor{stringliteral}{'text'}]))
490         time.sleep(len(acts[idx][\textcolor{stringliteral}{'text'}].split(\textcolor{stringliteral}{' '})) * 0.5)
491         agent.observe(acts[idx])
492 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_a5ddc0b7a6cc22dcfc9da077e70fd7f44}\label{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_a5ddc0b7a6cc22dcfc9da077e70fd7f44}} 
\index{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World@{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World}!reset\+\_\+random@{reset\+\_\+random}}
\index{reset\+\_\+random@{reset\+\_\+random}!parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World@{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World}}
\subsubsection{\texorpdfstring{reset\+\_\+random()}{reset\_random()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+tasks.\+convai2\+\_\+model\+\_\+eval.\+worlds.\+Convai2\+Eval\+World.\+reset\+\_\+random (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line 631 of file worlds.\+py.


\begin{DoxyCode}
631     \textcolor{keyword}{def }reset\_random(self):
632         self.n\_turn = np.random.randint(self.range\_turn[0], self.range\_turn[1]) + 1
633 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_a5eb844afbe19ad750c806377798065b7}\label{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_a5eb844afbe19ad750c806377798065b7}} 
\index{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World@{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World}!save\+\_\+data@{save\+\_\+data}}
\index{save\+\_\+data@{save\+\_\+data}!parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World@{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World}}
\subsubsection{\texorpdfstring{save\+\_\+data()}{save\_data()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+tasks.\+convai2\+\_\+model\+\_\+eval.\+worlds.\+Convai2\+Eval\+World.\+save\+\_\+data (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line 509 of file worlds.\+py.


\begin{DoxyCode}
509     \textcolor{keyword}{def }save\_data(self):
510         convo\_finished = \textcolor{keyword}{True}
511         bad\_workers = []
512         \textcolor{keywordflow}{for} ag \textcolor{keywordflow}{in} self.agents:
513             \textcolor{keywordflow}{if} (
514                 ag.hit\_is\_abandoned
515                 \textcolor{keywordflow}{or} ag.hit\_is\_returned
516                 \textcolor{keywordflow}{or} ag.disconnected
517                 \textcolor{keywordflow}{or} ag.hit\_is\_expired
518             ):
519                 bad\_workers.append(ag.worker\_id)
520                 convo\_finished = \textcolor{keyword}{False}
521         \textcolor{keywordflow}{if} (
522             \textcolor{keywordflow}{not} convo\_finished
523             \textcolor{keywordflow}{or} self.dialog == []
524             \textcolor{keywordflow}{or} self.eng\_score[0] == -1
525             \textcolor{keywordflow}{or} self.fluency\_score[0] == -1
526             \textcolor{keywordflow}{or} self.consistent\_score[0] == -1
527         ):
528             \textcolor{keywordflow}{for} ag \textcolor{keywordflow}{in} self.agents:
529                 ag.not\_approve = \textcolor{keyword}{True}
530                 ag.persona\_generator.push\_persona(ag.persona\_idx)
531                 print(
532                     \textcolor{stringliteral}{"\(\backslash\)n*** Push persona \{\} back to stack. ****\(\backslash\)n"}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(ag.persona\_idx)
533                 )
534             convo\_finished = \textcolor{keyword}{False}
535 
536         data\_path = self.opt[\textcolor{stringliteral}{'data\_path'}]
537         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} os.path.exists(data\_path):
538             os.makedirs(data\_path)
539         \textcolor{keywordflow}{if} convo\_finished:
540             filename = os.path.join(
541                 data\_path,
542                 \textcolor{stringliteral}{'\{\}\_\{\}\_\{\}\_\{\}\_withreasons.pkl'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(
543                     self.model\_name,
544                     time.strftime(\textcolor{stringliteral}{"%Y%m%d-%H%M%S"}),
545                     np.random.randint(0, 1000),
546                     self.task\_type,
547                 ),
548             )
549         \textcolor{keywordflow}{else}:
550             filename = os.path.join(
551                 data\_path,
552                 \textcolor{stringliteral}{'\{\}\_\{\}\_\{\}\_\{\}\_incomplete\_withreasons.pkl'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(
553                     self.model\_name,
554                     time.strftime(\textcolor{stringliteral}{"%Y%m%d-%H%M%S"}),
555                     np.random.randint(0, 1000),
556                     self.task\_type,
557                 ),
558             )
559         print(self.world\_tag, \textcolor{stringliteral}{': Data successfully saved at \{\}.'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(filename))
560         self.personas.append(self.agents[0].model\_persona[1])
561         pickle.dump(
562             \{
563                 \textcolor{stringliteral}{'personas'}: self.personas,
564                 \textcolor{stringliteral}{'dialog'}: self.dialog,
565                 \textcolor{stringliteral}{'workers'}: [ag.worker\_id \textcolor{keywordflow}{for} ag \textcolor{keywordflow}{in} self.agents],
566                 \textcolor{stringliteral}{'hit\_id'}: [ag.hit\_id \textcolor{keywordflow}{for} ag \textcolor{keywordflow}{in} self.agents],
567                 \textcolor{stringliteral}{'assignment\_id'}: [ag.assignment\_id \textcolor{keywordflow}{for} ag \textcolor{keywordflow}{in} self.agents],
568                 \textcolor{stringliteral}{'bad\_workers'}: bad\_workers,
569                 \textcolor{stringliteral}{'n\_turn'}: self.n\_turn,
570                 \textcolor{stringliteral}{'fluency\_score'}: self.fluency\_score,
571                 \textcolor{stringliteral}{'fluency\_reason'}: self.fluency\_reason,
572                 \textcolor{stringliteral}{'eng\_score'}: self.eng\_score,
573                 \textcolor{stringliteral}{'eng\_reason'}: self.eng\_reason,
574                 \textcolor{stringliteral}{'consistent\_score'}: self.consistent\_score,
575                 \textcolor{stringliteral}{'consistent\_reason'}: self.consistent\_reason,
576                 \textcolor{stringliteral}{'persona\_picked'}: self.persona\_picked,
577                 \textcolor{stringliteral}{'n\_personas'}: self.n\_personas,
578             \},
579             open(filename, \textcolor{stringliteral}{'wb'}),
580         )
581 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_a3b678b4be13ff3d6fd8fb7caab68cf43}\label{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_a3b678b4be13ff3d6fd8fb7caab68cf43}} 
\index{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World@{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World}!shutdown@{shutdown}}
\index{shutdown@{shutdown}!parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World@{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World}}
\subsubsection{\texorpdfstring{shutdown()}{shutdown()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+tasks.\+convai2\+\_\+model\+\_\+eval.\+worlds.\+Convai2\+Eval\+World.\+shutdown (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line 653 of file worlds.\+py.


\begin{DoxyCode}
653     \textcolor{keyword}{def }shutdown(self):
654         \textcolor{keyword}{global} shutdown\_agent
655 
656         \textcolor{keyword}{def }shutdown\_agent(mturk\_agent):
657             mturk\_agent.shutdown()
658 
659         Parallel(n\_jobs=len(self.agents), backend=\textcolor{stringliteral}{'threading'})(
660             delayed(shutdown\_agent)(agent) \textcolor{keywordflow}{for} agent \textcolor{keywordflow}{in} self.agents
661         )
662 \end{DoxyCode}


\subsection{Member Data Documentation}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_abb5303f4898bce84f4404b677cb02163}\label{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_abb5303f4898bce84f4404b677cb02163}} 
\index{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World@{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World}!agent\+\_\+timeout\+\_\+shutdown@{agent\+\_\+timeout\+\_\+shutdown}}
\index{agent\+\_\+timeout\+\_\+shutdown@{agent\+\_\+timeout\+\_\+shutdown}!parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World@{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World}}
\subsubsection{\texorpdfstring{agent\+\_\+timeout\+\_\+shutdown}{agent\_timeout\_shutdown}}
{\footnotesize\ttfamily parlai.\+mturk.\+tasks.\+convai2\+\_\+model\+\_\+eval.\+worlds.\+Convai2\+Eval\+World.\+agent\+\_\+timeout\+\_\+shutdown}



Definition at line 249 of file worlds.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_a22c54d8b25a5eda2af5d9b05d4369b78}\label{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_a22c54d8b25a5eda2af5d9b05d4369b78}} 
\index{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World@{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World}!chat\+\_\+done@{chat\+\_\+done}}
\index{chat\+\_\+done@{chat\+\_\+done}!parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World@{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World}}
\subsubsection{\texorpdfstring{chat\+\_\+done}{chat\_done}}
{\footnotesize\ttfamily parlai.\+mturk.\+tasks.\+convai2\+\_\+model\+\_\+eval.\+worlds.\+Convai2\+Eval\+World.\+chat\+\_\+done}



Definition at line 227 of file worlds.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_a3f2f2c2bfafa200c641474e0567a29f7}\label{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_a3f2f2c2bfafa200c641474e0567a29f7}} 
\index{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World@{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World}!consistent\+\_\+reason@{consistent\+\_\+reason}}
\index{consistent\+\_\+reason@{consistent\+\_\+reason}!parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World@{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World}}
\subsubsection{\texorpdfstring{consistent\+\_\+reason}{consistent\_reason}}
{\footnotesize\ttfamily parlai.\+mturk.\+tasks.\+convai2\+\_\+model\+\_\+eval.\+worlds.\+Convai2\+Eval\+World.\+consistent\+\_\+reason}



Definition at line 234 of file worlds.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_ae83088f32ac8101e2e6e64a8537b5d68}\label{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_ae83088f32ac8101e2e6e64a8537b5d68}} 
\index{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World@{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World}!consistent\+\_\+score@{consistent\+\_\+score}}
\index{consistent\+\_\+score@{consistent\+\_\+score}!parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World@{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World}}
\subsubsection{\texorpdfstring{consistent\+\_\+score}{consistent\_score}}
{\footnotesize\ttfamily parlai.\+mturk.\+tasks.\+convai2\+\_\+model\+\_\+eval.\+worlds.\+Convai2\+Eval\+World.\+consistent\+\_\+score}



Definition at line 233 of file worlds.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_aec96ec1a4f5a8022f4c9b340e6deb406}\label{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_aec96ec1a4f5a8022f4c9b340e6deb406}} 
\index{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World@{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World}!dialog@{dialog}}
\index{dialog@{dialog}!parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World@{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World}}
\subsubsection{\texorpdfstring{dialog}{dialog}}
{\footnotesize\ttfamily parlai.\+mturk.\+tasks.\+convai2\+\_\+model\+\_\+eval.\+worlds.\+Convai2\+Eval\+World.\+dialog}



Definition at line 225 of file worlds.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_a37863dd765c8d5bb9a5488b19f65ed86}\label{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_a37863dd765c8d5bb9a5488b19f65ed86}} 
\index{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World@{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World}!eng\+\_\+reason@{eng\+\_\+reason}}
\index{eng\+\_\+reason@{eng\+\_\+reason}!parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World@{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World}}
\subsubsection{\texorpdfstring{eng\+\_\+reason}{eng\_reason}}
{\footnotesize\ttfamily parlai.\+mturk.\+tasks.\+convai2\+\_\+model\+\_\+eval.\+worlds.\+Convai2\+Eval\+World.\+eng\+\_\+reason}



Definition at line 232 of file worlds.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_a069989c4c000e3154e03b033ccc353e8}\label{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_a069989c4c000e3154e03b033ccc353e8}} 
\index{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World@{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World}!eng\+\_\+score@{eng\+\_\+score}}
\index{eng\+\_\+score@{eng\+\_\+score}!parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World@{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World}}
\subsubsection{\texorpdfstring{eng\+\_\+score}{eng\_score}}
{\footnotesize\ttfamily parlai.\+mturk.\+tasks.\+convai2\+\_\+model\+\_\+eval.\+worlds.\+Convai2\+Eval\+World.\+eng\+\_\+score}



Definition at line 231 of file worlds.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_a63ee7fe910e7d5d3601b0f72871de340}\label{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_a63ee7fe910e7d5d3601b0f72871de340}} 
\index{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World@{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World}!fluency\+\_\+reason@{fluency\+\_\+reason}}
\index{fluency\+\_\+reason@{fluency\+\_\+reason}!parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World@{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World}}
\subsubsection{\texorpdfstring{fluency\+\_\+reason}{fluency\_reason}}
{\footnotesize\ttfamily parlai.\+mturk.\+tasks.\+convai2\+\_\+model\+\_\+eval.\+worlds.\+Convai2\+Eval\+World.\+fluency\+\_\+reason}



Definition at line 230 of file worlds.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_a89d0b08008d24520457821f6b4ed6bc9}\label{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_a89d0b08008d24520457821f6b4ed6bc9}} 
\index{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World@{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World}!fluency\+\_\+score@{fluency\+\_\+score}}
\index{fluency\+\_\+score@{fluency\+\_\+score}!parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World@{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World}}
\subsubsection{\texorpdfstring{fluency\+\_\+score}{fluency\_score}}
{\footnotesize\ttfamily parlai.\+mturk.\+tasks.\+convai2\+\_\+model\+\_\+eval.\+worlds.\+Convai2\+Eval\+World.\+fluency\+\_\+score}



Definition at line 229 of file worlds.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_a294d759272054f02b30382d4998c3f7d}\label{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_a294d759272054f02b30382d4998c3f7d}} 
\index{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World@{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World}!hit\+\_\+id@{hit\+\_\+id}}
\index{hit\+\_\+id@{hit\+\_\+id}!parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World@{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World}}
\subsubsection{\texorpdfstring{hit\+\_\+id}{hit\_id}}
{\footnotesize\ttfamily parlai.\+mturk.\+tasks.\+convai2\+\_\+model\+\_\+eval.\+worlds.\+Convai2\+Eval\+World.\+hit\+\_\+id}



Definition at line 220 of file worlds.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_af6ca258fd4c5f59c8250ade8d1ecd111}\label{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_af6ca258fd4c5f59c8250ade8d1ecd111}} 
\index{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World@{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World}!max\+\_\+resp\+\_\+time@{max\+\_\+resp\+\_\+time}}
\index{max\+\_\+resp\+\_\+time@{max\+\_\+resp\+\_\+time}!parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World@{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World}}
\subsubsection{\texorpdfstring{max\+\_\+resp\+\_\+time}{max\_resp\_time}}
{\footnotesize\ttfamily parlai.\+mturk.\+tasks.\+convai2\+\_\+model\+\_\+eval.\+worlds.\+Convai2\+Eval\+World.\+max\+\_\+resp\+\_\+time}



Definition at line 248 of file worlds.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_ae7db2e165123013a4e83dec5c03b65c4}\label{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_ae7db2e165123013a4e83dec5c03b65c4}} 
\index{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World@{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World}!max\+\_\+turn@{max\+\_\+turn}}
\index{max\+\_\+turn@{max\+\_\+turn}!parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World@{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World}}
\subsubsection{\texorpdfstring{max\+\_\+turn}{max\_turn}}
{\footnotesize\ttfamily parlai.\+mturk.\+tasks.\+convai2\+\_\+model\+\_\+eval.\+worlds.\+Convai2\+Eval\+World.\+max\+\_\+turn}



Definition at line 222 of file worlds.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_a0f4af34ac20ed0a5955fda466ddc1083}\label{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_a0f4af34ac20ed0a5955fda466ddc1083}} 
\index{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World@{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World}!model\+\_\+agent@{model\+\_\+agent}}
\index{model\+\_\+agent@{model\+\_\+agent}!parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World@{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World}}
\subsubsection{\texorpdfstring{model\+\_\+agent}{model\_agent}}
{\footnotesize\ttfamily parlai.\+mturk.\+tasks.\+convai2\+\_\+model\+\_\+eval.\+worlds.\+Convai2\+Eval\+World.\+model\+\_\+agent}



Definition at line 242 of file worlds.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_aaa938fc6baa4d401158ddbbfb8bfe6f6}\label{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_aaa938fc6baa4d401158ddbbfb8bfe6f6}} 
\index{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World@{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World}!model\+\_\+name@{model\+\_\+name}}
\index{model\+\_\+name@{model\+\_\+name}!parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World@{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World}}
\subsubsection{\texorpdfstring{model\+\_\+name}{model\_name}}
{\footnotesize\ttfamily parlai.\+mturk.\+tasks.\+convai2\+\_\+model\+\_\+eval.\+worlds.\+Convai2\+Eval\+World.\+model\+\_\+name}



Definition at line 224 of file worlds.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_ab1a1c68b53d1fa51f460b51c76fbee14}\label{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_ab1a1c68b53d1fa51f460b51c76fbee14}} 
\index{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World@{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World}!model\+\_\+persona\+\_\+text@{model\+\_\+persona\+\_\+text}}
\index{model\+\_\+persona\+\_\+text@{model\+\_\+persona\+\_\+text}!parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World@{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World}}
\subsubsection{\texorpdfstring{model\+\_\+persona\+\_\+text}{model\_persona\_text}}
{\footnotesize\ttfamily parlai.\+mturk.\+tasks.\+convai2\+\_\+model\+\_\+eval.\+worlds.\+Convai2\+Eval\+World.\+model\+\_\+persona\+\_\+text}



Definition at line 256 of file worlds.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_ac7c952a12d590d8bb5cb7bc5e11d9fa4}\label{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_ac7c952a12d590d8bb5cb7bc5e11d9fa4}} 
\index{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World@{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World}!n\+\_\+personas@{n\+\_\+personas}}
\index{n\+\_\+personas@{n\+\_\+personas}!parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World@{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World}}
\subsubsection{\texorpdfstring{n\+\_\+personas}{n\_personas}}
{\footnotesize\ttfamily parlai.\+mturk.\+tasks.\+convai2\+\_\+model\+\_\+eval.\+worlds.\+Convai2\+Eval\+World.\+n\+\_\+personas}



Definition at line 228 of file worlds.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_a575e586e963f9f80816167b4533664b9}\label{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_a575e586e963f9f80816167b4533664b9}} 
\index{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World@{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World}!n\+\_\+turn@{n\+\_\+turn}}
\index{n\+\_\+turn@{n\+\_\+turn}!parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World@{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World}}
\subsubsection{\texorpdfstring{n\+\_\+turn}{n\_turn}}
{\footnotesize\ttfamily parlai.\+mturk.\+tasks.\+convai2\+\_\+model\+\_\+eval.\+worlds.\+Convai2\+Eval\+World.\+n\+\_\+turn}



Definition at line 223 of file worlds.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_a747806364239c2320520755980c9166f}\label{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_a747806364239c2320520755980c9166f}} 
\index{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World@{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World}!persona\+\_\+picked@{persona\+\_\+picked}}
\index{persona\+\_\+picked@{persona\+\_\+picked}!parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World@{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World}}
\subsubsection{\texorpdfstring{persona\+\_\+picked}{persona\_picked}}
{\footnotesize\ttfamily parlai.\+mturk.\+tasks.\+convai2\+\_\+model\+\_\+eval.\+worlds.\+Convai2\+Eval\+World.\+persona\+\_\+picked}



Definition at line 235 of file worlds.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_aae94215ebc470d0ac5ee523bd65b04e3}\label{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_aae94215ebc470d0ac5ee523bd65b04e3}} 
\index{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World@{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World}!personas@{personas}}
\index{personas@{personas}!parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World@{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World}}
\subsubsection{\texorpdfstring{personas}{personas}}
{\footnotesize\ttfamily parlai.\+mturk.\+tasks.\+convai2\+\_\+model\+\_\+eval.\+worlds.\+Convai2\+Eval\+World.\+personas}



Definition at line 252 of file worlds.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_aa02c614eed2a38a396d6983a8cdab7a3}\label{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_aa02c614eed2a38a396d6983a8cdab7a3}} 
\index{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World@{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World}!range\+\_\+turn@{range\+\_\+turn}}
\index{range\+\_\+turn@{range\+\_\+turn}!parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World@{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World}}
\subsubsection{\texorpdfstring{range\+\_\+turn}{range\_turn}}
{\footnotesize\ttfamily parlai.\+mturk.\+tasks.\+convai2\+\_\+model\+\_\+eval.\+worlds.\+Convai2\+Eval\+World.\+range\+\_\+turn}



Definition at line 221 of file worlds.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_a2b0bf30c34b162ff3d0c6775dea3d0e3}\label{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_a2b0bf30c34b162ff3d0c6775dea3d0e3}} 
\index{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World@{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World}!ratings@{ratings}}
\index{ratings@{ratings}!parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World@{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World}}
\subsubsection{\texorpdfstring{ratings}{ratings}}
{\footnotesize\ttfamily parlai.\+mturk.\+tasks.\+convai2\+\_\+model\+\_\+eval.\+worlds.\+Convai2\+Eval\+World.\+ratings}



Definition at line 237 of file worlds.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_aad678c612f3e06d4ad65aa00450a0bf1}\label{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_aad678c612f3e06d4ad65aa00450a0bf1}} 
\index{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World@{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World}!task\+\_\+type@{task\+\_\+type}}
\index{task\+\_\+type@{task\+\_\+type}!parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World@{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World}}
\subsubsection{\texorpdfstring{task\+\_\+type}{task\_type}}
{\footnotesize\ttfamily parlai.\+mturk.\+tasks.\+convai2\+\_\+model\+\_\+eval.\+worlds.\+Convai2\+Eval\+World.\+task\+\_\+type}



Definition at line 226 of file worlds.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_acab4083943aae20eab9e3505276af50b}\label{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_acab4083943aae20eab9e3505276af50b}} 
\index{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World@{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World}!turn\+\_\+idx@{turn\+\_\+idx}}
\index{turn\+\_\+idx@{turn\+\_\+idx}!parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World@{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World}}
\subsubsection{\texorpdfstring{turn\+\_\+idx}{turn\_idx}}
{\footnotesize\ttfamily parlai.\+mturk.\+tasks.\+convai2\+\_\+model\+\_\+eval.\+worlds.\+Convai2\+Eval\+World.\+turn\+\_\+idx}



Definition at line 219 of file worlds.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_ac3c2c639d22166002b9a8ee1982f3f3f}\label{classparlai_1_1mturk_1_1tasks_1_1convai2__model__eval_1_1worlds_1_1Convai2EvalWorld_ac3c2c639d22166002b9a8ee1982f3f3f}} 
\index{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World@{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World}!world\+\_\+tag@{world\+\_\+tag}}
\index{world\+\_\+tag@{world\+\_\+tag}!parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World@{parlai\+::mturk\+::tasks\+::convai2\+\_\+model\+\_\+eval\+::worlds\+::\+Convai2\+Eval\+World}}
\subsubsection{\texorpdfstring{world\+\_\+tag}{world\_tag}}
{\footnotesize\ttfamily parlai.\+mturk.\+tasks.\+convai2\+\_\+model\+\_\+eval.\+worlds.\+Convai2\+Eval\+World.\+world\+\_\+tag}



Definition at line 236 of file worlds.\+py.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
parlai/mturk/tasks/convai2\+\_\+model\+\_\+eval/\hyperlink{parlai_2mturk_2tasks_2convai2__model__eval_2worlds_8py}{worlds.\+py}\end{DoxyCompactItemize}
