\hypertarget{namespaceparlai_1_1tasks_1_1webquestions_1_1build}{}\section{parlai.\+tasks.\+webquestions.\+build Namespace Reference}
\label{namespaceparlai_1_1tasks_1_1webquestions_1_1build}\index{parlai.\+tasks.\+webquestions.\+build@{parlai.\+tasks.\+webquestions.\+build}}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{namespaceparlai_1_1tasks_1_1webquestions_1_1build_a969c68eeef096e477def172c88928eb3}{parse\+\_\+ans} (a)
\item 
def \hyperlink{namespaceparlai_1_1tasks_1_1webquestions_1_1build_aba751402cc3a79acbe7517832498a7e6}{create\+\_\+fb\+\_\+format} (outpath, dtype, inpath)
\item 
def \hyperlink{namespaceparlai_1_1tasks_1_1webquestions_1_1build_a175826dcfcbe18189c4c668b1b335239}{build} (opt)
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\hyperlink{namespaceparlai_1_1tasks_1_1webquestions_1_1build_ac4b3a91c9fccce1e8d32040a57332c07}{R\+E\+S\+O\+U\+R\+C\+ES}
\item 
\hyperlink{namespaceparlai_1_1tasks_1_1webquestions_1_1build_a70beb73bd71c22e115647782b0a1a415}{zipped}
\item 
\hyperlink{namespaceparlai_1_1tasks_1_1webquestions_1_1build_a9f4c36987a516850b209c40be8b822ae}{S\+T\+R\+I\+P\+\_\+\+C\+H\+A\+RS}
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\mbox{\Hypertarget{namespaceparlai_1_1tasks_1_1webquestions_1_1build_a175826dcfcbe18189c4c668b1b335239}\label{namespaceparlai_1_1tasks_1_1webquestions_1_1build_a175826dcfcbe18189c4c668b1b335239}} 
\index{parlai\+::tasks\+::webquestions\+::build@{parlai\+::tasks\+::webquestions\+::build}!build@{build}}
\index{build@{build}!parlai\+::tasks\+::webquestions\+::build@{parlai\+::tasks\+::webquestions\+::build}}
\subsubsection{\texorpdfstring{build()}{build()}}
{\footnotesize\ttfamily def parlai.\+tasks.\+webquestions.\+build.\+build (\begin{DoxyParamCaption}\item[{}]{opt }\end{DoxyParamCaption})}



Definition at line 55 of file build.\+py.


\begin{DoxyCode}
55 \textcolor{keyword}{def }\hyperlink{namespacedialog__babi__feedback_1_1build_a7a9d289f7493a5ded13c4b7f071b6184}{build}(opt):
56     dpath = os.path.join(opt[\textcolor{stringliteral}{'datapath'}], \textcolor{stringliteral}{'WebQuestions'})
57     version = \textcolor{keywordtype}{None}
58 
59     \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} build\_data.built(dpath, version\_string=version):
60         print(\textcolor{stringliteral}{'[building data: '} + dpath + \textcolor{stringliteral}{']'})
61         \textcolor{keywordflow}{if} build\_data.built(dpath):
62             \textcolor{comment}{# An older version exists, so remove these outdated files.}
63             build\_data.remove\_dir(dpath)
64         build\_data.make\_dir(dpath)
65 
66         \textcolor{comment}{# Download the data.}
67         \textcolor{keywordflow}{for} downloadable\_file \textcolor{keywordflow}{in} RESOURCES:
68             downloadable\_file.download\_file(dpath)
69 
70         \hyperlink{namespaceparlai_1_1tasks_1_1wikiqa_1_1build_a554828702769592403db58c955d1dfe3}{create\_fb\_format}(dpath, \textcolor{stringliteral}{'train'}, os.path.join(dpath, \textcolor{stringliteral}{'train.json'}))
71         \hyperlink{namespaceparlai_1_1tasks_1_1wikiqa_1_1build_a554828702769592403db58c955d1dfe3}{create\_fb\_format}(dpath, \textcolor{stringliteral}{'valid'}, os.path.join(dpath, \textcolor{stringliteral}{'train.json'}))
72         \hyperlink{namespaceparlai_1_1tasks_1_1wikiqa_1_1build_a554828702769592403db58c955d1dfe3}{create\_fb\_format}(dpath, \textcolor{stringliteral}{'test'}, os.path.join(dpath, \textcolor{stringliteral}{'test.json'}))
73 
74         \textcolor{comment}{# Mark the data as built.}
75         build\_data.mark\_done(dpath, version\_string=version)
76 \end{DoxyCode}
\mbox{\Hypertarget{namespaceparlai_1_1tasks_1_1webquestions_1_1build_aba751402cc3a79acbe7517832498a7e6}\label{namespaceparlai_1_1tasks_1_1webquestions_1_1build_aba751402cc3a79acbe7517832498a7e6}} 
\index{parlai\+::tasks\+::webquestions\+::build@{parlai\+::tasks\+::webquestions\+::build}!create\+\_\+fb\+\_\+format@{create\+\_\+fb\+\_\+format}}
\index{create\+\_\+fb\+\_\+format@{create\+\_\+fb\+\_\+format}!parlai\+::tasks\+::webquestions\+::build@{parlai\+::tasks\+::webquestions\+::build}}
\subsubsection{\texorpdfstring{create\+\_\+fb\+\_\+format()}{create\_fb\_format()}}
{\footnotesize\ttfamily def parlai.\+tasks.\+webquestions.\+build.\+create\+\_\+fb\+\_\+format (\begin{DoxyParamCaption}\item[{}]{outpath,  }\item[{}]{dtype,  }\item[{}]{inpath }\end{DoxyParamCaption})}



Definition at line 42 of file build.\+py.


\begin{DoxyCode}
42 \textcolor{keyword}{def }\hyperlink{namespaceparlai_1_1tasks_1_1wikiqa_1_1build_a554828702769592403db58c955d1dfe3}{create\_fb\_format}(outpath, dtype, inpath):
43     print(\textcolor{stringliteral}{'building fbformat:'} + dtype)
44     with open(inpath) \textcolor{keyword}{as} data\_file:
45         data = json.load(data\_file)
46     fout = open(os.path.join(outpath, dtype + \textcolor{stringliteral}{'.txt'}), \textcolor{stringliteral}{'w'})
47     \textcolor{keywordflow}{for} i \textcolor{keywordflow}{in} range(len(data)):
48         q = data[i][\textcolor{stringliteral}{'utterance'}]
49         a = \hyperlink{namespaceparlai_1_1tasks_1_1webquestions_1_1build_a969c68eeef096e477def172c88928eb3}{parse\_ans}(data[i][\textcolor{stringliteral}{'targetValue'}])
50         s = \textcolor{stringliteral}{'1 '} + q + \textcolor{stringliteral}{'\(\backslash\)t'} + a
51         fout.write(s + \textcolor{stringliteral}{'\(\backslash\)n'})
52     fout.close()
53 
54 
\end{DoxyCode}
\mbox{\Hypertarget{namespaceparlai_1_1tasks_1_1webquestions_1_1build_a969c68eeef096e477def172c88928eb3}\label{namespaceparlai_1_1tasks_1_1webquestions_1_1build_a969c68eeef096e477def172c88928eb3}} 
\index{parlai\+::tasks\+::webquestions\+::build@{parlai\+::tasks\+::webquestions\+::build}!parse\+\_\+ans@{parse\+\_\+ans}}
\index{parse\+\_\+ans@{parse\+\_\+ans}!parlai\+::tasks\+::webquestions\+::build@{parlai\+::tasks\+::webquestions\+::build}}
\subsubsection{\texorpdfstring{parse\+\_\+ans()}{parse\_ans()}}
{\footnotesize\ttfamily def parlai.\+tasks.\+webquestions.\+build.\+parse\+\_\+ans (\begin{DoxyParamCaption}\item[{}]{a }\end{DoxyParamCaption})}



Definition at line 33 of file build.\+py.


\begin{DoxyCode}
33 \textcolor{keyword}{def }\hyperlink{namespaceparlai_1_1tasks_1_1webquestions_1_1build_a969c68eeef096e477def172c88928eb3}{parse\_ans}(a):
34     a = a.lstrip(\textcolor{stringliteral}{'(list'})
35     ans = \textcolor{stringliteral}{''}
36     \textcolor{keywordflow}{for} a \textcolor{keywordflow}{in} re.split(\textcolor{stringliteral}{r'\(\backslash\)(description'}, a):
37         a = a.strip(STRIP\_CHARS)
38         ans = ans + \textcolor{stringliteral}{'|'} + a
39     \textcolor{keywordflow}{return} ans.lstrip(\textcolor{stringliteral}{'|'})
40 
41 
\end{DoxyCode}


\subsection{Variable Documentation}
\mbox{\Hypertarget{namespaceparlai_1_1tasks_1_1webquestions_1_1build_ac4b3a91c9fccce1e8d32040a57332c07}\label{namespaceparlai_1_1tasks_1_1webquestions_1_1build_ac4b3a91c9fccce1e8d32040a57332c07}} 
\index{parlai\+::tasks\+::webquestions\+::build@{parlai\+::tasks\+::webquestions\+::build}!R\+E\+S\+O\+U\+R\+C\+ES@{R\+E\+S\+O\+U\+R\+C\+ES}}
\index{R\+E\+S\+O\+U\+R\+C\+ES@{R\+E\+S\+O\+U\+R\+C\+ES}!parlai\+::tasks\+::webquestions\+::build@{parlai\+::tasks\+::webquestions\+::build}}
\subsubsection{\texorpdfstring{R\+E\+S\+O\+U\+R\+C\+ES}{RESOURCES}}
{\footnotesize\ttfamily parlai.\+tasks.\+webquestions.\+build.\+R\+E\+S\+O\+U\+R\+C\+ES}



Definition at line 14 of file build.\+py.

\mbox{\Hypertarget{namespaceparlai_1_1tasks_1_1webquestions_1_1build_a9f4c36987a516850b209c40be8b822ae}\label{namespaceparlai_1_1tasks_1_1webquestions_1_1build_a9f4c36987a516850b209c40be8b822ae}} 
\index{parlai\+::tasks\+::webquestions\+::build@{parlai\+::tasks\+::webquestions\+::build}!S\+T\+R\+I\+P\+\_\+\+C\+H\+A\+RS@{S\+T\+R\+I\+P\+\_\+\+C\+H\+A\+RS}}
\index{S\+T\+R\+I\+P\+\_\+\+C\+H\+A\+RS@{S\+T\+R\+I\+P\+\_\+\+C\+H\+A\+RS}!parlai\+::tasks\+::webquestions\+::build@{parlai\+::tasks\+::webquestions\+::build}}
\subsubsection{\texorpdfstring{S\+T\+R\+I\+P\+\_\+\+C\+H\+A\+RS}{STRIP\_CHARS}}
{\footnotesize\ttfamily parlai.\+tasks.\+webquestions.\+build.\+S\+T\+R\+I\+P\+\_\+\+C\+H\+A\+RS}



Definition at line 30 of file build.\+py.

\mbox{\Hypertarget{namespaceparlai_1_1tasks_1_1webquestions_1_1build_a70beb73bd71c22e115647782b0a1a415}\label{namespaceparlai_1_1tasks_1_1webquestions_1_1build_a70beb73bd71c22e115647782b0a1a415}} 
\index{parlai\+::tasks\+::webquestions\+::build@{parlai\+::tasks\+::webquestions\+::build}!zipped@{zipped}}
\index{zipped@{zipped}!parlai\+::tasks\+::webquestions\+::build@{parlai\+::tasks\+::webquestions\+::build}}
\subsubsection{\texorpdfstring{zipped}{zipped}}
{\footnotesize\ttfamily parlai.\+tasks.\+webquestions.\+build.\+zipped}



Definition at line 19 of file build.\+py.

