\hypertarget{classtests_1_1test__distributed_1_1TestDistributed}{}\section{tests.\+test\+\_\+distributed.\+Test\+Distributed Class Reference}
\label{classtests_1_1test__distributed_1_1TestDistributed}\index{tests.\+test\+\_\+distributed.\+Test\+Distributed@{tests.\+test\+\_\+distributed.\+Test\+Distributed}}


Inheritance diagram for tests.\+test\+\_\+distributed.\+Test\+Distributed\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=211pt]{dd/d42/classtests_1_1test__distributed_1_1TestDistributed__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for tests.\+test\+\_\+distributed.\+Test\+Distributed\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=211pt]{da/d21/classtests_1_1test__distributed_1_1TestDistributed__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{classtests_1_1test__distributed_1_1TestDistributed_aa47ac27c77ab5122dbdb7881a0feccc2}{tear\+Down} (self)
\item 
def \hyperlink{classtests_1_1test__distributed_1_1TestDistributed_ab483f9fbc8ee190aa9999994a211d0fe}{test\+\_\+generator\+\_\+distributed} (self)
\end{DoxyCompactItemize}


\subsection{Detailed Description}


Definition at line 28 of file test\+\_\+distributed.\+py.



\subsection{Member Function Documentation}
\mbox{\Hypertarget{classtests_1_1test__distributed_1_1TestDistributed_aa47ac27c77ab5122dbdb7881a0feccc2}\label{classtests_1_1test__distributed_1_1TestDistributed_aa47ac27c77ab5122dbdb7881a0feccc2}} 
\index{tests\+::test\+\_\+distributed\+::\+Test\+Distributed@{tests\+::test\+\_\+distributed\+::\+Test\+Distributed}!tear\+Down@{tear\+Down}}
\index{tear\+Down@{tear\+Down}!tests\+::test\+\_\+distributed\+::\+Test\+Distributed@{tests\+::test\+\_\+distributed\+::\+Test\+Distributed}}
\subsubsection{\texorpdfstring{tear\+Down()}{tearDown()}}
{\footnotesize\ttfamily def tests.\+test\+\_\+distributed.\+Test\+Distributed.\+tear\+Down (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line 48 of file test\+\_\+distributed.\+py.


\begin{DoxyCode}
48     \textcolor{keyword}{def }tearDown(self):
49         \textcolor{comment}{# we need to de-initialize the distributed world, otherwise other}
50         \textcolor{comment}{# tests will they're we're distributed when we're really not.}
51         dist.destroy\_process\_group()
52 
\end{DoxyCode}
\mbox{\Hypertarget{classtests_1_1test__distributed_1_1TestDistributed_ab483f9fbc8ee190aa9999994a211d0fe}\label{classtests_1_1test__distributed_1_1TestDistributed_ab483f9fbc8ee190aa9999994a211d0fe}} 
\index{tests\+::test\+\_\+distributed\+::\+Test\+Distributed@{tests\+::test\+\_\+distributed\+::\+Test\+Distributed}!test\+\_\+generator\+\_\+distributed@{test\+\_\+generator\+\_\+distributed}}
\index{test\+\_\+generator\+\_\+distributed@{test\+\_\+generator\+\_\+distributed}!tests\+::test\+\_\+distributed\+::\+Test\+Distributed@{tests\+::test\+\_\+distributed\+::\+Test\+Distributed}}
\subsubsection{\texorpdfstring{test\+\_\+generator\+\_\+distributed()}{test\_generator\_distributed()}}
{\footnotesize\ttfamily def tests.\+test\+\_\+distributed.\+Test\+Distributed.\+test\+\_\+generator\+\_\+distributed (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line 53 of file test\+\_\+distributed.\+py.


\begin{DoxyCode}
53     \textcolor{keyword}{def }test\_generator\_distributed(self):
54         stdout, valid, test = self.\_distributed\_train\_model(
55             dict(
56                 task=\textcolor{stringliteral}{'integration\_tests:nocandidate'},
57                 model=\textcolor{stringliteral}{'transformer/generator'},
58                 optimizer=\textcolor{stringliteral}{'adamax'},
59                 learningrate=7e-3,
60                 batchsize=32,
61                 validation\_every\_n\_epochs=5,
62                 num\_epochs=20,
63                 n\_layers=1,
64                 n\_heads=1,
65                 ffn\_size=32,
66                 embedding\_size=32,
67                 beam\_size=1,
68             )
69         )
70 
71         self.assertLessEqual(
72             valid[\textcolor{stringliteral}{'ppl'}], 1.20, \textcolor{stringliteral}{"valid ppl = \{\}\(\backslash\)nLOG:\(\backslash\)n\{\}"}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(valid[\textcolor{stringliteral}{'ppl'}], stdout)
73         )
74         self.assertGreaterEqual(
75             valid[\textcolor{stringliteral}{'bleu-4'}],
76             0.95,
77             \textcolor{stringliteral}{"valid blue = \{\}\(\backslash\)nLOG:\(\backslash\)n\{\}"}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(valid[\textcolor{stringliteral}{'bleu-4'}], stdout),
78         )
79         self.assertLessEqual(
80             test[\textcolor{stringliteral}{'ppl'}], 1.20, \textcolor{stringliteral}{"test ppl = \{\}\(\backslash\)nLOG:\(\backslash\)n\{\}"}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(test[\textcolor{stringliteral}{'ppl'}], stdout)
81         )
82         self.assertGreaterEqual(
83             test[\textcolor{stringliteral}{'bleu-4'}],
84             0.95,
85             \textcolor{stringliteral}{"test bleu = \{\}\(\backslash\)nLOG:\(\backslash\)n\{\}"}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(test[\textcolor{stringliteral}{'bleu-4'}], stdout),
86         )
87 
88 
\end{DoxyCode}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
tests/\hyperlink{test__distributed_8py}{test\+\_\+distributed.\+py}\end{DoxyCompactItemize}
