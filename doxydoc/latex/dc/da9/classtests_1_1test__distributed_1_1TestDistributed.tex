\hypertarget{classtests_1_1test__distributed_1_1TestDistributed}{}\section{tests.\+test\+\_\+distributed.\+Test\+Distributed Class Reference}
\label{classtests_1_1test__distributed_1_1TestDistributed}\index{tests.\+test\+\_\+distributed.\+Test\+Distributed@{tests.\+test\+\_\+distributed.\+Test\+Distributed}}


Inheritance diagram for tests.\+test\+\_\+distributed.\+Test\+Distributed\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=211pt]{dd/d42/classtests_1_1test__distributed_1_1TestDistributed__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for tests.\+test\+\_\+distributed.\+Test\+Distributed\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=211pt]{da/d21/classtests_1_1test__distributed_1_1TestDistributed__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{classtests_1_1test__distributed_1_1TestDistributed_aa47ac27c77ab5122dbdb7881a0feccc2}{tear\+Down} (self)
\item 
def \hyperlink{classtests_1_1test__distributed_1_1TestDistributed_ab483f9fbc8ee190aa9999994a211d0fe}{test\+\_\+generator\+\_\+distributed} (self)
\end{DoxyCompactItemize}


\subsection{Detailed Description}


Definition at line 27 of file test\+\_\+distributed.\+py.



\subsection{Member Function Documentation}
\mbox{\Hypertarget{classtests_1_1test__distributed_1_1TestDistributed_aa47ac27c77ab5122dbdb7881a0feccc2}\label{classtests_1_1test__distributed_1_1TestDistributed_aa47ac27c77ab5122dbdb7881a0feccc2}} 
\index{tests\+::test\+\_\+distributed\+::\+Test\+Distributed@{tests\+::test\+\_\+distributed\+::\+Test\+Distributed}!tear\+Down@{tear\+Down}}
\index{tear\+Down@{tear\+Down}!tests\+::test\+\_\+distributed\+::\+Test\+Distributed@{tests\+::test\+\_\+distributed\+::\+Test\+Distributed}}
\subsubsection{\texorpdfstring{tear\+Down()}{tearDown()}}
{\footnotesize\ttfamily def tests.\+test\+\_\+distributed.\+Test\+Distributed.\+tear\+Down (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line 52 of file test\+\_\+distributed.\+py.


\begin{DoxyCode}
52     \textcolor{keyword}{def }tearDown(self):
53         \textcolor{comment}{# we need to de-initialize the distributed world, otherwise other}
54         \textcolor{comment}{# tests will they're we're distributed when we're really not.}
55         dist.destroy\_process\_group()
56 
\end{DoxyCode}
\mbox{\Hypertarget{classtests_1_1test__distributed_1_1TestDistributed_ab483f9fbc8ee190aa9999994a211d0fe}\label{classtests_1_1test__distributed_1_1TestDistributed_ab483f9fbc8ee190aa9999994a211d0fe}} 
\index{tests\+::test\+\_\+distributed\+::\+Test\+Distributed@{tests\+::test\+\_\+distributed\+::\+Test\+Distributed}!test\+\_\+generator\+\_\+distributed@{test\+\_\+generator\+\_\+distributed}}
\index{test\+\_\+generator\+\_\+distributed@{test\+\_\+generator\+\_\+distributed}!tests\+::test\+\_\+distributed\+::\+Test\+Distributed@{tests\+::test\+\_\+distributed\+::\+Test\+Distributed}}
\subsubsection{\texorpdfstring{test\+\_\+generator\+\_\+distributed()}{test\_generator\_distributed()}}
{\footnotesize\ttfamily def tests.\+test\+\_\+distributed.\+Test\+Distributed.\+test\+\_\+generator\+\_\+distributed (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line 57 of file test\+\_\+distributed.\+py.


\begin{DoxyCode}
57     \textcolor{keyword}{def }test\_generator\_distributed(self):
58         stdout, valid, test = self.\_distributed\_train\_model(
59             dict(
60                 task=\textcolor{stringliteral}{'integration\_tests:nocandidate'},
61                 model=\textcolor{stringliteral}{'transformer/generator'},
62                 optimizer=\textcolor{stringliteral}{'adamax'},
63                 learningrate=7e-3,
64                 batchsize=32,
65                 validation\_every\_n\_epochs=5,
66                 num\_epochs=20,
67                 n\_layers=1,
68                 n\_heads=1,
69                 ffn\_size=32,
70                 embedding\_size=32,
71                 beam\_size=1,
72             )
73         )
74 
75         self.assertLessEqual(
76             valid[\textcolor{stringliteral}{'ppl'}], 1.20, \textcolor{stringliteral}{"valid ppl = \{\}\(\backslash\)nLOG:\(\backslash\)n\{\}"}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(valid[\textcolor{stringliteral}{'ppl'}], stdout)
77         )
78         self.assertGreaterEqual(
79             valid[\textcolor{stringliteral}{'bleu-4'}],
80             0.95,
81             \textcolor{stringliteral}{"valid blue = \{\}\(\backslash\)nLOG:\(\backslash\)n\{\}"}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(valid[\textcolor{stringliteral}{'bleu-4'}], stdout),
82         )
83         self.assertLessEqual(
84             test[\textcolor{stringliteral}{'ppl'}], 1.20, \textcolor{stringliteral}{"test ppl = \{\}\(\backslash\)nLOG:\(\backslash\)n\{\}"}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(test[\textcolor{stringliteral}{'ppl'}], stdout)
85         )
86         self.assertGreaterEqual(
87             test[\textcolor{stringliteral}{'bleu-4'}],
88             0.95,
89             \textcolor{stringliteral}{"test bleu = \{\}\(\backslash\)nLOG:\(\backslash\)n\{\}"}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(test[\textcolor{stringliteral}{'bleu-4'}], stdout),
90         )
91 
92 
\end{DoxyCode}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
tests/\hyperlink{test__distributed_8py}{test\+\_\+distributed.\+py}\end{DoxyCompactItemize}
