\hypertarget{classtests_1_1test__transformers_1_1TestTransformerRanker}{}\section{tests.\+test\+\_\+transformers.\+Test\+Transformer\+Ranker Class Reference}
\label{classtests_1_1test__transformers_1_1TestTransformerRanker}\index{tests.\+test\+\_\+transformers.\+Test\+Transformer\+Ranker@{tests.\+test\+\_\+transformers.\+Test\+Transformer\+Ranker}}


Inheritance diagram for tests.\+test\+\_\+transformers.\+Test\+Transformer\+Ranker\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=201pt]{d1/d22/classtests_1_1test__transformers_1_1TestTransformerRanker__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for tests.\+test\+\_\+transformers.\+Test\+Transformer\+Ranker\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=201pt]{df/da3/classtests_1_1test__transformers_1_1TestTransformerRanker__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{classtests_1_1test__transformers_1_1TestTransformerRanker_a386da89601a1778da3844cf901df3697}{test\+\_\+repeater} (self)
\item 
def \hyperlink{classtests_1_1test__transformers_1_1TestTransformerRanker_a55dff1bae7f3fef267f2437423ee008f}{test\+\_\+resuming} (self)
\item 
def \hyperlink{classtests_1_1test__transformers_1_1TestTransformerRanker_aaaf8b461c4f6460c770c1717c6cf9f5c}{test\+\_\+resuming\+\_\+reduce\+\_\+on\+\_\+plateau} (self)
\item 
def \hyperlink{classtests_1_1test__transformers_1_1TestTransformerRanker_a63dd66de96a7eee38a2bf477bd27441f}{test\+\_\+backcomp} (self)
\item 
def \hyperlink{classtests_1_1test__transformers_1_1TestTransformerRanker_a2a4671741d853fa9ff5bf484ec98487c}{test\+\_\+xlm} (self)
\item 
def \hyperlink{classtests_1_1test__transformers_1_1TestTransformerRanker_a511fbe2d896e28baff21f5c9e7f0b0b4}{test\+\_\+alt\+\_\+reduction} (self)
\end{DoxyCompactItemize}
\subsection*{Static Public Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classtests_1_1test__transformers_1_1TestTransformerRanker_ac580716d99f1d6e925acdf3deee22def}{ntries}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
\begin{DoxyVerb}Checks that transformer_ranker can learn some very basic tasks.
\end{DoxyVerb}
 

Definition at line 16 of file test\+\_\+transformers.\+py.



\subsection{Member Function Documentation}
\mbox{\Hypertarget{classtests_1_1test__transformers_1_1TestTransformerRanker_a511fbe2d896e28baff21f5c9e7f0b0b4}\label{classtests_1_1test__transformers_1_1TestTransformerRanker_a511fbe2d896e28baff21f5c9e7f0b0b4}} 
\index{tests\+::test\+\_\+transformers\+::\+Test\+Transformer\+Ranker@{tests\+::test\+\_\+transformers\+::\+Test\+Transformer\+Ranker}!test\+\_\+alt\+\_\+reduction@{test\+\_\+alt\+\_\+reduction}}
\index{test\+\_\+alt\+\_\+reduction@{test\+\_\+alt\+\_\+reduction}!tests\+::test\+\_\+transformers\+::\+Test\+Transformer\+Ranker@{tests\+::test\+\_\+transformers\+::\+Test\+Transformer\+Ranker}}
\subsubsection{\texorpdfstring{test\+\_\+alt\+\_\+reduction()}{test\_alt\_reduction()}}
{\footnotesize\ttfamily def tests.\+test\+\_\+transformers.\+Test\+Transformer\+Ranker.\+test\+\_\+alt\+\_\+reduction (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}

\begin{DoxyVerb}Test a transformer ranker reduction method other than `mean`.
\end{DoxyVerb}
 

Definition at line 221 of file test\+\_\+transformers.\+py.


\begin{DoxyCode}
221     \textcolor{keyword}{def }test\_alt\_reduction(self):
222         \textcolor{stringliteral}{"""}
223 \textcolor{stringliteral}{        Test a transformer ranker reduction method other than `mean`.}
224 \textcolor{stringliteral}{        """}
225         stdout, valid, test = testing\_utils.train\_model(
226             dict(
227                 task=\textcolor{stringliteral}{'integration\_tests:candidate'},
228                 model=\textcolor{stringliteral}{'transformer/ranker'},
229                 optimizer=\textcolor{stringliteral}{'adamax'},
230                 learningrate=7e-3,
231                 batchsize=16,
232                 validation\_every\_n\_epochs=5,
233                 validation\_patience=2,
234                 n\_layers=1,
235                 n\_heads=4,
236                 ffn\_size=64,
237                 embedding\_size=32,
238                 candidates=\textcolor{stringliteral}{'batch'},
239                 eval\_candidates=\textcolor{stringliteral}{'inline'},
240                 gradient\_clip=0.5,
241                 variant=\textcolor{stringliteral}{'xlm'},
242                 activation=\textcolor{stringliteral}{'gelu'},
243                 reduction\_type=\textcolor{stringliteral}{'first'},  \textcolor{comment}{# this is really what we're trying to test for}
244             )
245         )
246 
247         self.assertGreaterEqual(
248             valid[\textcolor{stringliteral}{'hits@1'}],
249             0.90,
250             \textcolor{stringliteral}{"valid hits@1 = \{\}\(\backslash\)nLOG:\(\backslash\)n\{\}"}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(valid[\textcolor{stringliteral}{'hits@1'}], stdout),
251         )
252         self.assertGreaterEqual(
253             test[\textcolor{stringliteral}{'hits@1'}],
254             0.90,
255             \textcolor{stringliteral}{"test hits@1 = \{\}\(\backslash\)nLOG:\(\backslash\)n\{\}"}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(test[\textcolor{stringliteral}{'hits@1'}], stdout),
256         )
257 
258 
\end{DoxyCode}
\mbox{\Hypertarget{classtests_1_1test__transformers_1_1TestTransformerRanker_a63dd66de96a7eee38a2bf477bd27441f}\label{classtests_1_1test__transformers_1_1TestTransformerRanker_a63dd66de96a7eee38a2bf477bd27441f}} 
\index{tests\+::test\+\_\+transformers\+::\+Test\+Transformer\+Ranker@{tests\+::test\+\_\+transformers\+::\+Test\+Transformer\+Ranker}!test\+\_\+backcomp@{test\+\_\+backcomp}}
\index{test\+\_\+backcomp@{test\+\_\+backcomp}!tests\+::test\+\_\+transformers\+::\+Test\+Transformer\+Ranker@{tests\+::test\+\_\+transformers\+::\+Test\+Transformer\+Ranker}}
\subsubsection{\texorpdfstring{test\+\_\+backcomp()}{test\_backcomp()}}
{\footnotesize\ttfamily def tests.\+test\+\_\+transformers.\+Test\+Transformer\+Ranker.\+test\+\_\+backcomp (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}

\begin{DoxyVerb}Tests that the transformer ranker model files continue to work over time.
\end{DoxyVerb}
 

Definition at line 140 of file test\+\_\+transformers.\+py.


\begin{DoxyCode}
140     \textcolor{keyword}{def }test\_backcomp(self):
141         \textcolor{stringliteral}{"""}
142 \textcolor{stringliteral}{        Tests that the transformer ranker model files continue to work over time.}
143 \textcolor{stringliteral}{        """}
144         testing\_utils.download\_unittest\_models()
145 
146         stdout, valid, test = testing\_utils.eval\_model(
147             dict(
148                 task=\textcolor{stringliteral}{'integration\_tests:multipass'},
149                 model=\textcolor{stringliteral}{'transformer/ranker'},
150                 model\_file=\textcolor{stringliteral}{'zoo:unittest/transformer\_ranker/model'},
151                 dict\_file=\textcolor{stringliteral}{'zoo:unittest/transformer\_ranker/model.dict'},
152                 batch\_size=64,
153             )
154         )
155 
156         self.assertGreaterEqual(
157             valid[\textcolor{stringliteral}{'hits@1'}],
158             0.99,
159             \textcolor{stringliteral}{'valid hits@1 = \{\}\(\backslash\)nLOG:\(\backslash\)n\{\}'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(valid[\textcolor{stringliteral}{'hits@1'}], stdout),
160         )
161         self.assertGreaterEqual(
162             valid[\textcolor{stringliteral}{'accuracy'}],
163             0.99,
164             \textcolor{stringliteral}{'valid accuracy = \{\}\(\backslash\)nLOG:\(\backslash\)n\{\}'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(valid[\textcolor{stringliteral}{'accuracy'}], stdout),
165         )
166         self.assertGreaterEqual(
167             valid[\textcolor{stringliteral}{'f1'}], 0.99, \textcolor{stringliteral}{'valid f1 = \{\}\(\backslash\)nLOG:\(\backslash\)n\{\}'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(valid[\textcolor{stringliteral}{'f1'}], stdout)
168         )
169         self.assertGreaterEqual(
170             test[\textcolor{stringliteral}{'hits@1'}],
171             0.99,
172             \textcolor{stringliteral}{'test hits@1 = \{\}\(\backslash\)nLOG:\(\backslash\)n\{\}'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(test[\textcolor{stringliteral}{'hits@1'}], stdout),
173         )
174         self.assertGreaterEqual(
175             test[\textcolor{stringliteral}{'accuracy'}],
176             0.99,
177             \textcolor{stringliteral}{'test accuracy = \{\}\(\backslash\)nLOG:\(\backslash\)n\{\}'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(test[\textcolor{stringliteral}{'accuracy'}], stdout),
178         )
179         self.assertGreaterEqual(
180             test[\textcolor{stringliteral}{'f1'}], 0.99, \textcolor{stringliteral}{'test f1 = \{\}\(\backslash\)nLOG:\(\backslash\)n\{\}'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(test[\textcolor{stringliteral}{'f1'}], stdout)
181         )
182 
\end{DoxyCode}
\mbox{\Hypertarget{classtests_1_1test__transformers_1_1TestTransformerRanker_a386da89601a1778da3844cf901df3697}\label{classtests_1_1test__transformers_1_1TestTransformerRanker_a386da89601a1778da3844cf901df3697}} 
\index{tests\+::test\+\_\+transformers\+::\+Test\+Transformer\+Ranker@{tests\+::test\+\_\+transformers\+::\+Test\+Transformer\+Ranker}!test\+\_\+repeater@{test\+\_\+repeater}}
\index{test\+\_\+repeater@{test\+\_\+repeater}!tests\+::test\+\_\+transformers\+::\+Test\+Transformer\+Ranker@{tests\+::test\+\_\+transformers\+::\+Test\+Transformer\+Ranker}}
\subsubsection{\texorpdfstring{test\+\_\+repeater()}{test\_repeater()}}
{\footnotesize\ttfamily def tests.\+test\+\_\+transformers.\+Test\+Transformer\+Ranker.\+test\+\_\+repeater (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}

\begin{DoxyVerb}Test a simple repeat-after-me model.
\end{DoxyVerb}
 

Definition at line 22 of file test\+\_\+transformers.\+py.


\begin{DoxyCode}
22     \textcolor{keyword}{def }test\_repeater(self):
23         \textcolor{stringliteral}{"""}
24 \textcolor{stringliteral}{        Test a simple repeat-after-me model.}
25 \textcolor{stringliteral}{        """}
26         stdout, valid, test = testing\_utils.train\_model(
27             dict(
28                 task=\textcolor{stringliteral}{'integration\_tests:candidate'},
29                 model=\textcolor{stringliteral}{'transformer/ranker'},
30                 optimizer=\textcolor{stringliteral}{'adamax'},
31                 learningrate=7e-3,
32                 batchsize=16,
33                 validation\_every\_n\_epochs=5,
34                 validation\_patience=2,
35                 n\_layers=1,
36                 n\_heads=4,
37                 ffn\_size=64,
38                 embedding\_size=32,
39                 candidates=\textcolor{stringliteral}{'batch'},
40                 eval\_candidates=\textcolor{stringliteral}{'inline'},
41                 gradient\_clip=0.5,
42             )
43         )
44 
45         self.assertGreaterEqual(
46             valid[\textcolor{stringliteral}{'hits@1'}],
47             0.90,
48             \textcolor{stringliteral}{"valid hits@1 = \{\}\(\backslash\)nLOG:\(\backslash\)n\{\}"}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(valid[\textcolor{stringliteral}{'hits@1'}], stdout),
49         )
50         self.assertGreaterEqual(
51             test[\textcolor{stringliteral}{'hits@1'}],
52             0.90,
53             \textcolor{stringliteral}{"test hits@1 = \{\}\(\backslash\)nLOG:\(\backslash\)n\{\}"}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(test[\textcolor{stringliteral}{'hits@1'}], stdout),
54         )
55 
\end{DoxyCode}
\mbox{\Hypertarget{classtests_1_1test__transformers_1_1TestTransformerRanker_a55dff1bae7f3fef267f2437423ee008f}\label{classtests_1_1test__transformers_1_1TestTransformerRanker_a55dff1bae7f3fef267f2437423ee008f}} 
\index{tests\+::test\+\_\+transformers\+::\+Test\+Transformer\+Ranker@{tests\+::test\+\_\+transformers\+::\+Test\+Transformer\+Ranker}!test\+\_\+resuming@{test\+\_\+resuming}}
\index{test\+\_\+resuming@{test\+\_\+resuming}!tests\+::test\+\_\+transformers\+::\+Test\+Transformer\+Ranker@{tests\+::test\+\_\+transformers\+::\+Test\+Transformer\+Ranker}}
\subsubsection{\texorpdfstring{test\+\_\+resuming()}{test\_resuming()}}
{\footnotesize\ttfamily def tests.\+test\+\_\+transformers.\+Test\+Transformer\+Ranker.\+test\+\_\+resuming (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}

\begin{DoxyVerb}Test saving and resuming training.
\end{DoxyVerb}
 

Definition at line 56 of file test\+\_\+transformers.\+py.


\begin{DoxyCode}
56     \textcolor{keyword}{def }test\_resuming(self):
57         \textcolor{stringliteral}{"""}
58 \textcolor{stringliteral}{        Test saving and resuming training.}
59 \textcolor{stringliteral}{        """}
60         with testing\_utils.tempdir() \textcolor{keyword}{as} tmpdir:
61             model\_file = os.path.join(tmpdir, \textcolor{stringliteral}{'model'})
62 
63             stdout1, valid1, test1 = testing\_utils.train\_model(
64                 dict(
65                     model\_file=model\_file,
66                     task=\textcolor{stringliteral}{'integration\_tests:candidate'},
67                     model=\textcolor{stringliteral}{'transformer/ranker'},
68                     optimizer=\textcolor{stringliteral}{'adamax'},
69                     learningrate=7e-3,
70                     batchsize=32,
71                     num\_epochs=1,
72                     n\_layers=1,
73                     n\_heads=1,
74                     ffn\_size=32,
75                     embedding\_size=32,
76                     warmup\_updates=1,
77                     lr\_scheduler=\textcolor{stringliteral}{'invsqrt'},
78                 )
79             )
80 
81             stdout2, valid2, test2 = testing\_utils.train\_model(
82                 dict(
83                     model\_file=model\_file,
84                     task=\textcolor{stringliteral}{'integration\_tests:candidate'},
85                     model=\textcolor{stringliteral}{'transformer/ranker'},
86                     num\_epochs=1,
87                 )
88             )
89             \textcolor{comment}{# make sure the number of updates is being tracked correctly}
90             self.assertGreater(
91                 valid2[\textcolor{stringliteral}{'total\_train\_updates'}],
92                 valid1[\textcolor{stringliteral}{'total\_train\_updates'}],
93                 \textcolor{stringliteral}{'Number of updates is not increasing'},
94             )
95             \textcolor{comment}{# make sure the learning rate is decreasing}
96             self.assertLess(
97                 valid2[\textcolor{stringliteral}{'lr'}], valid1[\textcolor{stringliteral}{'lr'}], \textcolor{stringliteral}{'Learning rate is not decreasing'}
98             )
99 
\end{DoxyCode}
\mbox{\Hypertarget{classtests_1_1test__transformers_1_1TestTransformerRanker_aaaf8b461c4f6460c770c1717c6cf9f5c}\label{classtests_1_1test__transformers_1_1TestTransformerRanker_aaaf8b461c4f6460c770c1717c6cf9f5c}} 
\index{tests\+::test\+\_\+transformers\+::\+Test\+Transformer\+Ranker@{tests\+::test\+\_\+transformers\+::\+Test\+Transformer\+Ranker}!test\+\_\+resuming\+\_\+reduce\+\_\+on\+\_\+plateau@{test\+\_\+resuming\+\_\+reduce\+\_\+on\+\_\+plateau}}
\index{test\+\_\+resuming\+\_\+reduce\+\_\+on\+\_\+plateau@{test\+\_\+resuming\+\_\+reduce\+\_\+on\+\_\+plateau}!tests\+::test\+\_\+transformers\+::\+Test\+Transformer\+Ranker@{tests\+::test\+\_\+transformers\+::\+Test\+Transformer\+Ranker}}
\subsubsection{\texorpdfstring{test\+\_\+resuming\+\_\+reduce\+\_\+on\+\_\+plateau()}{test\_resuming\_reduce\_on\_plateau()}}
{\footnotesize\ttfamily def tests.\+test\+\_\+transformers.\+Test\+Transformer\+Ranker.\+test\+\_\+resuming\+\_\+reduce\+\_\+on\+\_\+plateau (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}

\begin{DoxyVerb}Reduce on Plateau can be tricky when combined with warmup.

See: https://github.com/facebookresearch/ParlAI/pull/1812
\end{DoxyVerb}
 

Definition at line 100 of file test\+\_\+transformers.\+py.


\begin{DoxyCode}
100     \textcolor{keyword}{def }test\_resuming\_reduce\_on\_plateau(self):
101         \textcolor{stringliteral}{"""}
102 \textcolor{stringliteral}{        Reduce on Plateau can be tricky when combined with warmup.}
103 \textcolor{stringliteral}{}
104 \textcolor{stringliteral}{        See: https://github.com/facebookresearch/ParlAI/pull/1812}
105 \textcolor{stringliteral}{        """}
106         with testing\_utils.tempdir() \textcolor{keyword}{as} tmpdir:
107             model\_file = os.path.join(tmpdir, \textcolor{stringliteral}{'model'})
108             stdout1, valid1, test1 = testing\_utils.train\_model(
109                 dict(
110                     model\_file=model\_file,
111                     task=\textcolor{stringliteral}{'integration\_tests:candidate'},
112                     model=\textcolor{stringliteral}{'transformer/ranker'},
113                     optimizer=\textcolor{stringliteral}{'adamax'},
114                     learningrate=7e-3,
115                     batchsize=32,
116                     num\_epochs=1,
117                     n\_layers=1,
118                     n\_heads=1,
119                     ffn\_size=32,
120                     embedding\_size=32,
121                     warmup\_updates=1,
122                     lr\_scheduler=\textcolor{stringliteral}{'reduceonplateau'},
123                 )
124             )
125 
126             stdout2, valid2, test2 = testing\_utils.train\_model(
127                 dict(
128                     model\_file=model\_file,
129                     task=\textcolor{stringliteral}{'integration\_tests:candidate'},
130                     model=\textcolor{stringliteral}{'transformer/ranker'},
131                     num\_epochs=1,
132                     lr\_scheduler=\textcolor{stringliteral}{'reduceonplateau'},
133                 )
134             )
135             \textcolor{comment}{# make sure the learning rate is decreasing}
136             self.assertGreater(
137                 valid2[\textcolor{stringliteral}{'lr'}], 1e-5, \textcolor{stringliteral}{'Learning rate should not be that low when resuming'}
138             )
139 
\end{DoxyCode}
\mbox{\Hypertarget{classtests_1_1test__transformers_1_1TestTransformerRanker_a2a4671741d853fa9ff5bf484ec98487c}\label{classtests_1_1test__transformers_1_1TestTransformerRanker_a2a4671741d853fa9ff5bf484ec98487c}} 
\index{tests\+::test\+\_\+transformers\+::\+Test\+Transformer\+Ranker@{tests\+::test\+\_\+transformers\+::\+Test\+Transformer\+Ranker}!test\+\_\+xlm@{test\+\_\+xlm}}
\index{test\+\_\+xlm@{test\+\_\+xlm}!tests\+::test\+\_\+transformers\+::\+Test\+Transformer\+Ranker@{tests\+::test\+\_\+transformers\+::\+Test\+Transformer\+Ranker}}
\subsubsection{\texorpdfstring{test\+\_\+xlm()}{test\_xlm()}}
{\footnotesize\ttfamily def tests.\+test\+\_\+transformers.\+Test\+Transformer\+Ranker.\+test\+\_\+xlm (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}

\begin{DoxyVerb}Test --variant xlm.
\end{DoxyVerb}
 

Definition at line 184 of file test\+\_\+transformers.\+py.


\begin{DoxyCode}
184     \textcolor{keyword}{def }test\_xlm(self):
185         \textcolor{stringliteral}{"""}
186 \textcolor{stringliteral}{        Test --variant xlm.}
187 \textcolor{stringliteral}{        """}
188         stdout, valid, test = testing\_utils.train\_model(
189             dict(
190                 task=\textcolor{stringliteral}{'integration\_tests:candidate'},
191                 model=\textcolor{stringliteral}{'transformer/ranker'},
192                 optimizer=\textcolor{stringliteral}{'adamax'},
193                 learningrate=7e-3,
194                 batchsize=16,
195                 validation\_every\_n\_epochs=5,
196                 validation\_patience=2,
197                 n\_layers=1,
198                 n\_heads=4,
199                 ffn\_size=64,
200                 embedding\_size=32,
201                 candidates=\textcolor{stringliteral}{'batch'},
202                 eval\_candidates=\textcolor{stringliteral}{'inline'},
203                 gradient\_clip=0.5,
204                 variant=\textcolor{stringliteral}{'xlm'},
205                 activation=\textcolor{stringliteral}{'gelu'},
206             )
207         )
208 
209         self.assertGreaterEqual(
210             valid[\textcolor{stringliteral}{'hits@1'}],
211             0.90,
212             \textcolor{stringliteral}{"valid hits@1 = \{\}\(\backslash\)nLOG:\(\backslash\)n\{\}"}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(valid[\textcolor{stringliteral}{'hits@1'}], stdout),
213         )
214         self.assertGreaterEqual(
215             test[\textcolor{stringliteral}{'hits@1'}],
216             0.90,
217             \textcolor{stringliteral}{"test hits@1 = \{\}\(\backslash\)nLOG:\(\backslash\)n\{\}"}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(test[\textcolor{stringliteral}{'hits@1'}], stdout),
218         )
219 
\end{DoxyCode}


\subsection{Member Data Documentation}
\mbox{\Hypertarget{classtests_1_1test__transformers_1_1TestTransformerRanker_ac580716d99f1d6e925acdf3deee22def}\label{classtests_1_1test__transformers_1_1TestTransformerRanker_ac580716d99f1d6e925acdf3deee22def}} 
\index{tests\+::test\+\_\+transformers\+::\+Test\+Transformer\+Ranker@{tests\+::test\+\_\+transformers\+::\+Test\+Transformer\+Ranker}!ntries@{ntries}}
\index{ntries@{ntries}!tests\+::test\+\_\+transformers\+::\+Test\+Transformer\+Ranker@{tests\+::test\+\_\+transformers\+::\+Test\+Transformer\+Ranker}}
\subsubsection{\texorpdfstring{ntries}{ntries}}
{\footnotesize\ttfamily tests.\+test\+\_\+transformers.\+Test\+Transformer\+Ranker.\+ntries\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 21 of file test\+\_\+transformers.\+py.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
tests/\hyperlink{test__transformers_8py}{test\+\_\+transformers.\+py}\end{DoxyCompactItemize}
