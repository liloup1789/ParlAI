\hypertarget{classtest__wizard_1_1TestKnowledgeRetriever}{}\section{test\+\_\+wizard.\+Test\+Knowledge\+Retriever Class Reference}
\label{classtest__wizard_1_1TestKnowledgeRetriever}\index{test\+\_\+wizard.\+Test\+Knowledge\+Retriever@{test\+\_\+wizard.\+Test\+Knowledge\+Retriever}}


Inheritance diagram for test\+\_\+wizard.\+Test\+Knowledge\+Retriever\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=217pt]{d3/d49/classtest__wizard_1_1TestKnowledgeRetriever__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for test\+\_\+wizard.\+Test\+Knowledge\+Retriever\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=217pt]{d6/dcb/classtest__wizard_1_1TestKnowledgeRetriever__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{classtest__wizard_1_1TestKnowledgeRetriever_a3cfca11721cc581c2dde4d3cc15bb8c9}{test\+\_\+knowledge\+\_\+retriever} (self)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
\begin{DoxyVerb}Checks that the Knowledge Retriever module returns the correct results.
\end{DoxyVerb}
 

Definition at line 89 of file test\+\_\+wizard.\+py.



\subsection{Member Function Documentation}
\mbox{\Hypertarget{classtest__wizard_1_1TestKnowledgeRetriever_a3cfca11721cc581c2dde4d3cc15bb8c9}\label{classtest__wizard_1_1TestKnowledgeRetriever_a3cfca11721cc581c2dde4d3cc15bb8c9}} 
\index{test\+\_\+wizard\+::\+Test\+Knowledge\+Retriever@{test\+\_\+wizard\+::\+Test\+Knowledge\+Retriever}!test\+\_\+knowledge\+\_\+retriever@{test\+\_\+knowledge\+\_\+retriever}}
\index{test\+\_\+knowledge\+\_\+retriever@{test\+\_\+knowledge\+\_\+retriever}!test\+\_\+wizard\+::\+Test\+Knowledge\+Retriever@{test\+\_\+wizard\+::\+Test\+Knowledge\+Retriever}}
\subsubsection{\texorpdfstring{test\+\_\+knowledge\+\_\+retriever()}{test\_knowledge\_retriever()}}
{\footnotesize\ttfamily def test\+\_\+wizard.\+Test\+Knowledge\+Retriever.\+test\+\_\+knowledge\+\_\+retriever (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line 94 of file test\+\_\+wizard.\+py.


\begin{DoxyCode}
94     \textcolor{keyword}{def }test\_knowledge\_retriever(self):
95         \textcolor{keyword}{from} \hyperlink{namespaceparlai_1_1core_1_1params}{parlai.core.params} \textcolor{keyword}{import} ParlaiParser
96 
97         parser = ParlaiParser(\textcolor{keyword}{False}, \textcolor{keyword}{False})
98         KnowledgeRetrieverAgent.add\_cmdline\_args(parser)
99         parser.set\_params(
100             model=\textcolor{stringliteral}{'projects:wizard\_of\_wikipedia:knowledge\_retriever'},
101             add\_token\_knowledge=\textcolor{keyword}{True},
102         )
103         knowledge\_opt = parser.parse\_args([], print\_args=\textcolor{keyword}{False})
104         knowledge\_agent = \hyperlink{namespaceparlai_1_1core_1_1agents_a00d77a7e26fb89e8bd900f7b2a02982a}{create\_agent}(knowledge\_opt)
105 
106         knowledge\_agent.observe(
107             \{
108                 \textcolor{stringliteral}{'text'}: \textcolor{stringliteral}{'what do you think of mountain dew?'},
109                 \textcolor{stringliteral}{'chosen\_topic'}: \textcolor{stringliteral}{'Mountain Dew'},
110                 \textcolor{stringliteral}{'episode\_done'}: \textcolor{keyword}{False},
111             \}
112         )
113 
114         knowledge\_act = knowledge\_agent.act()
115 
116         title = knowledge\_act[\textcolor{stringliteral}{'title'}]
117         self.assertEqual(title, \textcolor{stringliteral}{'Mountain Dew'}, \textcolor{stringliteral}{'Did not save chosen topic correctly'})
118 
119         knowledge = knowledge\_act[\textcolor{stringliteral}{'text'}]
120         self.assertIn(
121             TOKEN\_KNOWLEDGE, knowledge, \textcolor{stringliteral}{'Knowledge token was not inserted correctly'}
122         )
123 
124         checked\_sentence = knowledge\_act[\textcolor{stringliteral}{'checked\_sentence'}]
125         self.assertEqual(
126             checked\_sentence,
127             \textcolor{stringliteral}{'Mountain Dew (stylized as Mtn Dew) is a carbonated soft drink brand produced and owned by
       PepsiCo.'},
128             \textcolor{stringliteral}{'Did not correctly choose the checked sentence'},
129         )
130 
131 
\end{DoxyCode}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
tests/nightly/gpu/\hyperlink{test__wizard_8py}{test\+\_\+wizard.\+py}\end{DoxyCompactItemize}
