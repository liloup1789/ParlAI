\hypertarget{classparlai_1_1tasks_1_1vqa__v1_1_1agents_1_1VqaDictionaryAgent}{}\section{parlai.\+tasks.\+vqa\+\_\+v1.\+agents.\+Vqa\+Dictionary\+Agent Class Reference}
\label{classparlai_1_1tasks_1_1vqa__v1_1_1agents_1_1VqaDictionaryAgent}\index{parlai.\+tasks.\+vqa\+\_\+v1.\+agents.\+Vqa\+Dictionary\+Agent@{parlai.\+tasks.\+vqa\+\_\+v1.\+agents.\+Vqa\+Dictionary\+Agent}}


Inheritance diagram for parlai.\+tasks.\+vqa\+\_\+v1.\+agents.\+Vqa\+Dictionary\+Agent\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=217pt]{d2/daa/classparlai_1_1tasks_1_1vqa__v1_1_1agents_1_1VqaDictionaryAgent__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for parlai.\+tasks.\+vqa\+\_\+v1.\+agents.\+Vqa\+Dictionary\+Agent\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=217pt]{d0/d4a/classparlai_1_1tasks_1_1vqa__v1_1_1agents_1_1VqaDictionaryAgent__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{classparlai_1_1tasks_1_1vqa__v1_1_1agents_1_1VqaDictionaryAgent_a9da001b10c94493ab42fb7a0867afc22}{\+\_\+\+\_\+init\+\_\+\+\_\+} (self, \hyperlink{classparlai_1_1core_1_1agents_1_1Agent_ab3b45d2754244608c75d4068b90cd051}{opt}, shared=None)
\item 
def \hyperlink{classparlai_1_1tasks_1_1vqa__v1_1_1agents_1_1VqaDictionaryAgent_ab2ab51d7a69b93734e59125d85dd7b04}{\+\_\+\+\_\+len\+\_\+\+\_\+} (self)
\item 
def \hyperlink{classparlai_1_1tasks_1_1vqa__v1_1_1agents_1_1VqaDictionaryAgent_aebfab302e4b8b2b4ac74723a047cca18}{add\+\_\+to\+\_\+ques\+\_\+dict} (self, tokens)
\item 
def \hyperlink{classparlai_1_1tasks_1_1vqa__v1_1_1agents_1_1VqaDictionaryAgent_a5a69f09a3f7a908c3e89f9b0b86f7396}{add\+\_\+to\+\_\+ans\+\_\+dict} (self, token)
\item 
def \hyperlink{classparlai_1_1tasks_1_1vqa__v1_1_1agents_1_1VqaDictionaryAgent_aa4945260a8e445852d28d702346b67e2}{tokenize\+\_\+mcb} (self, s)
\item 
def \hyperlink{classparlai_1_1tasks_1_1vqa__v1_1_1agents_1_1VqaDictionaryAgent_a59f1738f5c3fdcadd0a8ece0d53c5d6e}{split\+\_\+tokenize} (self, s)
\item 
def \hyperlink{classparlai_1_1tasks_1_1vqa__v1_1_1agents_1_1VqaDictionaryAgent_af491fa3e37b0ff66ce8feb0c6ea7da16}{act} (self)
\item 
def \hyperlink{classparlai_1_1tasks_1_1vqa__v1_1_1agents_1_1VqaDictionaryAgent_af2c2144d6a142cb70d8954b00d3a3720}{encode\+\_\+question} (self, examples, training)
\item 
def \hyperlink{classparlai_1_1tasks_1_1vqa__v1_1_1agents_1_1VqaDictionaryAgent_a6e40e864eceef9b413db16c9ebb9b22b}{encode\+\_\+answer} (self, examples)
\item 
def \hyperlink{classparlai_1_1tasks_1_1vqa__v1_1_1agents_1_1VqaDictionaryAgent_a9e857a32d09fd4b4e09c80e11a1f947b}{decode\+\_\+answer} (self, examples)
\item 
def \hyperlink{classparlai_1_1tasks_1_1vqa__v1_1_1agents_1_1VqaDictionaryAgent_ac84980d21c96740bb94d4215256937ac}{load} (self, filename)
\item 
def \hyperlink{classparlai_1_1tasks_1_1vqa__v1_1_1agents_1_1VqaDictionaryAgent_ac547c4960c1f49242d42c07264d6e047}{save} (self, filename=None, append=False, sort=True)
\item 
def \hyperlink{classparlai_1_1tasks_1_1vqa__v1_1_1agents_1_1VqaDictionaryAgent_afcebdb70582204709f5e4365dde00bcb}{shutdown} (self)
\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{classparlai_1_1tasks_1_1vqa__v1_1_1agents_1_1VqaDictionaryAgent_a77cb7a0b3e0fbbec04905a9745f95dd7}{add\+\_\+cmdline\+\_\+args} (argparser)
\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classparlai_1_1tasks_1_1vqa__v1_1_1agents_1_1VqaDictionaryAgent_a91f3e9070c98389aa082ac35481da54e}{id}
\item 
\hyperlink{classparlai_1_1tasks_1_1vqa__v1_1_1agents_1_1VqaDictionaryAgent_af308d5a88da2f1dee49ffab0d50f7769}{null\+\_\+token}
\item 
\hyperlink{classparlai_1_1tasks_1_1vqa__v1_1_1agents_1_1VqaDictionaryAgent_a96b51ba936dc32fbd8d8d297fb159b48}{unk\+\_\+token}
\item 
\hyperlink{classparlai_1_1tasks_1_1vqa__v1_1_1agents_1_1VqaDictionaryAgent_accaadbb9068cda791a1a2068bf54ef92}{freq}
\item 
\hyperlink{classparlai_1_1tasks_1_1vqa__v1_1_1agents_1_1VqaDictionaryAgent_af2ddcdf09380fd807feeb5ec0cfecc94}{tok2ind}
\item 
\hyperlink{classparlai_1_1tasks_1_1vqa__v1_1_1agents_1_1VqaDictionaryAgent_aede277ee9bd0898104da59736bc248f4}{ind2tok}
\item 
\hyperlink{classparlai_1_1tasks_1_1vqa__v1_1_1agents_1_1VqaDictionaryAgent_a797678a7e21845c631c4953ba41b6238}{ans2ind}
\item 
\hyperlink{classparlai_1_1tasks_1_1vqa__v1_1_1agents_1_1VqaDictionaryAgent_ae11eca250a8c26cdae4f55f8a654d645}{ind2ans}
\item 
\hyperlink{classparlai_1_1tasks_1_1vqa__v1_1_1agents_1_1VqaDictionaryAgent_a9329ab559fc0c5df702345f5c96d7001}{ansfreq}
\item 
\hyperlink{classparlai_1_1tasks_1_1vqa__v1_1_1agents_1_1VqaDictionaryAgent_afbea42cd76614c991aa453fdf12417d1}{ans2ques}
\item 
\hyperlink{classparlai_1_1tasks_1_1vqa__v1_1_1agents_1_1VqaDictionaryAgent_a9d23631bb29ba217e0fb870cce60c622}{save\+\_\+path}
\end{DoxyCompactItemize}


\subsection{Detailed Description}


Definition at line 84 of file agents.\+py.



\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classparlai_1_1tasks_1_1vqa__v1_1_1agents_1_1VqaDictionaryAgent_a9da001b10c94493ab42fb7a0867afc22}\label{classparlai_1_1tasks_1_1vqa__v1_1_1agents_1_1VqaDictionaryAgent_a9da001b10c94493ab42fb7a0867afc22}} 
\index{parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent@{parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent}!\+\_\+\+\_\+init\+\_\+\+\_\+@{\+\_\+\+\_\+init\+\_\+\+\_\+}}
\index{\+\_\+\+\_\+init\+\_\+\+\_\+@{\+\_\+\+\_\+init\+\_\+\+\_\+}!parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent@{parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent}}
\subsubsection{\texorpdfstring{\+\_\+\+\_\+init\+\_\+\+\_\+()}{\_\_init\_\_()}}
{\footnotesize\ttfamily def parlai.\+tasks.\+vqa\+\_\+v1.\+agents.\+Vqa\+Dictionary\+Agent.\+\_\+\+\_\+init\+\_\+\+\_\+ (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{opt,  }\item[{}]{shared = {\ttfamily None} }\end{DoxyParamCaption})}



Definition at line 110 of file agents.\+py.


\begin{DoxyCode}
110     \textcolor{keyword}{def }\_\_init\_\_(self, opt, shared=None):
111         super(VqaDictionaryAgent, self).\_\_init\_\_(opt)
112         self.id = \textcolor{stringliteral}{'VqaDictionary'}
113         self.null\_token = \textcolor{stringliteral}{'\_\_NULL\_\_'}
114         self.unk\_token = \textcolor{stringliteral}{'\_\_UNK\_\_'}
115 
116         \textcolor{keywordflow}{if} shared:
117             self.freq = shared.get(\textcolor{stringliteral}{'freq'}, \{\})
118             self.tok2ind = shared.get(\textcolor{stringliteral}{'tok2ind'}, \{\})
119             self.ind2tok = shared.get(\textcolor{stringliteral}{'ind2tok'}, \{\})
120             self.ans2ind = shared.get(\textcolor{stringliteral}{'ans2ind'}, \{\})
121             self.ind2ans = shared.get(\textcolor{stringliteral}{'ind2ans'}, \{\})
122         \textcolor{keywordflow}{else}:
123             self.freq = defaultdict(int)
124             self.ansfreq = defaultdict(int)
125             self.ans2ques = defaultdict(list)
126             self.tok2ind = \{\}
127             self.ind2tok = \{\}
128             self.ans2ind = \{\}
129             self.ind2ans = \{\}
130 
131             \textcolor{keywordflow}{if} self.null\_token:
132                 self.tok2ind[self.null\_token] = 0
133                 self.ind2tok[0] = self.null\_token
134 
135             \textcolor{keywordflow}{if} self.unk\_token:
136                 \textcolor{comment}{# set special unknown word token}
137                 index = len(self.tok2ind)
138                 self.tok2ind[self.unk\_token] = index
139                 self.ind2tok[index] = self.unk\_token
140 
141         \textcolor{keywordflow}{if} opt.get(\textcolor{stringliteral}{'dict\_file'}) \textcolor{keywordflow}{and} os.path.isfile(opt[\textcolor{stringliteral}{'dict\_file'}]):
142             \textcolor{comment}{# load pre-existing dictionary}
143             self.load(opt[\textcolor{stringliteral}{'dict\_file'}])
144 
145         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} shared:
146 
147             \textcolor{keywordflow}{if} self.null\_token:
148                 \textcolor{comment}{# fix count for null token to one billion and two}
149                 self.freq[self.null\_token] = 1000000002
150 
151             \textcolor{keywordflow}{if} self.unk\_token:
152                 \textcolor{comment}{# fix count for unknown token to one billion}
153                 self.freq[self.unk\_token] = 1000000000
154 
155             \textcolor{keywordflow}{if} opt.get(\textcolor{stringliteral}{'dict\_file'}):
156                 self.save\_path = opt[\textcolor{stringliteral}{'dict\_file'}]
157 
\end{DoxyCode}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{classparlai_1_1tasks_1_1vqa__v1_1_1agents_1_1VqaDictionaryAgent_ab2ab51d7a69b93734e59125d85dd7b04}\label{classparlai_1_1tasks_1_1vqa__v1_1_1agents_1_1VqaDictionaryAgent_ab2ab51d7a69b93734e59125d85dd7b04}} 
\index{parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent@{parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent}!\+\_\+\+\_\+len\+\_\+\+\_\+@{\+\_\+\+\_\+len\+\_\+\+\_\+}}
\index{\+\_\+\+\_\+len\+\_\+\+\_\+@{\+\_\+\+\_\+len\+\_\+\+\_\+}!parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent@{parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent}}
\subsubsection{\texorpdfstring{\+\_\+\+\_\+len\+\_\+\+\_\+()}{\_\_len\_\_()}}
{\footnotesize\ttfamily def parlai.\+tasks.\+vqa\+\_\+v1.\+agents.\+Vqa\+Dictionary\+Agent.\+\_\+\+\_\+len\+\_\+\+\_\+ (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line 158 of file agents.\+py.


\begin{DoxyCode}
158     \textcolor{keyword}{def }\_\_len\_\_(self):
159         \textcolor{keywordflow}{return} len(self.tok2ind)
160 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1tasks_1_1vqa__v1_1_1agents_1_1VqaDictionaryAgent_af491fa3e37b0ff66ce8feb0c6ea7da16}\label{classparlai_1_1tasks_1_1vqa__v1_1_1agents_1_1VqaDictionaryAgent_af491fa3e37b0ff66ce8feb0c6ea7da16}} 
\index{parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent@{parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent}!act@{act}}
\index{act@{act}!parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent@{parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent}}
\subsubsection{\texorpdfstring{act()}{act()}}
{\footnotesize\ttfamily def parlai.\+tasks.\+vqa\+\_\+v1.\+agents.\+Vqa\+Dictionary\+Agent.\+act (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}

\begin{DoxyVerb}Add any words passed in the 'text' field of the observation to this dictionary.
\end{DoxyVerb}
 

Definition at line 222 of file agents.\+py.


\begin{DoxyCode}
222     \textcolor{keyword}{def }act(self):
223         \textcolor{stringliteral}{"""}
224 \textcolor{stringliteral}{        Add any words passed in the 'text' field of the observation to this dictionary.}
225 \textcolor{stringliteral}{        """}
226         mc\_label = self.observation.get(\textcolor{stringliteral}{'mc\_label'}, self.observation.get(\textcolor{stringliteral}{'labels'}, []))
227         \textcolor{keywordflow}{for} text \textcolor{keywordflow}{in} mc\_label:
228             self.ansfreq[text] += 1
229             self.ans2ques[text].append(self.tokenize\_mcb(self.observation.get(\textcolor{stringliteral}{'text'})))
230         \textcolor{keywordflow}{return} \{\textcolor{stringliteral}{'id'}: \textcolor{stringliteral}{'Dictionary'}\}
231 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1tasks_1_1vqa__v1_1_1agents_1_1VqaDictionaryAgent_a77cb7a0b3e0fbbec04905a9745f95dd7}\label{classparlai_1_1tasks_1_1vqa__v1_1_1agents_1_1VqaDictionaryAgent_a77cb7a0b3e0fbbec04905a9745f95dd7}} 
\index{parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent@{parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent}!add\+\_\+cmdline\+\_\+args@{add\+\_\+cmdline\+\_\+args}}
\index{add\+\_\+cmdline\+\_\+args@{add\+\_\+cmdline\+\_\+args}!parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent@{parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent}}
\subsubsection{\texorpdfstring{add\+\_\+cmdline\+\_\+args()}{add\_cmdline\_args()}}
{\footnotesize\ttfamily def parlai.\+tasks.\+vqa\+\_\+v1.\+agents.\+Vqa\+Dictionary\+Agent.\+add\+\_\+cmdline\+\_\+args (\begin{DoxyParamCaption}\item[{}]{argparser }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 86 of file agents.\+py.


\begin{DoxyCode}
86     \textcolor{keyword}{def }\hyperlink{namespaceparlai_1_1agents_1_1drqa_1_1config_a62fdd5554f1da6be0cba185271058320}{add\_cmdline\_args}(argparser):
87         dictionary = argparser.add\_argument\_group(\textcolor{stringliteral}{'Dictionary Arguments'})
88         dictionary.add\_argument(
89             \textcolor{stringliteral}{'--dict-file'},
90             help=\textcolor{stringliteral}{'if set, the dictionary will automatically save to this path'}
91             + \textcolor{stringliteral}{' during shutdown'},
92         )
93         dictionary.add\_argument(
94             \textcolor{stringliteral}{'--dict-initpath'},
95             help=\textcolor{stringliteral}{'path to a saved dictionary to load tokens / counts from to '}
96             + \textcolor{stringliteral}{'seed the dictionary with initial tokens and/or frequencies'},
97         )
98         dictionary.add\_argument(
99             \textcolor{stringliteral}{'--dict-maxexs'},
100             default=300000,
101             type=int,
102             help=\textcolor{stringliteral}{'max number of examples to build dict on'},
103         )
104         dictionary.add\_argument(\textcolor{stringliteral}{'-smp'}, \textcolor{stringliteral}{'--samplingans'}, type=\textcolor{stringliteral}{'bool'}, default=\textcolor{keyword}{True})
105         dictionary.add\_argument(\textcolor{stringliteral}{'--nans'}, type=int, default=2000)
106         dictionary.add\_argument(\textcolor{stringliteral}{'--maxlength'}, type=int, default=16)
107         dictionary.add\_argument(\textcolor{stringliteral}{'--minwcount'}, type=int, default=0)
108         dictionary.add\_argument(\textcolor{stringliteral}{'--nlp'}, default=\textcolor{stringliteral}{'mcb'})
109 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1tasks_1_1vqa__v1_1_1agents_1_1VqaDictionaryAgent_a5a69f09a3f7a908c3e89f9b0b86f7396}\label{classparlai_1_1tasks_1_1vqa__v1_1_1agents_1_1VqaDictionaryAgent_a5a69f09a3f7a908c3e89f9b0b86f7396}} 
\index{parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent@{parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent}!add\+\_\+to\+\_\+ans\+\_\+dict@{add\+\_\+to\+\_\+ans\+\_\+dict}}
\index{add\+\_\+to\+\_\+ans\+\_\+dict@{add\+\_\+to\+\_\+ans\+\_\+dict}!parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent@{parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent}}
\subsubsection{\texorpdfstring{add\+\_\+to\+\_\+ans\+\_\+dict()}{add\_to\_ans\_dict()}}
{\footnotesize\ttfamily def parlai.\+tasks.\+vqa\+\_\+v1.\+agents.\+Vqa\+Dictionary\+Agent.\+add\+\_\+to\+\_\+ans\+\_\+dict (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{token }\end{DoxyParamCaption})}

\begin{DoxyVerb}Builds dictionary from the list of provided tokens.

Only adds words contained in self.embedding_words, if not None.
\end{DoxyVerb}
 

Definition at line 174 of file agents.\+py.


\begin{DoxyCode}
174     \textcolor{keyword}{def }add\_to\_ans\_dict(self, token):
175         \textcolor{stringliteral}{"""}
176 \textcolor{stringliteral}{        Builds dictionary from the list of provided tokens.}
177 \textcolor{stringliteral}{}
178 \textcolor{stringliteral}{        Only adds words contained in self.embedding\_words, if not None.}
179 \textcolor{stringliteral}{        """}
180         self.ansfreq[token] += 1
181         \textcolor{keywordflow}{if} token \textcolor{keywordflow}{not} \textcolor{keywordflow}{in} self.ans2ind:
182             index = len(self.ans2ind)
183             self.ans2ind[token] = index
184             self.ind2ans[index] = token
185 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1tasks_1_1vqa__v1_1_1agents_1_1VqaDictionaryAgent_aebfab302e4b8b2b4ac74723a047cca18}\label{classparlai_1_1tasks_1_1vqa__v1_1_1agents_1_1VqaDictionaryAgent_aebfab302e4b8b2b4ac74723a047cca18}} 
\index{parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent@{parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent}!add\+\_\+to\+\_\+ques\+\_\+dict@{add\+\_\+to\+\_\+ques\+\_\+dict}}
\index{add\+\_\+to\+\_\+ques\+\_\+dict@{add\+\_\+to\+\_\+ques\+\_\+dict}!parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent@{parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent}}
\subsubsection{\texorpdfstring{add\+\_\+to\+\_\+ques\+\_\+dict()}{add\_to\_ques\_dict()}}
{\footnotesize\ttfamily def parlai.\+tasks.\+vqa\+\_\+v1.\+agents.\+Vqa\+Dictionary\+Agent.\+add\+\_\+to\+\_\+ques\+\_\+dict (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{tokens }\end{DoxyParamCaption})}

\begin{DoxyVerb}Builds dictionary from the list of provided tokens.

Only adds words contained in self.embedding_words, if not None.
\end{DoxyVerb}
 

Definition at line 161 of file agents.\+py.


\begin{DoxyCode}
161     \textcolor{keyword}{def }add\_to\_ques\_dict(self, tokens):
162         \textcolor{stringliteral}{"""}
163 \textcolor{stringliteral}{        Builds dictionary from the list of provided tokens.}
164 \textcolor{stringliteral}{}
165 \textcolor{stringliteral}{        Only adds words contained in self.embedding\_words, if not None.}
166 \textcolor{stringliteral}{        """}
167         \textcolor{keywordflow}{for} token \textcolor{keywordflow}{in} tokens:
168             self.freq[token] += 1
169             \textcolor{keywordflow}{if} token \textcolor{keywordflow}{not} \textcolor{keywordflow}{in} self.tok2ind:
170                 index = len(self.tok2ind)
171                 self.tok2ind[token] = index
172                 self.ind2tok[index] = token
173 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1tasks_1_1vqa__v1_1_1agents_1_1VqaDictionaryAgent_a9e857a32d09fd4b4e09c80e11a1f947b}\label{classparlai_1_1tasks_1_1vqa__v1_1_1agents_1_1VqaDictionaryAgent_a9e857a32d09fd4b4e09c80e11a1f947b}} 
\index{parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent@{parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent}!decode\+\_\+answer@{decode\+\_\+answer}}
\index{decode\+\_\+answer@{decode\+\_\+answer}!parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent@{parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent}}
\subsubsection{\texorpdfstring{decode\+\_\+answer()}{decode\_answer()}}
{\footnotesize\ttfamily def parlai.\+tasks.\+vqa\+\_\+v1.\+agents.\+Vqa\+Dictionary\+Agent.\+decode\+\_\+answer (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{examples }\end{DoxyParamCaption})}



Definition at line 270 of file agents.\+py.


\begin{DoxyCode}
270     \textcolor{keyword}{def }decode\_answer(self, examples):
271         txt\_answers = []
272         \textcolor{keywordflow}{for} ex \textcolor{keywordflow}{in} examples:
273             txt\_answers.append(self.ind2ans[ex])
274             \textcolor{comment}{# print("Predicted output ex:", i, ex)}
275         \textcolor{keywordflow}{return} txt\_answers
276 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1tasks_1_1vqa__v1_1_1agents_1_1VqaDictionaryAgent_a6e40e864eceef9b413db16c9ebb9b22b}\label{classparlai_1_1tasks_1_1vqa__v1_1_1agents_1_1VqaDictionaryAgent_a6e40e864eceef9b413db16c9ebb9b22b}} 
\index{parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent@{parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent}!encode\+\_\+answer@{encode\+\_\+answer}}
\index{encode\+\_\+answer@{encode\+\_\+answer}!parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent@{parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent}}
\subsubsection{\texorpdfstring{encode\+\_\+answer()}{encode\_answer()}}
{\footnotesize\ttfamily def parlai.\+tasks.\+vqa\+\_\+v1.\+agents.\+Vqa\+Dictionary\+Agent.\+encode\+\_\+answer (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{examples }\end{DoxyParamCaption})}



Definition at line 250 of file agents.\+py.


\begin{DoxyCode}
250     \textcolor{keyword}{def }encode\_answer(self, examples):
251         \textcolor{keywordflow}{for} ex \textcolor{keywordflow}{in} examples:
252             \textcolor{keywordflow}{if} self.opt.get(\textcolor{stringliteral}{'samplingans'}, \textcolor{keyword}{True}):
253                 labels = ex.get(\textcolor{stringliteral}{'labels'}, ex.get(\textcolor{stringliteral}{'eval\_labels'}))
254                 ans\_count = Counter(labels).most\_common()
255                 valid\_ans = []
256                 valid\_count = []
257                 \textcolor{keywordflow}{for} ans \textcolor{keywordflow}{in} ans\_count:
258                     \textcolor{keywordflow}{if} ans[0] \textcolor{keywordflow}{in} self.ans2ind:
259                         valid\_ans.append(self.ans2ind[ans[0]])
260                         valid\_count.append(ans[1])
261                 \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} valid\_ans:
262                     ex[\textcolor{stringliteral}{'answer\_aid'}] = 0
263                 \textcolor{keywordflow}{else}:
264                     probs = valid\_count / np.sum(valid\_count)
265                     ex[\textcolor{stringliteral}{'answer\_aid'}] = \hyperlink{namespacelanguage__model_1_1eval__ppl_a7d12ee00479673c5c8d1f6d01faa272a}{int}(np.random.choice(valid\_ans, p=probs))
266             \textcolor{keywordflow}{else}:
267                 ex[\textcolor{stringliteral}{'answer\_aid'}] = self.ans2ind[ex[\textcolor{stringliteral}{'mc\_label'}][0]]
268         \textcolor{keywordflow}{return} examples
269 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1tasks_1_1vqa__v1_1_1agents_1_1VqaDictionaryAgent_af2c2144d6a142cb70d8954b00d3a3720}\label{classparlai_1_1tasks_1_1vqa__v1_1_1agents_1_1VqaDictionaryAgent_af2c2144d6a142cb70d8954b00d3a3720}} 
\index{parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent@{parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent}!encode\+\_\+question@{encode\+\_\+question}}
\index{encode\+\_\+question@{encode\+\_\+question}!parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent@{parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent}}
\subsubsection{\texorpdfstring{encode\+\_\+question()}{encode\_question()}}
{\footnotesize\ttfamily def parlai.\+tasks.\+vqa\+\_\+v1.\+agents.\+Vqa\+Dictionary\+Agent.\+encode\+\_\+question (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{examples,  }\item[{}]{training }\end{DoxyParamCaption})}



Definition at line 232 of file agents.\+py.


\begin{DoxyCode}
232     \textcolor{keyword}{def }encode\_question(self, examples, training):
233         minwcount = self.opt.get(\textcolor{stringliteral}{'minwcount'}, 0)
234         maxlength = self.opt.get(\textcolor{stringliteral}{'maxlength'}, 16)
235         \textcolor{keywordflow}{for} ex \textcolor{keywordflow}{in} examples:
236             words = self.tokenize\_mcb(ex[\textcolor{stringliteral}{'text'}])
237             \textcolor{keywordflow}{if} training:
238                 words\_unk = [
239                     w \textcolor{keywordflow}{if} self.freq.get(w, 0) > minwcount \textcolor{keywordflow}{else} self.unk\_token
240                     \textcolor{keywordflow}{for} w \textcolor{keywordflow}{in} words
241                 ]
242             \textcolor{keywordflow}{else}:
243                 words\_unk = [w \textcolor{keywordflow}{if} w \textcolor{keywordflow}{in} self.tok2ind \textcolor{keywordflow}{else} self.unk\_token \textcolor{keywordflow}{for} w \textcolor{keywordflow}{in} words]
244             ex[\textcolor{stringliteral}{'question\_wids'}] = [self.tok2ind[self.null\_token]] * maxlength
245             \textcolor{keywordflow}{for} k, w \textcolor{keywordflow}{in} enumerate(words\_unk):
246                 \textcolor{keywordflow}{if} k < maxlength:
247                     ex[\textcolor{stringliteral}{'question\_wids'}][k] = self.tok2ind[w]
248         \textcolor{keywordflow}{return} examples
249 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1tasks_1_1vqa__v1_1_1agents_1_1VqaDictionaryAgent_ac84980d21c96740bb94d4215256937ac}\label{classparlai_1_1tasks_1_1vqa__v1_1_1agents_1_1VqaDictionaryAgent_ac84980d21c96740bb94d4215256937ac}} 
\index{parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent@{parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent}!load@{load}}
\index{load@{load}!parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent@{parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent}}
\subsubsection{\texorpdfstring{load()}{load()}}
{\footnotesize\ttfamily def parlai.\+tasks.\+vqa\+\_\+v1.\+agents.\+Vqa\+Dictionary\+Agent.\+load (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{filename }\end{DoxyParamCaption})}

\begin{DoxyVerb}Load pre-existing dictionary in 'token[<TAB>count]' format.

Initialize counts from other dictionary, or 0 if they aren't included.
\end{DoxyVerb}
 

Definition at line 277 of file agents.\+py.


\begin{DoxyCode}
277     \textcolor{keyword}{def }load(self, filename):
278         \textcolor{stringliteral}{"""}
279 \textcolor{stringliteral}{        Load pre-existing dictionary in 'token[<TAB>count]' format.}
280 \textcolor{stringliteral}{}
281 \textcolor{stringliteral}{        Initialize counts from other dictionary, or 0 if they aren't included.}
282 \textcolor{stringliteral}{        """}
283         print(\textcolor{stringliteral}{'Dictionary: loading dictionary from \{\}'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(filename))
284         with open(filename) \textcolor{keyword}{as} read:
285             \textcolor{keywordflow}{for} line \textcolor{keywordflow}{in} read:
286                 split = line.strip().split(\textcolor{stringliteral}{'\(\backslash\)t'})
287                 token = \hyperlink{namespaceparlai_1_1tasks_1_1vqa__v1_1_1agents_ab44e9835e0cedea3719e3baebfe0e94b}{unescape}(split[0])
288                 cnt = \hyperlink{namespacelanguage__model_1_1eval__ppl_a7d12ee00479673c5c8d1f6d01faa272a}{int}(split[1]) \textcolor{keywordflow}{if} len(split) > 1 \textcolor{keywordflow}{else} 0
289                 self.freq[token] = cnt
290                 \textcolor{keywordflow}{if} token \textcolor{keywordflow}{not} \textcolor{keywordflow}{in} self.tok2ind:
291                     index = len(self.tok2ind)
292                     self.tok2ind[token] = index
293                     self.ind2tok[index] = token
294         print(\textcolor{stringliteral}{'[ num ques words =  %d ]'} % len(self.ind2tok))
295 
296         with open(filename[:-5] + \textcolor{stringliteral}{"\_ans.dict"}) \textcolor{keyword}{as} read:
297             \textcolor{keywordflow}{for} line \textcolor{keywordflow}{in} read:
298                 split = line.strip().split(\textcolor{stringliteral}{'\(\backslash\)t'})
299                 token = \hyperlink{namespaceparlai_1_1tasks_1_1vqa__v1_1_1agents_ab44e9835e0cedea3719e3baebfe0e94b}{unescape}(split[0])
300                 cnt = \hyperlink{namespacelanguage__model_1_1eval__ppl_a7d12ee00479673c5c8d1f6d01faa272a}{int}(split[1]) \textcolor{keywordflow}{if} len(split) > 1 \textcolor{keywordflow}{else} 0
301                 self.ansfreq[token] = cnt
302                 \textcolor{keywordflow}{if} token \textcolor{keywordflow}{not} \textcolor{keywordflow}{in} self.ans2ind:
303                     index = len(self.ans2ind)
304                     self.ans2ind[token] = index
305                     self.ind2ans[index] = token
306 
307         print(\textcolor{stringliteral}{'[ num ans words =  %d ]'} % len(self.ind2ans))
308 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1tasks_1_1vqa__v1_1_1agents_1_1VqaDictionaryAgent_ac547c4960c1f49242d42c07264d6e047}\label{classparlai_1_1tasks_1_1vqa__v1_1_1agents_1_1VqaDictionaryAgent_ac547c4960c1f49242d42c07264d6e047}} 
\index{parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent@{parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent}!save@{save}}
\index{save@{save}!parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent@{parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent}}
\subsubsection{\texorpdfstring{save()}{save()}}
{\footnotesize\ttfamily def parlai.\+tasks.\+vqa\+\_\+v1.\+agents.\+Vqa\+Dictionary\+Agent.\+save (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{filename = {\ttfamily None},  }\item[{}]{append = {\ttfamily False},  }\item[{}]{sort = {\ttfamily True} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Save dictionary to file. Format is 'token<TAB>count' for every token in the
dictionary, sorted by count with the most frequent words first.

If ``append`` (default ``False``) is set to ``True``, appends instead
of overwriting.

If ``sort`` (default ``True``), then first sort the dictionary before
saving.
\end{DoxyVerb}
 

Definition at line 309 of file agents.\+py.


\begin{DoxyCode}
309     \textcolor{keyword}{def }save(self, filename=None, append=False, sort=True):
310         \textcolor{stringliteral}{"""}
311 \textcolor{stringliteral}{        Save dictionary to file. Format is 'token<TAB>count' for every token in the}
312 \textcolor{stringliteral}{        dictionary, sorted by count with the most frequent words first.}
313 \textcolor{stringliteral}{}
314 \textcolor{stringliteral}{        If ``append`` (default ``False``) is set to ``True``, appends instead}
315 \textcolor{stringliteral}{        of overwriting.}
316 \textcolor{stringliteral}{}
317 \textcolor{stringliteral}{        If ``sort`` (default ``True``), then first sort the dictionary before}
318 \textcolor{stringliteral}{        saving.}
319 \textcolor{stringliteral}{        """}
320         cw = sorted([(count, w) \textcolor{keywordflow}{for} w, count \textcolor{keywordflow}{in} self.ansfreq.items()], reverse=\textcolor{keyword}{True})
321         final\_exs = cw[: self.opt.get(\textcolor{stringliteral}{'nans'}, 2000)]
322         final\_list = dict([(w, c) \textcolor{keywordflow}{for} c, w \textcolor{keywordflow}{in} final\_exs])
323         self.ansfreq = defaultdict(int)
324         \textcolor{keywordflow}{for} ans, ques \textcolor{keywordflow}{in} self.ans2ques.items():
325             \textcolor{keywordflow}{if} ans \textcolor{keywordflow}{in} final\_list:
326                 \textcolor{keywordflow}{for} que \textcolor{keywordflow}{in} ques:
327                     self.add\_to\_ques\_dict(que)
328                 self.add\_to\_ans\_dict(ans)
329 
330         filename = self.opt[\textcolor{stringliteral}{'dict\_file'}] \textcolor{keywordflow}{if} filename \textcolor{keywordflow}{is} \textcolor{keywordtype}{None} \textcolor{keywordflow}{else} filename
331         print(\textcolor{stringliteral}{'Dictionary: saving dictionary to \{\}'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(filename))
332         \textcolor{comment}{# if sort:}
333         \textcolor{comment}{#     self.sort()}
334 
335         with open(filename, \textcolor{stringliteral}{'a'} \textcolor{keywordflow}{if} append \textcolor{keywordflow}{else} \textcolor{stringliteral}{'w'}) \textcolor{keyword}{as} write:
336             \textcolor{keywordflow}{for} i \textcolor{keywordflow}{in} range(len(self.ind2tok)):
337                 tok = self.ind2tok[i]
338                 cnt = self.freq[tok]
339                 write.write(\textcolor{stringliteral}{'\{tok\}\(\backslash\)t\{cnt\}\(\backslash\)n'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(tok=\hyperlink{namespaceparlai_1_1tasks_1_1vqa__v1_1_1agents_a09703660c96aab40da3aa7f2386486cb}{escape}(tok), cnt=cnt))
340 
341         with open(filename[:-5] + \textcolor{stringliteral}{"\_ans.dict"}, \textcolor{stringliteral}{'a'} \textcolor{keywordflow}{if} append \textcolor{keywordflow}{else} \textcolor{stringliteral}{'w'}) \textcolor{keyword}{as} write:
342             \textcolor{keywordflow}{for} i \textcolor{keywordflow}{in} range(len(self.ind2ans)):
343                 tok = self.ind2ans[i]
344                 cnt = self.ansfreq[tok]
345                 write.write(\textcolor{stringliteral}{'\{tok\}\(\backslash\)t\{cnt\}\(\backslash\)n'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(tok=\hyperlink{namespaceparlai_1_1tasks_1_1vqa__v1_1_1agents_a09703660c96aab40da3aa7f2386486cb}{escape}(tok), cnt=cnt))
346 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1tasks_1_1vqa__v1_1_1agents_1_1VqaDictionaryAgent_afcebdb70582204709f5e4365dde00bcb}\label{classparlai_1_1tasks_1_1vqa__v1_1_1agents_1_1VqaDictionaryAgent_afcebdb70582204709f5e4365dde00bcb}} 
\index{parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent@{parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent}!shutdown@{shutdown}}
\index{shutdown@{shutdown}!parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent@{parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent}}
\subsubsection{\texorpdfstring{shutdown()}{shutdown()}}
{\footnotesize\ttfamily def parlai.\+tasks.\+vqa\+\_\+v1.\+agents.\+Vqa\+Dictionary\+Agent.\+shutdown (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}

\begin{DoxyVerb}Save on shutdown if ``save_path`` is set.
\end{DoxyVerb}
 

Definition at line 347 of file agents.\+py.


\begin{DoxyCode}
347     \textcolor{keyword}{def }shutdown(self):
348         \textcolor{stringliteral}{"""}
349 \textcolor{stringliteral}{        Save on shutdown if ``save\_path`` is set.}
350 \textcolor{stringliteral}{        """}
351         \textcolor{keywordflow}{if} hasattr(self, \textcolor{stringliteral}{'save\_path'}):
352             self.save(self.save\_path)
353 
354 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1tasks_1_1vqa__v1_1_1agents_1_1VqaDictionaryAgent_a59f1738f5c3fdcadd0a8ece0d53c5d6e}\label{classparlai_1_1tasks_1_1vqa__v1_1_1agents_1_1VqaDictionaryAgent_a59f1738f5c3fdcadd0a8ece0d53c5d6e}} 
\index{parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent@{parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent}!split\+\_\+tokenize@{split\+\_\+tokenize}}
\index{split\+\_\+tokenize@{split\+\_\+tokenize}!parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent@{parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent}}
\subsubsection{\texorpdfstring{split\+\_\+tokenize()}{split\_tokenize()}}
{\footnotesize\ttfamily def parlai.\+tasks.\+vqa\+\_\+v1.\+agents.\+Vqa\+Dictionary\+Agent.\+split\+\_\+tokenize (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{s }\end{DoxyParamCaption})}



Definition at line 209 of file agents.\+py.


\begin{DoxyCode}
209     \textcolor{keyword}{def }\hyperlink{namespaceparlai_1_1mturk_1_1tasks_1_1wizard__of__wikipedia_1_1worlds_a040aaf5ecfbddec14f321279454f85a8}{split\_tokenize}(self, s):
210         \textcolor{keywordflow}{return} (
211             s.lower()
212             .replace(\textcolor{stringliteral}{'.'}, \textcolor{stringliteral}{' . '})
213             .replace(\textcolor{stringliteral}{'. . .'}, \textcolor{stringliteral}{'...'})
214             .replace(\textcolor{stringliteral}{','}, \textcolor{stringliteral}{' , '})
215             .replace(\textcolor{stringliteral}{';'}, \textcolor{stringliteral}{' ; '})
216             .replace(\textcolor{stringliteral}{':'}, \textcolor{stringliteral}{' : '})
217             .replace(\textcolor{stringliteral}{'!'}, \textcolor{stringliteral}{' ! '})
218             .replace(\textcolor{stringliteral}{'?'}, \textcolor{stringliteral}{' ? '})
219             .split()
220         )
221 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1tasks_1_1vqa__v1_1_1agents_1_1VqaDictionaryAgent_aa4945260a8e445852d28d702346b67e2}\label{classparlai_1_1tasks_1_1vqa__v1_1_1agents_1_1VqaDictionaryAgent_aa4945260a8e445852d28d702346b67e2}} 
\index{parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent@{parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent}!tokenize\+\_\+mcb@{tokenize\+\_\+mcb}}
\index{tokenize\+\_\+mcb@{tokenize\+\_\+mcb}!parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent@{parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent}}
\subsubsection{\texorpdfstring{tokenize\+\_\+mcb()}{tokenize\_mcb()}}
{\footnotesize\ttfamily def parlai.\+tasks.\+vqa\+\_\+v1.\+agents.\+Vqa\+Dictionary\+Agent.\+tokenize\+\_\+mcb (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{s }\end{DoxyParamCaption})}



Definition at line 186 of file agents.\+py.


\begin{DoxyCode}
186     \textcolor{keyword}{def }tokenize\_mcb(self, s):
187         t\_str = s.lower()
188         \textcolor{keywordflow}{for} i \textcolor{keywordflow}{in} [
189             \textcolor{stringliteral}{r'\(\backslash\)?'},
190             \textcolor{stringliteral}{r'\(\backslash\)!'},
191             \textcolor{stringliteral}{r'\(\backslash\)''},
192             \textcolor{stringliteral}{r'\(\backslash\)"'},
193             \textcolor{stringliteral}{r'\(\backslash\)$'},
194             \textcolor{stringliteral}{r'\(\backslash\):'},
195             \textcolor{stringliteral}{r'\(\backslash\)@'},
196             \textcolor{stringliteral}{r'\(\backslash\)('},
197             \textcolor{stringliteral}{r'\(\backslash\))'},
198             \textcolor{stringliteral}{r'\(\backslash\),'},
199             \textcolor{stringliteral}{r'\(\backslash\).'},
200             \textcolor{stringliteral}{r'\(\backslash\);'},
201         ]:
202             t\_str = re.sub(i, \textcolor{stringliteral}{''}, t\_str)
203         \textcolor{keywordflow}{for} i \textcolor{keywordflow}{in} [\textcolor{stringliteral}{r'\(\backslash\)-'}, \textcolor{stringliteral}{r'\(\backslash\)/'}]:
204             t\_str = re.sub(i, \textcolor{stringliteral}{' '}, t\_str)
205         q\_list = re.sub(\textcolor{stringliteral}{r'\(\backslash\)?'}, \textcolor{stringliteral}{''}, t\_str.lower()).split(\textcolor{stringliteral}{' '})
206         q\_list = list(filter(\textcolor{keyword}{lambda} x: len(x) > 0, q\_list))
207         \textcolor{keywordflow}{return} q\_list
208 
\end{DoxyCode}


\subsection{Member Data Documentation}
\mbox{\Hypertarget{classparlai_1_1tasks_1_1vqa__v1_1_1agents_1_1VqaDictionaryAgent_a797678a7e21845c631c4953ba41b6238}\label{classparlai_1_1tasks_1_1vqa__v1_1_1agents_1_1VqaDictionaryAgent_a797678a7e21845c631c4953ba41b6238}} 
\index{parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent@{parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent}!ans2ind@{ans2ind}}
\index{ans2ind@{ans2ind}!parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent@{parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent}}
\subsubsection{\texorpdfstring{ans2ind}{ans2ind}}
{\footnotesize\ttfamily parlai.\+tasks.\+vqa\+\_\+v1.\+agents.\+Vqa\+Dictionary\+Agent.\+ans2ind}



Definition at line 120 of file agents.\+py.

\mbox{\Hypertarget{classparlai_1_1tasks_1_1vqa__v1_1_1agents_1_1VqaDictionaryAgent_afbea42cd76614c991aa453fdf12417d1}\label{classparlai_1_1tasks_1_1vqa__v1_1_1agents_1_1VqaDictionaryAgent_afbea42cd76614c991aa453fdf12417d1}} 
\index{parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent@{parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent}!ans2ques@{ans2ques}}
\index{ans2ques@{ans2ques}!parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent@{parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent}}
\subsubsection{\texorpdfstring{ans2ques}{ans2ques}}
{\footnotesize\ttfamily parlai.\+tasks.\+vqa\+\_\+v1.\+agents.\+Vqa\+Dictionary\+Agent.\+ans2ques}



Definition at line 125 of file agents.\+py.

\mbox{\Hypertarget{classparlai_1_1tasks_1_1vqa__v1_1_1agents_1_1VqaDictionaryAgent_a9329ab559fc0c5df702345f5c96d7001}\label{classparlai_1_1tasks_1_1vqa__v1_1_1agents_1_1VqaDictionaryAgent_a9329ab559fc0c5df702345f5c96d7001}} 
\index{parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent@{parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent}!ansfreq@{ansfreq}}
\index{ansfreq@{ansfreq}!parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent@{parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent}}
\subsubsection{\texorpdfstring{ansfreq}{ansfreq}}
{\footnotesize\ttfamily parlai.\+tasks.\+vqa\+\_\+v1.\+agents.\+Vqa\+Dictionary\+Agent.\+ansfreq}



Definition at line 124 of file agents.\+py.

\mbox{\Hypertarget{classparlai_1_1tasks_1_1vqa__v1_1_1agents_1_1VqaDictionaryAgent_accaadbb9068cda791a1a2068bf54ef92}\label{classparlai_1_1tasks_1_1vqa__v1_1_1agents_1_1VqaDictionaryAgent_accaadbb9068cda791a1a2068bf54ef92}} 
\index{parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent@{parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent}!freq@{freq}}
\index{freq@{freq}!parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent@{parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent}}
\subsubsection{\texorpdfstring{freq}{freq}}
{\footnotesize\ttfamily parlai.\+tasks.\+vqa\+\_\+v1.\+agents.\+Vqa\+Dictionary\+Agent.\+freq}



Definition at line 117 of file agents.\+py.

\mbox{\Hypertarget{classparlai_1_1tasks_1_1vqa__v1_1_1agents_1_1VqaDictionaryAgent_a91f3e9070c98389aa082ac35481da54e}\label{classparlai_1_1tasks_1_1vqa__v1_1_1agents_1_1VqaDictionaryAgent_a91f3e9070c98389aa082ac35481da54e}} 
\index{parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent@{parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent}!id@{id}}
\index{id@{id}!parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent@{parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent}}
\subsubsection{\texorpdfstring{id}{id}}
{\footnotesize\ttfamily parlai.\+tasks.\+vqa\+\_\+v1.\+agents.\+Vqa\+Dictionary\+Agent.\+id}



Definition at line 112 of file agents.\+py.

\mbox{\Hypertarget{classparlai_1_1tasks_1_1vqa__v1_1_1agents_1_1VqaDictionaryAgent_ae11eca250a8c26cdae4f55f8a654d645}\label{classparlai_1_1tasks_1_1vqa__v1_1_1agents_1_1VqaDictionaryAgent_ae11eca250a8c26cdae4f55f8a654d645}} 
\index{parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent@{parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent}!ind2ans@{ind2ans}}
\index{ind2ans@{ind2ans}!parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent@{parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent}}
\subsubsection{\texorpdfstring{ind2ans}{ind2ans}}
{\footnotesize\ttfamily parlai.\+tasks.\+vqa\+\_\+v1.\+agents.\+Vqa\+Dictionary\+Agent.\+ind2ans}



Definition at line 121 of file agents.\+py.

\mbox{\Hypertarget{classparlai_1_1tasks_1_1vqa__v1_1_1agents_1_1VqaDictionaryAgent_aede277ee9bd0898104da59736bc248f4}\label{classparlai_1_1tasks_1_1vqa__v1_1_1agents_1_1VqaDictionaryAgent_aede277ee9bd0898104da59736bc248f4}} 
\index{parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent@{parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent}!ind2tok@{ind2tok}}
\index{ind2tok@{ind2tok}!parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent@{parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent}}
\subsubsection{\texorpdfstring{ind2tok}{ind2tok}}
{\footnotesize\ttfamily parlai.\+tasks.\+vqa\+\_\+v1.\+agents.\+Vqa\+Dictionary\+Agent.\+ind2tok}



Definition at line 119 of file agents.\+py.

\mbox{\Hypertarget{classparlai_1_1tasks_1_1vqa__v1_1_1agents_1_1VqaDictionaryAgent_af308d5a88da2f1dee49ffab0d50f7769}\label{classparlai_1_1tasks_1_1vqa__v1_1_1agents_1_1VqaDictionaryAgent_af308d5a88da2f1dee49ffab0d50f7769}} 
\index{parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent@{parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent}!null\+\_\+token@{null\+\_\+token}}
\index{null\+\_\+token@{null\+\_\+token}!parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent@{parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent}}
\subsubsection{\texorpdfstring{null\+\_\+token}{null\_token}}
{\footnotesize\ttfamily parlai.\+tasks.\+vqa\+\_\+v1.\+agents.\+Vqa\+Dictionary\+Agent.\+null\+\_\+token}



Definition at line 113 of file agents.\+py.

\mbox{\Hypertarget{classparlai_1_1tasks_1_1vqa__v1_1_1agents_1_1VqaDictionaryAgent_a9d23631bb29ba217e0fb870cce60c622}\label{classparlai_1_1tasks_1_1vqa__v1_1_1agents_1_1VqaDictionaryAgent_a9d23631bb29ba217e0fb870cce60c622}} 
\index{parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent@{parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent}!save\+\_\+path@{save\+\_\+path}}
\index{save\+\_\+path@{save\+\_\+path}!parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent@{parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent}}
\subsubsection{\texorpdfstring{save\+\_\+path}{save\_path}}
{\footnotesize\ttfamily parlai.\+tasks.\+vqa\+\_\+v1.\+agents.\+Vqa\+Dictionary\+Agent.\+save\+\_\+path}



Definition at line 156 of file agents.\+py.

\mbox{\Hypertarget{classparlai_1_1tasks_1_1vqa__v1_1_1agents_1_1VqaDictionaryAgent_af2ddcdf09380fd807feeb5ec0cfecc94}\label{classparlai_1_1tasks_1_1vqa__v1_1_1agents_1_1VqaDictionaryAgent_af2ddcdf09380fd807feeb5ec0cfecc94}} 
\index{parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent@{parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent}!tok2ind@{tok2ind}}
\index{tok2ind@{tok2ind}!parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent@{parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent}}
\subsubsection{\texorpdfstring{tok2ind}{tok2ind}}
{\footnotesize\ttfamily parlai.\+tasks.\+vqa\+\_\+v1.\+agents.\+Vqa\+Dictionary\+Agent.\+tok2ind}



Definition at line 118 of file agents.\+py.

\mbox{\Hypertarget{classparlai_1_1tasks_1_1vqa__v1_1_1agents_1_1VqaDictionaryAgent_a96b51ba936dc32fbd8d8d297fb159b48}\label{classparlai_1_1tasks_1_1vqa__v1_1_1agents_1_1VqaDictionaryAgent_a96b51ba936dc32fbd8d8d297fb159b48}} 
\index{parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent@{parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent}!unk\+\_\+token@{unk\+\_\+token}}
\index{unk\+\_\+token@{unk\+\_\+token}!parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent@{parlai\+::tasks\+::vqa\+\_\+v1\+::agents\+::\+Vqa\+Dictionary\+Agent}}
\subsubsection{\texorpdfstring{unk\+\_\+token}{unk\_token}}
{\footnotesize\ttfamily parlai.\+tasks.\+vqa\+\_\+v1.\+agents.\+Vqa\+Dictionary\+Agent.\+unk\+\_\+token}



Definition at line 114 of file agents.\+py.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
parlai/tasks/vqa\+\_\+v1/\hyperlink{parlai_2tasks_2vqa__v1_2agents_8py}{agents.\+py}\end{DoxyCompactItemize}
