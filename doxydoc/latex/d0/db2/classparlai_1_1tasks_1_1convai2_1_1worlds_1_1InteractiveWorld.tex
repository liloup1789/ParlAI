\hypertarget{classparlai_1_1tasks_1_1convai2_1_1worlds_1_1InteractiveWorld}{}\section{parlai.\+tasks.\+convai2.\+worlds.\+Interactive\+World Class Reference}
\label{classparlai_1_1tasks_1_1convai2_1_1worlds_1_1InteractiveWorld}\index{parlai.\+tasks.\+convai2.\+worlds.\+Interactive\+World@{parlai.\+tasks.\+convai2.\+worlds.\+Interactive\+World}}


Inheritance diagram for parlai.\+tasks.\+convai2.\+worlds.\+Interactive\+World\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=218pt]{db/db8/classparlai_1_1tasks_1_1convai2_1_1worlds_1_1InteractiveWorld__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for parlai.\+tasks.\+convai2.\+worlds.\+Interactive\+World\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=218pt]{d9/dc4/classparlai_1_1tasks_1_1convai2_1_1worlds_1_1InteractiveWorld__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{classparlai_1_1tasks_1_1convai2_1_1worlds_1_1InteractiveWorld_a5fb521abcaeae7438ab08feff1bdfccf}{\+\_\+\+\_\+init\+\_\+\+\_\+} (self, \hyperlink{classparlai_1_1core_1_1worlds_1_1World_a3640d92718acd3e6942a28c1ab3678bd}{opt}, \hyperlink{classparlai_1_1core_1_1worlds_1_1DialogPartnerWorld_a04185d1d55ca86c96c796f12f2226fc9}{agents}, shared=None)
\item 
def \hyperlink{classparlai_1_1tasks_1_1convai2_1_1worlds_1_1InteractiveWorld_acac91ca0d5cfc546437874e2f6d801a3}{get\+\_\+new\+\_\+personas} (self)
\item 
def \hyperlink{classparlai_1_1tasks_1_1convai2_1_1worlds_1_1InteractiveWorld_a75559c133b900cdd71389c9760e9a703}{parley} (self)
\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classparlai_1_1tasks_1_1convai2_1_1worlds_1_1InteractiveWorld_a544124310a84b4fb70abda3b41df5323}{personas\+\_\+list}
\item 
\hyperlink{classparlai_1_1tasks_1_1convai2_1_1worlds_1_1InteractiveWorld_a3caeecc4c52e4dce168341bbb1519b03}{cnt}
\item 
\hyperlink{classparlai_1_1tasks_1_1convai2_1_1worlds_1_1InteractiveWorld_a8f91a884b0bcb293335e3b7cb6404a1f}{p2}
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}


Definition at line 50 of file worlds.\+py.



\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classparlai_1_1tasks_1_1convai2_1_1worlds_1_1InteractiveWorld_a5fb521abcaeae7438ab08feff1bdfccf}\label{classparlai_1_1tasks_1_1convai2_1_1worlds_1_1InteractiveWorld_a5fb521abcaeae7438ab08feff1bdfccf}} 
\index{parlai\+::tasks\+::convai2\+::worlds\+::\+Interactive\+World@{parlai\+::tasks\+::convai2\+::worlds\+::\+Interactive\+World}!\+\_\+\+\_\+init\+\_\+\+\_\+@{\+\_\+\+\_\+init\+\_\+\+\_\+}}
\index{\+\_\+\+\_\+init\+\_\+\+\_\+@{\+\_\+\+\_\+init\+\_\+\+\_\+}!parlai\+::tasks\+::convai2\+::worlds\+::\+Interactive\+World@{parlai\+::tasks\+::convai2\+::worlds\+::\+Interactive\+World}}
\subsubsection{\texorpdfstring{\+\_\+\+\_\+init\+\_\+\+\_\+()}{\_\_init\_\_()}}
{\footnotesize\ttfamily def parlai.\+tasks.\+convai2.\+worlds.\+Interactive\+World.\+\_\+\+\_\+init\+\_\+\+\_\+ (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{opt,  }\item[{}]{agents,  }\item[{}]{shared = {\ttfamily None} }\end{DoxyParamCaption})}



Definition at line 51 of file worlds.\+py.


\begin{DoxyCode}
51     \textcolor{keyword}{def }\_\_init\_\_(self, opt, agents, shared=None):
52         super().\_\_init\_\_(opt, agents, shared)
53         self.personas\_list = \hyperlink{namespaceparlai_1_1tasks_1_1convai2_1_1worlds_a61a758b7cb43183397d002f7f203f586}{load\_personas}(self.opt)
54         self.cnt = 0
55 
\end{DoxyCode}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{classparlai_1_1tasks_1_1convai2_1_1worlds_1_1InteractiveWorld_acac91ca0d5cfc546437874e2f6d801a3}\label{classparlai_1_1tasks_1_1convai2_1_1worlds_1_1InteractiveWorld_acac91ca0d5cfc546437874e2f6d801a3}} 
\index{parlai\+::tasks\+::convai2\+::worlds\+::\+Interactive\+World@{parlai\+::tasks\+::convai2\+::worlds\+::\+Interactive\+World}!get\+\_\+new\+\_\+personas@{get\+\_\+new\+\_\+personas}}
\index{get\+\_\+new\+\_\+personas@{get\+\_\+new\+\_\+personas}!parlai\+::tasks\+::convai2\+::worlds\+::\+Interactive\+World@{parlai\+::tasks\+::convai2\+::worlds\+::\+Interactive\+World}}
\subsubsection{\texorpdfstring{get\+\_\+new\+\_\+personas()}{get\_new\_personas()}}
{\footnotesize\ttfamily def parlai.\+tasks.\+convai2.\+worlds.\+Interactive\+World.\+get\+\_\+new\+\_\+personas (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line 56 of file worlds.\+py.


\begin{DoxyCode}
56     \textcolor{keyword}{def }get\_new\_personas(self):
57         random.seed()
58         personas\_1 = random.choice(self.personas\_list)
59         personas\_2 = random.choice(self.personas\_list)
60         \textcolor{keywordflow}{return} personas\_1, personas\_2
61 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1tasks_1_1convai2_1_1worlds_1_1InteractiveWorld_a75559c133b900cdd71389c9760e9a703}\label{classparlai_1_1tasks_1_1convai2_1_1worlds_1_1InteractiveWorld_a75559c133b900cdd71389c9760e9a703}} 
\index{parlai\+::tasks\+::convai2\+::worlds\+::\+Interactive\+World@{parlai\+::tasks\+::convai2\+::worlds\+::\+Interactive\+World}!parley@{parley}}
\index{parley@{parley}!parlai\+::tasks\+::convai2\+::worlds\+::\+Interactive\+World@{parlai\+::tasks\+::convai2\+::worlds\+::\+Interactive\+World}}
\subsubsection{\texorpdfstring{parley()}{parley()}}
{\footnotesize\ttfamily def parlai.\+tasks.\+convai2.\+worlds.\+Interactive\+World.\+parley (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}

\begin{DoxyVerb}Agent 0 goes first.

Alternate between the two agents.
\end{DoxyVerb}
 

Definition at line 62 of file worlds.\+py.


\begin{DoxyCode}
62     \textcolor{keyword}{def }parley(self):
63         \textcolor{stringliteral}{"""}
64 \textcolor{stringliteral}{        Agent 0 goes first.}
65 \textcolor{stringliteral}{}
66 \textcolor{stringliteral}{        Alternate between the two agents.}
67 \textcolor{stringliteral}{        """}
68         \textcolor{keywordflow}{if} self.cnt == 0:
69             self.p1, self.p2 = self.get\_new\_personas()
70 
71         acts = self.acts
72         agents = self.agents
73         \textcolor{keywordflow}{if} self.cnt == 0:
74             \textcolor{comment}{# add the persona on to the first message to agent 0}
75             act = \{\}
76             act[\textcolor{stringliteral}{'text'}] = self.p1
77             act[\textcolor{stringliteral}{'episode\_done'}] = \textcolor{keyword}{False}
78             act[\textcolor{stringliteral}{'id'}] = \textcolor{stringliteral}{'persona'}
79             agents[0].observe(\hyperlink{namespaceparlai_1_1core_1_1worlds_afc3fad603b7bce41dbdc9cdc04a9c794}{validate}(act))
80         act = deepcopy(agents[0].act())
81         \textcolor{keywordflow}{if} self.cnt == 0:
82             \textcolor{comment}{# add the persona on to the first message to agent 1}
83             act.force\_set(\textcolor{stringliteral}{'text'}, self.p2 + act.get(\textcolor{stringliteral}{'text'}, \textcolor{stringliteral}{'hi'}))
84             agents[1].observe(\hyperlink{namespaceparlai_1_1core_1_1worlds_afc3fad603b7bce41dbdc9cdc04a9c794}{validate}(act))
85         \textcolor{keywordflow}{else}:
86             agents[1].observe(\hyperlink{namespaceparlai_1_1core_1_1worlds_afc3fad603b7bce41dbdc9cdc04a9c794}{validate}(act))
87         acts[1] = agents[1].act()
88         agents[0].observe(\hyperlink{namespaceparlai_1_1core_1_1worlds_afc3fad603b7bce41dbdc9cdc04a9c794}{validate}(acts[1]))
89         self.update\_counters()
90         self.cnt += 1
91 
92         \textcolor{keywordflow}{if} act[\textcolor{stringliteral}{'episode\_done'}]:
93             print(\textcolor{stringliteral}{"CHAT DONE "})
94             print(\textcolor{stringliteral}{"\(\backslash\)n... preparing new chat... \(\backslash\)n"})
95             self.cnt = 0
96 
97 
\end{DoxyCode}


\subsection{Member Data Documentation}
\mbox{\Hypertarget{classparlai_1_1tasks_1_1convai2_1_1worlds_1_1InteractiveWorld_a3caeecc4c52e4dce168341bbb1519b03}\label{classparlai_1_1tasks_1_1convai2_1_1worlds_1_1InteractiveWorld_a3caeecc4c52e4dce168341bbb1519b03}} 
\index{parlai\+::tasks\+::convai2\+::worlds\+::\+Interactive\+World@{parlai\+::tasks\+::convai2\+::worlds\+::\+Interactive\+World}!cnt@{cnt}}
\index{cnt@{cnt}!parlai\+::tasks\+::convai2\+::worlds\+::\+Interactive\+World@{parlai\+::tasks\+::convai2\+::worlds\+::\+Interactive\+World}}
\subsubsection{\texorpdfstring{cnt}{cnt}}
{\footnotesize\ttfamily parlai.\+tasks.\+convai2.\+worlds.\+Interactive\+World.\+cnt}



Definition at line 54 of file worlds.\+py.

\mbox{\Hypertarget{classparlai_1_1tasks_1_1convai2_1_1worlds_1_1InteractiveWorld_a8f91a884b0bcb293335e3b7cb6404a1f}\label{classparlai_1_1tasks_1_1convai2_1_1worlds_1_1InteractiveWorld_a8f91a884b0bcb293335e3b7cb6404a1f}} 
\index{parlai\+::tasks\+::convai2\+::worlds\+::\+Interactive\+World@{parlai\+::tasks\+::convai2\+::worlds\+::\+Interactive\+World}!p2@{p2}}
\index{p2@{p2}!parlai\+::tasks\+::convai2\+::worlds\+::\+Interactive\+World@{parlai\+::tasks\+::convai2\+::worlds\+::\+Interactive\+World}}
\subsubsection{\texorpdfstring{p2}{p2}}
{\footnotesize\ttfamily parlai.\+tasks.\+convai2.\+worlds.\+Interactive\+World.\+p2}



Definition at line 69 of file worlds.\+py.

\mbox{\Hypertarget{classparlai_1_1tasks_1_1convai2_1_1worlds_1_1InteractiveWorld_a544124310a84b4fb70abda3b41df5323}\label{classparlai_1_1tasks_1_1convai2_1_1worlds_1_1InteractiveWorld_a544124310a84b4fb70abda3b41df5323}} 
\index{parlai\+::tasks\+::convai2\+::worlds\+::\+Interactive\+World@{parlai\+::tasks\+::convai2\+::worlds\+::\+Interactive\+World}!personas\+\_\+list@{personas\+\_\+list}}
\index{personas\+\_\+list@{personas\+\_\+list}!parlai\+::tasks\+::convai2\+::worlds\+::\+Interactive\+World@{parlai\+::tasks\+::convai2\+::worlds\+::\+Interactive\+World}}
\subsubsection{\texorpdfstring{personas\+\_\+list}{personas\_list}}
{\footnotesize\ttfamily parlai.\+tasks.\+convai2.\+worlds.\+Interactive\+World.\+personas\+\_\+list}



Definition at line 53 of file worlds.\+py.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
parlai/tasks/convai2/\hyperlink{parlai_2tasks_2convai2_2worlds_8py}{worlds.\+py}\end{DoxyCompactItemize}
