\hypertarget{classparlai_1_1agents_1_1drqa_1_1drqa_1_1DrqaAgent}{}\section{parlai.\+agents.\+drqa.\+drqa.\+Drqa\+Agent Class Reference}
\label{classparlai_1_1agents_1_1drqa_1_1drqa_1_1DrqaAgent}\index{parlai.\+agents.\+drqa.\+drqa.\+Drqa\+Agent@{parlai.\+agents.\+drqa.\+drqa.\+Drqa\+Agent}}


Inheritance diagram for parlai.\+agents.\+drqa.\+drqa.\+Drqa\+Agent\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=202pt]{df/d2e/classparlai_1_1agents_1_1drqa_1_1drqa_1_1DrqaAgent__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for parlai.\+agents.\+drqa.\+drqa.\+Drqa\+Agent\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=202pt]{dc/deb/classparlai_1_1agents_1_1drqa_1_1drqa_1_1DrqaAgent__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{classparlai_1_1agents_1_1drqa_1_1drqa_1_1DrqaAgent_ab4fc521d734a88ec24fcc8ebb478fd11}{\+\_\+\+\_\+init\+\_\+\+\_\+} (self, \hyperlink{classparlai_1_1core_1_1agents_1_1Agent_ab3b45d2754244608c75d4068b90cd051}{opt}, shared=None)
\item 
def \hyperlink{classparlai_1_1agents_1_1drqa_1_1drqa_1_1DrqaAgent_a7346d6aa37ecb54779c9cf67a0ffef39}{share} (self)
\item 
def \hyperlink{classparlai_1_1agents_1_1drqa_1_1drqa_1_1DrqaAgent_a17be110f5f7cba058238fae60a420507}{observe} (self, \hyperlink{classparlai_1_1agents_1_1drqa_1_1drqa_1_1DrqaAgent_a31b47287b8b175d851b897aef7837990}{observation})
\item 
def \hyperlink{classparlai_1_1agents_1_1drqa_1_1drqa_1_1DrqaAgent_a2eac2d9d7425e7cbf19b06e2433205ff}{act} (self)
\item 
def \hyperlink{classparlai_1_1agents_1_1drqa_1_1drqa_1_1DrqaAgent_a5c2f02e9c1ddce46df0d216947227395}{batch\+\_\+act} (self, observations)
\item 
def \hyperlink{classparlai_1_1agents_1_1drqa_1_1drqa_1_1DrqaAgent_a654906588f91d21110921ad2ba498c95}{save} (self, fname=None)
\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{classparlai_1_1agents_1_1drqa_1_1drqa_1_1DrqaAgent_a3469159780c52ff1a4d4309dddf250ff}{add\+\_\+cmdline\+\_\+args} (argparser)
\item 
def \hyperlink{classparlai_1_1agents_1_1drqa_1_1drqa_1_1DrqaAgent_a1d925f46a6b35d1f10cb033a1184841d}{dictionary\+\_\+class} ()
\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classparlai_1_1agents_1_1drqa_1_1drqa_1_1DrqaAgent_a313e13a6e6d878e5e37c5d27d8daed78}{episode\+\_\+done}
\item 
\hyperlink{classparlai_1_1agents_1_1drqa_1_1drqa_1_1DrqaAgent_aa49b71f40d0e4fb91062cab736f49146}{word\+\_\+dict}
\item 
\hyperlink{classparlai_1_1agents_1_1drqa_1_1drqa_1_1DrqaAgent_a4b32188969b359bb5b9e28766388a26e}{model}
\item 
\hyperlink{classparlai_1_1agents_1_1drqa_1_1drqa_1_1DrqaAgent_aad3576cea9fa96bdb5bf3d9a6209c93c}{feature\+\_\+dict}
\item 
\hyperlink{classparlai_1_1agents_1_1drqa_1_1drqa_1_1DrqaAgent_ac7b97d4092ac9dd221214832416b2002}{id}
\item 
\hyperlink{classparlai_1_1agents_1_1drqa_1_1drqa_1_1DrqaAgent_ac578c65b199b2d4115ee674fc93bb6a6}{n\+\_\+examples}
\item 
\hyperlink{classparlai_1_1agents_1_1drqa_1_1drqa_1_1DrqaAgent_a425092eeec6b948bcd9ed4765f6a4afc}{state\+\_\+dict}
\item 
\hyperlink{classparlai_1_1agents_1_1drqa_1_1drqa_1_1DrqaAgent_a31b47287b8b175d851b897aef7837990}{observation}
\end{DoxyCompactItemize}


\subsection{Detailed Description}


Definition at line 105 of file drqa.\+py.



\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classparlai_1_1agents_1_1drqa_1_1drqa_1_1DrqaAgent_ab4fc521d734a88ec24fcc8ebb478fd11}\label{classparlai_1_1agents_1_1drqa_1_1drqa_1_1DrqaAgent_ab4fc521d734a88ec24fcc8ebb478fd11}} 
\index{parlai\+::agents\+::drqa\+::drqa\+::\+Drqa\+Agent@{parlai\+::agents\+::drqa\+::drqa\+::\+Drqa\+Agent}!\+\_\+\+\_\+init\+\_\+\+\_\+@{\+\_\+\+\_\+init\+\_\+\+\_\+}}
\index{\+\_\+\+\_\+init\+\_\+\+\_\+@{\+\_\+\+\_\+init\+\_\+\+\_\+}!parlai\+::agents\+::drqa\+::drqa\+::\+Drqa\+Agent@{parlai\+::agents\+::drqa\+::drqa\+::\+Drqa\+Agent}}
\subsubsection{\texorpdfstring{\+\_\+\+\_\+init\+\_\+\+\_\+()}{\_\_init\_\_()}}
{\footnotesize\ttfamily def parlai.\+agents.\+drqa.\+drqa.\+Drqa\+Agent.\+\_\+\+\_\+init\+\_\+\+\_\+ (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{opt,  }\item[{}]{shared = {\ttfamily None} }\end{DoxyParamCaption})}



Definition at line 115 of file drqa.\+py.


\begin{DoxyCode}
115     \textcolor{keyword}{def }\_\_init\_\_(self, opt, shared=None):
116         \textcolor{keywordflow}{if} opt.get(\textcolor{stringliteral}{'numthreads'}, 1) > 1:
117             \textcolor{keywordflow}{raise} RuntimeError(\textcolor{stringliteral}{"numthreads > 1 not supported for this model."})
118         super().\_\_init\_\_(opt, shared)
119 
120         \textcolor{comment}{# All agents keep track of the episode (for multiple questions)}
121         self.episode\_done = \textcolor{keyword}{True}
122 
123         self.opt[\textcolor{stringliteral}{'cuda'}] = \textcolor{keywordflow}{not} self.opt[\textcolor{stringliteral}{'no\_cuda'}] \textcolor{keywordflow}{and} torch.cuda.is\_available()
124 
125         \textcolor{keywordflow}{if} shared \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}:
126             \textcolor{comment}{# model has already been set up}
127             self.word\_dict = shared[\textcolor{stringliteral}{'word\_dict'}]
128             self.model = shared[\textcolor{stringliteral}{'model'}]
129             self.feature\_dict = shared[\textcolor{stringliteral}{'feature\_dict'}]
130         \textcolor{keywordflow}{else}:
131             \textcolor{comment}{# set up model}
132             self.word\_dict = DrqaAgent.dictionary\_class()(opt)
133             \textcolor{keywordflow}{if} self.opt.get(\textcolor{stringliteral}{'model\_file'}) \textcolor{keywordflow}{and} os.path.isfile(opt[\textcolor{stringliteral}{'model\_file'}]):
134                 self.\_init\_from\_saved(opt[\textcolor{stringliteral}{'model\_file'}])
135             \textcolor{keywordflow}{else}:
136                 \textcolor{keywordflow}{if} self.opt.get(\textcolor{stringliteral}{'init\_model'}):
137                     self.\_init\_from\_saved(opt[\textcolor{stringliteral}{'init\_model'}])
138                 \textcolor{keywordflow}{else}:
139                     self.\_init\_from\_scratch()
140             \textcolor{keywordflow}{if} self.opt[\textcolor{stringliteral}{'cuda'}]:
141                 print(\textcolor{stringliteral}{'[ Using CUDA (GPU %d) ]'} % opt[\textcolor{stringliteral}{'gpu'}])
142                 torch.cuda.set\_device(opt[\textcolor{stringliteral}{'gpu'}])
143                 self.model.cuda()
144 
145         \textcolor{comment}{# Set up params/logging/dicts}
146         self.id = self.\_\_class\_\_.\_\_name\_\_
147         config.set\_defaults(self.opt)
148         self.n\_examples = 0
149 
\end{DoxyCode}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{classparlai_1_1agents_1_1drqa_1_1drqa_1_1DrqaAgent_a2eac2d9d7425e7cbf19b06e2433205ff}\label{classparlai_1_1agents_1_1drqa_1_1drqa_1_1DrqaAgent_a2eac2d9d7425e7cbf19b06e2433205ff}} 
\index{parlai\+::agents\+::drqa\+::drqa\+::\+Drqa\+Agent@{parlai\+::agents\+::drqa\+::drqa\+::\+Drqa\+Agent}!act@{act}}
\index{act@{act}!parlai\+::agents\+::drqa\+::drqa\+::\+Drqa\+Agent@{parlai\+::agents\+::drqa\+::drqa\+::\+Drqa\+Agent}}
\subsubsection{\texorpdfstring{act()}{act()}}
{\footnotesize\ttfamily def parlai.\+agents.\+drqa.\+drqa.\+Drqa\+Agent.\+act (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}

\begin{DoxyVerb}Update or predict on a single example (batchsize = 1).\end{DoxyVerb}
 

Definition at line 190 of file drqa.\+py.


\begin{DoxyCode}
190     \textcolor{keyword}{def }act(self):
191         \textcolor{stringliteral}{"""Update or predict on a single example (batchsize = 1)."""}
192         reply = \{\textcolor{stringliteral}{'id'}: self.getID()\}
193 
194         ex = self.\_build\_ex(self.observation)
195         \textcolor{keywordflow}{if} ex \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
196             \textcolor{keywordflow}{return} reply
197         batch = \hyperlink{namespaceparlai_1_1agents_1_1drqa_1_1utils_aca22dd97c5b6dcda2a7479c1cb22ef1e}{batchify}(
198             [ex], null=self.word\_dict[self.word\_dict.null\_token], cuda=self.opt[\textcolor{stringliteral}{'cuda'}]
199         )
200 
201         \textcolor{comment}{# Either train or predict}
202         \textcolor{keywordflow}{if} \textcolor{stringliteral}{'labels'} \textcolor{keywordflow}{in} self.observation:
203             self.n\_examples += 1
204             self.model.update(batch)
205         \textcolor{keywordflow}{else}:
206             prediction, score = self.model.predict(batch)
207             reply[\textcolor{stringliteral}{'text'}] = prediction[0]
208             reply[\textcolor{stringliteral}{'text\_candidates'}] = [prediction[0]]
209             reply[\textcolor{stringliteral}{'candidate\_scores'}] = [score[0]]
210 
211         reply[\textcolor{stringliteral}{'metrics'}] = \{\textcolor{stringliteral}{'train\_loss'}: self.model.train\_loss.avg\}
212         \textcolor{keywordflow}{return} reply
213 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1agents_1_1drqa_1_1drqa_1_1DrqaAgent_a3469159780c52ff1a4d4309dddf250ff}\label{classparlai_1_1agents_1_1drqa_1_1drqa_1_1DrqaAgent_a3469159780c52ff1a4d4309dddf250ff}} 
\index{parlai\+::agents\+::drqa\+::drqa\+::\+Drqa\+Agent@{parlai\+::agents\+::drqa\+::drqa\+::\+Drqa\+Agent}!add\+\_\+cmdline\+\_\+args@{add\+\_\+cmdline\+\_\+args}}
\index{add\+\_\+cmdline\+\_\+args@{add\+\_\+cmdline\+\_\+args}!parlai\+::agents\+::drqa\+::drqa\+::\+Drqa\+Agent@{parlai\+::agents\+::drqa\+::drqa\+::\+Drqa\+Agent}}
\subsubsection{\texorpdfstring{add\+\_\+cmdline\+\_\+args()}{add\_cmdline\_args()}}
{\footnotesize\ttfamily def parlai.\+agents.\+drqa.\+drqa.\+Drqa\+Agent.\+add\+\_\+cmdline\+\_\+args (\begin{DoxyParamCaption}\item[{}]{argparser }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 107 of file drqa.\+py.


\begin{DoxyCode}
107     \textcolor{keyword}{def }\hyperlink{namespaceparlai_1_1agents_1_1drqa_1_1config_a62fdd5554f1da6be0cba185271058320}{add\_cmdline\_args}(argparser):
108         config.add\_cmdline\_args(argparser)
109         DrqaAgent.dictionary\_class().\hyperlink{namespaceparlai_1_1agents_1_1drqa_1_1config_a62fdd5554f1da6be0cba185271058320}{add\_cmdline\_args}(argparser)
110 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1agents_1_1drqa_1_1drqa_1_1DrqaAgent_a5c2f02e9c1ddce46df0d216947227395}\label{classparlai_1_1agents_1_1drqa_1_1drqa_1_1DrqaAgent_a5c2f02e9c1ddce46df0d216947227395}} 
\index{parlai\+::agents\+::drqa\+::drqa\+::\+Drqa\+Agent@{parlai\+::agents\+::drqa\+::drqa\+::\+Drqa\+Agent}!batch\+\_\+act@{batch\+\_\+act}}
\index{batch\+\_\+act@{batch\+\_\+act}!parlai\+::agents\+::drqa\+::drqa\+::\+Drqa\+Agent@{parlai\+::agents\+::drqa\+::drqa\+::\+Drqa\+Agent}}
\subsubsection{\texorpdfstring{batch\+\_\+act()}{batch\_act()}}
{\footnotesize\ttfamily def parlai.\+agents.\+drqa.\+drqa.\+Drqa\+Agent.\+batch\+\_\+act (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{observations }\end{DoxyParamCaption})}

\begin{DoxyVerb}Update or predict on a batch of examples.

More efficient than act().
\end{DoxyVerb}
 

Definition at line 214 of file drqa.\+py.


\begin{DoxyCode}
214     \textcolor{keyword}{def }batch\_act(self, observations):
215         \textcolor{stringliteral}{"""}
216 \textcolor{stringliteral}{        Update or predict on a batch of examples.}
217 \textcolor{stringliteral}{}
218 \textcolor{stringliteral}{        More efficient than act().}
219 \textcolor{stringliteral}{        """}
220         batchsize = len(observations)
221         batch\_reply = [\{\textcolor{stringliteral}{'id'}: self.getID()\} \textcolor{keywordflow}{for} \_ \textcolor{keywordflow}{in} range(batchsize)]
222 
223         \textcolor{comment}{# Some examples will be None (no answer found). Filter them.}
224         examples = [self.\_build\_ex(obs) \textcolor{keywordflow}{for} obs \textcolor{keywordflow}{in} observations]
225         valid\_inds = [i \textcolor{keywordflow}{for} i \textcolor{keywordflow}{in} range(batchsize) \textcolor{keywordflow}{if} examples[i] \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}]
226         examples = [ex \textcolor{keywordflow}{for} ex \textcolor{keywordflow}{in} examples \textcolor{keywordflow}{if} ex \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}]
227 
228         \textcolor{comment}{# If all examples are invalid, return an empty batch.}
229         \textcolor{keywordflow}{if} len(examples) == 0:
230             \textcolor{keywordflow}{return} batch\_reply
231 
232         \textcolor{comment}{# Else, use what we have (hopefully everything).}
233         batch = \hyperlink{namespaceparlai_1_1agents_1_1drqa_1_1utils_aca22dd97c5b6dcda2a7479c1cb22ef1e}{batchify}(
234             examples,
235             null=self.word\_dict[self.word\_dict.null\_token],
236             cuda=self.opt[\textcolor{stringliteral}{'cuda'}],
237         )
238 
239         \textcolor{comment}{# Either train or predict}
240         \textcolor{keywordflow}{if} \textcolor{stringliteral}{'labels'} \textcolor{keywordflow}{in} observations[0]:
241             \textcolor{keywordflow}{try}:
242                 self.n\_examples += len(examples)
243                 self.model.update(batch)
244             \textcolor{keywordflow}{except} RuntimeError \textcolor{keyword}{as} e:
245                 \textcolor{comment}{# catch out of memory exceptions during fwd/bck (skip batch)}
246                 \textcolor{keywordflow}{if} \textcolor{stringliteral}{'out of memory'} \textcolor{keywordflow}{in} \hyperlink{namespacegenerate__task__READMEs_a5b88452ffb87b78c8c85ececebafc09f}{str}(e):
247                     print(
248                         \textcolor{stringliteral}{'| WARNING: ran out of memory, skipping batch. '}
249                         \textcolor{stringliteral}{'if this happens frequently, decrease batchsize or '}
250                         \textcolor{stringliteral}{'truncate the inputs to the model.'}
251                     )
252                     batch\_reply[0][\textcolor{stringliteral}{'metrics'}] = \{\textcolor{stringliteral}{'skipped\_batches'}: 1\}
253                     \textcolor{keywordflow}{return} batch\_reply
254                 \textcolor{keywordflow}{else}:
255                     \textcolor{keywordflow}{raise} e
256 
257         \textcolor{keywordflow}{else}:
258             predictions, scores = self.model.predict(batch)
259             \textcolor{keywordflow}{for} i \textcolor{keywordflow}{in} range(len(predictions)):
260                 batch\_reply[valid\_inds[i]][\textcolor{stringliteral}{'text'}] = predictions[i]
261                 batch\_reply[valid\_inds[i]][\textcolor{stringliteral}{'text\_candidates'}] = [predictions[i]]
262                 batch\_reply[valid\_inds[i]][\textcolor{stringliteral}{'candidate\_scores'}] = [scores[i]]
263 
264         batch\_reply[0][\textcolor{stringliteral}{'metrics'}] = \{
265             \textcolor{stringliteral}{'train\_loss'}: self.model.train\_loss.avg * batchsize
266         \}
267         \textcolor{keywordflow}{return} batch\_reply
268 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1agents_1_1drqa_1_1drqa_1_1DrqaAgent_a1d925f46a6b35d1f10cb033a1184841d}\label{classparlai_1_1agents_1_1drqa_1_1drqa_1_1DrqaAgent_a1d925f46a6b35d1f10cb033a1184841d}} 
\index{parlai\+::agents\+::drqa\+::drqa\+::\+Drqa\+Agent@{parlai\+::agents\+::drqa\+::drqa\+::\+Drqa\+Agent}!dictionary\+\_\+class@{dictionary\+\_\+class}}
\index{dictionary\+\_\+class@{dictionary\+\_\+class}!parlai\+::agents\+::drqa\+::drqa\+::\+Drqa\+Agent@{parlai\+::agents\+::drqa\+::drqa\+::\+Drqa\+Agent}}
\subsubsection{\texorpdfstring{dictionary\+\_\+class()}{dictionary\_class()}}
{\footnotesize\ttfamily def parlai.\+agents.\+drqa.\+drqa.\+Drqa\+Agent.\+dictionary\+\_\+class (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 112 of file drqa.\+py.


\begin{DoxyCode}
112     \textcolor{keyword}{def }dictionary\_class():
113         \textcolor{keywordflow}{return} SimpleDictionaryAgent
114 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1agents_1_1drqa_1_1drqa_1_1DrqaAgent_a17be110f5f7cba058238fae60a420507}\label{classparlai_1_1agents_1_1drqa_1_1drqa_1_1DrqaAgent_a17be110f5f7cba058238fae60a420507}} 
\index{parlai\+::agents\+::drqa\+::drqa\+::\+Drqa\+Agent@{parlai\+::agents\+::drqa\+::drqa\+::\+Drqa\+Agent}!observe@{observe}}
\index{observe@{observe}!parlai\+::agents\+::drqa\+::drqa\+::\+Drqa\+Agent@{parlai\+::agents\+::drqa\+::drqa\+::\+Drqa\+Agent}}
\subsubsection{\texorpdfstring{observe()}{observe()}}
{\footnotesize\ttfamily def parlai.\+agents.\+drqa.\+drqa.\+Drqa\+Agent.\+observe (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{observation }\end{DoxyParamCaption})}



Definition at line 179 of file drqa.\+py.


\begin{DoxyCode}
179     \textcolor{keyword}{def }observe(self, observation):
180         \textcolor{comment}{# shallow copy observation (deep copy can be expensive)}
181         observation = observation.copy()
182         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} self.episode\_done \textcolor{keywordflow}{and} \textcolor{keywordflow}{not} observation.get(\textcolor{stringliteral}{'preprocessed'}, \textcolor{keyword}{False}):
183             dialogue = self.observation[\textcolor{stringliteral}{'text'}].split(\textcolor{stringliteral}{'\(\backslash\)n'})[:-1]
184             dialogue.extend(observation[\textcolor{stringliteral}{'text'}].split(\textcolor{stringliteral}{'\(\backslash\)n'}))
185             observation[\textcolor{stringliteral}{'text'}] = \textcolor{stringliteral}{'\(\backslash\)n'}.join(dialogue)
186         self.observation = observation
187         self.episode\_done = observation[\textcolor{stringliteral}{'episode\_done'}]
188         \textcolor{keywordflow}{return} observation
189 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1agents_1_1drqa_1_1drqa_1_1DrqaAgent_a654906588f91d21110921ad2ba498c95}\label{classparlai_1_1agents_1_1drqa_1_1drqa_1_1DrqaAgent_a654906588f91d21110921ad2ba498c95}} 
\index{parlai\+::agents\+::drqa\+::drqa\+::\+Drqa\+Agent@{parlai\+::agents\+::drqa\+::drqa\+::\+Drqa\+Agent}!save@{save}}
\index{save@{save}!parlai\+::agents\+::drqa\+::drqa\+::\+Drqa\+Agent@{parlai\+::agents\+::drqa\+::drqa\+::\+Drqa\+Agent}}
\subsubsection{\texorpdfstring{save()}{save()}}
{\footnotesize\ttfamily def parlai.\+agents.\+drqa.\+drqa.\+Drqa\+Agent.\+save (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{fname = {\ttfamily None} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Save the parameters of the agent to a file.
\end{DoxyVerb}
 

Definition at line 269 of file drqa.\+py.


\begin{DoxyCode}
269     \textcolor{keyword}{def }save(self, fname=None):
270         \textcolor{stringliteral}{"""}
271 \textcolor{stringliteral}{        Save the parameters of the agent to a file.}
272 \textcolor{stringliteral}{        """}
273         fname = self.opt.get(\textcolor{stringliteral}{'model\_file'}, \textcolor{keywordtype}{None}) \textcolor{keywordflow}{if} fname \textcolor{keywordflow}{is} \textcolor{keywordtype}{None} \textcolor{keywordflow}{else} fname
274         \textcolor{keywordflow}{if} fname:
275             print(\textcolor{stringliteral}{"[ saving model: "} + fname + \textcolor{stringliteral}{" ]"})
276             self.opt[\textcolor{stringliteral}{'trained'}] = \textcolor{keyword}{True}
277             self.model.save(fname)
278             \textcolor{comment}{# save opt file}
279             with open(fname + \textcolor{stringliteral}{'.opt'}, \textcolor{stringliteral}{'w'}) \textcolor{keyword}{as} handle:
280                 json.dump(self.opt, handle)
281 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1agents_1_1drqa_1_1drqa_1_1DrqaAgent_a7346d6aa37ecb54779c9cf67a0ffef39}\label{classparlai_1_1agents_1_1drqa_1_1drqa_1_1DrqaAgent_a7346d6aa37ecb54779c9cf67a0ffef39}} 
\index{parlai\+::agents\+::drqa\+::drqa\+::\+Drqa\+Agent@{parlai\+::agents\+::drqa\+::drqa\+::\+Drqa\+Agent}!share@{share}}
\index{share@{share}!parlai\+::agents\+::drqa\+::drqa\+::\+Drqa\+Agent@{parlai\+::agents\+::drqa\+::drqa\+::\+Drqa\+Agent}}
\subsubsection{\texorpdfstring{share()}{share()}}
{\footnotesize\ttfamily def parlai.\+agents.\+drqa.\+drqa.\+Drqa\+Agent.\+share (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line 172 of file drqa.\+py.


\begin{DoxyCode}
172     \textcolor{keyword}{def }share(self):
173         shared = super().share()
174         shared[\textcolor{stringliteral}{'word\_dict'}] = self.word\_dict
175         shared[\textcolor{stringliteral}{'model'}] = self.model
176         shared[\textcolor{stringliteral}{'feature\_dict'}] = self.feature\_dict
177         \textcolor{keywordflow}{return} shared
178 
\end{DoxyCode}


\subsection{Member Data Documentation}
\mbox{\Hypertarget{classparlai_1_1agents_1_1drqa_1_1drqa_1_1DrqaAgent_a313e13a6e6d878e5e37c5d27d8daed78}\label{classparlai_1_1agents_1_1drqa_1_1drqa_1_1DrqaAgent_a313e13a6e6d878e5e37c5d27d8daed78}} 
\index{parlai\+::agents\+::drqa\+::drqa\+::\+Drqa\+Agent@{parlai\+::agents\+::drqa\+::drqa\+::\+Drqa\+Agent}!episode\+\_\+done@{episode\+\_\+done}}
\index{episode\+\_\+done@{episode\+\_\+done}!parlai\+::agents\+::drqa\+::drqa\+::\+Drqa\+Agent@{parlai\+::agents\+::drqa\+::drqa\+::\+Drqa\+Agent}}
\subsubsection{\texorpdfstring{episode\+\_\+done}{episode\_done}}
{\footnotesize\ttfamily parlai.\+agents.\+drqa.\+drqa.\+Drqa\+Agent.\+episode\+\_\+done}



Definition at line 121 of file drqa.\+py.

\mbox{\Hypertarget{classparlai_1_1agents_1_1drqa_1_1drqa_1_1DrqaAgent_aad3576cea9fa96bdb5bf3d9a6209c93c}\label{classparlai_1_1agents_1_1drqa_1_1drqa_1_1DrqaAgent_aad3576cea9fa96bdb5bf3d9a6209c93c}} 
\index{parlai\+::agents\+::drqa\+::drqa\+::\+Drqa\+Agent@{parlai\+::agents\+::drqa\+::drqa\+::\+Drqa\+Agent}!feature\+\_\+dict@{feature\+\_\+dict}}
\index{feature\+\_\+dict@{feature\+\_\+dict}!parlai\+::agents\+::drqa\+::drqa\+::\+Drqa\+Agent@{parlai\+::agents\+::drqa\+::drqa\+::\+Drqa\+Agent}}
\subsubsection{\texorpdfstring{feature\+\_\+dict}{feature\_dict}}
{\footnotesize\ttfamily parlai.\+agents.\+drqa.\+drqa.\+Drqa\+Agent.\+feature\+\_\+dict}



Definition at line 129 of file drqa.\+py.

\mbox{\Hypertarget{classparlai_1_1agents_1_1drqa_1_1drqa_1_1DrqaAgent_ac7b97d4092ac9dd221214832416b2002}\label{classparlai_1_1agents_1_1drqa_1_1drqa_1_1DrqaAgent_ac7b97d4092ac9dd221214832416b2002}} 
\index{parlai\+::agents\+::drqa\+::drqa\+::\+Drqa\+Agent@{parlai\+::agents\+::drqa\+::drqa\+::\+Drqa\+Agent}!id@{id}}
\index{id@{id}!parlai\+::agents\+::drqa\+::drqa\+::\+Drqa\+Agent@{parlai\+::agents\+::drqa\+::drqa\+::\+Drqa\+Agent}}
\subsubsection{\texorpdfstring{id}{id}}
{\footnotesize\ttfamily parlai.\+agents.\+drqa.\+drqa.\+Drqa\+Agent.\+id}



Definition at line 146 of file drqa.\+py.

\mbox{\Hypertarget{classparlai_1_1agents_1_1drqa_1_1drqa_1_1DrqaAgent_a4b32188969b359bb5b9e28766388a26e}\label{classparlai_1_1agents_1_1drqa_1_1drqa_1_1DrqaAgent_a4b32188969b359bb5b9e28766388a26e}} 
\index{parlai\+::agents\+::drqa\+::drqa\+::\+Drqa\+Agent@{parlai\+::agents\+::drqa\+::drqa\+::\+Drqa\+Agent}!model@{model}}
\index{model@{model}!parlai\+::agents\+::drqa\+::drqa\+::\+Drqa\+Agent@{parlai\+::agents\+::drqa\+::drqa\+::\+Drqa\+Agent}}
\subsubsection{\texorpdfstring{model}{model}}
{\footnotesize\ttfamily parlai.\+agents.\+drqa.\+drqa.\+Drqa\+Agent.\+model}



Definition at line 128 of file drqa.\+py.

\mbox{\Hypertarget{classparlai_1_1agents_1_1drqa_1_1drqa_1_1DrqaAgent_ac578c65b199b2d4115ee674fc93bb6a6}\label{classparlai_1_1agents_1_1drqa_1_1drqa_1_1DrqaAgent_ac578c65b199b2d4115ee674fc93bb6a6}} 
\index{parlai\+::agents\+::drqa\+::drqa\+::\+Drqa\+Agent@{parlai\+::agents\+::drqa\+::drqa\+::\+Drqa\+Agent}!n\+\_\+examples@{n\+\_\+examples}}
\index{n\+\_\+examples@{n\+\_\+examples}!parlai\+::agents\+::drqa\+::drqa\+::\+Drqa\+Agent@{parlai\+::agents\+::drqa\+::drqa\+::\+Drqa\+Agent}}
\subsubsection{\texorpdfstring{n\+\_\+examples}{n\_examples}}
{\footnotesize\ttfamily parlai.\+agents.\+drqa.\+drqa.\+Drqa\+Agent.\+n\+\_\+examples}



Definition at line 148 of file drqa.\+py.

\mbox{\Hypertarget{classparlai_1_1agents_1_1drqa_1_1drqa_1_1DrqaAgent_a31b47287b8b175d851b897aef7837990}\label{classparlai_1_1agents_1_1drqa_1_1drqa_1_1DrqaAgent_a31b47287b8b175d851b897aef7837990}} 
\index{parlai\+::agents\+::drqa\+::drqa\+::\+Drqa\+Agent@{parlai\+::agents\+::drqa\+::drqa\+::\+Drqa\+Agent}!observation@{observation}}
\index{observation@{observation}!parlai\+::agents\+::drqa\+::drqa\+::\+Drqa\+Agent@{parlai\+::agents\+::drqa\+::drqa\+::\+Drqa\+Agent}}
\subsubsection{\texorpdfstring{observation}{observation}}
{\footnotesize\ttfamily parlai.\+agents.\+drqa.\+drqa.\+Drqa\+Agent.\+observation}



Definition at line 186 of file drqa.\+py.

\mbox{\Hypertarget{classparlai_1_1agents_1_1drqa_1_1drqa_1_1DrqaAgent_a425092eeec6b948bcd9ed4765f6a4afc}\label{classparlai_1_1agents_1_1drqa_1_1drqa_1_1DrqaAgent_a425092eeec6b948bcd9ed4765f6a4afc}} 
\index{parlai\+::agents\+::drqa\+::drqa\+::\+Drqa\+Agent@{parlai\+::agents\+::drqa\+::drqa\+::\+Drqa\+Agent}!state\+\_\+dict@{state\+\_\+dict}}
\index{state\+\_\+dict@{state\+\_\+dict}!parlai\+::agents\+::drqa\+::drqa\+::\+Drqa\+Agent@{parlai\+::agents\+::drqa\+::drqa\+::\+Drqa\+Agent}}
\subsubsection{\texorpdfstring{state\+\_\+dict}{state\_dict}}
{\footnotesize\ttfamily parlai.\+agents.\+drqa.\+drqa.\+Drqa\+Agent.\+state\+\_\+dict}



Definition at line 166 of file drqa.\+py.

\mbox{\Hypertarget{classparlai_1_1agents_1_1drqa_1_1drqa_1_1DrqaAgent_aa49b71f40d0e4fb91062cab736f49146}\label{classparlai_1_1agents_1_1drqa_1_1drqa_1_1DrqaAgent_aa49b71f40d0e4fb91062cab736f49146}} 
\index{parlai\+::agents\+::drqa\+::drqa\+::\+Drqa\+Agent@{parlai\+::agents\+::drqa\+::drqa\+::\+Drqa\+Agent}!word\+\_\+dict@{word\+\_\+dict}}
\index{word\+\_\+dict@{word\+\_\+dict}!parlai\+::agents\+::drqa\+::drqa\+::\+Drqa\+Agent@{parlai\+::agents\+::drqa\+::drqa\+::\+Drqa\+Agent}}
\subsubsection{\texorpdfstring{word\+\_\+dict}{word\_dict}}
{\footnotesize\ttfamily parlai.\+agents.\+drqa.\+drqa.\+Drqa\+Agent.\+word\+\_\+dict}



Definition at line 127 of file drqa.\+py.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
parlai/agents/drqa/\hyperlink{drqa_8py}{drqa.\+py}\end{DoxyCompactItemize}
