\hypertarget{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager}{}\section{parlai.\+chat\+\_\+service.\+core.\+chat\+\_\+service\+\_\+manager.\+Chat\+Service\+Manager Class Reference}
\label{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager}\index{parlai.\+chat\+\_\+service.\+core.\+chat\+\_\+service\+\_\+manager.\+Chat\+Service\+Manager@{parlai.\+chat\+\_\+service.\+core.\+chat\+\_\+service\+\_\+manager.\+Chat\+Service\+Manager}}


Inheritance diagram for parlai.\+chat\+\_\+service.\+core.\+chat\+\_\+service\+\_\+manager.\+Chat\+Service\+Manager\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=319pt]{d6/d02/classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for parlai.\+chat\+\_\+service.\+core.\+chat\+\_\+service\+\_\+manager.\+Chat\+Service\+Manager\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=271pt]{d4/d29/classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager__coll__graph}
\end{center}
\end{figure}
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \hyperlink{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_1_1ChatServiceMessageSender}{Chat\+Service\+Message\+Sender}
\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_ac3c5275395694d74b18ff6d6f5e61f9d}{\+\_\+\+\_\+init\+\_\+\+\_\+} (self, \hyperlink{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a418cecffd5c3e0d6a00919eaa837d0e2}{opt})
\item 
def \hyperlink{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_acf204463db3ea8e4a3929d5191890cbc}{parse\+\_\+additional\+\_\+args} (self, \hyperlink{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a418cecffd5c3e0d6a00919eaa837d0e2}{opt})
\item 
def \hyperlink{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a49a2a816f16454f0acb26e178cb104c8}{restructure\+\_\+message} ()
\item 
def \hyperlink{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a496b0f51b79bc2cd1a9be8fdc4cdd93d}{add\+\_\+agent\+\_\+to\+\_\+pool} (self, agent, world\+\_\+type=\textquotesingle{}default\textquotesingle{})
\item 
def \hyperlink{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a926a7c35369cb78cc81839cf2c7c1321}{remove\+\_\+agent\+\_\+from\+\_\+pool} (self, agent, world\+\_\+type=\textquotesingle{}default\textquotesingle{}, \hyperlink{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_acd647091b75f07e2d3744b0d895c9d8c}{mark\+\_\+removed}=True)
\item 
def \hyperlink{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_ac88107eb2a55878dad8ceb4c90acff5b}{get\+\_\+agent\+\_\+state} (self, agent\+\_\+id)
\item 
def \hyperlink{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a147d73ca0427e9571a3c462d75412536}{setup\+\_\+server} (self)
\item 
def \hyperlink{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a167613812d6f3eaaa0fb1b36bf98be09}{setup\+\_\+socket} (self)
\item 
def \hyperlink{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a4aa33c8155ac0850476037f8809c8f22}{init\+\_\+new\+\_\+state} (self)
\item 
def \hyperlink{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a1a41f5cd5f08e44605cb73fbb6b7e310}{start\+\_\+new\+\_\+run} (self)
\item 
def \hyperlink{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a92c91891bbc88de69040bc979e9da468}{check\+\_\+timeout\+\_\+in\+\_\+pool} (self, world\+\_\+type, \hyperlink{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_ab982b846a998e063c07a0edc5f8d34ef}{agent\+\_\+pool}, max\+\_\+time\+\_\+in\+\_\+pool, backup\+\_\+task=None)
\item 
def \hyperlink{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a207c63f2a66acae0dc8b04c528036e8b}{start\+\_\+task} (self)
\item 
def \hyperlink{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_af2ba119314976bd2ae1524967fe9b1f1}{shutdown} (self)
\item 
def \hyperlink{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a9e1d99a460b0e21ec47e9a3ae09d73a0}{observe\+\_\+message} (self, receiver\+\_\+id, text, quick\+\_\+replies=None, persona\+\_\+id=None)
\item 
def \hyperlink{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_acd647091b75f07e2d3744b0d895c9d8c}{mark\+\_\+removed} (self, agent\+\_\+id, pageid)
\item 
def \hyperlink{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a928461831de4bdb9fb240ae538d0b841}{after\+\_\+agent\+\_\+removed} (self, agent\+\_\+id)
\item 
def \hyperlink{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_ae4aa62ecd0ff74a95a9d259f2297eace}{observe\+\_\+payload} (self, receiver\+\_\+id, data, quick\+\_\+replies=None, persona\+\_\+id=None)
\item 
def \hyperlink{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a7e2ef8f0e63e1078cbffccbcaa6719b0}{upload\+\_\+attachment} (self, payload)
\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a418cecffd5c3e0d6a00919eaa837d0e2}{opt}
\item 
\hyperlink{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a6b02e3c111eb48e4a3ad12540da0b0e5}{server\+\_\+url}
\item 
\hyperlink{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_ad1cba76da68c1daaf754c6648438b36c}{port}
\item 
\hyperlink{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_ab98d0910f1569bba83504cc83818f311}{agent\+\_\+pool\+\_\+change\+\_\+condition}
\item 
\hyperlink{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a3bfa14f0b887a82a34379087c64afda5}{active\+\_\+worlds}
\item 
\hyperlink{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a1aa15c8e11b465d78e92559b201ed2d8}{socket}
\item 
\hyperlink{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a641111138490de3a2ff2f484c11c7f9e}{sender}
\item 
\hyperlink{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_aadd2de5a563633cf2e910c38763c6af3}{running}
\item 
\hyperlink{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_adc24f05c8e35ba4f57ee82c0b4438a6d}{conversation\+\_\+index}
\item 
\hyperlink{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_afa37746d3f66c529ecc64157ce50041a}{shutting\+\_\+down}
\item 
\hyperlink{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_ae3f0f7211dd3cc1e7866cabc0ad1edea}{bypass\+\_\+server\+\_\+setup}
\item 
\hyperlink{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a961ea57ba03f883429e2aa671e335959}{confirm\+\_\+message\+\_\+delivery}
\item 
\hyperlink{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_affcc81de322ce48f5fe0d3c28638b620}{handle\+\_\+message\+\_\+read}
\item 
\hyperlink{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a4af7233de6465a81269ec00b1dd3ddff}{handle\+\_\+bot\+\_\+read}
\item 
\hyperlink{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a4e1bd15140c4c05d5bd4532509e348f6}{config}
\item 
\hyperlink{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_aef71f552979c933abf8d14fa7b705d84}{overworld}
\item 
\hyperlink{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a93bedf3802d1fa5ad666984ea17c0f35}{world\+\_\+path}
\item 
\hyperlink{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a873c88a1b6ac7adbb0ca27deaa833a96}{world\+\_\+module}
\item 
\hyperlink{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_aee1d6a6d12a1f9f71a134bdfe69f5c93}{task\+\_\+configs}
\item 
\hyperlink{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a08ffd7417963c50190204d563bc84ac2}{max\+\_\+workers}
\item 
\hyperlink{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a83840a87ecf69e02a8c63031fcaf8cfb}{runner\+\_\+opt}
\item 
\hyperlink{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_aa0d3b75513f393394d5ca548f7b99352}{world\+\_\+runner}
\item 
\hyperlink{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a9f41f363fcd18a968cf500f6b6f2e384}{max\+\_\+agents\+\_\+for}
\item 
\hyperlink{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a03febcdeeae95b1cd8bbd22b5e233a94}{onboard\+\_\+map}
\item 
\hyperlink{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_aebfefd750e2b1bc9f0bbf629467735bd}{taskworld\+\_\+map}
\item 
\hyperlink{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a478ea28f63025fc186390230b3bbc65a}{service\+\_\+reference\+\_\+id}
\item 
\hyperlink{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_ab982b846a998e063c07a0edc5f8d34ef}{agent\+\_\+pool}
\item 
\hyperlink{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a1bf9066fb32ee5d49882b87f38ef1e65}{messenger\+\_\+agent\+\_\+states}
\item 
\hyperlink{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a88fb563c2ecbcc29ec35efc35243ec74}{task\+\_\+to\+\_\+agent\+\_\+ids}
\item 
\hyperlink{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a95cfe72f24052f0a7255704beb482696}{agent\+\_\+id\+\_\+to\+\_\+overworld\+\_\+future}
\item 
\hyperlink{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_aa4f6b3b4880c31e8fd260a82037a6c6e}{run\+\_\+id}
\item 
\hyperlink{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a80987a1dfe80102af73854d8b4d7a692}{task\+\_\+group\+\_\+id}
\item 
\hyperlink{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_ad154fa2182cccec455c370ad623dbc1b}{is\+\_\+running}
\end{DoxyCompactItemize}


\subsection{Detailed Description}


Definition at line 117 of file chat\+\_\+service\+\_\+manager.\+py.



\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_ac3c5275395694d74b18ff6d6f5e61f9d}\label{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_ac3c5275395694d74b18ff6d6f5e61f9d}} 
\index{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}!\+\_\+\+\_\+init\+\_\+\+\_\+@{\+\_\+\+\_\+init\+\_\+\+\_\+}}
\index{\+\_\+\+\_\+init\+\_\+\+\_\+@{\+\_\+\+\_\+init\+\_\+\+\_\+}!parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}}
\subsubsection{\texorpdfstring{\+\_\+\+\_\+init\+\_\+\+\_\+()}{\_\_init\_\_()}}
{\footnotesize\ttfamily def parlai.\+chat\+\_\+service.\+core.\+chat\+\_\+service\+\_\+manager.\+Chat\+Service\+Manager.\+\_\+\+\_\+init\+\_\+\+\_\+ (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{opt }\end{DoxyParamCaption})}

\begin{DoxyVerb}Create a ChatServiceManager using the given setup options.
\end{DoxyVerb}
 

Definition at line 132 of file chat\+\_\+service\+\_\+manager.\+py.


\begin{DoxyCode}
132     \textcolor{keyword}{def }\_\_init\_\_(self, opt):
133         \textcolor{stringliteral}{"""}
134 \textcolor{stringliteral}{        Create a ChatServiceManager using the given setup options.}
135 \textcolor{stringliteral}{        """}
136         \textcolor{comment}{# Manager attributes}
137         self.opt = opt
138         self.server\_url = \textcolor{keywordtype}{None}
139         self.port = 443
140         self.agent\_pool\_change\_condition = threading.Condition()
141         self.active\_worlds = \{\}
142         self.socket = \textcolor{keywordtype}{None}
143         self.sender = \textcolor{keywordtype}{None}
144         self.running = \textcolor{keyword}{True}
145         self.conversation\_index = 0
146         self.shutting\_down = \textcolor{keyword}{False}
147         self.bypass\_server\_setup = self.opt.get(\textcolor{stringliteral}{'bypass\_server\_setup'})
148 
149         \textcolor{comment}{# Messaging interaction functions that determine what to do when}
150         \textcolor{comment}{# messages are confirmed as delivered, marked as read by a user, and}
151         \textcolor{comment}{# noted as read by the bot.}
152         self.confirm\_message\_delivery = self.\_confirm\_message\_delivery
153         self.handle\_message\_read = self.\_handle\_message\_read
154         self.handle\_bot\_read = self.\_handle\_bot\_read
155 
\end{DoxyCode}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a496b0f51b79bc2cd1a9be8fdc4cdd93d}\label{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a496b0f51b79bc2cd1a9be8fdc4cdd93d}} 
\index{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}!add\+\_\+agent\+\_\+to\+\_\+pool@{add\+\_\+agent\+\_\+to\+\_\+pool}}
\index{add\+\_\+agent\+\_\+to\+\_\+pool@{add\+\_\+agent\+\_\+to\+\_\+pool}!parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}}
\subsubsection{\texorpdfstring{add\+\_\+agent\+\_\+to\+\_\+pool()}{add\_agent\_to\_pool()}}
{\footnotesize\ttfamily def parlai.\+chat\+\_\+service.\+core.\+chat\+\_\+service\+\_\+manager.\+Chat\+Service\+Manager.\+add\+\_\+agent\+\_\+to\+\_\+pool (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{agent,  }\item[{}]{world\+\_\+type = {\ttfamily \textquotesingle{}default\textquotesingle{}} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Add the agent to pool.

:param agent:
    MessengerAgent object
:param world_type:
    Name of world whose pool should now contain agent
\end{DoxyVerb}
 

Definition at line 415 of file chat\+\_\+service\+\_\+manager.\+py.


\begin{DoxyCode}
415     \textcolor{keyword}{def }add\_agent\_to\_pool(self, agent, world\_type='default'):
416         \textcolor{stringliteral}{"""}
417 \textcolor{stringliteral}{        Add the agent to pool.}
418 \textcolor{stringliteral}{}
419 \textcolor{stringliteral}{        :param agent:}
420 \textcolor{stringliteral}{            MessengerAgent object}
421 \textcolor{stringliteral}{        :param world\_type:}
422 \textcolor{stringliteral}{            Name of world whose pool should now contain agent}
423 \textcolor{stringliteral}{        """}
424         with self.agent\_pool\_change\_condition:
425             self.\_log\_debug(\textcolor{stringliteral}{'Adding agent \{\} to pool...'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(agent.service\_id))
426             \textcolor{comment}{# time agent entered agent\_pool}
427             agent.time\_in\_pool.setdefault(world\_type, time.time())
428             \textcolor{comment}{# add agent to pool}
429             self.agent\_pool.setdefault(world\_type, []).append(agent)
430 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a928461831de4bdb9fb240ae538d0b841}\label{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a928461831de4bdb9fb240ae538d0b841}} 
\index{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}!after\+\_\+agent\+\_\+removed@{after\+\_\+agent\+\_\+removed}}
\index{after\+\_\+agent\+\_\+removed@{after\+\_\+agent\+\_\+removed}!parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}}
\subsubsection{\texorpdfstring{after\+\_\+agent\+\_\+removed()}{after\_agent\_removed()}}
{\footnotesize\ttfamily def parlai.\+chat\+\_\+service.\+core.\+chat\+\_\+service\+\_\+manager.\+Chat\+Service\+Manager.\+after\+\_\+agent\+\_\+removed (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{agent\+\_\+id }\end{DoxyParamCaption})}

\begin{DoxyVerb}Perform any changes to metadata on agent removal.

override if extra bookkeeping must be done when removing agent
\end{DoxyVerb}
 

Definition at line 735 of file chat\+\_\+service\+\_\+manager.\+py.


\begin{DoxyCode}
735     \textcolor{keyword}{def }after\_agent\_removed(self, agent\_id):
736         \textcolor{stringliteral}{"""}
737 \textcolor{stringliteral}{        Perform any changes to metadata on agent removal.}
738 \textcolor{stringliteral}{}
739 \textcolor{stringliteral}{        override if extra bookkeeping must be done when removing agent}
740 \textcolor{stringliteral}{        """}
741         \textcolor{keywordflow}{pass}
742 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a92c91891bbc88de69040bc979e9da468}\label{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a92c91891bbc88de69040bc979e9da468}} 
\index{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}!check\+\_\+timeout\+\_\+in\+\_\+pool@{check\+\_\+timeout\+\_\+in\+\_\+pool}}
\index{check\+\_\+timeout\+\_\+in\+\_\+pool@{check\+\_\+timeout\+\_\+in\+\_\+pool}!parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}}
\subsubsection{\texorpdfstring{check\+\_\+timeout\+\_\+in\+\_\+pool()}{check\_timeout\_in\_pool()}}
{\footnotesize\ttfamily def parlai.\+chat\+\_\+service.\+core.\+chat\+\_\+service\+\_\+manager.\+Chat\+Service\+Manager.\+check\+\_\+timeout\+\_\+in\+\_\+pool (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{world\+\_\+type,  }\item[{}]{agent\+\_\+pool,  }\item[{}]{max\+\_\+time\+\_\+in\+\_\+pool,  }\item[{}]{backup\+\_\+task = {\ttfamily None} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Check for timed-out agents in pool.

:param world_type:
    string world type
:param agent_pool:
    list of ``AgentState``s
:param max_time_in_pool:
    int maximum time allowed for agent to be in pool
:param backup_task:
    string backup_task to start if we reach a timeout in the original pool
\end{DoxyVerb}
 

Definition at line 533 of file chat\+\_\+service\+\_\+manager.\+py.


\begin{DoxyCode}
533     ):
534         \textcolor{stringliteral}{"""}
535 \textcolor{stringliteral}{        Check for timed-out agents in pool.}
536 \textcolor{stringliteral}{}
537 \textcolor{stringliteral}{        :param world\_type:}
538 \textcolor{stringliteral}{            string world type}
539 \textcolor{stringliteral}{        :param agent\_pool:}
540 \textcolor{stringliteral}{            list of ``AgentState``s}
541 \textcolor{stringliteral}{        :param max\_time\_in\_pool:}
542 \textcolor{stringliteral}{            int maximum time allowed for agent to be in pool}
543 \textcolor{stringliteral}{        :param backup\_task:}
544 \textcolor{stringliteral}{            string backup\_task to start if we reach a timeout in the original pool}
545 \textcolor{stringliteral}{        """}
546         \textcolor{keywordflow}{for} agent\_state \textcolor{keywordflow}{in} agent\_pool:
547             time\_in\_pool = agent\_state.time\_in\_pool.get(world\_type)
548             \textcolor{keywordflow}{if} time\_in\_pool \textcolor{keywordflow}{and} time.time() - time\_in\_pool > max\_time\_in\_pool:
549                 \textcolor{comment}{# remove agent from agent\_pool}
550                 self.remove\_agent\_from\_pool(agent\_state, world\_type)
551                 \textcolor{comment}{# put agent back in overworld}
552                 agent\_state.set\_active\_agent(agent\_state.get\_overworld\_agent())
553 
554                 agent\_state.stored\_data[\textcolor{stringliteral}{'removed\_after\_timeout'}] = \textcolor{keyword}{True}
555                 self.after\_agent\_removed(agent\_state.service\_id)
556 
557                 \textcolor{keywordflow}{if} backup\_task \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}:
558                     self.add\_agent\_to\_pool(agent\_state, backup\_task)
559 
560                 \textcolor{comment}{# reset wait message state}
561                 agent\_state.stored\_data[\textcolor{stringliteral}{'seen\_wait\_message'}] = \textcolor{keyword}{False}
562 
563             \textcolor{keywordflow}{elif} time\_in\_pool \textcolor{keywordflow}{and} time.time() - time\_in\_pool > 30:
564                 \textcolor{comment}{# tell agent that a match is taking longer than}
565                 \textcolor{comment}{# expected}
566                 \textcolor{keywordflow}{if} (
567                     \textcolor{keywordflow}{not} agent\_state.stored\_data.get(\textcolor{stringliteral}{'seen\_wait\_message'})
568                     \textcolor{keywordflow}{or} \textcolor{keywordflow}{not} agent\_state.stored\_data[\textcolor{stringliteral}{'seen\_wait\_message'}]
569                 ):
570                     self.observe\_message(
571                         agent\_state.service\_id,
572                         \textcolor{stringliteral}{'Pairing is taking longer than expected. '}
573                         \textcolor{stringliteral}{'If you wish to exit, type *EXIT*.'},
574                     )
575                     self.message\_sender.typing\_on(agent\_state.service\_id)
576                     agent\_state.stored\_data[\textcolor{stringliteral}{'seen\_wait\_message'}] = \textcolor{keyword}{True}
577 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_ac88107eb2a55878dad8ceb4c90acff5b}\label{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_ac88107eb2a55878dad8ceb4c90acff5b}} 
\index{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}!get\+\_\+agent\+\_\+state@{get\+\_\+agent\+\_\+state}}
\index{get\+\_\+agent\+\_\+state@{get\+\_\+agent\+\_\+state}!parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}}
\subsubsection{\texorpdfstring{get\+\_\+agent\+\_\+state()}{get\_agent\_state()}}
{\footnotesize\ttfamily def parlai.\+chat\+\_\+service.\+core.\+chat\+\_\+service\+\_\+manager.\+Chat\+Service\+Manager.\+get\+\_\+agent\+\_\+state (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{agent\+\_\+id }\end{DoxyParamCaption})}

\begin{DoxyVerb}Return agent state.

:param agent_id:
    int agent identifier

:return:
    AgentState object if agent_id is being tracked, else None
\end{DoxyVerb}
 

Definition at line 485 of file chat\+\_\+service\+\_\+manager.\+py.


\begin{DoxyCode}
485     \textcolor{keyword}{def }get\_agent\_state(self, agent\_id):
486         \textcolor{stringliteral}{"""}
487 \textcolor{stringliteral}{        Return agent state.}
488 \textcolor{stringliteral}{}
489 \textcolor{stringliteral}{        :param agent\_id:}
490 \textcolor{stringliteral}{            int agent identifier}
491 \textcolor{stringliteral}{}
492 \textcolor{stringliteral}{        :return:}
493 \textcolor{stringliteral}{            AgentState object if agent\_id is being tracked, else None}
494 \textcolor{stringliteral}{        """}
495         \textcolor{keywordflow}{if} agent\_id \textcolor{keywordflow}{in} self.messenger\_agent\_states:
496             \textcolor{keywordflow}{return} self.messenger\_agent\_states[agent\_id]
497         \textcolor{keywordflow}{return} \textcolor{keywordtype}{None}
498 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a4aa33c8155ac0850476037f8809c8f22}\label{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a4aa33c8155ac0850476037f8809c8f22}} 
\index{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}!init\+\_\+new\+\_\+state@{init\+\_\+new\+\_\+state}}
\index{init\+\_\+new\+\_\+state@{init\+\_\+new\+\_\+state}!parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}}
\subsubsection{\texorpdfstring{init\+\_\+new\+\_\+state()}{init\_new\_state()}}
{\footnotesize\ttfamily def parlai.\+chat\+\_\+service.\+core.\+chat\+\_\+service\+\_\+manager.\+Chat\+Service\+Manager.\+init\+\_\+new\+\_\+state (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}

\begin{DoxyVerb}Prepare for new run.

Initialize everything in the agent, task, and thread states
\end{DoxyVerb}
 

Definition at line 513 of file chat\+\_\+service\+\_\+manager.\+py.


\begin{DoxyCode}
513     \textcolor{keyword}{def }init\_new\_state(self):
514         \textcolor{stringliteral}{"""}
515 \textcolor{stringliteral}{        Prepare for new run.}
516 \textcolor{stringliteral}{}
517 \textcolor{stringliteral}{        Initialize everything in the agent, task, and thread states}
518 \textcolor{stringliteral}{        """}
519         self.agent\_pool = \{\}
520         self.messenger\_agent\_states = \{\}
521         self.task\_to\_agent\_ids = \{\}
522         self.agent\_id\_to\_overworld\_future = \{\}
523 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_acd647091b75f07e2d3744b0d895c9d8c}\label{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_acd647091b75f07e2d3744b0d895c9d8c}} 
\index{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}!mark\+\_\+removed@{mark\+\_\+removed}}
\index{mark\+\_\+removed@{mark\+\_\+removed}!parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}}
\subsubsection{\texorpdfstring{mark\+\_\+removed()}{mark\_removed()}}
{\footnotesize\ttfamily def parlai.\+chat\+\_\+service.\+core.\+chat\+\_\+service\+\_\+manager.\+Chat\+Service\+Manager.\+mark\+\_\+removed (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{agent\+\_\+id,  }\item[{}]{pageid }\end{DoxyParamCaption})}

\begin{DoxyVerb}Mark the agent as removed from the pool.

Can be overriden to change other metadata linked to agent removal.

:param agent_id:
    int agent psid
:param pageid:
    int page id
\end{DoxyVerb}
 

Definition at line 722 of file chat\+\_\+service\+\_\+manager.\+py.


\begin{DoxyCode}
722     \textcolor{keyword}{def }mark\_removed(self, agent\_id, pageid):
723         \textcolor{stringliteral}{"""}
724 \textcolor{stringliteral}{        Mark the agent as removed from the pool.}
725 \textcolor{stringliteral}{}
726 \textcolor{stringliteral}{        Can be overriden to change other metadata linked to agent removal.}
727 \textcolor{stringliteral}{}
728 \textcolor{stringliteral}{        :param agent\_id:}
729 \textcolor{stringliteral}{            int agent psid}
730 \textcolor{stringliteral}{        :param pageid:}
731 \textcolor{stringliteral}{            int page id}
732 \textcolor{stringliteral}{        """}
733         \textcolor{keywordflow}{pass}
734 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a9e1d99a460b0e21ec47e9a3ae09d73a0}\label{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a9e1d99a460b0e21ec47e9a3ae09d73a0}} 
\index{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}!observe\+\_\+message@{observe\+\_\+message}}
\index{observe\+\_\+message@{observe\+\_\+message}!parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}}
\subsubsection{\texorpdfstring{observe\+\_\+message()}{observe\_message()}}
{\footnotesize\ttfamily def parlai.\+chat\+\_\+service.\+core.\+chat\+\_\+service\+\_\+manager.\+Chat\+Service\+Manager.\+observe\+\_\+message (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{receiver\+\_\+id,  }\item[{}]{text,  }\item[{}]{quick\+\_\+replies = {\ttfamily None},  }\item[{}]{persona\+\_\+id = {\ttfamily None} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Send a message through the message manager.

:param receiver_id:
    int identifier for agent to send message to
:param text:
    string text to send
:param quick_replies:
    list of quick replies
:param persona_id:
    identifier of persona
\end{DoxyVerb}
 

Definition at line 700 of file chat\+\_\+service\+\_\+manager.\+py.


\begin{DoxyCode}
700     \textcolor{keyword}{def }observe\_message(self, receiver\_id, text, quick\_replies=None, persona\_id=None):
701         \textcolor{stringliteral}{"""}
702 \textcolor{stringliteral}{        Send a message through the message manager.}
703 \textcolor{stringliteral}{}
704 \textcolor{stringliteral}{        :param receiver\_id:}
705 \textcolor{stringliteral}{            int identifier for agent to send message to}
706 \textcolor{stringliteral}{        :param text:}
707 \textcolor{stringliteral}{            string text to send}
708 \textcolor{stringliteral}{        :param quick\_replies:}
709 \textcolor{stringliteral}{            list of quick replies}
710 \textcolor{stringliteral}{        :param persona\_id:}
711 \textcolor{stringliteral}{            identifier of persona}
712 \textcolor{stringliteral}{        """}
713 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_ae4aa62ecd0ff74a95a9d259f2297eace}\label{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_ae4aa62ecd0ff74a95a9d259f2297eace}} 
\index{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}!observe\+\_\+payload@{observe\+\_\+payload}}
\index{observe\+\_\+payload@{observe\+\_\+payload}!parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}}
\subsubsection{\texorpdfstring{observe\+\_\+payload()}{observe\_payload()}}
{\footnotesize\ttfamily def parlai.\+chat\+\_\+service.\+core.\+chat\+\_\+service\+\_\+manager.\+Chat\+Service\+Manager.\+observe\+\_\+payload (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{receiver\+\_\+id,  }\item[{}]{data,  }\item[{}]{quick\+\_\+replies = {\ttfamily None},  }\item[{}]{persona\+\_\+id = {\ttfamily None} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Send a payload through the message manager.

:param receiver_id:
    int identifier for agent to send message to
:param data:
    object data to send
:param quick_replies:
    list of quick replies
:param persona_id:
    identifier of persona
\end{DoxyVerb}
 

Definition at line 745 of file chat\+\_\+service\+\_\+manager.\+py.


\begin{DoxyCode}
745     \textcolor{keyword}{def }observe\_payload(self, receiver\_id, data, quick\_replies=None, persona\_id=None):
746         \textcolor{stringliteral}{"""}
747 \textcolor{stringliteral}{        Send a payload through the message manager.}
748 \textcolor{stringliteral}{}
749 \textcolor{stringliteral}{        :param receiver\_id:}
750 \textcolor{stringliteral}{            int identifier for agent to send message to}
751 \textcolor{stringliteral}{        :param data:}
752 \textcolor{stringliteral}{            object data to send}
753 \textcolor{stringliteral}{        :param quick\_replies:}
754 \textcolor{stringliteral}{            list of quick replies}
755 \textcolor{stringliteral}{        :param persona\_id:}
756 \textcolor{stringliteral}{            identifier of persona}
757 \textcolor{stringliteral}{        """}
758         \textcolor{keywordflow}{pass}
759 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_acf204463db3ea8e4a3929d5191890cbc}\label{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_acf204463db3ea8e4a3929d5191890cbc}} 
\index{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}!parse\+\_\+additional\+\_\+args@{parse\+\_\+additional\+\_\+args}}
\index{parse\+\_\+additional\+\_\+args@{parse\+\_\+additional\+\_\+args}!parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}}
\subsubsection{\texorpdfstring{parse\+\_\+additional\+\_\+args()}{parse\_additional\_args()}}
{\footnotesize\ttfamily def parlai.\+chat\+\_\+service.\+core.\+chat\+\_\+service\+\_\+manager.\+Chat\+Service\+Manager.\+parse\+\_\+additional\+\_\+args (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{opt }\end{DoxyParamCaption})}

\begin{DoxyVerb}Parse any other service specific args here.
\end{DoxyVerb}
 

Definition at line 191 of file chat\+\_\+service\+\_\+manager.\+py.


\begin{DoxyCode}
191     \textcolor{keyword}{def }parse\_additional\_args(self, opt):
192         \textcolor{stringliteral}{"""}
193 \textcolor{stringliteral}{        Parse any other service specific args here.}
194 \textcolor{stringliteral}{        """}
195         \textcolor{comment}{# page id for messenger to be obtained here}
196 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a926a7c35369cb78cc81839cf2c7c1321}\label{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a926a7c35369cb78cc81839cf2c7c1321}} 
\index{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}!remove\+\_\+agent\+\_\+from\+\_\+pool@{remove\+\_\+agent\+\_\+from\+\_\+pool}}
\index{remove\+\_\+agent\+\_\+from\+\_\+pool@{remove\+\_\+agent\+\_\+from\+\_\+pool}!parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}}
\subsubsection{\texorpdfstring{remove\+\_\+agent\+\_\+from\+\_\+pool()}{remove\_agent\_from\_pool()}}
{\footnotesize\ttfamily def parlai.\+chat\+\_\+service.\+core.\+chat\+\_\+service\+\_\+manager.\+Chat\+Service\+Manager.\+remove\+\_\+agent\+\_\+from\+\_\+pool (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{agent,  }\item[{}]{world\+\_\+type = {\ttfamily \textquotesingle{}default\textquotesingle{}},  }\item[{}]{mark\+\_\+removed = {\ttfamily True} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Remove agent from the pool.

:param agent:
    Agent object
:param world_type:
    string, world name
:param mark_removed:
    bool, whether to mark an agent as removed from the pool
\end{DoxyVerb}
 

Definition at line 431 of file chat\+\_\+service\+\_\+manager.\+py.


\begin{DoxyCode}
431     \textcolor{keyword}{def }remove\_agent\_from\_pool(self, agent, world\_type='default', mark\_removed=True):
432         \textcolor{stringliteral}{"""}
433 \textcolor{stringliteral}{        Remove agent from the pool.}
434 \textcolor{stringliteral}{}
435 \textcolor{stringliteral}{        :param agent:}
436 \textcolor{stringliteral}{            Agent object}
437 \textcolor{stringliteral}{        :param world\_type:}
438 \textcolor{stringliteral}{            string, world name}
439 \textcolor{stringliteral}{        :param mark\_removed:}
440 \textcolor{stringliteral}{            bool, whether to mark an agent as removed from the pool}
441 \textcolor{stringliteral}{        """}
442         with self.agent\_pool\_change\_condition:
443             self.\_log\_debug(\textcolor{stringliteral}{'Removing agent \{\} from pool...'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(agent.service\_id))
444             \textcolor{keywordflow}{if} world\_type \textcolor{keywordflow}{in} self.agent\_pool \textcolor{keywordflow}{and} agent \textcolor{keywordflow}{in} self.agent\_pool[world\_type]:
445                 self.agent\_pool[world\_type].remove(agent)
446                 \textcolor{comment}{# reset agent's time\_in\_pool}
447                 \textcolor{keywordflow}{if} world\_type \textcolor{keywordflow}{in} agent.time\_in\_pool:
448                     del agent.time\_in\_pool[world\_type]
449                 \textcolor{comment}{# maybe mark agent as removed}
450                 \textcolor{keywordflow}{if} mark\_removed:
451                     agent.stored\_data[\textcolor{stringliteral}{'removed\_from\_pool'}] = \textcolor{keyword}{True}
452                     \textcolor{keywordflow}{if} self.service\_reference\_id \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}:
453                         self.mark\_removed(agent.service\_id, self.service\_reference\_id)
454 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a49a2a816f16454f0acb26e178cb104c8}\label{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a49a2a816f16454f0acb26e178cb104c8}} 
\index{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}!restructure\+\_\+message@{restructure\+\_\+message}}
\index{restructure\+\_\+message@{restructure\+\_\+message}!parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}}
\subsubsection{\texorpdfstring{restructure\+\_\+message()}{restructure\_message()}}
{\footnotesize\ttfamily def parlai.\+chat\+\_\+service.\+core.\+chat\+\_\+service\+\_\+manager.\+Chat\+Service\+Manager.\+restructure\+\_\+message (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\begin{DoxyVerb}Use this function to restructure the message into the provided format.
\end{DoxyVerb}
 

Definition at line 278 of file chat\+\_\+service\+\_\+manager.\+py.


\begin{DoxyCode}
278     \textcolor{keyword}{def }restructure\_message():
279         \textcolor{stringliteral}{"""}
280 \textcolor{stringliteral}{        Use this function to restructure the message into the provided format.}
281 \textcolor{stringliteral}{        """}
282 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a147d73ca0427e9571a3c462d75412536}\label{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a147d73ca0427e9571a3c462d75412536}} 
\index{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}!setup\+\_\+server@{setup\+\_\+server}}
\index{setup\+\_\+server@{setup\+\_\+server}!parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}}
\subsubsection{\texorpdfstring{setup\+\_\+server()}{setup\_server()}}
{\footnotesize\ttfamily def parlai.\+chat\+\_\+service.\+core.\+chat\+\_\+service\+\_\+manager.\+Chat\+Service\+Manager.\+setup\+\_\+server (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}

\begin{DoxyVerb}Prepare the Chat Service server for handling messages.
\end{DoxyVerb}
 

Definition at line 500 of file chat\+\_\+service\+\_\+manager.\+py.


\begin{DoxyCode}
500     \textcolor{keyword}{def }\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1server__utils_afb56b04206cd0f42384438f1ac6d9cda}{setup\_server}(self):
501         \textcolor{stringliteral}{"""}
502 \textcolor{stringliteral}{        Prepare the Chat Service server for handling messages.}
503 \textcolor{stringliteral}{        """}
504         \textcolor{keywordflow}{pass}
505 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a167613812d6f3eaaa0fb1b36bf98be09}\label{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a167613812d6f3eaaa0fb1b36bf98be09}} 
\index{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}!setup\+\_\+socket@{setup\+\_\+socket}}
\index{setup\+\_\+socket@{setup\+\_\+socket}!parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}}
\subsubsection{\texorpdfstring{setup\+\_\+socket()}{setup\_socket()}}
{\footnotesize\ttfamily def parlai.\+chat\+\_\+service.\+core.\+chat\+\_\+service\+\_\+manager.\+Chat\+Service\+Manager.\+setup\+\_\+socket (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}

\begin{DoxyVerb}Set up socket to start communicating to workers.
\end{DoxyVerb}
 

Definition at line 507 of file chat\+\_\+service\+\_\+manager.\+py.


\begin{DoxyCode}
507     \textcolor{keyword}{def }setup\_socket(self):
508         \textcolor{stringliteral}{"""}
509 \textcolor{stringliteral}{        Set up socket to start communicating to workers.}
510 \textcolor{stringliteral}{        """}
511         \textcolor{keywordflow}{pass}
512 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_af2ba119314976bd2ae1524967fe9b1f1}\label{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_af2ba119314976bd2ae1524967fe9b1f1}} 
\index{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}!shutdown@{shutdown}}
\index{shutdown@{shutdown}!parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}}
\subsubsection{\texorpdfstring{shutdown()}{shutdown()}}
{\footnotesize\ttfamily def parlai.\+chat\+\_\+service.\+core.\+chat\+\_\+service\+\_\+manager.\+Chat\+Service\+Manager.\+shutdown (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}

\begin{DoxyVerb}Handle any client shutdown cleanup.
\end{DoxyVerb}
 

Definition at line 682 of file chat\+\_\+service\+\_\+manager.\+py.


\begin{DoxyCode}
682     \textcolor{keyword}{def }shutdown(self):
683         \textcolor{stringliteral}{"""}
684 \textcolor{stringliteral}{        Handle any client shutdown cleanup.}
685 \textcolor{stringliteral}{        """}
686         \textcolor{keywordflow}{try}:
687             self.is\_running = \textcolor{keyword}{False}
688             self.world\_runner.shutdown()
689             \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} self.bypass\_server\_setup:
690                 self.message\_socket.keep\_running = \textcolor{keyword}{False}
691             self.\_expire\_all\_conversations()
692         \textcolor{keywordflow}{except} BaseException \textcolor{keyword}{as} e:
693             shared\_utils.print\_and\_log(logging.ERROR, f\textcolor{stringliteral}{'world ended in error: \{e\}'})
694 
695         \textcolor{keywordflow}{finally}:
696             \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} self.bypass\_server\_setup:
697                 server\_utils.delete\_server(self.server\_task\_name, self.opt[\textcolor{stringliteral}{'local'}])
698 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a1a41f5cd5f08e44605cb73fbb6b7e310}\label{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a1a41f5cd5f08e44605cb73fbb6b7e310}} 
\index{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}!start\+\_\+new\+\_\+run@{start\+\_\+new\+\_\+run}}
\index{start\+\_\+new\+\_\+run@{start\+\_\+new\+\_\+run}!parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}}
\subsubsection{\texorpdfstring{start\+\_\+new\+\_\+run()}{start\_new\_run()}}
{\footnotesize\ttfamily def parlai.\+chat\+\_\+service.\+core.\+chat\+\_\+service\+\_\+manager.\+Chat\+Service\+Manager.\+start\+\_\+new\+\_\+run (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}

\begin{DoxyVerb}Begin new run.
\end{DoxyVerb}
 

Definition at line 524 of file chat\+\_\+service\+\_\+manager.\+py.


\begin{DoxyCode}
524     \textcolor{keyword}{def }start\_new\_run(self):
525         \textcolor{stringliteral}{"""}
526 \textcolor{stringliteral}{        Begin new run.}
527 \textcolor{stringliteral}{        """}
528         self.run\_id = \hyperlink{namespacegenerate__task__READMEs_a5b88452ffb87b78c8c85ececebafc09f}{str}(\hyperlink{namespacelanguage__model_1_1eval__ppl_a7d12ee00479673c5c8d1f6d01faa272a}{int}(time.time()))
529         self.task\_group\_id = \textcolor{stringliteral}{'\{\}\_\{\}'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(self.opt[\textcolor{stringliteral}{'task'}], self.run\_id)
530 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a207c63f2a66acae0dc8b04c528036e8b}\label{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a207c63f2a66acae0dc8b04c528036e8b}} 
\index{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}!start\+\_\+task@{start\+\_\+task}}
\index{start\+\_\+task@{start\+\_\+task}!parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}}
\subsubsection{\texorpdfstring{start\+\_\+task()}{start\_task()}}
{\footnotesize\ttfamily def parlai.\+chat\+\_\+service.\+core.\+chat\+\_\+service\+\_\+manager.\+Chat\+Service\+Manager.\+start\+\_\+task (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}

\begin{DoxyVerb}Begin handling task.

Periodically check to see when enough agents are in the agent pool to start an
instance of the task. Continue doing this until the desired number of
conversations is had.
\end{DoxyVerb}
 

Definition at line 578 of file chat\+\_\+service\+\_\+manager.\+py.


\begin{DoxyCode}
578     \textcolor{keyword}{def }start\_task(self):
579         \textcolor{stringliteral}{"""}
580 \textcolor{stringliteral}{        Begin handling task.}
581 \textcolor{stringliteral}{}
582 \textcolor{stringliteral}{        Periodically check to see when enough agents are in the agent pool to start an}
583 \textcolor{stringliteral}{        instance of the task. Continue doing this until the desired number of}
584 \textcolor{stringliteral}{        conversations is had.}
585 \textcolor{stringliteral}{        """}
586 
587         \textcolor{keyword}{def }\_done\_callback(fut):
588             \textcolor{stringliteral}{"""}
589 \textcolor{stringliteral}{            Log and raise exception of task world, if there is one.}
590 \textcolor{stringliteral}{}
591 \textcolor{stringliteral}{            Additionally, set active agent to overworld agent.}
592 \textcolor{stringliteral}{            """}
593             e = fut.exception()
594             \textcolor{keywordflow}{if} e \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}:
595                 shared\_utils.print\_and\_log(
596                     logging.ERROR,
597                     \textcolor{stringliteral}{'World \{\} had error \{\}'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(world\_type, repr(e)),
598                     should\_print=\textcolor{keyword}{True},
599                 )
600                 traceback.print\_exc(file=sys.stdout)
601                 \textcolor{keywordflow}{for} agent \textcolor{keywordflow}{in} agents:
602                     self.observe\_message(
603                         agent.id, \textcolor{stringliteral}{'Sorry, this world closed. Returning to overworld.'}
604                     )
605             \textcolor{keywordflow}{else}:
606                 shared\_utils.print\_and\_log(
607                     logging.INFO,
608                     \textcolor{stringliteral}{'World \{\} had no error'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(world\_type),
609                     should\_print=\textcolor{keyword}{True},
610                 )
611             self.active\_worlds[task\_id] = \textcolor{keywordtype}{None}
612             \textcolor{keywordflow}{for} agent \textcolor{keywordflow}{in} agents:
613                 self.after\_agent\_removed(agent.id)
614                 agent\_state = self.get\_agent\_state(agent.id)
615                 agent\_state.set\_active\_agent(agent\_state.get\_overworld\_agent())
616 
617         self.running = \textcolor{keyword}{True}
618         \textcolor{keywordflow}{while} self.running:
619             \textcolor{comment}{# Loop forever until the server is shut down}
620             with self.agent\_pool\_change\_condition:
621                 valid\_pools = self.\_get\_unique\_pool()
622                 \textcolor{keywordflow}{for} world\_type, agent\_pool \textcolor{keywordflow}{in} valid\_pools.items():
623                     \textcolor{comment}{# check if agent has exceeded max time in pool}
624                     world\_config = self.task\_configs[world\_type]
625                     \textcolor{keywordflow}{if} world\_config.max\_time\_in\_pool \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}:
626                         self.check\_timeout\_in\_pool(
627                             world\_type,
628                             agent\_pool,
629                             world\_config.max\_time\_in\_pool,
630                             world\_config.backup\_task,
631                         )
632 
633                     needed\_agents = self.max\_agents\_for[world\_type]
634                     \textcolor{keywordflow}{if} len(agent\_pool) >= needed\_agents:
635                         shared\_utils.print\_and\_log(
636                             logging.INFO, \textcolor{stringliteral}{'starting pool'}, should\_print=\textcolor{keyword}{True}
637                         )
638                         \textcolor{comment}{# enough agents in pool to start new conversation}
639                         self.conversation\_index += 1
640                         task\_id = \textcolor{stringliteral}{'t\_\{\}'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(self.conversation\_index)
641 
642                         \textcolor{comment}{# Add the required number of valid agents to the conv}
643                         agent\_states = [w \textcolor{keywordflow}{for} w \textcolor{keywordflow}{in} agent\_pool[:needed\_agents]]
644                         agents = []
645                         \textcolor{keywordflow}{for} state \textcolor{keywordflow}{in} agent\_states:
646                             agent = self.\_create\_agent(task\_id, state.get\_id())
647                             agent.onboard\_data = state.onboard\_data
648                             state.assign\_agent\_to\_task(agent, task\_id)
649                             state.set\_active\_agent(agent)
650                             agents.append(agent)
651                             \textcolor{comment}{# reset wait message state}
652                             state.stored\_data[\textcolor{stringliteral}{'seen\_wait\_message'}] = \textcolor{keyword}{False}
653                         assign\_role\_function = shared\_utils.get\_assign\_roles\_fn(
654                             self.world\_module, self.taskworld\_map[world\_type]
655                         )
656                         \textcolor{keywordflow}{if} assign\_role\_function \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
657                             assign\_role\_function = shared\_utils.default\_assign\_roles\_fn
658                         assign\_role\_function(agents)
659                         \textcolor{comment}{# Allow task creator to filter out workers and run}
660                         \textcolor{comment}{# versions of the task that require fewer agents}
661                         agents = [a \textcolor{keywordflow}{for} a \textcolor{keywordflow}{in} agents \textcolor{keywordflow}{if} a.disp\_id \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}]
662                         \textcolor{keywordflow}{for} a \textcolor{keywordflow}{in} agents:
663                             \textcolor{comment}{# Remove selected workers from the agent pool}
664                             self.remove\_agent\_from\_pool(
665                                 self.get\_agent\_state(a.id),
666                                 world\_type=world\_type,
667                                 mark\_removed=\textcolor{keyword}{False},
668                             )
669                         \textcolor{keywordflow}{for} a \textcolor{keywordflow}{in} agents:
670                             partner\_list = agents.copy()
671                             partner\_list.remove(a)
672                             a.message\_partners = partner\_list
673                         \textcolor{comment}{# launch task world.}
674                         future = self.world\_runner.launch\_task\_world(
675                             task\_id, self.taskworld\_map[world\_type], agents
676                         )
677                         future.add\_done\_callback(\_done\_callback)
678                         self.active\_worlds[task\_id] = future
679 
680             time.sleep(shared\_utils.THREAD\_MEDIUM\_SLEEP)
681 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a7e2ef8f0e63e1078cbffccbcaa6719b0}\label{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a7e2ef8f0e63e1078cbffccbcaa6719b0}} 
\index{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}!upload\+\_\+attachment@{upload\+\_\+attachment}}
\index{upload\+\_\+attachment@{upload\+\_\+attachment}!parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}}
\subsubsection{\texorpdfstring{upload\+\_\+attachment()}{upload\_attachment()}}
{\footnotesize\ttfamily def parlai.\+chat\+\_\+service.\+core.\+chat\+\_\+service\+\_\+manager.\+Chat\+Service\+Manager.\+upload\+\_\+attachment (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{payload }\end{DoxyParamCaption})}

\begin{DoxyVerb}Upload an attachment and return an attachment ID.

:param payload:
    dict with the following format:
{'type': <TYPE>, 'url': <URL>} or
{'type': <TYPE>, 'filename': <FILENAME>, 'format': <FILEFORMAT>}.
For example,
{'type': 'image', 'filename': 'test.png', 'format': 'png'}
\end{DoxyVerb}
 

Definition at line 760 of file chat\+\_\+service\+\_\+manager.\+py.


\begin{DoxyCode}
760     \textcolor{keyword}{def }upload\_attachment(self, payload):
761         \textcolor{stringliteral}{"""}
762 \textcolor{stringliteral}{        Upload an attachment and return an attachment ID.}
763 \textcolor{stringliteral}{}
764 \textcolor{stringliteral}{        :param payload:}
765 \textcolor{stringliteral}{            dict with the following format:}
766 \textcolor{stringliteral}{                \{'type': <TYPE>, 'url': <URL>\} or}
767 \textcolor{stringliteral}{                \{'type': <TYPE>, 'filename': <FILENAME>, 'format': <FILEFORMAT>\}.}
768 \textcolor{stringliteral}{                For example,}
769 \textcolor{stringliteral}{                \{'type': 'image', 'filename': 'test.png', 'format': 'png'\}}
770 \textcolor{stringliteral}{        """}
771         \textcolor{keywordflow}{pass}
772 \end{DoxyCode}


\subsection{Member Data Documentation}
\mbox{\Hypertarget{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a3bfa14f0b887a82a34379087c64afda5}\label{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a3bfa14f0b887a82a34379087c64afda5}} 
\index{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}!active\+\_\+worlds@{active\+\_\+worlds}}
\index{active\+\_\+worlds@{active\+\_\+worlds}!parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}}
\subsubsection{\texorpdfstring{active\+\_\+worlds}{active\_worlds}}
{\footnotesize\ttfamily parlai.\+chat\+\_\+service.\+core.\+chat\+\_\+service\+\_\+manager.\+Chat\+Service\+Manager.\+active\+\_\+worlds}



Definition at line 141 of file chat\+\_\+service\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a95cfe72f24052f0a7255704beb482696}\label{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a95cfe72f24052f0a7255704beb482696}} 
\index{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}!agent\+\_\+id\+\_\+to\+\_\+overworld\+\_\+future@{agent\+\_\+id\+\_\+to\+\_\+overworld\+\_\+future}}
\index{agent\+\_\+id\+\_\+to\+\_\+overworld\+\_\+future@{agent\+\_\+id\+\_\+to\+\_\+overworld\+\_\+future}!parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}}
\subsubsection{\texorpdfstring{agent\+\_\+id\+\_\+to\+\_\+overworld\+\_\+future}{agent\_id\_to\_overworld\_future}}
{\footnotesize\ttfamily parlai.\+chat\+\_\+service.\+core.\+chat\+\_\+service\+\_\+manager.\+Chat\+Service\+Manager.\+agent\+\_\+id\+\_\+to\+\_\+overworld\+\_\+future}



Definition at line 522 of file chat\+\_\+service\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_ab982b846a998e063c07a0edc5f8d34ef}\label{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_ab982b846a998e063c07a0edc5f8d34ef}} 
\index{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}!agent\+\_\+pool@{agent\+\_\+pool}}
\index{agent\+\_\+pool@{agent\+\_\+pool}!parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}}
\subsubsection{\texorpdfstring{agent\+\_\+pool}{agent\_pool}}
{\footnotesize\ttfamily parlai.\+chat\+\_\+service.\+core.\+chat\+\_\+service\+\_\+manager.\+Chat\+Service\+Manager.\+agent\+\_\+pool}



Definition at line 519 of file chat\+\_\+service\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_ab98d0910f1569bba83504cc83818f311}\label{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_ab98d0910f1569bba83504cc83818f311}} 
\index{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}!agent\+\_\+pool\+\_\+change\+\_\+condition@{agent\+\_\+pool\+\_\+change\+\_\+condition}}
\index{agent\+\_\+pool\+\_\+change\+\_\+condition@{agent\+\_\+pool\+\_\+change\+\_\+condition}!parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}}
\subsubsection{\texorpdfstring{agent\+\_\+pool\+\_\+change\+\_\+condition}{agent\_pool\_change\_condition}}
{\footnotesize\ttfamily parlai.\+chat\+\_\+service.\+core.\+chat\+\_\+service\+\_\+manager.\+Chat\+Service\+Manager.\+agent\+\_\+pool\+\_\+change\+\_\+condition}



Definition at line 140 of file chat\+\_\+service\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_ae3f0f7211dd3cc1e7866cabc0ad1edea}\label{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_ae3f0f7211dd3cc1e7866cabc0ad1edea}} 
\index{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}!bypass\+\_\+server\+\_\+setup@{bypass\+\_\+server\+\_\+setup}}
\index{bypass\+\_\+server\+\_\+setup@{bypass\+\_\+server\+\_\+setup}!parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}}
\subsubsection{\texorpdfstring{bypass\+\_\+server\+\_\+setup}{bypass\_server\_setup}}
{\footnotesize\ttfamily parlai.\+chat\+\_\+service.\+core.\+chat\+\_\+service\+\_\+manager.\+Chat\+Service\+Manager.\+bypass\+\_\+server\+\_\+setup}



Definition at line 147 of file chat\+\_\+service\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a4e1bd15140c4c05d5bd4532509e348f6}\label{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a4e1bd15140c4c05d5bd4532509e348f6}} 
\index{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}!config@{config}}
\index{config@{config}!parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}}
\subsubsection{\texorpdfstring{config}{config}}
{\footnotesize\ttfamily parlai.\+chat\+\_\+service.\+core.\+chat\+\_\+service\+\_\+manager.\+Chat\+Service\+Manager.\+config}



Definition at line 168 of file chat\+\_\+service\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a961ea57ba03f883429e2aa671e335959}\label{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a961ea57ba03f883429e2aa671e335959}} 
\index{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}!confirm\+\_\+message\+\_\+delivery@{confirm\+\_\+message\+\_\+delivery}}
\index{confirm\+\_\+message\+\_\+delivery@{confirm\+\_\+message\+\_\+delivery}!parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}}
\subsubsection{\texorpdfstring{confirm\+\_\+message\+\_\+delivery}{confirm\_message\_delivery}}
{\footnotesize\ttfamily parlai.\+chat\+\_\+service.\+core.\+chat\+\_\+service\+\_\+manager.\+Chat\+Service\+Manager.\+confirm\+\_\+message\+\_\+delivery}



Definition at line 152 of file chat\+\_\+service\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_adc24f05c8e35ba4f57ee82c0b4438a6d}\label{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_adc24f05c8e35ba4f57ee82c0b4438a6d}} 
\index{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}!conversation\+\_\+index@{conversation\+\_\+index}}
\index{conversation\+\_\+index@{conversation\+\_\+index}!parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}}
\subsubsection{\texorpdfstring{conversation\+\_\+index}{conversation\_index}}
{\footnotesize\ttfamily parlai.\+chat\+\_\+service.\+core.\+chat\+\_\+service\+\_\+manager.\+Chat\+Service\+Manager.\+conversation\+\_\+index}



Definition at line 145 of file chat\+\_\+service\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a4af7233de6465a81269ec00b1dd3ddff}\label{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a4af7233de6465a81269ec00b1dd3ddff}} 
\index{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}!handle\+\_\+bot\+\_\+read@{handle\+\_\+bot\+\_\+read}}
\index{handle\+\_\+bot\+\_\+read@{handle\+\_\+bot\+\_\+read}!parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}}
\subsubsection{\texorpdfstring{handle\+\_\+bot\+\_\+read}{handle\_bot\_read}}
{\footnotesize\ttfamily parlai.\+chat\+\_\+service.\+core.\+chat\+\_\+service\+\_\+manager.\+Chat\+Service\+Manager.\+handle\+\_\+bot\+\_\+read}



Definition at line 154 of file chat\+\_\+service\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_affcc81de322ce48f5fe0d3c28638b620}\label{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_affcc81de322ce48f5fe0d3c28638b620}} 
\index{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}!handle\+\_\+message\+\_\+read@{handle\+\_\+message\+\_\+read}}
\index{handle\+\_\+message\+\_\+read@{handle\+\_\+message\+\_\+read}!parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}}
\subsubsection{\texorpdfstring{handle\+\_\+message\+\_\+read}{handle\_message\_read}}
{\footnotesize\ttfamily parlai.\+chat\+\_\+service.\+core.\+chat\+\_\+service\+\_\+manager.\+Chat\+Service\+Manager.\+handle\+\_\+message\+\_\+read}



Definition at line 153 of file chat\+\_\+service\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_ad154fa2182cccec455c370ad623dbc1b}\label{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_ad154fa2182cccec455c370ad623dbc1b}} 
\index{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}!is\+\_\+running@{is\+\_\+running}}
\index{is\+\_\+running@{is\+\_\+running}!parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}}
\subsubsection{\texorpdfstring{is\+\_\+running}{is\_running}}
{\footnotesize\ttfamily parlai.\+chat\+\_\+service.\+core.\+chat\+\_\+service\+\_\+manager.\+Chat\+Service\+Manager.\+is\+\_\+running}



Definition at line 687 of file chat\+\_\+service\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a9f41f363fcd18a968cf500f6b6f2e384}\label{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a9f41f363fcd18a968cf500f6b6f2e384}} 
\index{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}!max\+\_\+agents\+\_\+for@{max\+\_\+agents\+\_\+for}}
\index{max\+\_\+agents\+\_\+for@{max\+\_\+agents\+\_\+for}!parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}}
\subsubsection{\texorpdfstring{max\+\_\+agents\+\_\+for}{max\_agents\_for}}
{\footnotesize\ttfamily parlai.\+chat\+\_\+service.\+core.\+chat\+\_\+service\+\_\+manager.\+Chat\+Service\+Manager.\+max\+\_\+agents\+\_\+for}



Definition at line 180 of file chat\+\_\+service\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a08ffd7417963c50190204d563bc84ac2}\label{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a08ffd7417963c50190204d563bc84ac2}} 
\index{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}!max\+\_\+workers@{max\+\_\+workers}}
\index{max\+\_\+workers@{max\+\_\+workers}!parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}}
\subsubsection{\texorpdfstring{max\+\_\+workers}{max\_workers}}
{\footnotesize\ttfamily parlai.\+chat\+\_\+service.\+core.\+chat\+\_\+service\+\_\+manager.\+Chat\+Service\+Manager.\+max\+\_\+workers}



Definition at line 173 of file chat\+\_\+service\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a1bf9066fb32ee5d49882b87f38ef1e65}\label{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a1bf9066fb32ee5d49882b87f38ef1e65}} 
\index{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}!messenger\+\_\+agent\+\_\+states@{messenger\+\_\+agent\+\_\+states}}
\index{messenger\+\_\+agent\+\_\+states@{messenger\+\_\+agent\+\_\+states}!parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}}
\subsubsection{\texorpdfstring{messenger\+\_\+agent\+\_\+states}{messenger\_agent\_states}}
{\footnotesize\ttfamily parlai.\+chat\+\_\+service.\+core.\+chat\+\_\+service\+\_\+manager.\+Chat\+Service\+Manager.\+messenger\+\_\+agent\+\_\+states}



Definition at line 520 of file chat\+\_\+service\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a03febcdeeae95b1cd8bbd22b5e233a94}\label{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a03febcdeeae95b1cd8bbd22b5e233a94}} 
\index{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}!onboard\+\_\+map@{onboard\+\_\+map}}
\index{onboard\+\_\+map@{onboard\+\_\+map}!parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}}
\subsubsection{\texorpdfstring{onboard\+\_\+map}{onboard\_map}}
{\footnotesize\ttfamily parlai.\+chat\+\_\+service.\+core.\+chat\+\_\+service\+\_\+manager.\+Chat\+Service\+Manager.\+onboard\+\_\+map}



Definition at line 183 of file chat\+\_\+service\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a418cecffd5c3e0d6a00919eaa837d0e2}\label{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a418cecffd5c3e0d6a00919eaa837d0e2}} 
\index{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}!opt@{opt}}
\index{opt@{opt}!parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}}
\subsubsection{\texorpdfstring{opt}{opt}}
{\footnotesize\ttfamily parlai.\+chat\+\_\+service.\+core.\+chat\+\_\+service\+\_\+manager.\+Chat\+Service\+Manager.\+opt}



Definition at line 137 of file chat\+\_\+service\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_aef71f552979c933abf8d14fa7b705d84}\label{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_aef71f552979c933abf8d14fa7b705d84}} 
\index{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}!overworld@{overworld}}
\index{overworld@{overworld}!parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}}
\subsubsection{\texorpdfstring{overworld}{overworld}}
{\footnotesize\ttfamily parlai.\+chat\+\_\+service.\+core.\+chat\+\_\+service\+\_\+manager.\+Chat\+Service\+Manager.\+overworld}



Definition at line 169 of file chat\+\_\+service\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_ad1cba76da68c1daaf754c6648438b36c}\label{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_ad1cba76da68c1daaf754c6648438b36c}} 
\index{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}!port@{port}}
\index{port@{port}!parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}}
\subsubsection{\texorpdfstring{port}{port}}
{\footnotesize\ttfamily parlai.\+chat\+\_\+service.\+core.\+chat\+\_\+service\+\_\+manager.\+Chat\+Service\+Manager.\+port}



Definition at line 139 of file chat\+\_\+service\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_aa4f6b3b4880c31e8fd260a82037a6c6e}\label{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_aa4f6b3b4880c31e8fd260a82037a6c6e}} 
\index{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}!run\+\_\+id@{run\+\_\+id}}
\index{run\+\_\+id@{run\+\_\+id}!parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}}
\subsubsection{\texorpdfstring{run\+\_\+id}{run\_id}}
{\footnotesize\ttfamily parlai.\+chat\+\_\+service.\+core.\+chat\+\_\+service\+\_\+manager.\+Chat\+Service\+Manager.\+run\+\_\+id}



Definition at line 528 of file chat\+\_\+service\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a83840a87ecf69e02a8c63031fcaf8cfb}\label{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a83840a87ecf69e02a8c63031fcaf8cfb}} 
\index{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}!runner\+\_\+opt@{runner\+\_\+opt}}
\index{runner\+\_\+opt@{runner\+\_\+opt}!parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}}
\subsubsection{\texorpdfstring{runner\+\_\+opt}{runner\_opt}}
{\footnotesize\ttfamily parlai.\+chat\+\_\+service.\+core.\+chat\+\_\+service\+\_\+manager.\+Chat\+Service\+Manager.\+runner\+\_\+opt}



Definition at line 176 of file chat\+\_\+service\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_aadd2de5a563633cf2e910c38763c6af3}\label{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_aadd2de5a563633cf2e910c38763c6af3}} 
\index{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}!running@{running}}
\index{running@{running}!parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}}
\subsubsection{\texorpdfstring{running}{running}}
{\footnotesize\ttfamily parlai.\+chat\+\_\+service.\+core.\+chat\+\_\+service\+\_\+manager.\+Chat\+Service\+Manager.\+running}



Definition at line 144 of file chat\+\_\+service\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a641111138490de3a2ff2f484c11c7f9e}\label{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a641111138490de3a2ff2f484c11c7f9e}} 
\index{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}!sender@{sender}}
\index{sender@{sender}!parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}}
\subsubsection{\texorpdfstring{sender}{sender}}
{\footnotesize\ttfamily parlai.\+chat\+\_\+service.\+core.\+chat\+\_\+service\+\_\+manager.\+Chat\+Service\+Manager.\+sender}



Definition at line 143 of file chat\+\_\+service\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a6b02e3c111eb48e4a3ad12540da0b0e5}\label{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a6b02e3c111eb48e4a3ad12540da0b0e5}} 
\index{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}!server\+\_\+url@{server\+\_\+url}}
\index{server\+\_\+url@{server\+\_\+url}!parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}}
\subsubsection{\texorpdfstring{server\+\_\+url}{server\_url}}
{\footnotesize\ttfamily parlai.\+chat\+\_\+service.\+core.\+chat\+\_\+service\+\_\+manager.\+Chat\+Service\+Manager.\+server\+\_\+url}



Definition at line 138 of file chat\+\_\+service\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a478ea28f63025fc186390230b3bbc65a}\label{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a478ea28f63025fc186390230b3bbc65a}} 
\index{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}!service\+\_\+reference\+\_\+id@{service\+\_\+reference\+\_\+id}}
\index{service\+\_\+reference\+\_\+id@{service\+\_\+reference\+\_\+id}!parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}}
\subsubsection{\texorpdfstring{service\+\_\+reference\+\_\+id}{service\_reference\_id}}
{\footnotesize\ttfamily parlai.\+chat\+\_\+service.\+core.\+chat\+\_\+service\+\_\+manager.\+Chat\+Service\+Manager.\+service\+\_\+reference\+\_\+id}



Definition at line 321 of file chat\+\_\+service\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_afa37746d3f66c529ecc64157ce50041a}\label{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_afa37746d3f66c529ecc64157ce50041a}} 
\index{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}!shutting\+\_\+down@{shutting\+\_\+down}}
\index{shutting\+\_\+down@{shutting\+\_\+down}!parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}}
\subsubsection{\texorpdfstring{shutting\+\_\+down}{shutting\_down}}
{\footnotesize\ttfamily parlai.\+chat\+\_\+service.\+core.\+chat\+\_\+service\+\_\+manager.\+Chat\+Service\+Manager.\+shutting\+\_\+down}



Definition at line 146 of file chat\+\_\+service\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a1aa15c8e11b465d78e92559b201ed2d8}\label{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a1aa15c8e11b465d78e92559b201ed2d8}} 
\index{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}!socket@{socket}}
\index{socket@{socket}!parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}}
\subsubsection{\texorpdfstring{socket}{socket}}
{\footnotesize\ttfamily parlai.\+chat\+\_\+service.\+core.\+chat\+\_\+service\+\_\+manager.\+Chat\+Service\+Manager.\+socket}



Definition at line 142 of file chat\+\_\+service\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_aee1d6a6d12a1f9f71a134bdfe69f5c93}\label{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_aee1d6a6d12a1f9f71a134bdfe69f5c93}} 
\index{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}!task\+\_\+configs@{task\+\_\+configs}}
\index{task\+\_\+configs@{task\+\_\+configs}!parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}}
\subsubsection{\texorpdfstring{task\+\_\+configs}{task\_configs}}
{\footnotesize\ttfamily parlai.\+chat\+\_\+service.\+core.\+chat\+\_\+service\+\_\+manager.\+Chat\+Service\+Manager.\+task\+\_\+configs}



Definition at line 172 of file chat\+\_\+service\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a80987a1dfe80102af73854d8b4d7a692}\label{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a80987a1dfe80102af73854d8b4d7a692}} 
\index{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}!task\+\_\+group\+\_\+id@{task\+\_\+group\+\_\+id}}
\index{task\+\_\+group\+\_\+id@{task\+\_\+group\+\_\+id}!parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}}
\subsubsection{\texorpdfstring{task\+\_\+group\+\_\+id}{task\_group\_id}}
{\footnotesize\ttfamily parlai.\+chat\+\_\+service.\+core.\+chat\+\_\+service\+\_\+manager.\+Chat\+Service\+Manager.\+task\+\_\+group\+\_\+id}



Definition at line 529 of file chat\+\_\+service\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a88fb563c2ecbcc29ec35efc35243ec74}\label{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a88fb563c2ecbcc29ec35efc35243ec74}} 
\index{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}!task\+\_\+to\+\_\+agent\+\_\+ids@{task\+\_\+to\+\_\+agent\+\_\+ids}}
\index{task\+\_\+to\+\_\+agent\+\_\+ids@{task\+\_\+to\+\_\+agent\+\_\+ids}!parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}}
\subsubsection{\texorpdfstring{task\+\_\+to\+\_\+agent\+\_\+ids}{task\_to\_agent\_ids}}
{\footnotesize\ttfamily parlai.\+chat\+\_\+service.\+core.\+chat\+\_\+service\+\_\+manager.\+Chat\+Service\+Manager.\+task\+\_\+to\+\_\+agent\+\_\+ids}



Definition at line 521 of file chat\+\_\+service\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_aebfefd750e2b1bc9f0bbf629467735bd}\label{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_aebfefd750e2b1bc9f0bbf629467735bd}} 
\index{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}!taskworld\+\_\+map@{taskworld\+\_\+map}}
\index{taskworld\+\_\+map@{taskworld\+\_\+map}!parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}}
\subsubsection{\texorpdfstring{taskworld\+\_\+map}{taskworld\_map}}
{\footnotesize\ttfamily parlai.\+chat\+\_\+service.\+core.\+chat\+\_\+service\+\_\+manager.\+Chat\+Service\+Manager.\+taskworld\+\_\+map}



Definition at line 186 of file chat\+\_\+service\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a873c88a1b6ac7adbb0ca27deaa833a96}\label{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a873c88a1b6ac7adbb0ca27deaa833a96}} 
\index{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}!world\+\_\+module@{world\+\_\+module}}
\index{world\+\_\+module@{world\+\_\+module}!parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}}
\subsubsection{\texorpdfstring{world\+\_\+module}{world\_module}}
{\footnotesize\ttfamily parlai.\+chat\+\_\+service.\+core.\+chat\+\_\+service\+\_\+manager.\+Chat\+Service\+Manager.\+world\+\_\+module}



Definition at line 171 of file chat\+\_\+service\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a93bedf3802d1fa5ad666984ea17c0f35}\label{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_a93bedf3802d1fa5ad666984ea17c0f35}} 
\index{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}!world\+\_\+path@{world\+\_\+path}}
\index{world\+\_\+path@{world\+\_\+path}!parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}}
\subsubsection{\texorpdfstring{world\+\_\+path}{world\_path}}
{\footnotesize\ttfamily parlai.\+chat\+\_\+service.\+core.\+chat\+\_\+service\+\_\+manager.\+Chat\+Service\+Manager.\+world\+\_\+path}



Definition at line 170 of file chat\+\_\+service\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_aa0d3b75513f393394d5ca548f7b99352}\label{classparlai_1_1chat__service_1_1core_1_1chat__service__manager_1_1ChatServiceManager_aa0d3b75513f393394d5ca548f7b99352}} 
\index{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}!world\+\_\+runner@{world\+\_\+runner}}
\index{world\+\_\+runner@{world\+\_\+runner}!parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager@{parlai\+::chat\+\_\+service\+::core\+::chat\+\_\+service\+\_\+manager\+::\+Chat\+Service\+Manager}}
\subsubsection{\texorpdfstring{world\+\_\+runner}{world\_runner}}
{\footnotesize\ttfamily parlai.\+chat\+\_\+service.\+core.\+chat\+\_\+service\+\_\+manager.\+Chat\+Service\+Manager.\+world\+\_\+runner}



Definition at line 177 of file chat\+\_\+service\+\_\+manager.\+py.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
parlai/chat\+\_\+service/core/\hyperlink{chat__service__manager_8py}{chat\+\_\+service\+\_\+manager.\+py}\end{DoxyCompactItemize}
