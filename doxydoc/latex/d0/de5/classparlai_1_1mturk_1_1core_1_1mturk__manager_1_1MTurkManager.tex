\hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager}{}\section{parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager Class Reference}
\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager}\index{parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager@{parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager}}


Inheritance diagram for parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=233pt]{d0/d4d/classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager__inherit__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a0ad49b45ee05a62062d4e680c6e6323e}{\+\_\+\+\_\+init\+\_\+\+\_\+} (self, \hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a1167cb8359db58221b2843554731cf1b}{opt}, \hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a87bbfdb15a8c5d57488bcd140cd1ede7}{mturk\+\_\+agent\+\_\+ids}, \hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_aba2c8855ba4baadd54a42a834aaf75bd}{is\+\_\+test}=False, \hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_ac0df4861da4263b50fd578e9506354b8}{use\+\_\+db}=False)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a9368a0f0fa8eb1791e4a4206ce291e25}{is\+\_\+onboarding\+\_\+world} (self, conversation\+\_\+id)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a09d491450292c9ce3da629fab48dda54}{is\+\_\+waiting\+\_\+world} (self, conversation\+\_\+id)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a1c840892de0be91505aaed2ba01dfafe}{is\+\_\+task\+\_\+world} (self, conversation\+\_\+id)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a0db9fb228caa9632dac18268f380771f}{populate\+\_\+legacy\+\_\+task\+\_\+files} (self, task\+\_\+directory\+\_\+path)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a017804b28f3f57802dce14941e25903a}{populate\+\_\+task\+\_\+files} (self, task\+\_\+directory\+\_\+path)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a3d662cb80767e781d91c6c87c2ef54b5}{setup\+\_\+server} (self, task\+\_\+directory\+\_\+path=None)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a02acff72f25ec7a77edca9489fe3b804}{start\+\_\+new\+\_\+run} (self)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a87cd3cf9d61dd1d0683e9e7b5359eb53}{ready\+\_\+to\+\_\+accept\+\_\+workers} (self, timeout\+\_\+seconds=None)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a450a6985e5d7f33a9e7d2a3f92503eca}{set\+\_\+onboard\+\_\+function} (self, \hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a4166f7b21495f2451d0fd90a716903f8}{onboard\+\_\+function})
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a30fec0658e0f98228c10ef0667519f97}{start\+\_\+task} (self, eligibility\+\_\+function, assign\+\_\+role\+\_\+function, task\+\_\+function)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_afe84a023a6c77a9af64409bb460dd522}{shutdown} (self, force=False)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_aed4375d01be65944318d695adbac88af}{force\+\_\+expire\+\_\+hit} (self, worker\+\_\+id, assign\+\_\+id, text=None, ack\+\_\+func=None)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_ab93fd934d00fbf971ca299e77db152d5}{handle\+\_\+turker\+\_\+timeout} (self, worker\+\_\+id, assign\+\_\+id)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a461d68a9cb665b1745442da16ba1584e}{send\+\_\+message} (self, receiver\+\_\+id, assignment\+\_\+id, data, blocking=True, ack\+\_\+func=None)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_aee5b70ddae99ec326b6c512c29f740a3}{send\+\_\+command} (self, receiver\+\_\+id, assignment\+\_\+id, data, blocking=True, ack\+\_\+func=None)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_aeddd0db97149313d3a5fcf04e78c42f5}{mark\+\_\+workers\+\_\+done} (self, workers)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a711cbcf874261a23adb8d7b2a630634c}{free\+\_\+workers} (self, workers)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a4e33195c70fe3471fe51c18c2c235121}{get\+\_\+agent\+\_\+work\+\_\+status} (self, assignment\+\_\+id)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a3466e2c936edfc55727d1bd3ac71cfb6}{get\+\_\+qualification\+\_\+list} (self, \hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a7081daf8eaf838de1f220dd0074abe42}{qualifications}=None)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_ae192d527cf9dcf694d8111fb283aa5d7}{create\+\_\+additional\+\_\+hits} (self, num\+\_\+hits, \hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a7081daf8eaf838de1f220dd0074abe42}{qualifications}=None)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_acd01b6d3cd60d04e679b2bdab7b0a09d}{create\+\_\+hits} (self, \hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a7081daf8eaf838de1f220dd0074abe42}{qualifications}=None)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_ab4276a818e7845b08f9f4c08920050dc}{get\+\_\+hit} (self, hit\+\_\+id)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a986cd32c3359df8228feca69d3ba7637}{get\+\_\+assignment} (self, assignment\+\_\+id)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a87d3096941e232227de762b3a8260f3d}{get\+\_\+assignments\+\_\+for\+\_\+hit} (self, hit\+\_\+id)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a063250ea0ea08fe75ab3bb5aee637138}{expire\+\_\+all\+\_\+unassigned\+\_\+hits} (self)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a0accb6612484648ec2666c01a3597cf8}{approve\+\_\+work} (self, assignment\+\_\+id, override\+\_\+rejection=False)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a06b4f16cfaf41feb192c79fcfa7407a3}{reject\+\_\+work} (self, assignment\+\_\+id, reason)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a67335e20ae360682d0b5681a7446492e}{approve\+\_\+assignments\+\_\+for\+\_\+hit} (self, hit\+\_\+id, override\+\_\+rejection=False)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a10c0ba44b2e46b1644620e2d496458af}{block\+\_\+worker} (self, worker\+\_\+id, reason)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_aa9b385ef48553d3150e195fe82d24c88}{soft\+\_\+block\+\_\+worker} (self, worker\+\_\+id, qual=\textquotesingle{}block\+\_\+qualification\textquotesingle{})
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_acaeeefcf862de982fdfcbeb26036aab9}{un\+\_\+soft\+\_\+block\+\_\+worker} (self, worker\+\_\+id, qual=\textquotesingle{}block\+\_\+qualification\textquotesingle{})
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a6df9024b28007db08c481a218e6b4fca}{give\+\_\+worker\+\_\+qualification} (self, worker\+\_\+id, qual\+\_\+name, qual\+\_\+value=None)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_aa96771f455f9e041b4d0105ef20de99a}{remove\+\_\+worker\+\_\+qualification} (self, worker\+\_\+id, qual\+\_\+name, reason=\textquotesingle{}\textquotesingle{})
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a663af5f8cfa1c984439c2344d528f223}{create\+\_\+qualification} (self, qualification\+\_\+name, description, can\+\_\+exist=True)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_ad4ee676f38d610a5eb43aadf105237f4}{pay\+\_\+bonus} (self, worker\+\_\+id, bonus\+\_\+amount, assignment\+\_\+id, reason, unique\+\_\+request\+\_\+token)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_afd2e53ad36f1975af45cc64c0940a41f}{email\+\_\+worker} (self, worker\+\_\+id, subject, message\+\_\+text)
\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a6116c50263088c2c560f41be7b7bb5f3}{make\+\_\+taskless\+\_\+instance} (\hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a03da264fcd7749e299714ba9ea0f1af0}{is\+\_\+sandbox}=False)
\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a1167cb8359db58221b2843554731cf1b}{opt}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a498ab33751e066efb2887a0569e63eaa}{server\+\_\+url}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a5214fff44afe69cfeda3937e6c371200}{topic\+\_\+arn}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a47f60b6caf7eac407d1f8b34c37141e3}{server\+\_\+task\+\_\+name}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a43a266ab76a8ccaf36bd3656ca1f1238}{port}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_ab1db971037f660cc2809748aa9bcd51d}{task\+\_\+group\+\_\+id}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_aa494ad0cdad092ee7acde6f89cb61d6a}{run\+\_\+id}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a87bbfdb15a8c5d57488bcd140cd1ede7}{mturk\+\_\+agent\+\_\+ids}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a26700e334c3ba674abca4e02d05f8d9e}{task\+\_\+files\+\_\+to\+\_\+copy}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a03da264fcd7749e299714ba9ea0f1af0}{is\+\_\+sandbox}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_afc99b8e79f6d19d4e87ed2bf74d0749f}{agent\+\_\+pool\+\_\+change\+\_\+condition}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a4166f7b21495f2451d0fd90a716903f8}{onboard\+\_\+function}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a68847473549bc89eac1b17b909385fad}{num\+\_\+conversations}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a37297ae4877402249a251286b738d07e}{hit\+\_\+mult}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a0b73f656d2d3ea156064c1310b4c74ce}{required\+\_\+hits}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a3f93a044c1753f755ac24aa71184b261}{minimum\+\_\+messages}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_af3355b3bfbf0761d40a9e3cd059b8359}{auto\+\_\+approve\+\_\+delay}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a2572c7b15012b9a79d2bcfe0a2917af1}{has\+\_\+time\+\_\+limit}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_ac8b8af9b62145a183a7f2f7d17efbc33}{socket\+\_\+manager}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a5bc8548db9b1f627e5cef6b04967acab}{worker\+\_\+manager}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_aba2c8855ba4baadd54a42a834aaf75bd}{is\+\_\+test}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a238ad8790103da215e388fcc90e919b8}{is\+\_\+unique}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_abf876c8b999997daca4db9657b4fcab6}{max\+\_\+hits\+\_\+per\+\_\+worker}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_ab278d4d5a10db2b1aa8d8eef0aea98a8}{is\+\_\+shutdown}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_ac0df4861da4263b50fd578e9506354b8}{use\+\_\+db}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a9877300474aaa6b560aa27b9a833cfa3}{db\+\_\+logger}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a37343952caabff1e598a30a0075d2ff3}{logging\+\_\+permitted}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a3080e2f307c97b28ed726bc348111d7a}{task\+\_\+state}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_ae30297040a80846f573273f0e12d5f81}{tmp\+\_\+dir}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a567d09c7df5f58b0c79ac3eea7cdf95a}{agent\+\_\+pool}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a4a980c45e1c4d2df227020da4ebbc0c3}{hit\+\_\+id\+\_\+list}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_af25500206d585c78399da498407ca054}{assignment\+\_\+to\+\_\+onboard\+\_\+thread}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a5309b4486f11f829fdd6d9763bf92b63}{conversation\+\_\+index}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_ade30235258257912d336b6dee8dca98e}{started\+\_\+conversations}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a9892d6c011119933cd3dce23cce024bf}{completed\+\_\+conversations}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_aabd31df46e7c30c71a8e231ea34fde82}{task\+\_\+threads}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_ae070143dc4cbb806d0687c7777f0c422}{accepting\+\_\+workers}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a7081daf8eaf838de1f220dd0074abe42}{qualifications}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a22eae4406b677257f5dacfc49389bb5d}{unique\+\_\+qual\+\_\+name}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a1d84d948213819fc031e0b89baba16e0}{time\+\_\+limit\+\_\+checked}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_ad55657cd8c2e23fe10b77929d37f18a5}{last\+\_\+hit\+\_\+check}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a4a09d697e17582f5e59fcabe94ae050c}{max\+\_\+time\+\_\+qual}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a52a8363228821f761b20c4dd5756970a}{unique\+\_\+qual\+\_\+id}
\end{DoxyCompactItemize}
\subsection*{Static Public Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a68e114fed1b4dd106918d9c0de86075b}{S\+T\+A\+T\+E\+\_\+\+C\+R\+E\+A\+T\+ED}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a614fcb4f1df8b5c9c453dcd55e2dd29c}{S\+T\+A\+T\+E\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+A\+L\+I\+VE}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a5ea29af39d36c6ab07fb33b3d41885a9}{S\+T\+A\+T\+E\+\_\+\+I\+N\+I\+T\+\_\+\+R\+UN}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a04a9154321ca158c5d5a9e35f17fb4e9}{S\+T\+A\+T\+E\+\_\+\+A\+C\+C\+E\+P\+T\+I\+N\+G\+\_\+\+W\+O\+R\+K\+E\+RS}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a615de083816ca78aac6ca7208b24ed1c}{S\+T\+A\+T\+E\+\_\+\+H\+I\+T\+S\+\_\+\+M\+A\+DE}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
\begin{DoxyVerb}Manages interactions between MTurk agents as well as direct interactions between a
world and the MTurk server.
\end{DoxyVerb}
 

Definition at line 100 of file mturk\+\_\+manager.\+py.



\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a0ad49b45ee05a62062d4e680c6e6323e}\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a0ad49b45ee05a62062d4e680c6e6323e}} 
\index{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}!\+\_\+\+\_\+init\+\_\+\+\_\+@{\+\_\+\+\_\+init\+\_\+\+\_\+}}
\index{\+\_\+\+\_\+init\+\_\+\+\_\+@{\+\_\+\+\_\+init\+\_\+\+\_\+}!parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}}
\subsubsection{\texorpdfstring{\+\_\+\+\_\+init\+\_\+\+\_\+()}{\_\_init\_\_()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager.\+\_\+\+\_\+init\+\_\+\+\_\+ (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{opt,  }\item[{}]{mturk\+\_\+agent\+\_\+ids,  }\item[{}]{is\+\_\+test = {\ttfamily False},  }\item[{}]{use\+\_\+db = {\ttfamily False} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Create an MTurkManager using the given setup opts and a list of agent_ids that
will participate in each conversation.
\end{DoxyVerb}
 

Definition at line 112 of file mturk\+\_\+manager.\+py.


\begin{DoxyCode}
112     \textcolor{keyword}{def }\_\_init\_\_(self, opt, mturk\_agent\_ids, is\_test=False, use\_db=False):
113         \textcolor{stringliteral}{"""}
114 \textcolor{stringliteral}{        Create an MTurkManager using the given setup opts and a list of agent\_ids that}
115 \textcolor{stringliteral}{        will participate in each conversation.}
116 \textcolor{stringliteral}{        """}
117         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} is\_test:
118             \textcolor{keywordflow}{try}:
119                 \textcolor{keyword}{import} parlai\_internal.mturk.configs \textcolor{keyword}{as} local\_configs
120 
121                 opt = local\_configs.apply\_default\_opts(opt)
122             \textcolor{keywordflow}{except} Exception:
123                 \textcolor{comment}{# not all users will be drawing configs from internal settings}
124                 \textcolor{keywordflow}{pass}
125 
126         self.opt = opt
127         \textcolor{keywordflow}{if} self.opt[\textcolor{stringliteral}{'unique\_worker'}]:
128             self.opt[\textcolor{stringliteral}{'allowed\_conversations'}] = 1
129         \textcolor{keywordflow}{elif} (
130             self.opt[\textcolor{stringliteral}{'max\_hits\_per\_worker'}] != 0
131             \textcolor{keywordflow}{and} self.opt[\textcolor{stringliteral}{'allowed\_conversations'}] == 0
132         ):
133             self.opt[\textcolor{stringliteral}{'allowed\_conversations'}] = self.opt[\textcolor{stringliteral}{'max\_hits\_per\_worker'}]
134         self.server\_url = \textcolor{keywordtype}{None}
135         self.topic\_arn = \textcolor{keywordtype}{None}
136         self.server\_task\_name = \textcolor{keywordtype}{None}
137         self.port = 443
138         self.task\_group\_id = \textcolor{keywordtype}{None}
139         self.run\_id = \textcolor{keywordtype}{None}
140         self.mturk\_agent\_ids = mturk\_agent\_ids
141         self.task\_files\_to\_copy = \textcolor{keywordtype}{None}
142         self.is\_sandbox = opt[\textcolor{stringliteral}{'is\_sandbox'}]
143         self.agent\_pool\_change\_condition = threading.Condition()
144         self.onboard\_function = \textcolor{keywordtype}{None}
145         self.num\_conversations = opt[\textcolor{stringliteral}{'num\_conversations'}]
146 
147         \textcolor{comment}{# Determine the correct number of hits to be launching}
148         base\_required\_hits = self.num\_conversations * len(self.mturk\_agent\_ids)
149         \textcolor{keywordflow}{for} hit\_amount, hit\_mult \textcolor{keywordflow}{in} HIT\_MULT\_SCALE:
150             \textcolor{keywordflow}{if} base\_required\_hits >= hit\_amount:
151                 self.hit\_mult = hit\_mult
152                 \textcolor{keywordflow}{break}
153 
154         self.required\_hits = math.ceil(base\_required\_hits * self.hit\_mult)
155         self.minimum\_messages = opt.get(\textcolor{stringliteral}{'min\_messages'}, 0)
156         self.auto\_approve\_delay = opt.get(\textcolor{stringliteral}{'auto\_approve\_delay'}, 4 * 7 * 24 * 3600)
157         self.has\_time\_limit = opt.get(\textcolor{stringliteral}{'max\_time'}, 0) > 0
158         self.socket\_manager = \textcolor{keywordtype}{None}
159         self.worker\_manager = WorkerManager(self, opt)
160         self.is\_test = is\_test
161         self.is\_unique = \textcolor{keyword}{False}
162         self.max\_hits\_per\_worker = opt.get(\textcolor{stringliteral}{'max\_hits\_per\_worker'}, 0)
163         self.is\_shutdown = \textcolor{keyword}{False}
164         self.use\_db = use\_db  \textcolor{comment}{# TODO enable always DB integration is complete}
165         self.db\_logger = \textcolor{keywordtype}{None}
166         self.logging\_permitted = \textcolor{keyword}{False}  \textcolor{comment}{# Enables logging to parl.ai}
167         self.task\_state = self.STATE\_CREATED
168         \textcolor{keywordflow}{if} opt.get(\textcolor{stringliteral}{'tmp\_dir'}) \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
169             opt[\textcolor{stringliteral}{'tmp\_dir'}] = shared\_utils.get\_tmp\_dir()
170         self.tmp\_dir = opt[\textcolor{stringliteral}{'tmp\_dir'}]
171         self.\_init\_logging\_config()
172         self.\_assert\_opts()
173 
\end{DoxyCode}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a67335e20ae360682d0b5681a7446492e}\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a67335e20ae360682d0b5681a7446492e}} 
\index{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}!approve\+\_\+assignments\+\_\+for\+\_\+hit@{approve\+\_\+assignments\+\_\+for\+\_\+hit}}
\index{approve\+\_\+assignments\+\_\+for\+\_\+hit@{approve\+\_\+assignments\+\_\+for\+\_\+hit}!parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}}
\subsubsection{\texorpdfstring{approve\+\_\+assignments\+\_\+for\+\_\+hit()}{approve\_assignments\_for\_hit()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager.\+approve\+\_\+assignments\+\_\+for\+\_\+hit (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{hit\+\_\+id,  }\item[{}]{override\+\_\+rejection = {\ttfamily False} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Approve work for assignments associated with a given hit, through mturk client.
\end{DoxyVerb}
 

Definition at line 1809 of file mturk\+\_\+manager.\+py.


\begin{DoxyCode}
1809     \textcolor{keyword}{def }approve\_assignments\_for\_hit(self, hit\_id, override\_rejection=False):
1810         \textcolor{stringliteral}{"""}
1811 \textcolor{stringliteral}{        Approve work for assignments associated with a given hit, through mturk client.}
1812 \textcolor{stringliteral}{        """}
1813         client = mturk\_utils.get\_mturk\_client(self.is\_sandbox)
1814         assignments = self.get\_assignments\_for\_hit(hit\_id)
1815         \textcolor{keywordflow}{for} assignment \textcolor{keywordflow}{in} assignments:
1816             assignment\_id = assignment[\textcolor{stringliteral}{'AssignmentId'}]
1817             client.approve\_assignment(
1818                 AssignmentId=assignment\_id, OverrideRejection=override\_rejection
1819             )
1820 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a0accb6612484648ec2666c01a3597cf8}\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a0accb6612484648ec2666c01a3597cf8}} 
\index{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}!approve\+\_\+work@{approve\+\_\+work}}
\index{approve\+\_\+work@{approve\+\_\+work}!parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}}
\subsubsection{\texorpdfstring{approve\+\_\+work()}{approve\_work()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager.\+approve\+\_\+work (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{assignment\+\_\+id,  }\item[{}]{override\+\_\+rejection = {\ttfamily False} }\end{DoxyParamCaption})}

\begin{DoxyVerb}approve work for a given assignment through the mturk client.
\end{DoxyVerb}
 

Definition at line 1782 of file mturk\+\_\+manager.\+py.


\begin{DoxyCode}
1782     \textcolor{keyword}{def }approve\_work(self, assignment\_id, override\_rejection=False):
1783         \textcolor{stringliteral}{"""}
1784 \textcolor{stringliteral}{        approve work for a given assignment through the mturk client.}
1785 \textcolor{stringliteral}{        """}
1786         client = mturk\_utils.get\_mturk\_client(self.is\_sandbox)
1787         client.approve\_assignment(
1788             AssignmentId=assignment\_id, OverrideRejection=override\_rejection
1789         )
1790         \textcolor{keywordflow}{if} self.db\_logger \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}:
1791             self.db\_logger.log\_approve\_assignment(assignment\_id)
1792         shared\_utils.print\_and\_log(
1793             logging.INFO, \textcolor{stringliteral}{'Assignment \{\} approved.'} \textcolor{stringliteral}{''}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(assignment\_id)
1794         )
1795 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a10c0ba44b2e46b1644620e2d496458af}\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a10c0ba44b2e46b1644620e2d496458af}} 
\index{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}!block\+\_\+worker@{block\+\_\+worker}}
\index{block\+\_\+worker@{block\+\_\+worker}!parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}}
\subsubsection{\texorpdfstring{block\+\_\+worker()}{block\_worker()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager.\+block\+\_\+worker (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{worker\+\_\+id,  }\item[{}]{reason }\end{DoxyParamCaption})}

\begin{DoxyVerb}Block a worker by id using the mturk client, passes reason along.
\end{DoxyVerb}
 

Definition at line 1821 of file mturk\+\_\+manager.\+py.


\begin{DoxyCode}
1821     \textcolor{keyword}{def }block\_worker(self, worker\_id, reason):
1822         \textcolor{stringliteral}{"""}
1823 \textcolor{stringliteral}{        Block a worker by id using the mturk client, passes reason along.}
1824 \textcolor{stringliteral}{        """}
1825         client = mturk\_utils.get\_mturk\_client(self.is\_sandbox)
1826         client.create\_worker\_block(WorkerId=worker\_id, Reason=reason)
1827         shared\_utils.print\_and\_log(
1828             logging.INFO,
1829             \textcolor{stringliteral}{'Worker \{\} blocked for reason \{\}.'} \textcolor{stringliteral}{''}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(worker\_id, reason),
1830         )
1831 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_ae192d527cf9dcf694d8111fb283aa5d7}\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_ae192d527cf9dcf694d8111fb283aa5d7}} 
\index{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}!create\+\_\+additional\+\_\+hits@{create\+\_\+additional\+\_\+hits}}
\index{create\+\_\+additional\+\_\+hits@{create\+\_\+additional\+\_\+hits}!parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}}
\subsubsection{\texorpdfstring{create\+\_\+additional\+\_\+hits()}{create\_additional\_hits()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager.\+create\+\_\+additional\+\_\+hits (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{num\+\_\+hits,  }\item[{}]{qualifications = {\ttfamily None} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Handle creation for a specific number of hits/assignments Put created HIT ids
into the hit_id_list.
\end{DoxyVerb}
 

Definition at line 1645 of file mturk\+\_\+manager.\+py.


\begin{DoxyCode}
1645     \textcolor{keyword}{def }create\_additional\_hits(self, num\_hits, qualifications=None):
1646         \textcolor{stringliteral}{"""}
1647 \textcolor{stringliteral}{        Handle creation for a specific number of hits/assignments Put created HIT ids}
1648 \textcolor{stringliteral}{        into the hit\_id\_list.}
1649 \textcolor{stringliteral}{        """}
1650         shared\_utils.print\_and\_log(logging.INFO, \textcolor{stringliteral}{'Creating \{\} hits...'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(num\_hits))
1651 
1652         qualifications = self.get\_qualification\_list(qualifications)
1653 
1654         self.opt[\textcolor{stringliteral}{'assignment\_duration\_in\_seconds'}] = self.opt.get(
1655             \textcolor{stringliteral}{'assignment\_duration\_in\_seconds'}, 30 * 60
1656         )
1657         hit\_type\_id = mturk\_utils.create\_hit\_type(
1658             hit\_title=self.opt[\textcolor{stringliteral}{'hit\_title'}],
1659             hit\_description=\textcolor{stringliteral}{'\{\} (ID: \{\})'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(
1660                 self.opt[\textcolor{stringliteral}{'hit\_description'}], self.task\_group\_id
1661             ),
1662             hit\_keywords=self.opt[\textcolor{stringliteral}{'hit\_keywords'}],
1663             hit\_reward=self.opt[\textcolor{stringliteral}{'reward'}],
1664             \textcolor{comment}{# Set to 30 minutes by default}
1665             assignment\_duration\_in\_seconds=self.opt.get(
1666                 \textcolor{stringliteral}{'assignment\_duration\_in\_seconds'}, 30 * 60
1667             ),
1668             is\_sandbox=self.opt[\textcolor{stringliteral}{'is\_sandbox'}],
1669             qualifications=qualifications,
1670             auto\_approve\_delay=self.auto\_approve\_delay,
1671         )
1672         mturk\_chat\_url = \textcolor{stringliteral}{'\{\}/chat\_index?task\_group\_id=\{\}'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(
1673             self.server\_url, self.task\_group\_id
1674         )
1675         shared\_utils.print\_and\_log(logging.INFO, mturk\_chat\_url)
1676         mturk\_page\_url = \textcolor{keywordtype}{None}
1677 
1678         \textcolor{keywordflow}{if} self.topic\_arn \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}:
1679             mturk\_utils.subscribe\_to\_hits(hit\_type\_id, self.is\_sandbox, self.topic\_arn)
1680 
1681         \textcolor{keywordflow}{for} \_i \textcolor{keywordflow}{in} range(num\_hits):
1682             (
1683                 mturk\_page\_url,
1684                 hit\_id,
1685                 mturk\_response,
1686             ) = mturk\_utils.create\_hit\_with\_hit\_type(
1687                 opt=self.opt,
1688                 page\_url=mturk\_chat\_url,
1689                 hit\_type\_id=hit\_type\_id,
1690                 num\_assignments=1,
1691                 is\_sandbox=self.is\_sandbox,
1692             )
1693             \textcolor{keywordflow}{if} self.db\_logger \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}:
1694                 self.db\_logger.log\_hit\_status(mturk\_response)
1695             self.hit\_id\_list.append(hit\_id)
1696         \textcolor{keywordflow}{return} mturk\_page\_url
1697 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_acd01b6d3cd60d04e679b2bdab7b0a09d}\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_acd01b6d3cd60d04e679b2bdab7b0a09d}} 
\index{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}!create\+\_\+hits@{create\+\_\+hits}}
\index{create\+\_\+hits@{create\+\_\+hits}!parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}}
\subsubsection{\texorpdfstring{create\+\_\+hits()}{create\_hits()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager.\+create\+\_\+hits (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{qualifications = {\ttfamily None} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Create hits based on the managers current config, return hit url.
\end{DoxyVerb}
 

Definition at line 1698 of file mturk\+\_\+manager.\+py.


\begin{DoxyCode}
1698     \textcolor{keyword}{def }create\_hits(self, qualifications=None):
1699         \textcolor{stringliteral}{"""}
1700 \textcolor{stringliteral}{        Create hits based on the managers current config, return hit url.}
1701 \textcolor{stringliteral}{        """}
1702         shared\_utils.print\_and\_log(logging.INFO, \textcolor{stringliteral}{'Creating HITs...'}, \textcolor{keyword}{True})
1703 
1704         \textcolor{keywordflow}{if} self.task\_state < self.STATE\_ACCEPTING\_WORKERS:
1705             shared\_utils.print\_and\_log(
1706                 logging.WARN,
1707                 \textcolor{stringliteral}{'You should be calling `ready\_to\_accept\_workers` before '}
1708                 \textcolor{stringliteral}{'`create\_hits` to ensure that the socket is connected before'}
1709                 \textcolor{stringliteral}{'hits are added. This will be enforced in future versions.'},
1710                 \textcolor{keyword}{True},
1711             )
1712 
1713         \textcolor{keywordflow}{if} self.opt[\textcolor{stringliteral}{'max\_connections'}] == 0:
1714             mturk\_page\_url = self.create\_additional\_hits(
1715                 num\_hits=self.required\_hits, qualifications=qualifications
1716             )
1717         \textcolor{keywordflow}{else}:
1718             mturk\_page\_url = self.create\_additional\_hits(
1719                 num\_hits=min(self.required\_hits, self.opt[\textcolor{stringliteral}{'max\_connections'}]),
1720                 qualifications=qualifications,
1721             )
1722 
1723         shared\_utils.print\_and\_log(
1724             logging.INFO, \textcolor{stringliteral}{'Link to HIT: \{\}\(\backslash\)n'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(mturk\_page\_url), should\_print=\textcolor{keyword}{True}
1725         )
1726         shared\_utils.print\_and\_log(
1727             logging.INFO,
1728             \textcolor{stringliteral}{'Waiting for Turkers to respond... (Please don\(\backslash\)'t close'}
1729             \textcolor{stringliteral}{' your laptop or put your computer into sleep or standby mode.)\(\backslash\)n'},
1730             should\_print=\textcolor{keyword}{True},
1731         )
1732         self.task\_state = self.STATE\_HITS\_MADE
1733         \textcolor{keywordflow}{return} mturk\_page\_url
1734 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a663af5f8cfa1c984439c2344d528f223}\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a663af5f8cfa1c984439c2344d528f223}} 
\index{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}!create\+\_\+qualification@{create\+\_\+qualification}}
\index{create\+\_\+qualification@{create\+\_\+qualification}!parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}}
\subsubsection{\texorpdfstring{create\+\_\+qualification()}{create\_qualification()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager.\+create\+\_\+qualification (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{qualification\+\_\+name,  }\item[{}]{description,  }\item[{}]{can\+\_\+exist = {\ttfamily True} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Create a new qualification.

If can_exist is set, simply return the ID of the existing qualification rather
than throw an error
\end{DoxyVerb}
 

Definition at line 1908 of file mturk\+\_\+manager.\+py.


\begin{DoxyCode}
1908     \textcolor{keyword}{def }create\_qualification(self, qualification\_name, description, can\_exist=True):
1909         \textcolor{stringliteral}{"""}
1910 \textcolor{stringliteral}{        Create a new qualification.}
1911 \textcolor{stringliteral}{}
1912 \textcolor{stringliteral}{        If can\_exist is set, simply return the ID of the existing qualification rather}
1913 \textcolor{stringliteral}{        than throw an error}
1914 \textcolor{stringliteral}{        """}
1915         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} can\_exist:
1916             qual\_id = mturk\_utils.find\_qualification(
1917                 qualification\_name, self.is\_sandbox
1918             )
1919             \textcolor{keywordflow}{if} qual\_id \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}:
1920                 shared\_utils.print\_and\_log(
1921                     logging.WARN,
1922                     \textcolor{stringliteral}{'Could not create qualification \{\}, as it existed'}
1923                     \textcolor{stringliteral}{''}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(qualification\_name),
1924                     should\_print=\textcolor{keyword}{True},
1925                 )
1926                 \textcolor{keywordflow}{return} \textcolor{keywordtype}{None}
1927         \textcolor{keywordflow}{return} mturk\_utils.find\_or\_create\_qualification(
1928             qualification\_name, description, self.is\_sandbox
1929         )
1930 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_afd2e53ad36f1975af45cc64c0940a41f}\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_afd2e53ad36f1975af45cc64c0940a41f}} 
\index{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}!email\+\_\+worker@{email\+\_\+worker}}
\index{email\+\_\+worker@{email\+\_\+worker}!parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}}
\subsubsection{\texorpdfstring{email\+\_\+worker()}{email\_worker()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager.\+email\+\_\+worker (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{worker\+\_\+id,  }\item[{}]{subject,  }\item[{}]{message\+\_\+text }\end{DoxyParamCaption})}

\begin{DoxyVerb}Send an email to a worker through the mturk client.
\end{DoxyVerb}
 

Definition at line 1972 of file mturk\+\_\+manager.\+py.


\begin{DoxyCode}
1972     \textcolor{keyword}{def }email\_worker(self, worker\_id, subject, message\_text):
1973         \textcolor{stringliteral}{"""}
1974 \textcolor{stringliteral}{        Send an email to a worker through the mturk client.}
1975 \textcolor{stringliteral}{        """}
1976         client = mturk\_utils.get\_mturk\_client(self.is\_sandbox)
1977         response = client.notify\_workers(
1978             Subject=subject, MessageText=message\_text, WorkerIds=[worker\_id]
1979         )
1980         \textcolor{keywordflow}{if} len(response[\textcolor{stringliteral}{'NotifyWorkersFailureStatuses'}]) > 0:
1981             failure\_message = response[\textcolor{stringliteral}{'NotifyWorkersFailureStatuses'}][0]
1982             \textcolor{keywordflow}{return} \{\textcolor{stringliteral}{'failure'}: failure\_message[\textcolor{stringliteral}{'NotifyWorkersFailureMessage'}]\}
1983         \textcolor{keywordflow}{else}:
1984             \textcolor{keywordflow}{return} \{\textcolor{stringliteral}{'success'}: \textcolor{keyword}{True}\}
1985 
1986 
1987 \textcolor{comment}{# TODO consolidate base functionality out of this class and above into a}
1988 \textcolor{comment}{# base\_crowd\_manager and then expand out from there.}
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a063250ea0ea08fe75ab3bb5aee637138}\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a063250ea0ea08fe75ab3bb5aee637138}} 
\index{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}!expire\+\_\+all\+\_\+unassigned\+\_\+hits@{expire\+\_\+all\+\_\+unassigned\+\_\+hits}}
\index{expire\+\_\+all\+\_\+unassigned\+\_\+hits@{expire\+\_\+all\+\_\+unassigned\+\_\+hits}!parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}}
\subsubsection{\texorpdfstring{expire\+\_\+all\+\_\+unassigned\+\_\+hits()}{expire\_all\_unassigned\_hits()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager.\+expire\+\_\+all\+\_\+unassigned\+\_\+hits (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}

\begin{DoxyVerb}Move through the whole hit_id list and attempt to expire the HITs, though this
only immediately expires those that aren't assigned.
\end{DoxyVerb}
 

Definition at line 1765 of file mturk\+\_\+manager.\+py.


\begin{DoxyCode}
1765     \textcolor{keyword}{def }expire\_all\_unassigned\_hits(self):
1766         \textcolor{stringliteral}{"""}
1767 \textcolor{stringliteral}{        Move through the whole hit\_id list and attempt to expire the HITs, though this}
1768 \textcolor{stringliteral}{        only immediately expires those that aren't assigned.}
1769 \textcolor{stringliteral}{        """}
1770         \textcolor{comment}{# TODO note and mark assigned hits as ones to be expired later}
1771         shared\_utils.print\_and\_log(
1772             logging.INFO,
1773             \textcolor{stringliteral}{'Expiring all unassigned HITs...'},
1774             should\_print=\textcolor{keywordflow}{not} self.is\_test,
1775         )
1776         completed\_ids = self.worker\_manager.get\_complete\_hits()
1777         \textcolor{keywordflow}{for} hit\_id \textcolor{keywordflow}{in} self.hit\_id\_list:
1778             \textcolor{keywordflow}{if} hit\_id \textcolor{keywordflow}{not} \textcolor{keywordflow}{in} completed\_ids:
1779                 \textcolor{comment}{# TODO get confirmation that the HIT is acutally expired}
1780                 mturk\_utils.expire\_hit(self.is\_sandbox, hit\_id)
1781 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_aed4375d01be65944318d695adbac88af}\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_aed4375d01be65944318d695adbac88af}} 
\index{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}!force\+\_\+expire\+\_\+hit@{force\+\_\+expire\+\_\+hit}}
\index{force\+\_\+expire\+\_\+hit@{force\+\_\+expire\+\_\+hit}!parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}}
\subsubsection{\texorpdfstring{force\+\_\+expire\+\_\+hit()}{force\_expire\_hit()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager.\+force\+\_\+expire\+\_\+hit (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{worker\+\_\+id,  }\item[{}]{assign\+\_\+id,  }\item[{}]{text = {\ttfamily None},  }\item[{}]{ack\+\_\+func = {\ttfamily None} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Send a command to expire a hit to the provided agent, update State to reflect
that the HIT is now expired.
\end{DoxyVerb}
 

Definition at line 1385 of file mturk\+\_\+manager.\+py.


\begin{DoxyCode}
1385     \textcolor{keyword}{def }force\_expire\_hit(self, worker\_id, assign\_id, text=None, ack\_func=None):
1386         \textcolor{stringliteral}{"""}
1387 \textcolor{stringliteral}{        Send a command to expire a hit to the provided agent, update State to reflect}
1388 \textcolor{stringliteral}{        that the HIT is now expired.}
1389 \textcolor{stringliteral}{        """}
1390         \textcolor{comment}{# Expire in the state}
1391         agent = self.worker\_manager.\_get\_agent(worker\_id, assign\_id)
1392         \textcolor{keywordflow}{if} agent \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}:
1393             \textcolor{keywordflow}{if} agent.is\_final():
1394                 \textcolor{keywordflow}{return}
1395             agent.set\_status(AssignState.STATUS\_EXPIRED)
1396             agent.hit\_is\_expired = \textcolor{keyword}{True}
1397 
1398         \textcolor{keywordflow}{if} ack\_func \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
1399 
1400             \textcolor{keyword}{def }use\_ack\_func(*args):
1401                 self.socket\_manager.close\_channel(\textcolor{stringliteral}{'\{\}\_\{\}'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(worker\_id, assign\_id))
1402 
1403         \textcolor{keywordflow}{else}:
1404 
1405             \textcolor{keyword}{def }use\_ack\_func(*args):
1406                 ack\_func(*args)
1407                 self.socket\_manager.close\_channel(\textcolor{stringliteral}{'\{\}\_\{\}'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(worker\_id, assign\_id))
1408 
1409         \textcolor{comment}{# Send the expiration command}
1410         \textcolor{keywordflow}{if} text \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
1411             text = (
1412                 \textcolor{stringliteral}{'This HIT is expired, please return and take a new '}
1413                 \textcolor{stringliteral}{'one if you\(\backslash\)'d want to work on this task.'}
1414             )
1415         data = \{\textcolor{stringliteral}{'text'}: data\_model.COMMAND\_EXPIRE\_HIT, \textcolor{stringliteral}{'inactive\_text'}: text\}
1416         self.send\_command(worker\_id, assign\_id, data, ack\_func=use\_ack\_func)
1417 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a711cbcf874261a23adb8d7b2a630634c}\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a711cbcf874261a23adb8d7b2a630634c}} 
\index{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}!free\+\_\+workers@{free\+\_\+workers}}
\index{free\+\_\+workers@{free\+\_\+workers}!parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}}
\subsubsection{\texorpdfstring{free\+\_\+workers()}{free\_workers()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager.\+free\+\_\+workers (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{workers }\end{DoxyParamCaption})}

\begin{DoxyVerb}End completed worker threads.
\end{DoxyVerb}
 

Definition at line 1530 of file mturk\+\_\+manager.\+py.


\begin{DoxyCode}
1530     \textcolor{keyword}{def }free\_workers(self, workers):
1531         \textcolor{stringliteral}{"""}
1532 \textcolor{stringliteral}{        End completed worker threads.}
1533 \textcolor{stringliteral}{        """}
1534         \textcolor{keywordflow}{for} agent \textcolor{keywordflow}{in} workers:
1535             self.socket\_manager.close\_channel(agent.get\_connection\_id())
1536 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a4e33195c70fe3471fe51c18c2c235121}\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a4e33195c70fe3471fe51c18c2c235121}} 
\index{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}!get\+\_\+agent\+\_\+work\+\_\+status@{get\+\_\+agent\+\_\+work\+\_\+status}}
\index{get\+\_\+agent\+\_\+work\+\_\+status@{get\+\_\+agent\+\_\+work\+\_\+status}!parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}}
\subsubsection{\texorpdfstring{get\+\_\+agent\+\_\+work\+\_\+status()}{get\_agent\_work\_status()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager.\+get\+\_\+agent\+\_\+work\+\_\+status (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{assignment\+\_\+id }\end{DoxyParamCaption})}



Definition at line 1539 of file mturk\+\_\+manager.\+py.


\begin{DoxyCode}
1539     \textcolor{keyword}{def }get\_agent\_work\_status(self, assignment\_id):
1540         \textcolor{keywordflow}{return} self.worker\_manager.get\_agent\_work\_status(assignment\_id)
1541 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a986cd32c3359df8228feca69d3ba7637}\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a986cd32c3359df8228feca69d3ba7637}} 
\index{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}!get\+\_\+assignment@{get\+\_\+assignment}}
\index{get\+\_\+assignment@{get\+\_\+assignment}!parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}}
\subsubsection{\texorpdfstring{get\+\_\+assignment()}{get\_assignment()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager.\+get\+\_\+assignment (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{assignment\+\_\+id }\end{DoxyParamCaption})}

\begin{DoxyVerb}Gets assignment from mturk by assignment_id.

Only works if the assignment is in a completed state
\end{DoxyVerb}
 

Definition at line 1748 of file mturk\+\_\+manager.\+py.


\begin{DoxyCode}
1748     \textcolor{keyword}{def }get\_assignment(self, assignment\_id):
1749         \textcolor{stringliteral}{"""}
1750 \textcolor{stringliteral}{        Gets assignment from mturk by assignment\_id.}
1751 \textcolor{stringliteral}{}
1752 \textcolor{stringliteral}{        Only works if the assignment is in a completed state}
1753 \textcolor{stringliteral}{        """}
1754         client = mturk\_utils.get\_mturk\_client(self.is\_sandbox)
1755         \textcolor{keywordflow}{return} client.get\_assignment(AssignmentId=assignment\_id)
1756 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a87d3096941e232227de762b3a8260f3d}\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a87d3096941e232227de762b3a8260f3d}} 
\index{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}!get\+\_\+assignments\+\_\+for\+\_\+hit@{get\+\_\+assignments\+\_\+for\+\_\+hit}}
\index{get\+\_\+assignments\+\_\+for\+\_\+hit@{get\+\_\+assignments\+\_\+for\+\_\+hit}!parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}}
\subsubsection{\texorpdfstring{get\+\_\+assignments\+\_\+for\+\_\+hit()}{get\_assignments\_for\_hit()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager.\+get\+\_\+assignments\+\_\+for\+\_\+hit (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{hit\+\_\+id }\end{DoxyParamCaption})}

\begin{DoxyVerb}Get completed assignments for a hit.
\end{DoxyVerb}
 

Definition at line 1757 of file mturk\+\_\+manager.\+py.


\begin{DoxyCode}
1757     \textcolor{keyword}{def }get\_assignments\_for\_hit(self, hit\_id):
1758         \textcolor{stringliteral}{"""}
1759 \textcolor{stringliteral}{        Get completed assignments for a hit.}
1760 \textcolor{stringliteral}{        """}
1761         client = mturk\_utils.get\_mturk\_client(self.is\_sandbox)
1762         assignments\_info = client.list\_assignments\_for\_hit(HITId=hit\_id)
1763         \textcolor{keywordflow}{return} assignments\_info.get(\textcolor{stringliteral}{'Assignments'}, [])
1764 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_ab4276a818e7845b08f9f4c08920050dc}\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_ab4276a818e7845b08f9f4c08920050dc}} 
\index{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}!get\+\_\+hit@{get\+\_\+hit}}
\index{get\+\_\+hit@{get\+\_\+hit}!parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}}
\subsubsection{\texorpdfstring{get\+\_\+hit()}{get\_hit()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager.\+get\+\_\+hit (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{hit\+\_\+id }\end{DoxyParamCaption})}

\begin{DoxyVerb}Get hit from mturk by hit_id.
\end{DoxyVerb}
 

Definition at line 1735 of file mturk\+\_\+manager.\+py.


\begin{DoxyCode}
1735     \textcolor{keyword}{def }get\_hit(self, hit\_id):
1736         \textcolor{stringliteral}{"""}
1737 \textcolor{stringliteral}{        Get hit from mturk by hit\_id.}
1738 \textcolor{stringliteral}{        """}
1739         client = mturk\_utils.get\_mturk\_client(self.is\_sandbox)
1740         hit = client.get\_hit(HITId=hit\_id)
1741         \textcolor{keywordflow}{if} self.db\_logger \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}:
1742             \textcolor{keywordflow}{try}:
1743                 self.db\_logger.log\_hit\_status(hit)
1744             \textcolor{keywordflow}{except} Exception:
1745                 \textcolor{keywordflow}{pass}
1746         \textcolor{keywordflow}{return} hit
1747 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a3466e2c936edfc55727d1bd3ac71cfb6}\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a3466e2c936edfc55727d1bd3ac71cfb6}} 
\index{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}!get\+\_\+qualification\+\_\+list@{get\+\_\+qualification\+\_\+list}}
\index{get\+\_\+qualification\+\_\+list@{get\+\_\+qualification\+\_\+list}!parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}}
\subsubsection{\texorpdfstring{get\+\_\+qualification\+\_\+list()}{get\_qualification\_list()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager.\+get\+\_\+qualification\+\_\+list (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{qualifications = {\ttfamily None} }\end{DoxyParamCaption})}



Definition at line 1542 of file mturk\+\_\+manager.\+py.


\begin{DoxyCode}
1542     \textcolor{keyword}{def }get\_qualification\_list(self, qualifications=None):
1543         \textcolor{keywordflow}{if} self.qualifications \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}:
1544             \textcolor{keywordflow}{return} self.qualifications.copy()
1545 
1546         \textcolor{keywordflow}{if} qualifications \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
1547             qualifications = []
1548 
1549         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} self.is\_sandbox \textcolor{keywordflow}{and} \textcolor{keywordflow}{not} self.is\_test:
1550             \textcolor{keywordflow}{try}:
1551                 \textcolor{keyword}{import} parlai\_internal.mturk.configs \textcolor{keyword}{as} local\_configs
1552 
1553                 qualifications = local\_configs.set\_default\_qualifications(
1554                     qualifications
1555                 )
1556             \textcolor{keywordflow}{except} Exception:
1557                 \textcolor{comment}{# not all users will be drawing configs from internal settings}
1558                 \textcolor{keywordflow}{pass}
1559 
1560         \textcolor{keywordflow}{if} self.opt[\textcolor{stringliteral}{'disconnect\_qualification'}] \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}:
1561             block\_qual\_id = mturk\_utils.find\_or\_create\_qualification(
1562                 self.opt[\textcolor{stringliteral}{'disconnect\_qualification'}],
1563                 \textcolor{stringliteral}{'A soft ban from using a ParlAI-created HIT due to frequent '}
1564                 \textcolor{stringliteral}{'disconnects from conversations, leading to negative '}
1565                 \textcolor{stringliteral}{'experiences for other Turkers and for the requester.'},
1566                 self.is\_sandbox,
1567             )
1568             \textcolor{keyword}{assert} block\_qual\_id \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}, (
1569                 \textcolor{stringliteral}{'Hits could not be created as disconnect qualification could '}
1570                 \textcolor{stringliteral}{'not be acquired. Shutting down server.'}
1571             )
1572             qualifications.append(
1573                 \{
1574                     \textcolor{stringliteral}{'QualificationTypeId'}: block\_qual\_id,
1575                     \textcolor{stringliteral}{'Comparator'}: \textcolor{stringliteral}{'DoesNotExist'},
1576                     \textcolor{stringliteral}{'ActionsGuarded'}: \textcolor{stringliteral}{'DiscoverPreviewAndAccept'},
1577                 \}
1578             )
1579 
1580         \textcolor{comment}{# Add the soft block qualification if it has been specified}
1581         \textcolor{keywordflow}{if} self.opt[\textcolor{stringliteral}{'block\_qualification'}] \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}:
1582             block\_qual\_id = mturk\_utils.find\_or\_create\_qualification(
1583                 self.opt[\textcolor{stringliteral}{'block\_qualification'}],
1584                 \textcolor{stringliteral}{'A soft ban from this ParlAI-created HIT at the requesters '}
1585                 \textcolor{stringliteral}{'discretion. Generally used to restrict how frequently a '}
1586                 \textcolor{stringliteral}{'particular worker can work on a particular task.'},
1587                 self.is\_sandbox,
1588             )
1589             \textcolor{keyword}{assert} block\_qual\_id \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}, (
1590                 \textcolor{stringliteral}{'Hits could not be created as block qualification could not be'}
1591                 \textcolor{stringliteral}{' acquired. Shutting down server.'}
1592             )
1593             qualifications.append(
1594                 \{
1595                     \textcolor{stringliteral}{'QualificationTypeId'}: block\_qual\_id,
1596                     \textcolor{stringliteral}{'Comparator'}: \textcolor{stringliteral}{'DoesNotExist'},
1597                     \textcolor{stringliteral}{'ActionsGuarded'}: \textcolor{stringliteral}{'DiscoverPreviewAndAccept'},
1598                 \}
1599             )
1600 
1601         \textcolor{keywordflow}{if} self.has\_time\_limit:
1602             block\_qual\_name = \textcolor{stringliteral}{'\{\}-max-daily-time'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(self.task\_group\_id)
1603             \textcolor{keywordflow}{if} self.opt[\textcolor{stringliteral}{'max\_time\_qual'}] \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}:
1604                 block\_qual\_name = self.opt[\textcolor{stringliteral}{'max\_time\_qual'}]
1605             self.max\_time\_qual = block\_qual\_name
1606             block\_qual\_id = mturk\_utils.find\_or\_create\_qualification(
1607                 block\_qual\_name,
1608                 \textcolor{stringliteral}{'A soft ban from working on this HIT or HITs by this '}
1609                 \textcolor{stringliteral}{'requester based on a maximum amount of daily work time set '}
1610                 \textcolor{stringliteral}{'by the requester.'},
1611                 self.is\_sandbox,
1612             )
1613             \textcolor{keyword}{assert} block\_qual\_id \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}, (
1614                 \textcolor{stringliteral}{'Hits could not be created as a time block qualification could'}
1615                 \textcolor{stringliteral}{' not be acquired. Shutting down server.'}
1616             )
1617             qualifications.append(
1618                 \{
1619                     \textcolor{stringliteral}{'QualificationTypeId'}: block\_qual\_id,
1620                     \textcolor{stringliteral}{'Comparator'}: \textcolor{stringliteral}{'DoesNotExist'},
1621                     \textcolor{stringliteral}{'ActionsGuarded'}: \textcolor{stringliteral}{'DiscoverPreviewAndAccept'},
1622                 \}
1623             )
1624 
1625         \textcolor{keywordflow}{if} self.is\_unique \textcolor{keywordflow}{or} self.max\_hits\_per\_worker > 0:
1626             self.unique\_qual\_name = self.opt.get(\textcolor{stringliteral}{'unique\_qual\_name'})
1627             \textcolor{keywordflow}{if} self.unique\_qual\_name \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
1628                 self.unique\_qual\_name = self.task\_group\_id + \textcolor{stringliteral}{'\_max\_submissions'}
1629             self.unique\_qual\_id = mturk\_utils.find\_or\_create\_qualification(
1630                 self.unique\_qual\_name,
1631                 \textcolor{stringliteral}{'Prevents workers from completing a task too frequently'},
1632                 self.is\_sandbox,
1633             )
1634             qualifications.append(
1635                 \{
1636                     \textcolor{stringliteral}{'QualificationTypeId'}: self.unique\_qual\_id,
1637                     \textcolor{stringliteral}{'Comparator'}: \textcolor{stringliteral}{'DoesNotExist'},
1638                     \textcolor{stringliteral}{'ActionsGuarded'}: \textcolor{stringliteral}{'DiscoverPreviewAndAccept'},
1639                 \}
1640             )
1641 
1642         self.qualifications = qualifications
1643         \textcolor{keywordflow}{return} qualifications.copy()
1644 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a6df9024b28007db08c481a218e6b4fca}\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a6df9024b28007db08c481a218e6b4fca}} 
\index{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}!give\+\_\+worker\+\_\+qualification@{give\+\_\+worker\+\_\+qualification}}
\index{give\+\_\+worker\+\_\+qualification@{give\+\_\+worker\+\_\+qualification}!parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}}
\subsubsection{\texorpdfstring{give\+\_\+worker\+\_\+qualification()}{give\_worker\_qualification()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager.\+give\+\_\+worker\+\_\+qualification (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{worker\+\_\+id,  }\item[{}]{qual\+\_\+name,  }\item[{}]{qual\+\_\+value = {\ttfamily None} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Give a worker a particular qualification.
\end{DoxyVerb}
 

Definition at line 1853 of file mturk\+\_\+manager.\+py.


\begin{DoxyCode}
1853     \textcolor{keyword}{def }\hyperlink{namespaceparlai_1_1mturk_1_1core_1_1dev_1_1mturk__utils_a631fbce36ff4d09422f29513460bc744}{give\_worker\_qualification}(self, worker\_id, qual\_name, qual\_value=None):
1854         \textcolor{stringliteral}{"""}
1855 \textcolor{stringliteral}{        Give a worker a particular qualification.}
1856 \textcolor{stringliteral}{        """}
1857         qual\_id = mturk\_utils.find\_qualification(qual\_name, self.is\_sandbox)
1858         \textcolor{keywordflow}{if} qual\_id \textcolor{keywordflow}{is} \textcolor{keyword}{False} \textcolor{keywordflow}{or} qual\_id \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
1859             shared\_utils.print\_and\_log(
1860                 logging.WARN,
1861                 \textcolor{stringliteral}{'Could not give worker \{\} qualification \{\}, as the '}
1862                 \textcolor{stringliteral}{'qualification could not be found to exist.'}
1863                 \textcolor{stringliteral}{''}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(worker\_id, qual\_name),
1864                 should\_print=\textcolor{keyword}{True},
1865             )
1866             \textcolor{keywordflow}{return}
1867         mturk\_utils.give\_worker\_qualification(
1868             worker\_id, qual\_id, qual\_value, self.is\_sandbox
1869         )
1870         shared\_utils.print\_and\_log(
1871             logging.INFO,
1872             \textcolor{stringliteral}{'gave \{\} qualification \{\}'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(worker\_id, qual\_name),
1873             should\_print=\textcolor{keyword}{True},
1874         )
1875 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_ab93fd934d00fbf971ca299e77db152d5}\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_ab93fd934d00fbf971ca299e77db152d5}} 
\index{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}!handle\+\_\+turker\+\_\+timeout@{handle\+\_\+turker\+\_\+timeout}}
\index{handle\+\_\+turker\+\_\+timeout@{handle\+\_\+turker\+\_\+timeout}!parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}}
\subsubsection{\texorpdfstring{handle\+\_\+turker\+\_\+timeout()}{handle\_turker\_timeout()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager.\+handle\+\_\+turker\+\_\+timeout (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{worker\+\_\+id,  }\item[{}]{assign\+\_\+id }\end{DoxyParamCaption})}

\begin{DoxyVerb}To be used by the MTurk agent when the worker doesn't send a message within the
expected window.
\end{DoxyVerb}
 

Definition at line 1418 of file mturk\+\_\+manager.\+py.


\begin{DoxyCode}
1418     \textcolor{keyword}{def }handle\_turker\_timeout(self, worker\_id, assign\_id):
1419         \textcolor{stringliteral}{"""}
1420 \textcolor{stringliteral}{        To be used by the MTurk agent when the worker doesn't send a message within the}
1421 \textcolor{stringliteral}{        expected window.}
1422 \textcolor{stringliteral}{        """}
1423         \textcolor{comment}{# Expire the hit for the disconnected user}
1424         text = (
1425             \textcolor{stringliteral}{'You haven\(\backslash\)'t entered a message in too long. As these HITs '}
1426             \textcolor{stringliteral}{' often require real-time interaction, this hit has '}
1427             \textcolor{stringliteral}{'been expired and you have been considered disconnected. '}
1428             \textcolor{stringliteral}{'Disconnect too frequently and you will be blocked from '}
1429             \textcolor{stringliteral}{'working on these HITs in the future.'}
1430         )
1431         self.force\_expire\_hit(worker\_id, assign\_id, text)
1432 
1433         \textcolor{comment}{# Send the disconnect event to all workers in the convo}
1434         self.\_handle\_agent\_disconnect(worker\_id, assign\_id)
1435 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a9368a0f0fa8eb1791e4a4206ce291e25}\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a9368a0f0fa8eb1791e4a4206ce291e25}} 
\index{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}!is\+\_\+onboarding\+\_\+world@{is\+\_\+onboarding\+\_\+world}}
\index{is\+\_\+onboarding\+\_\+world@{is\+\_\+onboarding\+\_\+world}!parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}}
\subsubsection{\texorpdfstring{is\+\_\+onboarding\+\_\+world()}{is\_onboarding\_world()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager.\+is\+\_\+onboarding\+\_\+world (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{conversation\+\_\+id }\end{DoxyParamCaption})}



Definition at line 881 of file mturk\+\_\+manager.\+py.


\begin{DoxyCode}
881     \textcolor{keyword}{def }is\_onboarding\_world(self, conversation\_id):
882         \textcolor{keywordflow}{return} conversation\_id \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None} \textcolor{keywordflow}{and} conversation\_id.startswith(\textcolor{stringliteral}{'o\_'})
883 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a1c840892de0be91505aaed2ba01dfafe}\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a1c840892de0be91505aaed2ba01dfafe}} 
\index{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}!is\+\_\+task\+\_\+world@{is\+\_\+task\+\_\+world}}
\index{is\+\_\+task\+\_\+world@{is\+\_\+task\+\_\+world}!parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}}
\subsubsection{\texorpdfstring{is\+\_\+task\+\_\+world()}{is\_task\_world()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager.\+is\+\_\+task\+\_\+world (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{conversation\+\_\+id }\end{DoxyParamCaption})}



Definition at line 887 of file mturk\+\_\+manager.\+py.


\begin{DoxyCode}
887     \textcolor{keyword}{def }is\_task\_world(self, conversation\_id):
888         \textcolor{keywordflow}{return} conversation\_id \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None} \textcolor{keywordflow}{and} conversation\_id.startswith(\textcolor{stringliteral}{'t\_'})
889 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a09d491450292c9ce3da629fab48dda54}\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a09d491450292c9ce3da629fab48dda54}} 
\index{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}!is\+\_\+waiting\+\_\+world@{is\+\_\+waiting\+\_\+world}}
\index{is\+\_\+waiting\+\_\+world@{is\+\_\+waiting\+\_\+world}!parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}}
\subsubsection{\texorpdfstring{is\+\_\+waiting\+\_\+world()}{is\_waiting\_world()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager.\+is\+\_\+waiting\+\_\+world (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{conversation\+\_\+id }\end{DoxyParamCaption})}



Definition at line 884 of file mturk\+\_\+manager.\+py.


\begin{DoxyCode}
884     \textcolor{keyword}{def }is\_waiting\_world(self, conversation\_id):
885         \textcolor{keywordflow}{return} conversation\_id \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None} \textcolor{keywordflow}{and} conversation\_id.startswith(\textcolor{stringliteral}{'w\_'})
886 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a6116c50263088c2c560f41be7b7bb5f3}\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a6116c50263088c2c560f41be7b7bb5f3}} 
\index{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}!make\+\_\+taskless\+\_\+instance@{make\+\_\+taskless\+\_\+instance}}
\index{make\+\_\+taskless\+\_\+instance@{make\+\_\+taskless\+\_\+instance}!parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}}
\subsubsection{\texorpdfstring{make\+\_\+taskless\+\_\+instance()}{make\_taskless\_instance()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager.\+make\+\_\+taskless\+\_\+instance (\begin{DoxyParamCaption}\item[{}]{is\+\_\+sandbox = {\ttfamily False} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\begin{DoxyVerb}Creates an instance without a task to be used for approving or rejecting
assignments, blocking workers, and managing qualifications.
\end{DoxyVerb}
 

Definition at line 175 of file mturk\+\_\+manager.\+py.


\begin{DoxyCode}
175     \textcolor{keyword}{def }make\_taskless\_instance(is\_sandbox=False):
176         \textcolor{stringliteral}{"""}
177 \textcolor{stringliteral}{        Creates an instance without a task to be used for approving or rejecting}
178 \textcolor{stringliteral}{        assignments, blocking workers, and managing qualifications.}
179 \textcolor{stringliteral}{        """}
180         opt = \{
181             \textcolor{stringliteral}{'unique\_worker'}: \textcolor{keyword}{False},
182             \textcolor{stringliteral}{'max\_hits\_per\_worker'}: 0,
183             \textcolor{stringliteral}{'num\_conversations'}: 0,
184             \textcolor{stringliteral}{'is\_sandbox'}: is\_sandbox,
185             \textcolor{stringliteral}{'is\_debug'}: \textcolor{keyword}{False},
186             \textcolor{stringliteral}{'log\_level'}: 30,
187         \}
188         manager = MTurkManager(opt, [], use\_db=\textcolor{keyword}{True})
189         manager.is\_shutdown = \textcolor{keyword}{True}
190         mturk\_utils.setup\_aws\_credentials()
191         \textcolor{keywordflow}{return} manager
192 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_aeddd0db97149313d3a5fcf04e78c42f5}\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_aeddd0db97149313d3a5fcf04e78c42f5}} 
\index{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}!mark\+\_\+workers\+\_\+done@{mark\+\_\+workers\+\_\+done}}
\index{mark\+\_\+workers\+\_\+done@{mark\+\_\+workers\+\_\+done}!parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}}
\subsubsection{\texorpdfstring{mark\+\_\+workers\+\_\+done()}{mark\_workers\_done()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager.\+mark\+\_\+workers\+\_\+done (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{workers }\end{DoxyParamCaption})}

\begin{DoxyVerb}Mark a group of agents as done to keep state consistent.
\end{DoxyVerb}
 

Definition at line 1505 of file mturk\+\_\+manager.\+py.


\begin{DoxyCode}
1505     \textcolor{keyword}{def }mark\_workers\_done(self, workers):
1506         \textcolor{stringliteral}{"""}
1507 \textcolor{stringliteral}{        Mark a group of agents as done to keep state consistent.}
1508 \textcolor{stringliteral}{        """}
1509         \textcolor{keywordflow}{for} agent \textcolor{keywordflow}{in} workers:
1510             \textcolor{keywordflow}{if} self.is\_unique:
1511                 \textcolor{keyword}{assert} (
1512                     self.unique\_qual\_name \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}
1513                 ), \textcolor{stringliteral}{'Unique qual name must not be none to use is\_unique'}
1514                 self.give\_worker\_qualification(agent.worker\_id, self.unique\_qual\_name)
1515             \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} agent.is\_final():
1516                 agent.set\_status(AssignState.STATUS\_DONE)
1517             \textcolor{keywordflow}{if} self.max\_hits\_per\_worker > 0:
1518                 worker\_state = self.worker\_manager.\_get\_worker(agent.worker\_id)
1519                 completed\_assignments = worker\_state.completed\_assignments()
1520                 \textcolor{keyword}{assert} self.unique\_qual\_name \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}, (
1521                     \textcolor{stringliteral}{'Unique qual name '} \textcolor{stringliteral}{'must not be none to use max\_hits\_per\_worker'}
1522                 )
1523                 \textcolor{keywordflow}{if} completed\_assignments >= self.max\_hits\_per\_worker:
1524                     self.give\_worker\_qualification(
1525                         agent.worker\_id, self.unique\_qual\_name
1526                     )
1527             \textcolor{keywordflow}{if} self.has\_time\_limit:
1528                 self.\_log\_working\_time(agent)
1529 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_ad4ee676f38d610a5eb43aadf105237f4}\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_ad4ee676f38d610a5eb43aadf105237f4}} 
\index{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}!pay\+\_\+bonus@{pay\+\_\+bonus}}
\index{pay\+\_\+bonus@{pay\+\_\+bonus}!parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}}
\subsubsection{\texorpdfstring{pay\+\_\+bonus()}{pay\_bonus()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager.\+pay\+\_\+bonus (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{worker\+\_\+id,  }\item[{}]{bonus\+\_\+amount,  }\item[{}]{assignment\+\_\+id,  }\item[{}]{reason,  }\item[{}]{unique\+\_\+request\+\_\+token }\end{DoxyParamCaption})}

\begin{DoxyVerb}Handles paying bonus to a turker, fails for insufficient funds.

Returns True on success and False on failure
\end{DoxyVerb}
 

Definition at line 1933 of file mturk\+\_\+manager.\+py.


\begin{DoxyCode}
1933     ):
1934         \textcolor{stringliteral}{"""}
1935 \textcolor{stringliteral}{        Handles paying bonus to a turker, fails for insufficient funds.}
1936 \textcolor{stringliteral}{}
1937 \textcolor{stringliteral}{        Returns True on success and False on failure}
1938 \textcolor{stringliteral}{        """}
1939         total\_cost = mturk\_utils.calculate\_mturk\_cost(
1940             payment\_opt=\{\textcolor{stringliteral}{'type'}: \textcolor{stringliteral}{'bonus'}, \textcolor{stringliteral}{'amount'}: bonus\_amount\}
1941         )
1942         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} mturk\_utils.check\_mturk\_balance(
1943             balance\_needed=total\_cost, is\_sandbox=self.is\_sandbox
1944         ):
1945             shared\_utils.print\_and\_log(
1946                 logging.WARN,
1947                 \textcolor{stringliteral}{'Cannot pay bonus. Reason: Insufficient '}
1948                 \textcolor{stringliteral}{'funds in your MTurk account.'},
1949                 should\_print=\textcolor{keyword}{True},
1950             )
1951             \textcolor{keywordflow}{return} \textcolor{keyword}{False}
1952 
1953         client = mturk\_utils.get\_mturk\_client(self.is\_sandbox)
1954         \textcolor{comment}{# unique\_request\_token may be useful for handling future network errors}
1955         client.send\_bonus(
1956             WorkerId=worker\_id,
1957             BonusAmount=\hyperlink{namespacegenerate__task__READMEs_a5b88452ffb87b78c8c85ececebafc09f}{str}(bonus\_amount),
1958             AssignmentId=assignment\_id,
1959             Reason=reason,
1960             UniqueRequestToken=unique\_request\_token,
1961         )
1962         \textcolor{keywordflow}{if} self.db\_logger \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}:
1963             self.db\_logger.log\_pay\_extra\_bonus(
1964                 worker\_id, assignment\_id, bonus\_amount, reason
1965             )
1966         shared\_utils.print\_and\_log(
1967             logging.INFO,
1968             \textcolor{stringliteral}{'Paid $\{\} bonus to WorkerId: \{\}'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(bonus\_amount, worker\_id),
1969         )
1970         \textcolor{keywordflow}{return} \textcolor{keyword}{True}
1971 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a0db9fb228caa9632dac18268f380771f}\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a0db9fb228caa9632dac18268f380771f}} 
\index{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}!populate\+\_\+legacy\+\_\+task\+\_\+files@{populate\+\_\+legacy\+\_\+task\+\_\+files}}
\index{populate\+\_\+legacy\+\_\+task\+\_\+files@{populate\+\_\+legacy\+\_\+task\+\_\+files}!parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}}
\subsubsection{\texorpdfstring{populate\+\_\+legacy\+\_\+task\+\_\+files()}{populate\_legacy\_task\_files()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager.\+populate\+\_\+legacy\+\_\+task\+\_\+files (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{task\+\_\+directory\+\_\+path }\end{DoxyParamCaption})}



Definition at line 892 of file mturk\+\_\+manager.\+py.


\begin{DoxyCode}
892     \textcolor{keyword}{def }populate\_legacy\_task\_files(self, task\_directory\_path):
893         \textcolor{comment}{# Poplulate files to copy over to the server}
894         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} self.task\_files\_to\_copy:
895             self.task\_files\_to\_copy = []
896         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} task\_directory\_path:
897             task\_directory\_path = os.path.join(
898                 self.opt[\textcolor{stringliteral}{'parlai\_home'}], \textcolor{stringliteral}{'parlai'}, \textcolor{stringliteral}{'mturk'}, \textcolor{stringliteral}{'tasks'}, self.opt[\textcolor{stringliteral}{'task'}]
899             )
900         self.task\_files\_to\_copy.append(
901             os.path.join(task\_directory\_path, \textcolor{stringliteral}{'html'}, \textcolor{stringliteral}{'cover\_page.html'})
902         )
903         \textcolor{keywordflow}{try}:
904             \textcolor{keywordflow}{for} file\_name \textcolor{keywordflow}{in} os.listdir(os.path.join(task\_directory\_path, \textcolor{stringliteral}{'html'})):
905                 self.task\_files\_to\_copy.append(
906                     os.path.join(task\_directory\_path, \textcolor{stringliteral}{'html'}, file\_name)
907                 )
908         \textcolor{keywordflow}{except} FileNotFoundError:  \textcolor{comment}{# noqa F821 we don't support python2}
909             \textcolor{comment}{# No html dir exists}
910             \textcolor{keywordflow}{pass}
911         \textcolor{keywordflow}{for} mturk\_agent\_id \textcolor{keywordflow}{in} self.mturk\_agent\_ids + [\textcolor{stringliteral}{'onboarding'}]:
912             self.task\_files\_to\_copy.append(
913                 os.path.join(
914                     task\_directory\_path, \textcolor{stringliteral}{'html'}, \textcolor{stringliteral}{'\{\}\_index.html'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(mturk\_agent\_id)
915                 )
916             )
917 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a017804b28f3f57802dce14941e25903a}\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a017804b28f3f57802dce14941e25903a}} 
\index{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}!populate\+\_\+task\+\_\+files@{populate\+\_\+task\+\_\+files}}
\index{populate\+\_\+task\+\_\+files@{populate\+\_\+task\+\_\+files}!parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}}
\subsubsection{\texorpdfstring{populate\+\_\+task\+\_\+files()}{populate\_task\_files()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager.\+populate\+\_\+task\+\_\+files (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{task\+\_\+directory\+\_\+path }\end{DoxyParamCaption})}



Definition at line 918 of file mturk\+\_\+manager.\+py.


\begin{DoxyCode}
918     \textcolor{keyword}{def }populate\_task\_files(self, task\_directory\_path):
919         \textcolor{comment}{# Poplulate files to copy over to the server}
920         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} self.task\_files\_to\_copy:
921             self.task\_files\_to\_copy = \{
922                 \textcolor{stringliteral}{'static'}: [],
923                 \textcolor{stringliteral}{'components'}: [],
924                 \textcolor{stringliteral}{'css'}: [],
925                 \textcolor{stringliteral}{'needs\_build'}: \textcolor{keywordtype}{None},
926             \}
927         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} task\_directory\_path:
928             task\_directory\_path = os.path.join(
929                 self.opt[\textcolor{stringliteral}{'parlai\_home'}], \textcolor{stringliteral}{'parlai'}, \textcolor{stringliteral}{'mturk'}, \textcolor{stringliteral}{'tasks'}, self.opt[\textcolor{stringliteral}{'task'}]
930             )
931         self.task\_files\_to\_copy[\textcolor{stringliteral}{'static'}].append(
932             os.path.join(task\_directory\_path, \textcolor{stringliteral}{'frontend'}, \textcolor{stringliteral}{'static'}, \textcolor{stringliteral}{'cover\_page.html'})
933         )
934         \textcolor{keywordflow}{try}:
935             frontend\_contents = os.listdir(
936                 os.path.join(task\_directory\_path, \textcolor{stringliteral}{'frontend'})
937             )
938             \textcolor{keywordflow}{if} \textcolor{stringliteral}{'package.json'} \textcolor{keywordflow}{in} frontend\_contents:
939                 \textcolor{comment}{# We take a package file to mean that this component will}
940                 \textcolor{comment}{# need to be built separately before importing}
941                 self.task\_files\_to\_copy[\textcolor{stringliteral}{'needs\_build'}] = os.path.join(
942                     task\_directory\_path, \textcolor{stringliteral}{'frontend'}
943                 )
944             \textcolor{keywordflow}{for} dir \textcolor{keywordflow}{in} frontend\_contents:
945                 \textcolor{keywordflow}{if} dir \textcolor{keywordflow}{in} self.task\_files\_to\_copy:
946                     \textcolor{keywordflow}{for} file\_name \textcolor{keywordflow}{in} os.listdir(
947                         os.path.join(task\_directory\_path, \textcolor{stringliteral}{'frontend'}, dir)
948                     ):
949                         self.task\_files\_to\_copy[dir].append(
950                             os.path.join(
951                                 task\_directory\_path, \textcolor{stringliteral}{'frontend'}, dir, file\_name
952                             )
953                         )
954         \textcolor{keywordflow}{except} FileNotFoundError:  \textcolor{comment}{# noqa F821 we don't support python2}
955             \textcolor{comment}{# No frontend dir exists}
956             \textcolor{keywordflow}{pass}
957 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a87cd3cf9d61dd1d0683e9e7b5359eb53}\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a87cd3cf9d61dd1d0683e9e7b5359eb53}} 
\index{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}!ready\+\_\+to\+\_\+accept\+\_\+workers@{ready\+\_\+to\+\_\+accept\+\_\+workers}}
\index{ready\+\_\+to\+\_\+accept\+\_\+workers@{ready\+\_\+to\+\_\+accept\+\_\+workers}!parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}}
\subsubsection{\texorpdfstring{ready\+\_\+to\+\_\+accept\+\_\+workers()}{ready\_to\_accept\_workers()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager.\+ready\+\_\+to\+\_\+accept\+\_\+workers (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{timeout\+\_\+seconds = {\ttfamily None} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Set up socket to start communicating to workers.
\end{DoxyVerb}
 

Definition at line 1158 of file mturk\+\_\+manager.\+py.


\begin{DoxyCode}
1158     \textcolor{keyword}{def }ready\_to\_accept\_workers(self, timeout\_seconds=None):
1159         \textcolor{stringliteral}{"""}
1160 \textcolor{stringliteral}{        Set up socket to start communicating to workers.}
1161 \textcolor{stringliteral}{        """}
1162         \textcolor{keyword}{assert} self.task\_state >= self.STATE\_INIT\_RUN, (
1163             \textcolor{stringliteral}{'Cannot be ready to accept workers before starting a run with '}
1164             \textcolor{stringliteral}{'`mturk\_manager.start\_new\_run()` first.'}
1165         )
1166         shared\_utils.print\_and\_log(
1167             logging.INFO, \textcolor{stringliteral}{'Local: Setting up WebSocket...'}, \textcolor{keywordflow}{not} self.is\_test
1168         )
1169         self.\_setup\_socket(timeout\_seconds=timeout\_seconds)
1170         shared\_utils.print\_and\_log(logging.INFO, \textcolor{stringliteral}{'WebSocket set up!'}, should\_print=\textcolor{keyword}{True})
1171         \textcolor{comment}{# Just in case create\_hits was called first. To be removed when that}
1172         \textcolor{comment}{# workflow is no longer supported}
1173         \textcolor{keywordflow}{if} self.STATE\_ACCEPTING\_WORKERS > self.task\_state:
1174             self.task\_state = self.STATE\_ACCEPTING\_WORKERS
1175 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a06b4f16cfaf41feb192c79fcfa7407a3}\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a06b4f16cfaf41feb192c79fcfa7407a3}} 
\index{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}!reject\+\_\+work@{reject\+\_\+work}}
\index{reject\+\_\+work@{reject\+\_\+work}!parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}}
\subsubsection{\texorpdfstring{reject\+\_\+work()}{reject\_work()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager.\+reject\+\_\+work (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{assignment\+\_\+id,  }\item[{}]{reason }\end{DoxyParamCaption})}

\begin{DoxyVerb}reject work for a given assignment through the mturk client.
\end{DoxyVerb}
 

Definition at line 1796 of file mturk\+\_\+manager.\+py.


\begin{DoxyCode}
1796     \textcolor{keyword}{def }reject\_work(self, assignment\_id, reason):
1797         \textcolor{stringliteral}{"""}
1798 \textcolor{stringliteral}{        reject work for a given assignment through the mturk client.}
1799 \textcolor{stringliteral}{        """}
1800         client = mturk\_utils.get\_mturk\_client(self.is\_sandbox)
1801         client.reject\_assignment(AssignmentId=assignment\_id, RequesterFeedback=reason)
1802         \textcolor{keywordflow}{if} self.db\_logger \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}:
1803             self.db\_logger.log\_reject\_assignment(assignment\_id)
1804         shared\_utils.print\_and\_log(
1805             logging.INFO,
1806             \textcolor{stringliteral}{'Assignment \{\} rejected for reason \{\}.'} \textcolor{stringliteral}{''}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(assignment\_id, reason),
1807         )
1808 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_aa96771f455f9e041b4d0105ef20de99a}\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_aa96771f455f9e041b4d0105ef20de99a}} 
\index{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}!remove\+\_\+worker\+\_\+qualification@{remove\+\_\+worker\+\_\+qualification}}
\index{remove\+\_\+worker\+\_\+qualification@{remove\+\_\+worker\+\_\+qualification}!parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}}
\subsubsection{\texorpdfstring{remove\+\_\+worker\+\_\+qualification()}{remove\_worker\_qualification()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager.\+remove\+\_\+worker\+\_\+qualification (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{worker\+\_\+id,  }\item[{}]{qual\+\_\+name,  }\item[{}]{reason = {\ttfamily \textquotesingle{}\textquotesingle{}} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Remove a qualification from a worker.
\end{DoxyVerb}
 

Definition at line 1876 of file mturk\+\_\+manager.\+py.


\begin{DoxyCode}
1876     \textcolor{keyword}{def }\hyperlink{namespaceparlai_1_1mturk_1_1core_1_1dev_1_1mturk__utils_abc2c057b91641179f7c4bb50dd916488}{remove\_worker\_qualification}(self, worker\_id, qual\_name, reason=''):
1877         \textcolor{stringliteral}{"""}
1878 \textcolor{stringliteral}{        Remove a qualification from a worker.}
1879 \textcolor{stringliteral}{        """}
1880         qual\_id = mturk\_utils.find\_qualification(qual\_name, self.is\_sandbox)
1881         \textcolor{keywordflow}{if} qual\_id \textcolor{keywordflow}{is} \textcolor{keyword}{False} \textcolor{keywordflow}{or} qual\_id \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
1882             shared\_utils.print\_and\_log(
1883                 logging.WARN,
1884                 \textcolor{stringliteral}{'Could not remove from worker \{\} qualification \{\}, as the '}
1885                 \textcolor{stringliteral}{'qualification could not be found to exist.'}
1886                 \textcolor{stringliteral}{''}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(worker\_id, qual\_name),
1887                 should\_print=\textcolor{keyword}{True},
1888             )
1889             \textcolor{keywordflow}{return}
1890         \textcolor{keywordflow}{try}:
1891             mturk\_utils.remove\_worker\_qualification(
1892                 worker\_id, qual\_id, self.is\_sandbox, reason
1893             )
1894             shared\_utils.print\_and\_log(
1895                 logging.INFO,
1896                 \textcolor{stringliteral}{'removed \{\}\(\backslash\)'s qualification \{\}'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(worker\_id, qual\_name),
1897                 should\_print=\textcolor{keyword}{True},
1898             )
1899         \textcolor{keywordflow}{except} Exception \textcolor{keyword}{as} e:
1900             shared\_utils.print\_and\_log(
1901                 logging.WARN \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} self.has\_time\_limit \textcolor{keywordflow}{else} logging.INFO,
1902                 \textcolor{stringliteral}{'removing \{\}\(\backslash\)'s qualification \{\} failed with error \{\}. This '}
1903                 \textcolor{stringliteral}{'can be because the worker didn\(\backslash\)'t have that qualification.'}
1904                 \textcolor{stringliteral}{''}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(worker\_id, qual\_name, repr(e)),
1905                 should\_print=\textcolor{keyword}{True},
1906             )
1907 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_aee5b70ddae99ec326b6c512c29f740a3}\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_aee5b70ddae99ec326b6c512c29f740a3}} 
\index{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}!send\+\_\+command@{send\+\_\+command}}
\index{send\+\_\+command@{send\+\_\+command}!parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}}
\subsubsection{\texorpdfstring{send\+\_\+command()}{send\_command()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager.\+send\+\_\+command (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{receiver\+\_\+id,  }\item[{}]{assignment\+\_\+id,  }\item[{}]{data,  }\item[{}]{blocking = {\ttfamily True},  }\item[{}]{ack\+\_\+func = {\ttfamily None} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Sends a command through the socket manager, update conversation state.
\end{DoxyVerb}
 

Definition at line 1478 of file mturk\+\_\+manager.\+py.


\begin{DoxyCode}
1478     ):
1479         \textcolor{stringliteral}{"""}
1480 \textcolor{stringliteral}{        Sends a command through the socket manager, update conversation state.}
1481 \textcolor{stringliteral}{        """}
1482         data[\textcolor{stringliteral}{'type'}] = data\_model.MESSAGE\_TYPE\_COMMAND
1483         event\_id = shared\_utils.generate\_event\_id(receiver\_id)
1484         packet = Packet(
1485             event\_id,
1486             Packet.TYPE\_MESSAGE,
1487             self.socket\_manager.get\_my\_sender\_id(),
1488             receiver\_id,
1489             assignment\_id,
1490             data,
1491             blocking=blocking,
1492             ack\_func=ack\_func,
1493         )
1494 
1495         agent = self.worker\_manager.\_get\_agent(receiver\_id, assignment\_id)
1496         \textcolor{keywordflow}{if} (
1497             data[\textcolor{stringliteral}{'text'}] != data\_model.COMMAND\_CHANGE\_CONVERSATION
1498             \textcolor{keywordflow}{and} data[\textcolor{stringliteral}{'text'}] != data\_model.COMMAND\_RESTORE\_STATE
1499             \textcolor{keywordflow}{and} agent \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}
1500         ):
1501             \textcolor{comment}{# Append last command, as it might be necessary to restore state}
1502             agent.set\_last\_command(packet.data)
1503         self.socket\_manager.queue\_packet(packet)
1504 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a461d68a9cb665b1745442da16ba1584e}\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a461d68a9cb665b1745442da16ba1584e}} 
\index{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}!send\+\_\+message@{send\+\_\+message}}
\index{send\+\_\+message@{send\+\_\+message}!parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}}
\subsubsection{\texorpdfstring{send\+\_\+message()}{send\_message()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager.\+send\+\_\+message (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{receiver\+\_\+id,  }\item[{}]{assignment\+\_\+id,  }\item[{}]{data,  }\item[{}]{blocking = {\ttfamily True},  }\item[{}]{ack\+\_\+func = {\ttfamily None} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Send a message through the socket manager, update conversation state.
\end{DoxyVerb}
 

Definition at line 1438 of file mturk\+\_\+manager.\+py.


\begin{DoxyCode}
1438     ):
1439         \textcolor{stringliteral}{"""}
1440 \textcolor{stringliteral}{        Send a message through the socket manager, update conversation state.}
1441 \textcolor{stringliteral}{        """}
1442         data = data.copy()  \textcolor{comment}{# Ensure data packet is sent in current state}
1443         data[\textcolor{stringliteral}{'type'}] = data\_model.MESSAGE\_TYPE\_MESSAGE
1444         \textcolor{comment}{# Force messages to have a unique ID}
1445         \textcolor{keywordflow}{if} \textcolor{stringliteral}{'message\_id'} \textcolor{keywordflow}{not} \textcolor{keywordflow}{in} data:
1446             data[\textcolor{stringliteral}{'message\_id'}] = \hyperlink{namespacegenerate__task__READMEs_a5b88452ffb87b78c8c85ececebafc09f}{str}(uuid.uuid4())
1447         conversation\_id = \textcolor{keywordtype}{None}
1448         agent = self.worker\_manager.\_get\_agent(receiver\_id, assignment\_id)
1449         \textcolor{keywordflow}{if} agent \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}:
1450             conversation\_id = agent.conversation\_id
1451         event\_id = shared\_utils.generate\_event\_id(receiver\_id)
1452         packet = Packet(
1453             event\_id,
1454             Packet.TYPE\_MESSAGE,
1455             self.socket\_manager.get\_my\_sender\_id(),
1456             receiver\_id,
1457             assignment\_id,
1458             data,
1459             conversation\_id=conversation\_id,
1460             blocking=blocking,
1461             ack\_func=ack\_func,
1462         )
1463 
1464         shared\_utils.print\_and\_log(
1465             logging.INFO,
1466             \textcolor{stringliteral}{'Manager sending: \{\}'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(packet),
1467             should\_print=self.opt[\textcolor{stringliteral}{'verbose'}],
1468         )
1469         \textcolor{comment}{# Push outgoing message to the message thread to be able to resend}
1470         \textcolor{comment}{# on a reconnect event}
1471         \textcolor{keywordflow}{if} agent \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}:
1472             agent.append\_message(packet.data)
1473         self.socket\_manager.queue\_packet(packet)
1474         \textcolor{keywordflow}{return} data[\textcolor{stringliteral}{'message\_id'}]
1475 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a450a6985e5d7f33a9e7d2a3f92503eca}\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a450a6985e5d7f33a9e7d2a3f92503eca}} 
\index{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}!set\+\_\+onboard\+\_\+function@{set\+\_\+onboard\+\_\+function}}
\index{set\+\_\+onboard\+\_\+function@{set\+\_\+onboard\+\_\+function}!parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}}
\subsubsection{\texorpdfstring{set\+\_\+onboard\+\_\+function()}{set\_onboard\_function()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager.\+set\+\_\+onboard\+\_\+function (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{onboard\+\_\+function }\end{DoxyParamCaption})}



Definition at line 1176 of file mturk\+\_\+manager.\+py.


\begin{DoxyCode}
1176     \textcolor{keyword}{def }set\_onboard\_function(self, onboard\_function):
1177         self.onboard\_function = onboard\_function
1178 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a3d662cb80767e781d91c6c87c2ef54b5}\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a3d662cb80767e781d91c6c87c2ef54b5}} 
\index{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}!setup\+\_\+server@{setup\+\_\+server}}
\index{setup\+\_\+server@{setup\+\_\+server}!parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}}
\subsubsection{\texorpdfstring{setup\+\_\+server()}{setup\_server()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager.\+setup\+\_\+server (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{task\+\_\+directory\+\_\+path = {\ttfamily None} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Prepare the MTurk server for the new HIT we would like to submit.
\end{DoxyVerb}
 

Definition at line 958 of file mturk\+\_\+manager.\+py.


\begin{DoxyCode}
958     \textcolor{keyword}{def }\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1server__utils_afb56b04206cd0f42384438f1ac6d9cda}{setup\_server}(self, task\_directory\_path=None):
959         \textcolor{stringliteral}{"""}
960 \textcolor{stringliteral}{        Prepare the MTurk server for the new HIT we would like to submit.}
961 \textcolor{stringliteral}{        """}
962         \textcolor{keyword}{assert} self.task\_state >= self.STATE\_CREATED
963         fin\_word = \textcolor{stringliteral}{'start'}
964         \textcolor{keywordflow}{if} self.opt[\textcolor{stringliteral}{'count\_complete'}]:
965             fin\_word = \textcolor{stringliteral}{'finish'}
966         shared\_utils.print\_and\_log(
967             logging.INFO,
968             \textcolor{stringliteral}{'\(\backslash\)nYou are going to allow workers from Amazon Mechanical Turk to '}
969             \textcolor{stringliteral}{'be an agent in ParlAI.\(\backslash\)nDuring this process, Internet connection '}
970             \textcolor{stringliteral}{'is required, and you should turn off your computer\(\backslash\)'s auto-sleep '}
971             \textcolor{stringliteral}{'feature.'},
972             should\_print=\textcolor{keyword}{True},
973         )
974         \textcolor{keywordflow}{if} self.opt[\textcolor{stringliteral}{'max\_connections'}] == 0:
975             shared\_utils.print\_and\_log(
976                 logging.INFO,
977                 \textcolor{stringliteral}{'Enough HITs will be created to fulfill \{\} times the '}
978                 \textcolor{stringliteral}{'number of conversations requested, extra HITs will be expired'}
979                 \textcolor{stringliteral}{' once the desired conversations \{\}.'}
980                 \textcolor{stringliteral}{''}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(self.hit\_mult, fin\_word),
981                 should\_print=\textcolor{keyword}{True},
982             )
983         \textcolor{keywordflow}{else}:
984             shared\_utils.print\_and\_log(
985                 logging.INFO,
986                 \textcolor{stringliteral}{'Enough HITs will be launched over time '}
987                 \textcolor{stringliteral}{'up to a max of \{\} times the amount requested until the '}
988                 \textcolor{stringliteral}{'desired number of conversations \{\}.'}
989                 \textcolor{stringliteral}{''}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(self.hit\_mult, fin\_word),
990                 should\_print=\textcolor{keyword}{True},
991             )
992         \hyperlink{namespaceparlai_1_1mturk_1_1core_1_1dev_1_1test_1_1test__full__system_a1e1817cd65688fb90f827834d1fb4567}{input}(\textcolor{stringliteral}{'Please press Enter to continue... '})
993         shared\_utils.print\_and\_log(logging.NOTSET, \textcolor{stringliteral}{''}, \textcolor{keyword}{True})
994 
995         \textcolor{keywordflow}{if} self.opt[\textcolor{stringliteral}{'local'}] \textcolor{keywordflow}{is} \textcolor{keyword}{True}:
996             shared\_utils.print\_and\_log(
997                 logging.INFO,
998                 \textcolor{stringliteral}{"In order to run the server locally, you will need "}
999                 \textcolor{stringliteral}{"to have a public HTTPS endpoint (SSL signed) running on "}
1000                 \textcolor{stringliteral}{"the server you are currently excecuting ParlAI on. Enter "}
1001                 \textcolor{stringliteral}{"that public URL hostname when prompted and ensure that the "}
1002                 \textcolor{stringliteral}{"port being used by ParlAI (usually 3000) has external "}
1003                 \textcolor{stringliteral}{"traffic routed to it."},
1004                 should\_print=\textcolor{keyword}{True},
1005             )
1006             \hyperlink{namespaceparlai_1_1mturk_1_1core_1_1dev_1_1test_1_1test__full__system_a1e1817cd65688fb90f827834d1fb4567}{input}(\textcolor{stringliteral}{'Please press Enter to continue... '})
1007 
1008         mturk\_utils.setup\_aws\_credentials()
1009 
1010         \textcolor{comment}{# See if there's enough money in the account to fund the HITs requested}
1011         num\_assignments = self.required\_hits
1012         payment\_opt = \{
1013             \textcolor{stringliteral}{'type'}: \textcolor{stringliteral}{'reward'},
1014             \textcolor{stringliteral}{'num\_total\_assignments'}: num\_assignments,
1015             \textcolor{stringliteral}{'reward'}: self.opt[\textcolor{stringliteral}{'reward'}],  \textcolor{comment}{# in dollars}
1016         \}
1017         total\_cost = mturk\_utils.calculate\_mturk\_cost(payment\_opt=payment\_opt)
1018         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} mturk\_utils.check\_mturk\_balance(
1019             balance\_needed=total\_cost, is\_sandbox=self.opt[\textcolor{stringliteral}{'is\_sandbox'}]
1020         ):
1021             \textcolor{keywordflow}{raise} SystemExit(\textcolor{stringliteral}{'Insufficient funds'})
1022 
1023         \textcolor{keywordflow}{if} (\textcolor{keywordflow}{not} self.opt[\textcolor{stringliteral}{'is\_sandbox'}]) \textcolor{keywordflow}{and} (
1024             total\_cost > 100 \textcolor{keywordflow}{or} self.opt[\textcolor{stringliteral}{'reward'}] > 1
1025         ):
1026             confirm\_string = \textcolor{stringliteral}{'$%.2f'} % total\_cost
1027             expected\_cost = total\_cost / self.hit\_mult
1028             expected\_string = \textcolor{stringliteral}{'$%.2f'} % expected\_cost
1029             shared\_utils.print\_and\_log(
1030                 logging.INFO,
1031                 \textcolor{stringliteral}{'You are going to create \{\} HITs at \{\} per assignment, for a '}
1032                 \textcolor{stringliteral}{'total cost up to \{\} after MTurk fees. Please enter "\{\}" to '}
1033                 \textcolor{stringliteral}{'confirm and continue, and anything else to cancel.\(\backslash\)nNote that'}
1034                 \textcolor{stringliteral}{' of the \{\}, the target amount to spend is \{\}.'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(
1035                     self.required\_hits,
1036                     \textcolor{stringliteral}{'$%.2f'} % self.opt[\textcolor{stringliteral}{'reward'}],
1037                     confirm\_string,
1038                     confirm\_string,
1039                     confirm\_string,
1040                     expected\_string,
1041                 ),
1042                 should\_print=\textcolor{keyword}{True},
1043             )
1044             check = \hyperlink{namespaceparlai_1_1mturk_1_1core_1_1dev_1_1test_1_1test__full__system_a1e1817cd65688fb90f827834d1fb4567}{input}(\textcolor{stringliteral}{'Enter here: '})
1045             \textcolor{keywordflow}{if} check != confirm\_string \textcolor{keywordflow}{and} (\textcolor{stringliteral}{'$'} + check) != confirm\_string:
1046                 \textcolor{keywordflow}{raise} SystemExit(\textcolor{stringliteral}{'Cancelling'})
1047 
1048         \textcolor{comment}{# Check to see if there are any additional notices on the parlai site}
1049         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} self.is\_test:
1050             shared\_utils.print\_and\_log(
1051                 logging.INFO,
1052                 \textcolor{stringliteral}{'Querying the parlai website for possible notices...'},
1053                 should\_print=\textcolor{keyword}{True},
1054             )
1055             endpoint = \textcolor{stringliteral}{'sandbox'} \textcolor{keywordflow}{if} self.is\_sandbox \textcolor{keywordflow}{else} \textcolor{stringliteral}{'live'}
1056             notice\_url = PARLAI\_MTURK\_NOTICE\_URL + endpoint
1057             \textcolor{keywordflow}{try}:
1058                 \textcolor{keyword}{import} parlai\_internal.mturk.configs \textcolor{keyword}{as} local\_configs
1059 
1060                 notice\_url = local\_configs.get\_true\_url(notice\_url)
1061             \textcolor{keywordflow}{except} Exception:
1062                 \textcolor{comment}{# not all users will be drawing configs from internal settings}
1063                 \textcolor{keywordflow}{pass}
1064             \textcolor{keywordflow}{try}:
1065                 resp = requests.post(notice\_url)
1066                 warnings = resp.json()
1067                 \textcolor{keywordflow}{for} warn \textcolor{keywordflow}{in} warnings:
1068                     print(\textcolor{stringliteral}{'Notice: '} + warn)
1069                     accept = \hyperlink{namespaceparlai_1_1mturk_1_1core_1_1dev_1_1test_1_1test__full__system_a1e1817cd65688fb90f827834d1fb4567}{input}(\textcolor{stringliteral}{'Continue? (Y/n): '})
1070                     \textcolor{keywordflow}{if} accept == \textcolor{stringliteral}{'n'}:
1071                         \textcolor{keywordflow}{raise} SystemExit(\textcolor{stringliteral}{'Additional notice was rejected.'})
1072             \textcolor{keywordflow}{except} Exception:
1073                 print(\textcolor{stringliteral}{'Unable to query warnings from the parl.ai website.'})
1074                 accept = \hyperlink{namespaceparlai_1_1mturk_1_1core_1_1dev_1_1test_1_1test__full__system_a1e1817cd65688fb90f827834d1fb4567}{input}(\textcolor{stringliteral}{'Continue without checking warnings? (Y/n): '})
1075                 \textcolor{keywordflow}{if} accept == \textcolor{stringliteral}{'n'}:
1076                     \textcolor{keywordflow}{raise} SystemExit(\textcolor{stringliteral}{'Aborted.'})
1077 
1078         self.logging\_permitted = self.\_logging\_permission\_check()
1079 
1080         shared\_utils.print\_and\_log(
1081             logging.INFO, \textcolor{stringliteral}{'Setting up MTurk server...'}, should\_print=\textcolor{keyword}{True}
1082         )
1083         self.is\_unique = self.opt[\textcolor{stringliteral}{'unique\_worker'}]
1084         self.max\_hits\_per\_worker = self.opt.get(\textcolor{stringliteral}{'max\_hits\_per\_worker'}, 0)
1085         mturk\_utils.create\_hit\_config(
1086             opt=self.opt,
1087             task\_description=self.opt[\textcolor{stringliteral}{'task\_description'}],
1088             unique\_worker=self.is\_unique,
1089             is\_sandbox=self.opt[\textcolor{stringliteral}{'is\_sandbox'}],
1090         )
1091 
1092         \textcolor{comment}{# Setup the server with a likely-unique app-name}
1093         task\_name = \textcolor{stringliteral}{'\{\}-\{\}'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(\hyperlink{namespacegenerate__task__READMEs_a5b88452ffb87b78c8c85ececebafc09f}{str}(uuid.uuid4())[:8], self.opt[\textcolor{stringliteral}{'task'}])
1094         self.server\_task\_name = \textcolor{stringliteral}{''}.join(
1095             e \textcolor{keywordflow}{for} e \textcolor{keywordflow}{in} task\_name.lower() \textcolor{keywordflow}{if} e.isalnum() \textcolor{keywordflow}{or} e == \textcolor{stringliteral}{'-'}
1096         )
1097         \textcolor{keywordflow}{if} \textcolor{stringliteral}{'heroku\_team'} \textcolor{keywordflow}{in} self.opt:
1098             heroku\_team = self.opt[\textcolor{stringliteral}{'heroku\_team'}]
1099         \textcolor{keywordflow}{else}:
1100             heroku\_team = \textcolor{keywordtype}{None}
1101 
1102         \textcolor{keywordflow}{if} self.opt.get(\textcolor{stringliteral}{'frontend\_version'}, 0) < 1:
1103             self.populate\_legacy\_task\_files(task\_directory\_path)
1104             self.server\_url = server\_utils.setup\_legacy\_server(
1105                 self.server\_task\_name,
1106                 self.task\_files\_to\_copy,
1107                 self.opt[\textcolor{stringliteral}{'local'}],
1108                 heroku\_team,
1109                 self.opt[\textcolor{stringliteral}{'hobby'}],
1110                 tmp\_dir=self.opt[\textcolor{stringliteral}{'tmp\_dir'}],
1111             )
1112         \textcolor{keywordflow}{else}:
1113             self.populate\_task\_files(task\_directory\_path)
1114             self.server\_url = server\_utils.setup\_server(
1115                 self.server\_task\_name,
1116                 self.task\_files\_to\_copy,
1117                 self.opt[\textcolor{stringliteral}{'local'}],
1118                 heroku\_team,
1119                 self.opt[\textcolor{stringliteral}{'hobby'}],
1120                 tmp\_dir=self.opt[\textcolor{stringliteral}{'tmp\_dir'}],
1121             )
1122 
1123         shared\_utils.print\_and\_log(logging.INFO, self.server\_url)
1124 
1125         shared\_utils.print\_and\_log(
1126             logging.INFO, \textcolor{stringliteral}{"MTurk server setup done.\(\backslash\)n"}, should\_print=\textcolor{keyword}{True}
1127         )
1128         self.task\_state = self.STATE\_SERVER\_ALIVE
1129 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_afe84a023a6c77a9af64409bb460dd522}\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_afe84a023a6c77a9af64409bb460dd522}} 
\index{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}!shutdown@{shutdown}}
\index{shutdown@{shutdown}!parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}}
\subsubsection{\texorpdfstring{shutdown()}{shutdown()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager.\+shutdown (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{force = {\ttfamily False} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Handle any mturk client shutdown cleanup.
\end{DoxyVerb}
 

Definition at line 1346 of file mturk\+\_\+manager.\+py.


\begin{DoxyCode}
1346     \textcolor{keyword}{def }shutdown(self, force=False):
1347         \textcolor{stringliteral}{"""}
1348 \textcolor{stringliteral}{        Handle any mturk client shutdown cleanup.}
1349 \textcolor{stringliteral}{        """}
1350         \textcolor{comment}{# Ensure all threads are cleaned and state and HITs are handled}
1351         \textcolor{keywordflow}{if} self.is\_shutdown \textcolor{keywordflow}{and} \textcolor{keywordflow}{not} force:
1352             \textcolor{keywordflow}{return}
1353         self.is\_shutdown = \textcolor{keyword}{True}
1354         \textcolor{keywordflow}{try}:
1355             self.expire\_all\_unassigned\_hits()
1356             self.\_expire\_onboarding\_pool()
1357             self.\_expire\_agent\_pool()
1358             self.\_wait\_for\_task\_expirations()
1359             \textcolor{keywordflow}{for} assignment\_id \textcolor{keywordflow}{in} self.assignment\_to\_onboard\_thread:
1360                 self.assignment\_to\_onboard\_thread[assignment\_id].join()
1361         \textcolor{keywordflow}{except} BaseException:
1362             \textcolor{keywordflow}{pass}
1363         \textcolor{keywordflow}{finally}:
1364             \textcolor{keywordflow}{if} self.server\_task\_name \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}:
1365                 server\_utils.delete\_server(
1366                     self.server\_task\_name,
1367                     self.opt[\textcolor{stringliteral}{'local'}],
1368                     tmp\_dir=self.opt[\textcolor{stringliteral}{'tmp\_dir'}],
1369                 )
1370             \textcolor{keywordflow}{if} self.topic\_arn \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}:
1371                 mturk\_utils.delete\_sns\_topic(self.topic\_arn)
1372             \textcolor{keywordflow}{if} self.opt[\textcolor{stringliteral}{'unique\_worker'}] \textcolor{keywordflow}{and} \textcolor{keywordflow}{not} self.opt[\textcolor{stringliteral}{'unique\_qual\_name'}]:
1373                 mturk\_utils.delete\_qualification(self.unique\_qual\_id, self.is\_sandbox)
1374             \textcolor{keywordflow}{if} self.socket\_manager \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}:
1375                 self.socket\_manager.shutdown()
1376             \textcolor{keywordflow}{if} self.logging\_permitted \textcolor{keywordflow}{and} \textcolor{keywordflow}{not} self.is\_sandbox \textcolor{keywordflow}{and} \textcolor{keywordflow}{not} self.is\_test:
1377                 self.\_upload\_worker\_data()
1378             \textcolor{keywordflow}{if} self.worker\_manager \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}:
1379                 self.worker\_manager.shutdown()
1380 
1381             \hyperlink{namespaceparlai_1_1core_1_1params_afd1a47c94990168ea9e70d894a79bd2c}{print\_announcements}(self.opt)
1382 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_aa9b385ef48553d3150e195fe82d24c88}\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_aa9b385ef48553d3150e195fe82d24c88}} 
\index{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}!soft\+\_\+block\+\_\+worker@{soft\+\_\+block\+\_\+worker}}
\index{soft\+\_\+block\+\_\+worker@{soft\+\_\+block\+\_\+worker}!parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}}
\subsubsection{\texorpdfstring{soft\+\_\+block\+\_\+worker()}{soft\_block\_worker()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager.\+soft\+\_\+block\+\_\+worker (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{worker\+\_\+id,  }\item[{}]{qual = {\ttfamily \textquotesingle{}block\+\_\+qualification\textquotesingle{}} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Soft block a worker by giving the worker the block qualification.
\end{DoxyVerb}
 

Definition at line 1832 of file mturk\+\_\+manager.\+py.


\begin{DoxyCode}
1832     \textcolor{keyword}{def }soft\_block\_worker(self, worker\_id, qual='block\_qualification'):
1833         \textcolor{stringliteral}{"""}
1834 \textcolor{stringliteral}{        Soft block a worker by giving the worker the block qualification.}
1835 \textcolor{stringliteral}{        """}
1836         qual\_name = self.opt.get(qual, \textcolor{keywordtype}{None})
1837         \textcolor{keyword}{assert} (
1838             qual\_name \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}
1839         ), \textcolor{stringliteral}{'No qualification \{\} has been specified'} \textcolor{stringliteral}{'in opt'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(qual)
1840         self.give\_worker\_qualification(worker\_id, qual\_name)
1841 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a02acff72f25ec7a77edca9489fe3b804}\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a02acff72f25ec7a77edca9489fe3b804}} 
\index{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}!start\+\_\+new\+\_\+run@{start\+\_\+new\+\_\+run}}
\index{start\+\_\+new\+\_\+run@{start\+\_\+new\+\_\+run}!parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}}
\subsubsection{\texorpdfstring{start\+\_\+new\+\_\+run()}{start\_new\_run()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager.\+start\+\_\+new\+\_\+run (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}

\begin{DoxyVerb}Clear state to prepare for a new run.
\end{DoxyVerb}
 

Definition at line 1130 of file mturk\+\_\+manager.\+py.


\begin{DoxyCode}
1130     \textcolor{keyword}{def }start\_new\_run(self):
1131         \textcolor{stringliteral}{"""}
1132 \textcolor{stringliteral}{        Clear state to prepare for a new run.}
1133 \textcolor{stringliteral}{        """}
1134         \textcolor{keyword}{assert} self.task\_state >= self.STATE\_SERVER\_ALIVE, (
1135             \textcolor{stringliteral}{'Cannot start a run before having a running server using '}
1136             \textcolor{stringliteral}{'`mturk\_manager.setup\_server()` first.'}
1137         )
1138         self.run\_id = \hyperlink{namespacegenerate__task__READMEs_a5b88452ffb87b78c8c85ececebafc09f}{str}(\hyperlink{namespacelanguage__model_1_1eval__ppl_a7d12ee00479673c5c8d1f6d01faa272a}{int}(time.time()))
1139         self.task\_group\_id = \textcolor{stringliteral}{'\{\}\_\{\}'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(self.opt[\textcolor{stringliteral}{'task'}], self.run\_id)
1140         self.\_init\_state()
1141         \textcolor{keywordflow}{try}:
1142             self.topic\_arn = mturk\_utils.setup\_sns\_topic(
1143                 self.opt[\textcolor{stringliteral}{'task'}], self.server\_url, self.task\_group\_id
1144             )
1145         \textcolor{keywordflow}{except} Exception \textcolor{keyword}{as} e:
1146             self.topic\_arn = \textcolor{keywordtype}{None}
1147             shared\_utils.print\_and\_log(
1148                 logging.WARN,
1149                 \textcolor{stringliteral}{'Botocore couldn\(\backslash\)'t subscribe to HIT events, '}
1150                 \textcolor{stringliteral}{'perhaps you tried to register to localhost?'},
1151                 should\_print=\textcolor{keyword}{True},
1152             )
1153             print(repr(e))
1154         \textcolor{keywordflow}{if} self.db\_logger \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}:
1155             self.db\_logger.log\_new\_run(self.required\_hits, self.opt[\textcolor{stringliteral}{'task'}])
1156         self.task\_state = self.STATE\_INIT\_RUN
1157 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a30fec0658e0f98228c10ef0667519f97}\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a30fec0658e0f98228c10ef0667519f97}} 
\index{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}!start\+\_\+task@{start\+\_\+task}}
\index{start\+\_\+task@{start\+\_\+task}!parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}}
\subsubsection{\texorpdfstring{start\+\_\+task()}{start\_task()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager.\+start\+\_\+task (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{eligibility\+\_\+function,  }\item[{}]{assign\+\_\+role\+\_\+function,  }\item[{}]{task\+\_\+function }\end{DoxyParamCaption})}

\begin{DoxyVerb}Handle running a task by checking to see when enough agents are in the pool to
start an instance of the task.

Continue doing this until the desired number of conversations is had.
\end{DoxyVerb}
 

Definition at line 1179 of file mturk\+\_\+manager.\+py.


\begin{DoxyCode}
1179     \textcolor{keyword}{def }start\_task(self, eligibility\_function, assign\_role\_function, task\_function):
1180         \textcolor{stringliteral}{"""}
1181 \textcolor{stringliteral}{        Handle running a task by checking to see when enough agents are in the pool to}
1182 \textcolor{stringliteral}{        start an instance of the task.}
1183 \textcolor{stringliteral}{}
1184 \textcolor{stringliteral}{        Continue doing this until the desired number of conversations is had.}
1185 \textcolor{stringliteral}{        """}
1186         \textcolor{keyword}{assert} self.task\_state >= self.STATE\_HITS\_MADE, (
1187             \textcolor{stringliteral}{'Must have launched HITs with `mturk\_manager.create\_hits`'}
1188             \textcolor{stringliteral}{' to start the task'}
1189         )
1190         \textcolor{keywordflow}{if} callable(eligibility\_function):
1191             \textcolor{comment}{# Convert legacy eligibility\_functions to the new format}
1192             eligibility\_function = \{\textcolor{stringliteral}{'multiple'}: \textcolor{keyword}{False}, \textcolor{stringliteral}{'func'}: eligibility\_function\}
1193         \textcolor{keywordflow}{else}:
1194             \textcolor{comment}{# Ensure the eligibility function is valid}
1195             \textcolor{keywordflow}{if} \textcolor{stringliteral}{'func'} \textcolor{keywordflow}{not} \textcolor{keywordflow}{in} eligibility\_function:
1196                 shared\_utils.print\_and\_log(
1197                     logging.CRITICAL, \textcolor{stringliteral}{"eligibility\_function has no 'func'. Cancelling."}
1198                 )
1199                 \textcolor{keywordflow}{raise} Exception(
1200                     \textcolor{stringliteral}{'eligibility\_function dict must contain a `func` field '}
1201                     \textcolor{stringliteral}{'containing the actual function.'}
1202                 )
1203             \textcolor{keywordflow}{elif} \textcolor{keywordflow}{not} callable(eligibility\_function[\textcolor{stringliteral}{'func'}]):
1204                 shared\_utils.print\_and\_log(
1205                     logging.CRITICAL,
1206                     \textcolor{stringliteral}{"eligibility\_function['func'] not a function. Cancelling."},
1207                 )
1208                 \textcolor{keywordflow}{raise} Exception(
1209                     \textcolor{stringliteral}{"eligibility\_function['func'] must contain a function. "}
1210                     \textcolor{stringliteral}{"If eligibility\_function['multiple'] is set, it should "}
1211                     \textcolor{stringliteral}{"filter through the list of workers and only return those "}
1212                     \textcolor{stringliteral}{"that are currently eligible to participate. If it is not "}
1213                     \textcolor{stringliteral}{"set, it should take in a single worker and return whether"}
1214                     \textcolor{stringliteral}{" or not they are eligible."}
1215                 )
1216             \textcolor{keywordflow}{if} \textcolor{stringliteral}{'multiple'} \textcolor{keywordflow}{not} \textcolor{keywordflow}{in} eligibility\_function:
1217                 eligibility\_function[\textcolor{stringliteral}{'multiple'}] = \textcolor{keyword}{False}
1218 
1219         \textcolor{keyword}{def }\_task\_function(opt, agents, conversation\_id):
1220             \textcolor{stringliteral}{"""}
1221 \textcolor{stringliteral}{            Wait for agents to join the world, then run task function.}
1222 \textcolor{stringliteral}{            """}
1223             shared\_utils.print\_and\_log(
1224                 logging.INFO, \textcolor{stringliteral}{'Starting task \{\}...'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(conversation\_id)
1225             )
1226             shared\_utils.print\_and\_log(
1227                 logging.DEBUG, \textcolor{stringliteral}{'Waiting for all agents to join the conversation...'}
1228             )
1229             start\_time = time.time()
1230             \textcolor{keywordflow}{while} \textcolor{keyword}{True}:
1231                 all\_joined = \textcolor{keyword}{True}
1232                 \textcolor{keywordflow}{for} agent \textcolor{keywordflow}{in} agents:
1233                     \textcolor{comment}{# check the status of an individual agent assignment}
1234                     \textcolor{keywordflow}{if} agent.get\_status() != AssignState.STATUS\_IN\_TASK:
1235                         all\_joined = \textcolor{keyword}{False}
1236                 \textcolor{keywordflow}{if} all\_joined:
1237                     \textcolor{keywordflow}{break}
1238                 \textcolor{keywordflow}{if} time.time() - start\_time > WORLD\_START\_TIMEOUT:
1239                     \textcolor{comment}{# We waited but not all agents rejoined, throw agents}
1240                     \textcolor{comment}{# back into the waiting pool. Stragglers will disconnect}
1241                     \textcolor{comment}{# from there}
1242                     shared\_utils.print\_and\_log(
1243                         logging.INFO,
1244                         \textcolor{stringliteral}{'Timeout waiting for \{\}, move back to waiting'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(
1245                             conversation\_id
1246                         ),
1247                     )
1248                     self.\_move\_agents\_to\_waiting(agents)
1249                     \textcolor{keywordflow}{return}
1250                 time.sleep(shared\_utils.THREAD\_SHORT\_SLEEP)
1251 
1252             shared\_utils.print\_and\_log(
1253                 logging.INFO,
1254                 \textcolor{stringliteral}{'All agents joined the conversation \{\}!'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(conversation\_id),
1255             )
1256             self.started\_conversations += 1
1257             save\_data = task\_function(mturk\_manager=self, opt=opt, workers=agents)
1258 
1259             \textcolor{keywordflow}{if} save\_data \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}:
1260                 MTurkDataHandler.save\_world\_data(
1261                     save\_data,
1262                     self.task\_group\_id,
1263                     conversation\_id,
1264                     sandbox=self.is\_sandbox,
1265                 )
1266 
1267             \textcolor{comment}{# Delete extra state data that is now unneeded}
1268             \textcolor{keywordflow}{for} agent \textcolor{keywordflow}{in} agents:
1269                 agent.clear\_messages()
1270 
1271             \textcolor{comment}{# Count if it's a completed conversation}
1272             \textcolor{keywordflow}{if} self.\_no\_agents\_incomplete(agents):
1273                 self.completed\_conversations += 1
1274             \textcolor{keywordflow}{if} self.opt[\textcolor{stringliteral}{'max\_connections'}] > 0:  \textcolor{comment}{# If using a conv cap}
1275                 \textcolor{keywordflow}{if} self.accepting\_workers:  \textcolor{comment}{# if still looking for new agents}
1276                     \textcolor{keywordflow}{for} agent \textcolor{keywordflow}{in} agents:
1277                         \textcolor{keywordflow}{if} agent.submitted\_hit():
1278                             self.create\_additional\_hits(1)
1279 
1280         \textcolor{keywordflow}{if} self.db\_logger \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}:
1281             self.\_maintain\_hit\_status()
1282         \textcolor{keywordflow}{while} \textcolor{keywordflow}{not} self.is\_shutdown:
1283             \textcolor{keywordflow}{if} self.has\_time\_limit:
1284                 self.\_check\_time\_limit()
1285             \textcolor{comment}{# Loop forever starting task worlds until desired convos are had}
1286             with self.agent\_pool\_change\_condition:
1287                 valid\_agents = self.\_get\_unique\_pool(eligibility\_function)
1288                 needed\_agents = len(self.mturk\_agent\_ids)
1289                 \textcolor{keywordflow}{if} len(valid\_agents) >= needed\_agents:
1290                     \textcolor{comment}{# enough agents in pool to start new conversation}
1291                     self.conversation\_index += 1
1292                     new\_conversation\_id = \textcolor{stringliteral}{'t\_\{\}'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(self.conversation\_index)
1293 
1294                     \textcolor{comment}{# Add the required number of valid agents to the conv}
1295                     agents = [a \textcolor{keywordflow}{for} a \textcolor{keywordflow}{in} valid\_agents[:needed\_agents]]
1296                     assign\_role\_function(agents)
1297                     \textcolor{comment}{# Allow task creator to filter out agents and run}
1298                     \textcolor{comment}{# versions of the task that require fewer agents}
1299                     agents = [a \textcolor{keywordflow}{for} a \textcolor{keywordflow}{in} agents \textcolor{keywordflow}{if} a.id \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}]
1300                     \textcolor{keywordflow}{for} agent \textcolor{keywordflow}{in} agents:
1301                         self.worker\_manager.change\_agent\_conversation(
1302                             agent=agent,
1303                             conversation\_id=new\_conversation\_id,
1304                             new\_agent\_id=agent.id,
1305                         )
1306                         \textcolor{comment}{# Remove selected agents from the pool}
1307                         self.\_remove\_from\_agent\_pool(agent)
1308 
1309                     \textcolor{comment}{# Start a new thread for this task world}
1310                     task\_thread = threading.Thread(
1311                         target=\_task\_function,
1312                         args=(self.opt, agents, new\_conversation\_id),
1313                         name=\textcolor{stringliteral}{'task-\{\}'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(new\_conversation\_id),
1314                     )
1315                     task\_thread.daemon = \textcolor{keyword}{True}
1316                     task\_thread.start()
1317                     self.task\_threads.append(task\_thread)
1318 
1319             \textcolor{comment}{# Once we've had enough conversations, finish and break}
1320             compare\_count = self.started\_conversations
1321             \textcolor{keywordflow}{if} self.opt[\textcolor{stringliteral}{'count\_complete'}]:
1322                 compare\_count = self.completed\_conversations
1323             \textcolor{keywordflow}{if} compare\_count >= self.num\_conversations:
1324                 self.accepting\_workers = \textcolor{keyword}{False}
1325                 self.expire\_all\_unassigned\_hits()
1326                 self.\_expire\_onboarding\_pool()
1327                 self.\_expire\_agent\_pool()
1328                 \textcolor{comment}{# Wait for all conversations to finish, then break from}
1329                 \textcolor{comment}{# the while loop}
1330                 \textcolor{keywordflow}{for} thread \textcolor{keywordflow}{in} self.task\_threads:
1331                     thread.join()
1332                 \textcolor{keywordflow}{break}
1333             time.sleep(shared\_utils.THREAD\_MEDIUM\_SLEEP)
1334 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_acaeeefcf862de982fdfcbeb26036aab9}\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_acaeeefcf862de982fdfcbeb26036aab9}} 
\index{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}!un\+\_\+soft\+\_\+block\+\_\+worker@{un\+\_\+soft\+\_\+block\+\_\+worker}}
\index{un\+\_\+soft\+\_\+block\+\_\+worker@{un\+\_\+soft\+\_\+block\+\_\+worker}!parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}}
\subsubsection{\texorpdfstring{un\+\_\+soft\+\_\+block\+\_\+worker()}{un\_soft\_block\_worker()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager.\+un\+\_\+soft\+\_\+block\+\_\+worker (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{worker\+\_\+id,  }\item[{}]{qual = {\ttfamily \textquotesingle{}block\+\_\+qualification\textquotesingle{}} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Remove a soft block from a worker by removing a block qualification from the
worker.
\end{DoxyVerb}
 

Definition at line 1842 of file mturk\+\_\+manager.\+py.


\begin{DoxyCode}
1842     \textcolor{keyword}{def }un\_soft\_block\_worker(self, worker\_id, qual='block\_qualification'):
1843         \textcolor{stringliteral}{"""}
1844 \textcolor{stringliteral}{        Remove a soft block from a worker by removing a block qualification from the}
1845 \textcolor{stringliteral}{        worker.}
1846 \textcolor{stringliteral}{        """}
1847         qual\_name = self.opt.get(qual, \textcolor{keywordtype}{None})
1848         \textcolor{keyword}{assert} (
1849             qual\_name \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}
1850         ), \textcolor{stringliteral}{'No qualification \{\} has been specified'} \textcolor{stringliteral}{'in opt'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(qual)
1851         self.remove\_worker\_qualification(worker\_id, qual\_name)
1852 
\end{DoxyCode}


\subsection{Member Data Documentation}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_ae070143dc4cbb806d0687c7777f0c422}\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_ae070143dc4cbb806d0687c7777f0c422}} 
\index{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}!accepting\+\_\+workers@{accepting\+\_\+workers}}
\index{accepting\+\_\+workers@{accepting\+\_\+workers}!parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}}
\subsubsection{\texorpdfstring{accepting\+\_\+workers}{accepting\_workers}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager.\+accepting\+\_\+workers}



Definition at line 237 of file mturk\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a567d09c7df5f58b0c79ac3eea7cdf95a}\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a567d09c7df5f58b0c79ac3eea7cdf95a}} 
\index{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}!agent\+\_\+pool@{agent\+\_\+pool}}
\index{agent\+\_\+pool@{agent\+\_\+pool}!parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}}
\subsubsection{\texorpdfstring{agent\+\_\+pool}{agent\_pool}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager.\+agent\+\_\+pool}



Definition at line 228 of file mturk\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_afc99b8e79f6d19d4e87ed2bf74d0749f}\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_afc99b8e79f6d19d4e87ed2bf74d0749f}} 
\index{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}!agent\+\_\+pool\+\_\+change\+\_\+condition@{agent\+\_\+pool\+\_\+change\+\_\+condition}}
\index{agent\+\_\+pool\+\_\+change\+\_\+condition@{agent\+\_\+pool\+\_\+change\+\_\+condition}!parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}}
\subsubsection{\texorpdfstring{agent\+\_\+pool\+\_\+change\+\_\+condition}{agent\_pool\_change\_condition}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager.\+agent\+\_\+pool\+\_\+change\+\_\+condition}



Definition at line 143 of file mturk\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_af25500206d585c78399da498407ca054}\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_af25500206d585c78399da498407ca054}} 
\index{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}!assignment\+\_\+to\+\_\+onboard\+\_\+thread@{assignment\+\_\+to\+\_\+onboard\+\_\+thread}}
\index{assignment\+\_\+to\+\_\+onboard\+\_\+thread@{assignment\+\_\+to\+\_\+onboard\+\_\+thread}!parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}}
\subsubsection{\texorpdfstring{assignment\+\_\+to\+\_\+onboard\+\_\+thread}{assignment\_to\_onboard\_thread}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager.\+assignment\+\_\+to\+\_\+onboard\+\_\+thread}



Definition at line 232 of file mturk\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_af3355b3bfbf0761d40a9e3cd059b8359}\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_af3355b3bfbf0761d40a9e3cd059b8359}} 
\index{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}!auto\+\_\+approve\+\_\+delay@{auto\+\_\+approve\+\_\+delay}}
\index{auto\+\_\+approve\+\_\+delay@{auto\+\_\+approve\+\_\+delay}!parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}}
\subsubsection{\texorpdfstring{auto\+\_\+approve\+\_\+delay}{auto\_approve\_delay}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager.\+auto\+\_\+approve\+\_\+delay}



Definition at line 156 of file mturk\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a9892d6c011119933cd3dce23cce024bf}\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a9892d6c011119933cd3dce23cce024bf}} 
\index{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}!completed\+\_\+conversations@{completed\+\_\+conversations}}
\index{completed\+\_\+conversations@{completed\+\_\+conversations}!parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}}
\subsubsection{\texorpdfstring{completed\+\_\+conversations}{completed\_conversations}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager.\+completed\+\_\+conversations}



Definition at line 235 of file mturk\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a5309b4486f11f829fdd6d9763bf92b63}\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a5309b4486f11f829fdd6d9763bf92b63}} 
\index{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}!conversation\+\_\+index@{conversation\+\_\+index}}
\index{conversation\+\_\+index@{conversation\+\_\+index}!parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}}
\subsubsection{\texorpdfstring{conversation\+\_\+index}{conversation\_index}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager.\+conversation\+\_\+index}



Definition at line 233 of file mturk\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a9877300474aaa6b560aa27b9a833cfa3}\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a9877300474aaa6b560aa27b9a833cfa3}} 
\index{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}!db\+\_\+logger@{db\+\_\+logger}}
\index{db\+\_\+logger@{db\+\_\+logger}!parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}}
\subsubsection{\texorpdfstring{db\+\_\+logger}{db\_logger}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager.\+db\+\_\+logger}



Definition at line 165 of file mturk\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a2572c7b15012b9a79d2bcfe0a2917af1}\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a2572c7b15012b9a79d2bcfe0a2917af1}} 
\index{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}!has\+\_\+time\+\_\+limit@{has\+\_\+time\+\_\+limit}}
\index{has\+\_\+time\+\_\+limit@{has\+\_\+time\+\_\+limit}!parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}}
\subsubsection{\texorpdfstring{has\+\_\+time\+\_\+limit}{has\_time\_limit}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager.\+has\+\_\+time\+\_\+limit}



Definition at line 157 of file mturk\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a4a980c45e1c4d2df227020da4ebbc0c3}\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a4a980c45e1c4d2df227020da4ebbc0c3}} 
\index{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}!hit\+\_\+id\+\_\+list@{hit\+\_\+id\+\_\+list}}
\index{hit\+\_\+id\+\_\+list@{hit\+\_\+id\+\_\+list}!parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}}
\subsubsection{\texorpdfstring{hit\+\_\+id\+\_\+list}{hit\_id\_list}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager.\+hit\+\_\+id\+\_\+list}



Definition at line 231 of file mturk\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a37297ae4877402249a251286b738d07e}\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a37297ae4877402249a251286b738d07e}} 
\index{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}!hit\+\_\+mult@{hit\+\_\+mult}}
\index{hit\+\_\+mult@{hit\+\_\+mult}!parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}}
\subsubsection{\texorpdfstring{hit\+\_\+mult}{hit\_mult}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager.\+hit\+\_\+mult}



Definition at line 151 of file mturk\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a03da264fcd7749e299714ba9ea0f1af0}\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a03da264fcd7749e299714ba9ea0f1af0}} 
\index{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}!is\+\_\+sandbox@{is\+\_\+sandbox}}
\index{is\+\_\+sandbox@{is\+\_\+sandbox}!parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}}
\subsubsection{\texorpdfstring{is\+\_\+sandbox}{is\_sandbox}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager.\+is\+\_\+sandbox}



Definition at line 142 of file mturk\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_ab278d4d5a10db2b1aa8d8eef0aea98a8}\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_ab278d4d5a10db2b1aa8d8eef0aea98a8}} 
\index{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}!is\+\_\+shutdown@{is\+\_\+shutdown}}
\index{is\+\_\+shutdown@{is\+\_\+shutdown}!parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}}
\subsubsection{\texorpdfstring{is\+\_\+shutdown}{is\_shutdown}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager.\+is\+\_\+shutdown}



Definition at line 163 of file mturk\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_aba2c8855ba4baadd54a42a834aaf75bd}\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_aba2c8855ba4baadd54a42a834aaf75bd}} 
\index{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}!is\+\_\+test@{is\+\_\+test}}
\index{is\+\_\+test@{is\+\_\+test}!parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}}
\subsubsection{\texorpdfstring{is\+\_\+test}{is\_test}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager.\+is\+\_\+test}



Definition at line 160 of file mturk\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a238ad8790103da215e388fcc90e919b8}\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a238ad8790103da215e388fcc90e919b8}} 
\index{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}!is\+\_\+unique@{is\+\_\+unique}}
\index{is\+\_\+unique@{is\+\_\+unique}!parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}}
\subsubsection{\texorpdfstring{is\+\_\+unique}{is\_unique}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager.\+is\+\_\+unique}



Definition at line 161 of file mturk\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_ad55657cd8c2e23fe10b77929d37f18a5}\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_ad55657cd8c2e23fe10b77929d37f18a5}} 
\index{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}!last\+\_\+hit\+\_\+check@{last\+\_\+hit\+\_\+check}}
\index{last\+\_\+hit\+\_\+check@{last\+\_\+hit\+\_\+check}!parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}}
\subsubsection{\texorpdfstring{last\+\_\+hit\+\_\+check}{last\_hit\_check}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager.\+last\+\_\+hit\+\_\+check}



Definition at line 243 of file mturk\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a37343952caabff1e598a30a0075d2ff3}\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a37343952caabff1e598a30a0075d2ff3}} 
\index{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}!logging\+\_\+permitted@{logging\+\_\+permitted}}
\index{logging\+\_\+permitted@{logging\+\_\+permitted}!parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}}
\subsubsection{\texorpdfstring{logging\+\_\+permitted}{logging\_permitted}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager.\+logging\+\_\+permitted}



Definition at line 166 of file mturk\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_abf876c8b999997daca4db9657b4fcab6}\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_abf876c8b999997daca4db9657b4fcab6}} 
\index{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}!max\+\_\+hits\+\_\+per\+\_\+worker@{max\+\_\+hits\+\_\+per\+\_\+worker}}
\index{max\+\_\+hits\+\_\+per\+\_\+worker@{max\+\_\+hits\+\_\+per\+\_\+worker}!parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}}
\subsubsection{\texorpdfstring{max\+\_\+hits\+\_\+per\+\_\+worker}{max\_hits\_per\_worker}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager.\+max\+\_\+hits\+\_\+per\+\_\+worker}



Definition at line 162 of file mturk\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a4a09d697e17582f5e59fcabe94ae050c}\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a4a09d697e17582f5e59fcabe94ae050c}} 
\index{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}!max\+\_\+time\+\_\+qual@{max\+\_\+time\+\_\+qual}}
\index{max\+\_\+time\+\_\+qual@{max\+\_\+time\+\_\+qual}!parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}}
\subsubsection{\texorpdfstring{max\+\_\+time\+\_\+qual}{max\_time\_qual}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager.\+max\+\_\+time\+\_\+qual}



Definition at line 1605 of file mturk\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a3f93a044c1753f755ac24aa71184b261}\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a3f93a044c1753f755ac24aa71184b261}} 
\index{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}!minimum\+\_\+messages@{minimum\+\_\+messages}}
\index{minimum\+\_\+messages@{minimum\+\_\+messages}!parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}}
\subsubsection{\texorpdfstring{minimum\+\_\+messages}{minimum\_messages}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager.\+minimum\+\_\+messages}



Definition at line 155 of file mturk\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a87bbfdb15a8c5d57488bcd140cd1ede7}\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a87bbfdb15a8c5d57488bcd140cd1ede7}} 
\index{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}!mturk\+\_\+agent\+\_\+ids@{mturk\+\_\+agent\+\_\+ids}}
\index{mturk\+\_\+agent\+\_\+ids@{mturk\+\_\+agent\+\_\+ids}!parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}}
\subsubsection{\texorpdfstring{mturk\+\_\+agent\+\_\+ids}{mturk\_agent\_ids}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager.\+mturk\+\_\+agent\+\_\+ids}



Definition at line 140 of file mturk\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a68847473549bc89eac1b17b909385fad}\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a68847473549bc89eac1b17b909385fad}} 
\index{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}!num\+\_\+conversations@{num\+\_\+conversations}}
\index{num\+\_\+conversations@{num\+\_\+conversations}!parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}}
\subsubsection{\texorpdfstring{num\+\_\+conversations}{num\_conversations}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager.\+num\+\_\+conversations}



Definition at line 145 of file mturk\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a4166f7b21495f2451d0fd90a716903f8}\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a4166f7b21495f2451d0fd90a716903f8}} 
\index{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}!onboard\+\_\+function@{onboard\+\_\+function}}
\index{onboard\+\_\+function@{onboard\+\_\+function}!parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}}
\subsubsection{\texorpdfstring{onboard\+\_\+function}{onboard\_function}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager.\+onboard\+\_\+function}



Definition at line 144 of file mturk\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a1167cb8359db58221b2843554731cf1b}\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a1167cb8359db58221b2843554731cf1b}} 
\index{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}!opt@{opt}}
\index{opt@{opt}!parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}}
\subsubsection{\texorpdfstring{opt}{opt}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager.\+opt}



Definition at line 126 of file mturk\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a43a266ab76a8ccaf36bd3656ca1f1238}\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a43a266ab76a8ccaf36bd3656ca1f1238}} 
\index{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}!port@{port}}
\index{port@{port}!parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}}
\subsubsection{\texorpdfstring{port}{port}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager.\+port}



Definition at line 137 of file mturk\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a7081daf8eaf838de1f220dd0074abe42}\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a7081daf8eaf838de1f220dd0074abe42}} 
\index{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}!qualifications@{qualifications}}
\index{qualifications@{qualifications}!parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}}
\subsubsection{\texorpdfstring{qualifications}{qualifications}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager.\+qualifications}



Definition at line 239 of file mturk\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a0b73f656d2d3ea156064c1310b4c74ce}\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a0b73f656d2d3ea156064c1310b4c74ce}} 
\index{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}!required\+\_\+hits@{required\+\_\+hits}}
\index{required\+\_\+hits@{required\+\_\+hits}!parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}}
\subsubsection{\texorpdfstring{required\+\_\+hits}{required\_hits}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager.\+required\+\_\+hits}



Definition at line 154 of file mturk\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_aa494ad0cdad092ee7acde6f89cb61d6a}\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_aa494ad0cdad092ee7acde6f89cb61d6a}} 
\index{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}!run\+\_\+id@{run\+\_\+id}}
\index{run\+\_\+id@{run\+\_\+id}!parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}}
\subsubsection{\texorpdfstring{run\+\_\+id}{run\_id}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager.\+run\+\_\+id}



Definition at line 139 of file mturk\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a47f60b6caf7eac407d1f8b34c37141e3}\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a47f60b6caf7eac407d1f8b34c37141e3}} 
\index{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}!server\+\_\+task\+\_\+name@{server\+\_\+task\+\_\+name}}
\index{server\+\_\+task\+\_\+name@{server\+\_\+task\+\_\+name}!parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}}
\subsubsection{\texorpdfstring{server\+\_\+task\+\_\+name}{server\_task\_name}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager.\+server\+\_\+task\+\_\+name}



Definition at line 136 of file mturk\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a498ab33751e066efb2887a0569e63eaa}\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a498ab33751e066efb2887a0569e63eaa}} 
\index{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}!server\+\_\+url@{server\+\_\+url}}
\index{server\+\_\+url@{server\+\_\+url}!parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}}
\subsubsection{\texorpdfstring{server\+\_\+url}{server\_url}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager.\+server\+\_\+url}



Definition at line 134 of file mturk\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_ac8b8af9b62145a183a7f2f7d17efbc33}\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_ac8b8af9b62145a183a7f2f7d17efbc33}} 
\index{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}!socket\+\_\+manager@{socket\+\_\+manager}}
\index{socket\+\_\+manager@{socket\+\_\+manager}!parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}}
\subsubsection{\texorpdfstring{socket\+\_\+manager}{socket\_manager}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager.\+socket\+\_\+manager}



Definition at line 158 of file mturk\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_ade30235258257912d336b6dee8dca98e}\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_ade30235258257912d336b6dee8dca98e}} 
\index{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}!started\+\_\+conversations@{started\+\_\+conversations}}
\index{started\+\_\+conversations@{started\+\_\+conversations}!parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}}
\subsubsection{\texorpdfstring{started\+\_\+conversations}{started\_conversations}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager.\+started\+\_\+conversations}



Definition at line 234 of file mturk\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a04a9154321ca158c5d5a9e35f17fb4e9}\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a04a9154321ca158c5d5a9e35f17fb4e9}} 
\index{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}!S\+T\+A\+T\+E\+\_\+\+A\+C\+C\+E\+P\+T\+I\+N\+G\+\_\+\+W\+O\+R\+K\+E\+RS@{S\+T\+A\+T\+E\+\_\+\+A\+C\+C\+E\+P\+T\+I\+N\+G\+\_\+\+W\+O\+R\+K\+E\+RS}}
\index{S\+T\+A\+T\+E\+\_\+\+A\+C\+C\+E\+P\+T\+I\+N\+G\+\_\+\+W\+O\+R\+K\+E\+RS@{S\+T\+A\+T\+E\+\_\+\+A\+C\+C\+E\+P\+T\+I\+N\+G\+\_\+\+W\+O\+R\+K\+E\+RS}!parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}}
\subsubsection{\texorpdfstring{S\+T\+A\+T\+E\+\_\+\+A\+C\+C\+E\+P\+T\+I\+N\+G\+\_\+\+W\+O\+R\+K\+E\+RS}{STATE\_ACCEPTING\_WORKERS}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager.\+S\+T\+A\+T\+E\+\_\+\+A\+C\+C\+E\+P\+T\+I\+N\+G\+\_\+\+W\+O\+R\+K\+E\+RS\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 109 of file mturk\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a68e114fed1b4dd106918d9c0de86075b}\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a68e114fed1b4dd106918d9c0de86075b}} 
\index{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}!S\+T\+A\+T\+E\+\_\+\+C\+R\+E\+A\+T\+ED@{S\+T\+A\+T\+E\+\_\+\+C\+R\+E\+A\+T\+ED}}
\index{S\+T\+A\+T\+E\+\_\+\+C\+R\+E\+A\+T\+ED@{S\+T\+A\+T\+E\+\_\+\+C\+R\+E\+A\+T\+ED}!parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}}
\subsubsection{\texorpdfstring{S\+T\+A\+T\+E\+\_\+\+C\+R\+E\+A\+T\+ED}{STATE\_CREATED}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager.\+S\+T\+A\+T\+E\+\_\+\+C\+R\+E\+A\+T\+ED\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 106 of file mturk\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a615de083816ca78aac6ca7208b24ed1c}\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a615de083816ca78aac6ca7208b24ed1c}} 
\index{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}!S\+T\+A\+T\+E\+\_\+\+H\+I\+T\+S\+\_\+\+M\+A\+DE@{S\+T\+A\+T\+E\+\_\+\+H\+I\+T\+S\+\_\+\+M\+A\+DE}}
\index{S\+T\+A\+T\+E\+\_\+\+H\+I\+T\+S\+\_\+\+M\+A\+DE@{S\+T\+A\+T\+E\+\_\+\+H\+I\+T\+S\+\_\+\+M\+A\+DE}!parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}}
\subsubsection{\texorpdfstring{S\+T\+A\+T\+E\+\_\+\+H\+I\+T\+S\+\_\+\+M\+A\+DE}{STATE\_HITS\_MADE}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager.\+S\+T\+A\+T\+E\+\_\+\+H\+I\+T\+S\+\_\+\+M\+A\+DE\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 110 of file mturk\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a5ea29af39d36c6ab07fb33b3d41885a9}\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a5ea29af39d36c6ab07fb33b3d41885a9}} 
\index{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}!S\+T\+A\+T\+E\+\_\+\+I\+N\+I\+T\+\_\+\+R\+UN@{S\+T\+A\+T\+E\+\_\+\+I\+N\+I\+T\+\_\+\+R\+UN}}
\index{S\+T\+A\+T\+E\+\_\+\+I\+N\+I\+T\+\_\+\+R\+UN@{S\+T\+A\+T\+E\+\_\+\+I\+N\+I\+T\+\_\+\+R\+UN}!parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}}
\subsubsection{\texorpdfstring{S\+T\+A\+T\+E\+\_\+\+I\+N\+I\+T\+\_\+\+R\+UN}{STATE\_INIT\_RUN}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager.\+S\+T\+A\+T\+E\+\_\+\+I\+N\+I\+T\+\_\+\+R\+UN\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 108 of file mturk\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a614fcb4f1df8b5c9c453dcd55e2dd29c}\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a614fcb4f1df8b5c9c453dcd55e2dd29c}} 
\index{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}!S\+T\+A\+T\+E\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+A\+L\+I\+VE@{S\+T\+A\+T\+E\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+A\+L\+I\+VE}}
\index{S\+T\+A\+T\+E\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+A\+L\+I\+VE@{S\+T\+A\+T\+E\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+A\+L\+I\+VE}!parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}}
\subsubsection{\texorpdfstring{S\+T\+A\+T\+E\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+A\+L\+I\+VE}{STATE\_SERVER\_ALIVE}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager.\+S\+T\+A\+T\+E\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+A\+L\+I\+VE\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 107 of file mturk\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a26700e334c3ba674abca4e02d05f8d9e}\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a26700e334c3ba674abca4e02d05f8d9e}} 
\index{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}!task\+\_\+files\+\_\+to\+\_\+copy@{task\+\_\+files\+\_\+to\+\_\+copy}}
\index{task\+\_\+files\+\_\+to\+\_\+copy@{task\+\_\+files\+\_\+to\+\_\+copy}!parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}}
\subsubsection{\texorpdfstring{task\+\_\+files\+\_\+to\+\_\+copy}{task\_files\_to\_copy}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager.\+task\+\_\+files\+\_\+to\+\_\+copy}



Definition at line 141 of file mturk\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_ab1db971037f660cc2809748aa9bcd51d}\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_ab1db971037f660cc2809748aa9bcd51d}} 
\index{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}!task\+\_\+group\+\_\+id@{task\+\_\+group\+\_\+id}}
\index{task\+\_\+group\+\_\+id@{task\+\_\+group\+\_\+id}!parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}}
\subsubsection{\texorpdfstring{task\+\_\+group\+\_\+id}{task\_group\_id}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager.\+task\+\_\+group\+\_\+id}



Definition at line 138 of file mturk\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a3080e2f307c97b28ed726bc348111d7a}\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a3080e2f307c97b28ed726bc348111d7a}} 
\index{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}!task\+\_\+state@{task\+\_\+state}}
\index{task\+\_\+state@{task\+\_\+state}!parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}}
\subsubsection{\texorpdfstring{task\+\_\+state}{task\_state}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager.\+task\+\_\+state}



Definition at line 167 of file mturk\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_aabd31df46e7c30c71a8e231ea34fde82}\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_aabd31df46e7c30c71a8e231ea34fde82}} 
\index{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}!task\+\_\+threads@{task\+\_\+threads}}
\index{task\+\_\+threads@{task\+\_\+threads}!parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}}
\subsubsection{\texorpdfstring{task\+\_\+threads}{task\_threads}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager.\+task\+\_\+threads}



Definition at line 236 of file mturk\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a1d84d948213819fc031e0b89baba16e0}\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a1d84d948213819fc031e0b89baba16e0}} 
\index{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}!time\+\_\+limit\+\_\+checked@{time\+\_\+limit\+\_\+checked}}
\index{time\+\_\+limit\+\_\+checked@{time\+\_\+limit\+\_\+checked}!parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}}
\subsubsection{\texorpdfstring{time\+\_\+limit\+\_\+checked}{time\_limit\_checked}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager.\+time\+\_\+limit\+\_\+checked}



Definition at line 241 of file mturk\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_ae30297040a80846f573273f0e12d5f81}\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_ae30297040a80846f573273f0e12d5f81}} 
\index{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}!tmp\+\_\+dir@{tmp\+\_\+dir}}
\index{tmp\+\_\+dir@{tmp\+\_\+dir}!parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}}
\subsubsection{\texorpdfstring{tmp\+\_\+dir}{tmp\_dir}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager.\+tmp\+\_\+dir}



Definition at line 170 of file mturk\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a5214fff44afe69cfeda3937e6c371200}\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a5214fff44afe69cfeda3937e6c371200}} 
\index{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}!topic\+\_\+arn@{topic\+\_\+arn}}
\index{topic\+\_\+arn@{topic\+\_\+arn}!parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}}
\subsubsection{\texorpdfstring{topic\+\_\+arn}{topic\_arn}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager.\+topic\+\_\+arn}



Definition at line 135 of file mturk\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a52a8363228821f761b20c4dd5756970a}\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a52a8363228821f761b20c4dd5756970a}} 
\index{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}!unique\+\_\+qual\+\_\+id@{unique\+\_\+qual\+\_\+id}}
\index{unique\+\_\+qual\+\_\+id@{unique\+\_\+qual\+\_\+id}!parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}}
\subsubsection{\texorpdfstring{unique\+\_\+qual\+\_\+id}{unique\_qual\_id}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager.\+unique\+\_\+qual\+\_\+id}



Definition at line 1629 of file mturk\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a22eae4406b677257f5dacfc49389bb5d}\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a22eae4406b677257f5dacfc49389bb5d}} 
\index{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}!unique\+\_\+qual\+\_\+name@{unique\+\_\+qual\+\_\+name}}
\index{unique\+\_\+qual\+\_\+name@{unique\+\_\+qual\+\_\+name}!parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}}
\subsubsection{\texorpdfstring{unique\+\_\+qual\+\_\+name}{unique\_qual\_name}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager.\+unique\+\_\+qual\+\_\+name}



Definition at line 240 of file mturk\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_ac0df4861da4263b50fd578e9506354b8}\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_ac0df4861da4263b50fd578e9506354b8}} 
\index{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}!use\+\_\+db@{use\+\_\+db}}
\index{use\+\_\+db@{use\+\_\+db}!parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}}
\subsubsection{\texorpdfstring{use\+\_\+db}{use\_db}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager.\+use\+\_\+db}



Definition at line 164 of file mturk\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a5bc8548db9b1f627e5cef6b04967acab}\label{classparlai_1_1mturk_1_1core_1_1mturk__manager_1_1MTurkManager_a5bc8548db9b1f627e5cef6b04967acab}} 
\index{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}!worker\+\_\+manager@{worker\+\_\+manager}}
\index{worker\+\_\+manager@{worker\+\_\+manager}!parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager@{parlai\+::mturk\+::core\+::mturk\+\_\+manager\+::\+M\+Turk\+Manager}}
\subsubsection{\texorpdfstring{worker\+\_\+manager}{worker\_manager}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+mturk\+\_\+manager.\+M\+Turk\+Manager.\+worker\+\_\+manager}



Definition at line 159 of file mturk\+\_\+manager.\+py.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
parlai/mturk/core/\hyperlink{mturk__manager_8py}{mturk\+\_\+manager.\+py}\end{DoxyCompactItemize}
