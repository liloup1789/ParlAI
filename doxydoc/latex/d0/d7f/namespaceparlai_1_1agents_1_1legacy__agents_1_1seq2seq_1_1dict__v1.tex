\hypertarget{namespaceparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1dict__v1}{}\section{parlai.\+agents.\+legacy\+\_\+agents.\+seq2seq.\+dict\+\_\+v1 Namespace Reference}
\label{namespaceparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1dict__v1}\index{parlai.\+agents.\+legacy\+\_\+agents.\+seq2seq.\+dict\+\_\+v1@{parlai.\+agents.\+legacy\+\_\+agents.\+seq2seq.\+dict\+\_\+v1}}
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \hyperlink{classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1dict__v1_1_1__BPEHelper}{\+\_\+\+B\+P\+E\+Helper}
\item 
class \hyperlink{classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1dict__v1_1_1DictionaryAgent}{Dictionary\+Agent}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{namespaceparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1dict__v1_a780f6055b01f2cffa03c670159317ee0}{escape} (s)
\item 
def \hyperlink{namespaceparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1dict__v1_affad139ddec76996dc9a93f6123d545e}{unescape} (s)
\item 
def \hyperlink{namespaceparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1dict__v1_ac37e7654855b4cdf9b8a6cb1a2193a17}{find\+\_\+ngrams} (token\+\_\+dict, text, n)
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
bool \hyperlink{namespaceparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1dict__v1_a62905088b0069e57b6c6de4f778535ba}{B\+P\+E\+\_\+\+I\+N\+S\+T\+A\+L\+L\+ED} = True
\item 
\hyperlink{namespaceparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1dict__v1_ad5b8a872f88a18dabce2f713af40ac66}{R\+E\+T\+OK} = re.\+compile(r\textquotesingle{}\textbackslash{}w+$\vert$\mbox{[}$^\wedge$\textbackslash{}w\textbackslash{}s\mbox{]}$\vert$\textbackslash{}n\textquotesingle{}, re.\+U\+N\+I\+C\+O\+DE)
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\mbox{\Hypertarget{namespaceparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1dict__v1_a780f6055b01f2cffa03c670159317ee0}\label{namespaceparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1dict__v1_a780f6055b01f2cffa03c670159317ee0}} 
\index{parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::dict\+\_\+v1@{parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::dict\+\_\+v1}!escape@{escape}}
\index{escape@{escape}!parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::dict\+\_\+v1@{parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::dict\+\_\+v1}}
\subsubsection{\texorpdfstring{escape()}{escape()}}
{\footnotesize\ttfamily def parlai.\+agents.\+legacy\+\_\+agents.\+seq2seq.\+dict\+\_\+v1.\+escape (\begin{DoxyParamCaption}\item[{}]{s }\end{DoxyParamCaption})}

\begin{DoxyVerb}Replace potential special characters with escaped version.

For example, \n => \\n and \t => \\t

:param s: string to escape
\end{DoxyVerb}
 

Definition at line 32 of file dict\+\_\+v1.\+py.


\begin{DoxyCode}
32 \textcolor{keyword}{def }\hyperlink{namespaceparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1dict__v1_a780f6055b01f2cffa03c670159317ee0}{escape}(s):
33     \textcolor{stringliteral}{r"""Replace potential special characters with escaped version.}
34 \textcolor{stringliteral}{}
35 \textcolor{stringliteral}{    For example, \(\backslash\)n => \(\backslash\)\(\backslash\)n and \(\backslash\)t => \(\backslash\)\(\backslash\)t}
36 \textcolor{stringliteral}{}
37 \textcolor{stringliteral}{    :param s: string to escape}
38 \textcolor{stringliteral}{    """}
39     \textcolor{keywordflow}{return} s.replace(\textcolor{stringliteral}{'\(\backslash\)n'}, \textcolor{stringliteral}{'\(\backslash\)\(\backslash\)n'}).replace(\textcolor{stringliteral}{'\(\backslash\)t'}, \textcolor{stringliteral}{'\(\backslash\)\(\backslash\)t'}).replace(\textcolor{stringliteral}{'\(\backslash\)r'}, \textcolor{stringliteral}{'\(\backslash\)\(\backslash\)r')}
40 \textcolor{stringliteral}{}
41 \textcolor{stringliteral}{}
\textcolor{stringliteral}{\end{DoxyCode}
\mbox{\Hypertarget{namespaceparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1dict__v1_ac37e7654855b4cdf9b8a6cb1a2193a17}\label{namespaceparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1dict__v1_ac37e7654855b4cdf9b8a6cb1a2193a17}} 
\index{parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::dict\+\_\+v1@{parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::dict\+\_\+v1}!find\+\_\+ngrams@{find\+\_\+ngrams}}
\index{find\+\_\+ngrams@{find\+\_\+ngrams}!parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::dict\+\_\+v1@{parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::dict\+\_\+v1}}
\subsubsection{\texorpdfstring{find\+\_\+ngrams()}{find\_ngrams()}}
{\footnotesize\ttfamily def parlai.\+agents.\+legacy\+\_\+agents.\+seq2seq.\+dict\+\_\+v1.\+find\+\_\+ngrams (\begin{DoxyParamCaption}\item[{}]{token\+\_\+dict,  }\item[{}]{text,  }\item[{}]{n }\end{DoxyParamCaption})}

\begin{DoxyVerb}Break text into ngrams that appear in ``token_dict``.

:param token_dict: ``dict`` to check for ngrams
:param text: ``str`` to look for ngrams in
:param n: ``int`` max size of ngrams
\end{DoxyVerb}
 

Definition at line 52 of file dict\+\_\+v1.\+py.


\begin{DoxyCode}
52 \textcolor{keyword}{def }\hyperlink{namespaceparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1dict__v1_ac37e7654855b4cdf9b8a6cb1a2193a17}{find\_ngrams}(token\_dict, text, n):
53     \textcolor{stringliteral}{"""}
54 \textcolor{stringliteral}{    Break text into ngrams that appear in ``token\_dict``.}
55 \textcolor{stringliteral}{}
56 \textcolor{stringliteral}{    :param token\_dict: ``dict`` to check for ngrams}
57 \textcolor{stringliteral}{    :param text: ``str`` to look for ngrams in}
58 \textcolor{stringliteral}{    :param n: ``int`` max size of ngrams}
59 \textcolor{stringliteral}{    """}
60     \textcolor{comment}{# base case}
61     \textcolor{keywordflow}{if} n <= 1:
62         \textcolor{keywordflow}{return} text
63     \textcolor{comment}{# tokens committed to output}
64     saved\_tokens = []
65     \textcolor{comment}{# tokens remaining to be searched in sentence}
66     search\_tokens = text[:]
67     \textcolor{comment}{# tokens stored until next ngram found}
68     next\_search = []
69     \textcolor{keywordflow}{while} len(search\_tokens) >= n:
70         ngram = \textcolor{stringliteral}{' '}.join(search\_tokens[:n])
71         \textcolor{keywordflow}{if} ngram \textcolor{keywordflow}{in} token\_dict:
72             \textcolor{comment}{# first, search previous unmatched words for smaller ngrams}
73             sub\_n = min(len(next\_search), n - 1)
74             saved\_tokens.extend(\hyperlink{namespaceparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1dict__v1_ac37e7654855b4cdf9b8a6cb1a2193a17}{find\_ngrams}(token\_dict, next\_search, sub\_n))
75             next\_search.clear()
76             \textcolor{comment}{# then add this ngram}
77             saved\_tokens.append(ngram)
78             \textcolor{comment}{# then pop this ngram from the remaining words to search}
79             search\_tokens = search\_tokens[n:]
80         \textcolor{keywordflow}{else}:
81             next\_search.append(search\_tokens.pop(0))
82     remainder = next\_search + search\_tokens
83     sub\_n = min(len(remainder), n - 1)
84     saved\_tokens.extend(\hyperlink{namespaceparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1dict__v1_ac37e7654855b4cdf9b8a6cb1a2193a17}{find\_ngrams}(token\_dict, remainder, sub\_n))
85     \textcolor{keywordflow}{return} saved\_tokens
86 
87 
\end{DoxyCode}
\mbox{\Hypertarget{namespaceparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1dict__v1_affad139ddec76996dc9a93f6123d545e}\label{namespaceparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1dict__v1_affad139ddec76996dc9a93f6123d545e}} 
\index{parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::dict\+\_\+v1@{parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::dict\+\_\+v1}!unescape@{unescape}}
\index{unescape@{unescape}!parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::dict\+\_\+v1@{parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::dict\+\_\+v1}}
\subsubsection{\texorpdfstring{unescape()}{unescape()}}
{\footnotesize\ttfamily def parlai.\+agents.\+legacy\+\_\+agents.\+seq2seq.\+dict\+\_\+v1.\+unescape (\begin{DoxyParamCaption}\item[{}]{s }\end{DoxyParamCaption})}

\begin{DoxyVerb}Revert escaped characters back to their special version.

For example, \\n => \n and \\t => \t

:param s: string to unescape
\end{DoxyVerb}
 

Definition at line 42 of file dict\+\_\+v1.\+py.


\begin{DoxyCode}
42 \textcolor{keyword}{def }\hyperlink{namespaceparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1dict__v1_affad139ddec76996dc9a93f6123d545e}{unescape}(s):
43     \textcolor{stringliteral}{r"""Revert escaped characters back to their special version.}
44 \textcolor{stringliteral}{}
45 \textcolor{stringliteral}{    For example, \(\backslash\)\(\backslash\)n => \(\backslash\)n and \(\backslash\)\(\backslash\)t => \(\backslash\)t}
46 \textcolor{stringliteral}{}
47 \textcolor{stringliteral}{    :param s: string to unescape}
48 \textcolor{stringliteral}{    """}
49     \textcolor{keywordflow}{return} s.replace(\textcolor{stringliteral}{'\(\backslash\)\(\backslash\)n'}, \textcolor{stringliteral}{'\(\backslash\)n'}).replace(\textcolor{stringliteral}{'\(\backslash\)\(\backslash\)t'}, \textcolor{stringliteral}{'\(\backslash\)t'}).replace(\textcolor{stringliteral}{'\(\backslash\)\(\backslash\)r', '}\(\backslash\)r')
50 
51 
\end{DoxyCode}


\subsection{Variable Documentation}
\mbox{\Hypertarget{namespaceparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1dict__v1_a62905088b0069e57b6c6de4f778535ba}\label{namespaceparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1dict__v1_a62905088b0069e57b6c6de4f778535ba}} 
\index{parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::dict\+\_\+v1@{parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::dict\+\_\+v1}!B\+P\+E\+\_\+\+I\+N\+S\+T\+A\+L\+L\+ED@{B\+P\+E\+\_\+\+I\+N\+S\+T\+A\+L\+L\+ED}}
\index{B\+P\+E\+\_\+\+I\+N\+S\+T\+A\+L\+L\+ED@{B\+P\+E\+\_\+\+I\+N\+S\+T\+A\+L\+L\+ED}!parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::dict\+\_\+v1@{parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::dict\+\_\+v1}}
\subsubsection{\texorpdfstring{B\+P\+E\+\_\+\+I\+N\+S\+T\+A\+L\+L\+ED}{BPE\_INSTALLED}}
{\footnotesize\ttfamily bool parlai.\+agents.\+legacy\+\_\+agents.\+seq2seq.\+dict\+\_\+v1.\+B\+P\+E\+\_\+\+I\+N\+S\+T\+A\+L\+L\+ED = True}



Definition at line 25 of file dict\+\_\+v1.\+py.

\mbox{\Hypertarget{namespaceparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1dict__v1_ad5b8a872f88a18dabce2f713af40ac66}\label{namespaceparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1dict__v1_ad5b8a872f88a18dabce2f713af40ac66}} 
\index{parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::dict\+\_\+v1@{parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::dict\+\_\+v1}!R\+E\+T\+OK@{R\+E\+T\+OK}}
\index{R\+E\+T\+OK@{R\+E\+T\+OK}!parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::dict\+\_\+v1@{parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::dict\+\_\+v1}}
\subsubsection{\texorpdfstring{R\+E\+T\+OK}{RETOK}}
{\footnotesize\ttfamily parlai.\+agents.\+legacy\+\_\+agents.\+seq2seq.\+dict\+\_\+v1.\+R\+E\+T\+OK = re.\+compile(r\textquotesingle{}\textbackslash{}w+$\vert$\mbox{[}$^\wedge$\textbackslash{}w\textbackslash{}s\mbox{]}$\vert$\textbackslash{}n\textquotesingle{}, re.\+U\+N\+I\+C\+O\+DE)}



Definition at line 29 of file dict\+\_\+v1.\+py.

