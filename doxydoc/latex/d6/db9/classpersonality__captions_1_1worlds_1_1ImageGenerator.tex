\hypertarget{classpersonality__captions_1_1worlds_1_1ImageGenerator}{}\section{personality\+\_\+captions.\+worlds.\+Image\+Generator Class Reference}
\label{classpersonality__captions_1_1worlds_1_1ImageGenerator}\index{personality\+\_\+captions.\+worlds.\+Image\+Generator@{personality\+\_\+captions.\+worlds.\+Image\+Generator}}


Inheritance diagram for personality\+\_\+captions.\+worlds.\+Image\+Generator\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=220pt]{d8/d69/classpersonality__captions_1_1worlds_1_1ImageGenerator__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for personality\+\_\+captions.\+worlds.\+Image\+Generator\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=220pt]{d3/d80/classpersonality__captions_1_1worlds_1_1ImageGenerator__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{classpersonality__captions_1_1worlds_1_1ImageGenerator_adeb74aa2ebf4ace2c39ab7f811629b98}{\+\_\+\+\_\+init\+\_\+\+\_\+} (self, opt)
\item 
def \hyperlink{classpersonality__captions_1_1worlds_1_1ImageGenerator_a4861d21c69ec7e05b958d948b55dbbec}{add\+\_\+idx\+\_\+stack} (self)
\item 
def \hyperlink{classpersonality__captions_1_1worlds_1_1ImageGenerator_a3ed9513ae59885f39f95a65d610b9b54}{pop\+\_\+image} (self)
\item 
def \hyperlink{classpersonality__captions_1_1worlds_1_1ImageGenerator_a78705bbcfdb530dc94ff25cc0aa7fd65}{push\+\_\+image} (self, idx)
\item 
def \hyperlink{classpersonality__captions_1_1worlds_1_1ImageGenerator_a1a62516fa0aad79a400d8824f7353d42}{save\+\_\+idx\+\_\+stack} (self)
\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classpersonality__captions_1_1worlds_1_1ImageGenerator_a3cb7292fe4be4bd3e9c1e16e763da509}{images\+\_\+idx\+\_\+stack\+\_\+path}
\item 
\hyperlink{classpersonality__captions_1_1worlds_1_1ImageGenerator_a2f6d917895f5fa19821b69f793dc1dd7}{image\+\_\+path}
\item 
\hyperlink{classpersonality__captions_1_1worlds_1_1ImageGenerator_a28a704ac1a923cc558c63ac4bcf2bb65}{images}
\item 
\hyperlink{classpersonality__captions_1_1worlds_1_1ImageGenerator_a4a79f6542b070b63fb41d09306a95ef9}{idx\+\_\+stack}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
\begin{DoxyVerb}Retrieve Image from Flicker 100m set.
\end{DoxyVerb}
 

Definition at line 174 of file worlds.\+py.



\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classpersonality__captions_1_1worlds_1_1ImageGenerator_adeb74aa2ebf4ace2c39ab7f811629b98}\label{classpersonality__captions_1_1worlds_1_1ImageGenerator_adeb74aa2ebf4ace2c39ab7f811629b98}} 
\index{personality\+\_\+captions\+::worlds\+::\+Image\+Generator@{personality\+\_\+captions\+::worlds\+::\+Image\+Generator}!\+\_\+\+\_\+init\+\_\+\+\_\+@{\+\_\+\+\_\+init\+\_\+\+\_\+}}
\index{\+\_\+\+\_\+init\+\_\+\+\_\+@{\+\_\+\+\_\+init\+\_\+\+\_\+}!personality\+\_\+captions\+::worlds\+::\+Image\+Generator@{personality\+\_\+captions\+::worlds\+::\+Image\+Generator}}
\subsubsection{\texorpdfstring{\+\_\+\+\_\+init\+\_\+\+\_\+()}{\_\_init\_\_()}}
{\footnotesize\ttfamily def personality\+\_\+captions.\+worlds.\+Image\+Generator.\+\_\+\+\_\+init\+\_\+\+\_\+ (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{opt }\end{DoxyParamCaption})}



Definition at line 179 of file worlds.\+py.


\begin{DoxyCode}
179     \textcolor{keyword}{def }\_\_init\_\_(self, opt):
180         self.images\_idx\_stack\_path = os.path.join(os.getcwd(), \textcolor{stringliteral}{'./images\_idx\_stack.pkl'})
181         \textcolor{keywordflow}{if} opt.get(\textcolor{stringliteral}{'yfcc\_path'}):
182             self.image\_path = opt[\textcolor{stringliteral}{'yfcc\_path'}]
183         \textcolor{keywordflow}{else}:
184             self.image\_path = os.path.join(opt[\textcolor{stringliteral}{'datapath'}], \textcolor{stringliteral}{'yfcc\_images'})
185         self.images = [im \textcolor{keywordflow}{for} im \textcolor{keywordflow}{in} os.listdir(self.image\_path) \textcolor{keywordflow}{if} \textcolor{stringliteral}{'.jpg'} \textcolor{keywordflow}{in} im]
186 
187         \textcolor{keywordflow}{if} os.path.exists(self.images\_idx\_stack\_path):
188             with open(self.images\_idx\_stack\_path, \textcolor{stringliteral}{'rb'}) \textcolor{keyword}{as} handle:
189                 self.idx\_stack = pickle.load(handle)
190         \textcolor{keywordflow}{else}:
191             self.idx\_stack = []
192             self.add\_idx\_stack()
193             self.save\_idx\_stack()
194 
\end{DoxyCode}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{classpersonality__captions_1_1worlds_1_1ImageGenerator_a4861d21c69ec7e05b958d948b55dbbec}\label{classpersonality__captions_1_1worlds_1_1ImageGenerator_a4861d21c69ec7e05b958d948b55dbbec}} 
\index{personality\+\_\+captions\+::worlds\+::\+Image\+Generator@{personality\+\_\+captions\+::worlds\+::\+Image\+Generator}!add\+\_\+idx\+\_\+stack@{add\+\_\+idx\+\_\+stack}}
\index{add\+\_\+idx\+\_\+stack@{add\+\_\+idx\+\_\+stack}!personality\+\_\+captions\+::worlds\+::\+Image\+Generator@{personality\+\_\+captions\+::worlds\+::\+Image\+Generator}}
\subsubsection{\texorpdfstring{add\+\_\+idx\+\_\+stack()}{add\_idx\_stack()}}
{\footnotesize\ttfamily def personality\+\_\+captions.\+worlds.\+Image\+Generator.\+add\+\_\+idx\+\_\+stack (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line 195 of file worlds.\+py.


\begin{DoxyCode}
195     \textcolor{keyword}{def }add\_idx\_stack(self):
196         stack = self.images
197         random.seed()
198         random.shuffle(stack)
199         self.idx\_stack = stack + self.idx\_stack
200 
\end{DoxyCode}
\mbox{\Hypertarget{classpersonality__captions_1_1worlds_1_1ImageGenerator_a3ed9513ae59885f39f95a65d610b9b54}\label{classpersonality__captions_1_1worlds_1_1ImageGenerator_a3ed9513ae59885f39f95a65d610b9b54}} 
\index{personality\+\_\+captions\+::worlds\+::\+Image\+Generator@{personality\+\_\+captions\+::worlds\+::\+Image\+Generator}!pop\+\_\+image@{pop\+\_\+image}}
\index{pop\+\_\+image@{pop\+\_\+image}!personality\+\_\+captions\+::worlds\+::\+Image\+Generator@{personality\+\_\+captions\+::worlds\+::\+Image\+Generator}}
\subsubsection{\texorpdfstring{pop\+\_\+image()}{pop\_image()}}
{\footnotesize\ttfamily def personality\+\_\+captions.\+worlds.\+Image\+Generator.\+pop\+\_\+image (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line 201 of file worlds.\+py.


\begin{DoxyCode}
201     \textcolor{keyword}{def }pop\_image(self):
202         \textcolor{keywordflow}{if} len(self.idx\_stack) == 0:
203             self.add\_idx\_stack()
204         idx = self.idx\_stack.pop()
205         data = os.path.join(self.image\_path, idx)
206         print(data)
207         \textcolor{keywordflow}{return} (idx, data)
208 
\end{DoxyCode}
\mbox{\Hypertarget{classpersonality__captions_1_1worlds_1_1ImageGenerator_a78705bbcfdb530dc94ff25cc0aa7fd65}\label{classpersonality__captions_1_1worlds_1_1ImageGenerator_a78705bbcfdb530dc94ff25cc0aa7fd65}} 
\index{personality\+\_\+captions\+::worlds\+::\+Image\+Generator@{personality\+\_\+captions\+::worlds\+::\+Image\+Generator}!push\+\_\+image@{push\+\_\+image}}
\index{push\+\_\+image@{push\+\_\+image}!personality\+\_\+captions\+::worlds\+::\+Image\+Generator@{personality\+\_\+captions\+::worlds\+::\+Image\+Generator}}
\subsubsection{\texorpdfstring{push\+\_\+image()}{push\_image()}}
{\footnotesize\ttfamily def personality\+\_\+captions.\+worlds.\+Image\+Generator.\+push\+\_\+image (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{idx }\end{DoxyParamCaption})}



Definition at line 209 of file worlds.\+py.


\begin{DoxyCode}
209     \textcolor{keyword}{def }push\_image(self, idx):
210         self.idx\_stack.append(idx)
211 
\end{DoxyCode}
\mbox{\Hypertarget{classpersonality__captions_1_1worlds_1_1ImageGenerator_a1a62516fa0aad79a400d8824f7353d42}\label{classpersonality__captions_1_1worlds_1_1ImageGenerator_a1a62516fa0aad79a400d8824f7353d42}} 
\index{personality\+\_\+captions\+::worlds\+::\+Image\+Generator@{personality\+\_\+captions\+::worlds\+::\+Image\+Generator}!save\+\_\+idx\+\_\+stack@{save\+\_\+idx\+\_\+stack}}
\index{save\+\_\+idx\+\_\+stack@{save\+\_\+idx\+\_\+stack}!personality\+\_\+captions\+::worlds\+::\+Image\+Generator@{personality\+\_\+captions\+::worlds\+::\+Image\+Generator}}
\subsubsection{\texorpdfstring{save\+\_\+idx\+\_\+stack()}{save\_idx\_stack()}}
{\footnotesize\ttfamily def personality\+\_\+captions.\+worlds.\+Image\+Generator.\+save\+\_\+idx\+\_\+stack (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line 212 of file worlds.\+py.


\begin{DoxyCode}
212     \textcolor{keyword}{def }save\_idx\_stack(self):
213         with open(self.images\_idx\_stack\_path, \textcolor{stringliteral}{'wb'}) \textcolor{keyword}{as} handle:
214             pickle.dump(self.idx\_stack, handle)
215 
216 
\end{DoxyCode}


\subsection{Member Data Documentation}
\mbox{\Hypertarget{classpersonality__captions_1_1worlds_1_1ImageGenerator_a4a79f6542b070b63fb41d09306a95ef9}\label{classpersonality__captions_1_1worlds_1_1ImageGenerator_a4a79f6542b070b63fb41d09306a95ef9}} 
\index{personality\+\_\+captions\+::worlds\+::\+Image\+Generator@{personality\+\_\+captions\+::worlds\+::\+Image\+Generator}!idx\+\_\+stack@{idx\+\_\+stack}}
\index{idx\+\_\+stack@{idx\+\_\+stack}!personality\+\_\+captions\+::worlds\+::\+Image\+Generator@{personality\+\_\+captions\+::worlds\+::\+Image\+Generator}}
\subsubsection{\texorpdfstring{idx\+\_\+stack}{idx\_stack}}
{\footnotesize\ttfamily personality\+\_\+captions.\+worlds.\+Image\+Generator.\+idx\+\_\+stack}



Definition at line 189 of file worlds.\+py.

\mbox{\Hypertarget{classpersonality__captions_1_1worlds_1_1ImageGenerator_a2f6d917895f5fa19821b69f793dc1dd7}\label{classpersonality__captions_1_1worlds_1_1ImageGenerator_a2f6d917895f5fa19821b69f793dc1dd7}} 
\index{personality\+\_\+captions\+::worlds\+::\+Image\+Generator@{personality\+\_\+captions\+::worlds\+::\+Image\+Generator}!image\+\_\+path@{image\+\_\+path}}
\index{image\+\_\+path@{image\+\_\+path}!personality\+\_\+captions\+::worlds\+::\+Image\+Generator@{personality\+\_\+captions\+::worlds\+::\+Image\+Generator}}
\subsubsection{\texorpdfstring{image\+\_\+path}{image\_path}}
{\footnotesize\ttfamily personality\+\_\+captions.\+worlds.\+Image\+Generator.\+image\+\_\+path}



Definition at line 182 of file worlds.\+py.

\mbox{\Hypertarget{classpersonality__captions_1_1worlds_1_1ImageGenerator_a28a704ac1a923cc558c63ac4bcf2bb65}\label{classpersonality__captions_1_1worlds_1_1ImageGenerator_a28a704ac1a923cc558c63ac4bcf2bb65}} 
\index{personality\+\_\+captions\+::worlds\+::\+Image\+Generator@{personality\+\_\+captions\+::worlds\+::\+Image\+Generator}!images@{images}}
\index{images@{images}!personality\+\_\+captions\+::worlds\+::\+Image\+Generator@{personality\+\_\+captions\+::worlds\+::\+Image\+Generator}}
\subsubsection{\texorpdfstring{images}{images}}
{\footnotesize\ttfamily personality\+\_\+captions.\+worlds.\+Image\+Generator.\+images}



Definition at line 185 of file worlds.\+py.

\mbox{\Hypertarget{classpersonality__captions_1_1worlds_1_1ImageGenerator_a3cb7292fe4be4bd3e9c1e16e763da509}\label{classpersonality__captions_1_1worlds_1_1ImageGenerator_a3cb7292fe4be4bd3e9c1e16e763da509}} 
\index{personality\+\_\+captions\+::worlds\+::\+Image\+Generator@{personality\+\_\+captions\+::worlds\+::\+Image\+Generator}!images\+\_\+idx\+\_\+stack\+\_\+path@{images\+\_\+idx\+\_\+stack\+\_\+path}}
\index{images\+\_\+idx\+\_\+stack\+\_\+path@{images\+\_\+idx\+\_\+stack\+\_\+path}!personality\+\_\+captions\+::worlds\+::\+Image\+Generator@{personality\+\_\+captions\+::worlds\+::\+Image\+Generator}}
\subsubsection{\texorpdfstring{images\+\_\+idx\+\_\+stack\+\_\+path}{images\_idx\_stack\_path}}
{\footnotesize\ttfamily personality\+\_\+captions.\+worlds.\+Image\+Generator.\+images\+\_\+idx\+\_\+stack\+\_\+path}



Definition at line 180 of file worlds.\+py.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
parlai/mturk/tasks/personality\+\_\+captions/personality\+\_\+captions/\hyperlink{parlai_2mturk_2tasks_2personality__captions_2personality__captions_2worlds_8py}{worlds.\+py}\end{DoxyCompactItemize}
