\hypertarget{namespacegraph__world2_1_1gen__sbatch__script}{}\section{graph\+\_\+world2.\+gen\+\_\+sbatch\+\_\+script Namespace Reference}
\label{namespacegraph__world2_1_1gen__sbatch__script}\index{graph\+\_\+world2.\+gen\+\_\+sbatch\+\_\+script@{graph\+\_\+world2.\+gen\+\_\+sbatch\+\_\+script}}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{namespacegraph__world2_1_1gen__sbatch__script_a39f73c9b077f4bb92853e7033e35c1b1}{gen} (out\+\_\+name, \hyperlink{namespacegraph__world2_1_1gen__sbatch__script_a8bebb42a9387f9a04c4414fca68bb6c2}{opt})
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\hyperlink{namespacegraph__world2_1_1gen__sbatch__script_a35d72fb0a48043fbb762ae06dee52ed8}{parser}
\item 
\hyperlink{namespacegraph__world2_1_1gen__sbatch__script_af55e4850ba1b0390ce5d5c1c88fbc43c}{type}
\item 
\hyperlink{namespacegraph__world2_1_1gen__sbatch__script_a9a98e06b860a43c4f37a22688720af47}{int}
\item 
\hyperlink{namespacegraph__world2_1_1gen__sbatch__script_a3763c39f7acd6a0329c59ed4ca14a63a}{default}
\item 
\hyperlink{namespacegraph__world2_1_1gen__sbatch__script_afaa4d6a02b2c7127d16d0830a0b16fa3}{help}
\item 
\hyperlink{namespacegraph__world2_1_1gen__sbatch__script_ae1cfc2209c3d556ec6724bd1c913b71a}{action}
\item 
\hyperlink{namespacegraph__world2_1_1gen__sbatch__script_ac5ddd33f5082846123a11eea2524ba43}{False}
\item 
\hyperlink{namespacegraph__world2_1_1gen__sbatch__script_a8bebb42a9387f9a04c4414fca68bb6c2}{opt}
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\mbox{\Hypertarget{namespacegraph__world2_1_1gen__sbatch__script_a39f73c9b077f4bb92853e7033e35c1b1}\label{namespacegraph__world2_1_1gen__sbatch__script_a39f73c9b077f4bb92853e7033e35c1b1}} 
\index{graph\+\_\+world2\+::gen\+\_\+sbatch\+\_\+script@{graph\+\_\+world2\+::gen\+\_\+sbatch\+\_\+script}!gen@{gen}}
\index{gen@{gen}!graph\+\_\+world2\+::gen\+\_\+sbatch\+\_\+script@{graph\+\_\+world2\+::gen\+\_\+sbatch\+\_\+script}}
\subsubsection{\texorpdfstring{gen()}{gen()}}
{\footnotesize\ttfamily def graph\+\_\+world2.\+gen\+\_\+sbatch\+\_\+script.\+gen (\begin{DoxyParamCaption}\item[{}]{out\+\_\+name,  }\item[{}]{opt }\end{DoxyParamCaption})}



Definition at line 13 of file gen\+\_\+sbatch\+\_\+script.\+py.


\begin{DoxyCode}
13 \textcolor{keyword}{def }\hyperlink{namespacegraph__world2_1_1gen__sbatch__script_a39f73c9b077f4bb92853e7033e35c1b1}{gen}(out\_name, opt):
14     fout\_batch = open(\textcolor{stringliteral}{'\{\}.sh'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(out\_name), \textcolor{stringliteral}{'w'})
15     fout\_batch.write(\textcolor{stringliteral}{'chmod +x *.sh\(\backslash\)n'})
16     fout\_batch.write(\textcolor{stringliteral}{'rm job-out-*\(\backslash\)n'})
17     fout\_batch.write(\textcolor{stringliteral}{'rm job-in-*\(\backslash\)n'})
18     \textcolor{keywordflow}{for} i \textcolor{keywordflow}{in} range(opt[\textcolor{stringliteral}{'num\_gpus'}]):
19         sh\_name = \textcolor{stringliteral}{'\{\}\_\{\}.sh'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(out\_name, i)
20         fout = open(sh\_name, \textcolor{stringliteral}{'w'})
21         \textcolor{keywordflow}{if} opt[\textcolor{stringliteral}{'slurm'}]:
22             fout.write(
23                 \textcolor{stringliteral}{"srun -o checkpoint/slurm-gpu-job-%j.out --error=checkpoint/slurm-gpu-job-%j.err
       --gres=gpu:1 python3 train.py --job\_num \{\}\(\backslash\)n"}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(
24                     i
25                 )
26             )
27         \textcolor{keywordflow}{else}:
28             fout.write(
29                 \textcolor{stringliteral}{"CUDA\_VISIBLE\_DEVICES=\{\} python3 train.py --job\_num \{\}\(\backslash\)n"}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(i, i)
30             )
31         fout.close()
32         fout\_batch.write(\textcolor{stringliteral}{"./\{\} &\(\backslash\)n"}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(sh\_name))
33     fout\_batch.close()
34     subprocess.call(\textcolor{stringliteral}{"chmod +x \{\}.sh"}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(out\_name).split())
35 
36 
\end{DoxyCode}


\subsection{Variable Documentation}
\mbox{\Hypertarget{namespacegraph__world2_1_1gen__sbatch__script_ae1cfc2209c3d556ec6724bd1c913b71a}\label{namespacegraph__world2_1_1gen__sbatch__script_ae1cfc2209c3d556ec6724bd1c913b71a}} 
\index{graph\+\_\+world2\+::gen\+\_\+sbatch\+\_\+script@{graph\+\_\+world2\+::gen\+\_\+sbatch\+\_\+script}!action@{action}}
\index{action@{action}!graph\+\_\+world2\+::gen\+\_\+sbatch\+\_\+script@{graph\+\_\+world2\+::gen\+\_\+sbatch\+\_\+script}}
\subsubsection{\texorpdfstring{action}{action}}
{\footnotesize\ttfamily graph\+\_\+world2.\+gen\+\_\+sbatch\+\_\+script.\+action}



Definition at line 41 of file gen\+\_\+sbatch\+\_\+script.\+py.

\mbox{\Hypertarget{namespacegraph__world2_1_1gen__sbatch__script_a3763c39f7acd6a0329c59ed4ca14a63a}\label{namespacegraph__world2_1_1gen__sbatch__script_a3763c39f7acd6a0329c59ed4ca14a63a}} 
\index{graph\+\_\+world2\+::gen\+\_\+sbatch\+\_\+script@{graph\+\_\+world2\+::gen\+\_\+sbatch\+\_\+script}!default@{default}}
\index{default@{default}!graph\+\_\+world2\+::gen\+\_\+sbatch\+\_\+script@{graph\+\_\+world2\+::gen\+\_\+sbatch\+\_\+script}}
\subsubsection{\texorpdfstring{default}{default}}
{\footnotesize\ttfamily graph\+\_\+world2.\+gen\+\_\+sbatch\+\_\+script.\+default}



Definition at line 39 of file gen\+\_\+sbatch\+\_\+script.\+py.

\mbox{\Hypertarget{namespacegraph__world2_1_1gen__sbatch__script_ac5ddd33f5082846123a11eea2524ba43}\label{namespacegraph__world2_1_1gen__sbatch__script_ac5ddd33f5082846123a11eea2524ba43}} 
\index{graph\+\_\+world2\+::gen\+\_\+sbatch\+\_\+script@{graph\+\_\+world2\+::gen\+\_\+sbatch\+\_\+script}!False@{False}}
\index{False@{False}!graph\+\_\+world2\+::gen\+\_\+sbatch\+\_\+script@{graph\+\_\+world2\+::gen\+\_\+sbatch\+\_\+script}}
\subsubsection{\texorpdfstring{False}{False}}
{\footnotesize\ttfamily graph\+\_\+world2.\+gen\+\_\+sbatch\+\_\+script.\+False}



Definition at line 41 of file gen\+\_\+sbatch\+\_\+script.\+py.

\mbox{\Hypertarget{namespacegraph__world2_1_1gen__sbatch__script_afaa4d6a02b2c7127d16d0830a0b16fa3}\label{namespacegraph__world2_1_1gen__sbatch__script_afaa4d6a02b2c7127d16d0830a0b16fa3}} 
\index{graph\+\_\+world2\+::gen\+\_\+sbatch\+\_\+script@{graph\+\_\+world2\+::gen\+\_\+sbatch\+\_\+script}!help@{help}}
\index{help@{help}!graph\+\_\+world2\+::gen\+\_\+sbatch\+\_\+script@{graph\+\_\+world2\+::gen\+\_\+sbatch\+\_\+script}}
\subsubsection{\texorpdfstring{help}{help}}
{\footnotesize\ttfamily graph\+\_\+world2.\+gen\+\_\+sbatch\+\_\+script.\+help}



Definition at line 39 of file gen\+\_\+sbatch\+\_\+script.\+py.

\mbox{\Hypertarget{namespacegraph__world2_1_1gen__sbatch__script_a9a98e06b860a43c4f37a22688720af47}\label{namespacegraph__world2_1_1gen__sbatch__script_a9a98e06b860a43c4f37a22688720af47}} 
\index{graph\+\_\+world2\+::gen\+\_\+sbatch\+\_\+script@{graph\+\_\+world2\+::gen\+\_\+sbatch\+\_\+script}!int@{int}}
\index{int@{int}!graph\+\_\+world2\+::gen\+\_\+sbatch\+\_\+script@{graph\+\_\+world2\+::gen\+\_\+sbatch\+\_\+script}}
\subsubsection{\texorpdfstring{int}{int}}
{\footnotesize\ttfamily graph\+\_\+world2.\+gen\+\_\+sbatch\+\_\+script.\+int}



Definition at line 39 of file gen\+\_\+sbatch\+\_\+script.\+py.

\mbox{\Hypertarget{namespacegraph__world2_1_1gen__sbatch__script_a8bebb42a9387f9a04c4414fca68bb6c2}\label{namespacegraph__world2_1_1gen__sbatch__script_a8bebb42a9387f9a04c4414fca68bb6c2}} 
\index{graph\+\_\+world2\+::gen\+\_\+sbatch\+\_\+script@{graph\+\_\+world2\+::gen\+\_\+sbatch\+\_\+script}!opt@{opt}}
\index{opt@{opt}!graph\+\_\+world2\+::gen\+\_\+sbatch\+\_\+script@{graph\+\_\+world2\+::gen\+\_\+sbatch\+\_\+script}}
\subsubsection{\texorpdfstring{opt}{opt}}
{\footnotesize\ttfamily graph\+\_\+world2.\+gen\+\_\+sbatch\+\_\+script.\+opt}



Definition at line 43 of file gen\+\_\+sbatch\+\_\+script.\+py.

\mbox{\Hypertarget{namespacegraph__world2_1_1gen__sbatch__script_a35d72fb0a48043fbb762ae06dee52ed8}\label{namespacegraph__world2_1_1gen__sbatch__script_a35d72fb0a48043fbb762ae06dee52ed8}} 
\index{graph\+\_\+world2\+::gen\+\_\+sbatch\+\_\+script@{graph\+\_\+world2\+::gen\+\_\+sbatch\+\_\+script}!parser@{parser}}
\index{parser@{parser}!graph\+\_\+world2\+::gen\+\_\+sbatch\+\_\+script@{graph\+\_\+world2\+::gen\+\_\+sbatch\+\_\+script}}
\subsubsection{\texorpdfstring{parser}{parser}}
{\footnotesize\ttfamily graph\+\_\+world2.\+gen\+\_\+sbatch\+\_\+script.\+parser}



Definition at line 38 of file gen\+\_\+sbatch\+\_\+script.\+py.

\mbox{\Hypertarget{namespacegraph__world2_1_1gen__sbatch__script_af55e4850ba1b0390ce5d5c1c88fbc43c}\label{namespacegraph__world2_1_1gen__sbatch__script_af55e4850ba1b0390ce5d5c1c88fbc43c}} 
\index{graph\+\_\+world2\+::gen\+\_\+sbatch\+\_\+script@{graph\+\_\+world2\+::gen\+\_\+sbatch\+\_\+script}!type@{type}}
\index{type@{type}!graph\+\_\+world2\+::gen\+\_\+sbatch\+\_\+script@{graph\+\_\+world2\+::gen\+\_\+sbatch\+\_\+script}}
\subsubsection{\texorpdfstring{type}{type}}
{\footnotesize\ttfamily graph\+\_\+world2.\+gen\+\_\+sbatch\+\_\+script.\+type}



Definition at line 39 of file gen\+\_\+sbatch\+\_\+script.\+py.

