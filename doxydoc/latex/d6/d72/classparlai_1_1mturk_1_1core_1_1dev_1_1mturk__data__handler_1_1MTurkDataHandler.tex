\hypertarget{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler}{}\section{parlai.\+mturk.\+core.\+dev.\+mturk\+\_\+data\+\_\+handler.\+M\+Turk\+Data\+Handler Class Reference}
\label{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler}\index{parlai.\+mturk.\+core.\+dev.\+mturk\+\_\+data\+\_\+handler.\+M\+Turk\+Data\+Handler@{parlai.\+mturk.\+core.\+dev.\+mturk\+\_\+data\+\_\+handler.\+M\+Turk\+Data\+Handler}}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_ac6706c58fc7fc4f76a8d92e55c4d64df}{\+\_\+\+\_\+init\+\_\+\+\_\+} (self, \hyperlink{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_af4bebaca067ce2d388fe76ee8859e1bd}{task\+\_\+group\+\_\+id}=None, file\+\_\+name=\textquotesingle{}pmt\+\_\+data.\+db\textquotesingle{})
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_a08e9ad4daabe8117c158b0c2a986f6f1}{create\+\_\+default\+\_\+tables} (self)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_ae8c02400cd4261b79571e6108955c883}{log\+\_\+new\+\_\+run} (self, target\+\_\+hits, taskname, \hyperlink{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_af4bebaca067ce2d388fe76ee8859e1bd}{task\+\_\+group\+\_\+id}=None)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_a97043bdbc4faa87164cd1e9d71559327}{log\+\_\+hit\+\_\+status} (self, mturk\+\_\+hit\+\_\+creation\+\_\+response, \hyperlink{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_af4bebaca067ce2d388fe76ee8859e1bd}{task\+\_\+group\+\_\+id}=None)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_a7b7b243f1ae901dce38b639fb9dcde22}{log\+\_\+worker\+\_\+accept\+\_\+assignment} (self, worker\+\_\+id, assignment\+\_\+id, hit\+\_\+id, \hyperlink{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_af4bebaca067ce2d388fe76ee8859e1bd}{task\+\_\+group\+\_\+id}=None)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_a07f6dfb250fe119f1fdd44c58e6c05aa}{log\+\_\+complete\+\_\+assignment} (self, worker\+\_\+id, assignment\+\_\+id, approve\+\_\+time, complete\+\_\+type, \hyperlink{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_af4bebaca067ce2d388fe76ee8859e1bd}{task\+\_\+group\+\_\+id}=None)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_a42409b508f2b135f6d02c80f39aee466}{log\+\_\+disconnect\+\_\+assignment} (self, worker\+\_\+id, assignment\+\_\+id, approve\+\_\+time, disconnect\+\_\+type, \hyperlink{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_af4bebaca067ce2d388fe76ee8859e1bd}{task\+\_\+group\+\_\+id}=None)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_ab175fd5970bfd7b24751ad99e7b99111}{log\+\_\+expire\+\_\+assignment} (self, worker\+\_\+id, assignment\+\_\+id, \hyperlink{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_af4bebaca067ce2d388fe76ee8859e1bd}{task\+\_\+group\+\_\+id}=None)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_a5a9a1246250044f6f13117c899285c82}{log\+\_\+submit\+\_\+assignment} (self, worker\+\_\+id, assignment\+\_\+id)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_a6f53c1208c4e3b71be96c4f3e96dab2e}{log\+\_\+abandon\+\_\+assignment} (self, worker\+\_\+id, assignment\+\_\+id)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_aa084ae52cbcc1fdce7e5a20f079f3f47}{log\+\_\+start\+\_\+onboard} (self, worker\+\_\+id, assignment\+\_\+id, conversation\+\_\+id)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_a520efb5a04ffab6b689c0562997f76e0}{log\+\_\+finish\+\_\+onboard} (self, worker\+\_\+id, assignment\+\_\+id)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_ac8a4ba8bd6942424ff47149189c027a3}{log\+\_\+start\+\_\+task} (self, worker\+\_\+id, assignment\+\_\+id, conversation\+\_\+id)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_a70ba0bf16c83138626c33c71a041674f}{log\+\_\+award\+\_\+amount} (self, worker\+\_\+id, assignment\+\_\+id, amount, reason)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_abf54a08cd2b503358c52229258c1f2c6}{log\+\_\+pay\+\_\+extra\+\_\+bonus} (self, worker\+\_\+id, assignment\+\_\+id, amount, reason)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_aaa2ae4ebfd4b668bdef7642cdf4d9392}{log\+\_\+bonus\+\_\+paid} (self, worker\+\_\+id, assignment\+\_\+id)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_a57266a8380587e0256b966ad780ec7d7}{log\+\_\+approve\+\_\+assignment} (self, assignment\+\_\+id)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_afd8d5abb26cbd00f96ff7d8ad44b1f49}{log\+\_\+reject\+\_\+assignment} (self, assignment\+\_\+id)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_acb69b500f70e42e4e8a99e224534cc27}{log\+\_\+worker\+\_\+note} (self, worker\+\_\+id, assignment\+\_\+id, note)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_a3e7435a5ea6af94b4d668c095184a234}{get\+\_\+all\+\_\+worker\+\_\+data} (self, start=0, count=100)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_a748e6271a1618272cd17ec412b2c2a25}{get\+\_\+worker\+\_\+data} (self, worker\+\_\+id)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_aa3f132c04075d005d6639b938414ac0f}{get\+\_\+assignments\+\_\+for\+\_\+run} (self, \hyperlink{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_af4bebaca067ce2d388fe76ee8859e1bd}{task\+\_\+group\+\_\+id})
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_a70ee72567e0c94eea130cdee21549ada}{get\+\_\+assignment\+\_\+data} (self, assignment\+\_\+id)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_a9aa7011c4fdd163ed18b99bbd697da78}{get\+\_\+worker\+\_\+assignment\+\_\+pairing} (self, worker\+\_\+id, assignment\+\_\+id)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_a23837cfc187beca71c486a2b3000459e}{get\+\_\+all\+\_\+run\+\_\+data} (self, start=0, count=1000)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_a915eb49ef703f1606b8039a76b6a9385}{get\+\_\+run\+\_\+data} (self, \hyperlink{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_af4bebaca067ce2d388fe76ee8859e1bd}{task\+\_\+group\+\_\+id})
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_a9effb9b4fadb19804787129f064f23a2}{get\+\_\+hits\+\_\+for\+\_\+run} (self, run\+\_\+id)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_aac6a98f191bfacfb9092f2d0138fb429}{get\+\_\+hit\+\_\+data} (self, hit\+\_\+id)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_a112a75abc2ccd02aa53119c88d1c6bb2}{get\+\_\+pairings\+\_\+for\+\_\+assignment} (self, assignment\+\_\+id)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_aac09cee0791b834add5a50e430b6030e}{get\+\_\+pairings\+\_\+for\+\_\+run} (self, \hyperlink{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_af4bebaca067ce2d388fe76ee8859e1bd}{task\+\_\+group\+\_\+id})
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_a507259114132bb247683c7f9b127c12c}{get\+\_\+pairings\+\_\+for\+\_\+conversation} (self, conversation\+\_\+id, \hyperlink{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_af4bebaca067ce2d388fe76ee8859e1bd}{task\+\_\+group\+\_\+id}=None)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_a46feee52b8950688e8d916dcd263d2c1}{get\+\_\+all\+\_\+assignments\+\_\+for\+\_\+worker} (self, worker\+\_\+id)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_ab4f6bcf277206b3ac02971f208c2ec32}{get\+\_\+all\+\_\+pairings\+\_\+for\+\_\+worker} (self, worker\+\_\+id)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_a7d86983e9f01a1f785284bbda21a2860}{get\+\_\+all\+\_\+task\+\_\+assignments\+\_\+for\+\_\+worker} (self, worker\+\_\+id, \hyperlink{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_af4bebaca067ce2d388fe76ee8859e1bd}{task\+\_\+group\+\_\+id}=None)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_a497bab989cb0979d44136b232a99f9a7}{get\+\_\+all\+\_\+task\+\_\+pairings\+\_\+for\+\_\+worker} (self, worker\+\_\+id, \hyperlink{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_af4bebaca067ce2d388fe76ee8859e1bd}{task\+\_\+group\+\_\+id}=None)
\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_a6d5a47cdeede36a2fb650f28dd72ef12}{save\+\_\+world\+\_\+data} (prepped\+\_\+save\+\_\+data, \hyperlink{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_af4bebaca067ce2d388fe76ee8859e1bd}{task\+\_\+group\+\_\+id}, conversation\+\_\+id, sandbox=False)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_af46969088769ed561fd4206e729aecf9}{get\+\_\+conversation\+\_\+data} (\hyperlink{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_af4bebaca067ce2d388fe76ee8859e1bd}{task\+\_\+group\+\_\+id}, conv\+\_\+id, worker\+\_\+id, is\+\_\+sandbox)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_af089c1fdb7266ba77936d53d957932f4}{get\+\_\+full\+\_\+conversation\+\_\+data} (\hyperlink{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_af4bebaca067ce2d388fe76ee8859e1bd}{task\+\_\+group\+\_\+id}, conv\+\_\+id, is\+\_\+sandbox)
\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_a7cca153268ab042892a68ad4aa032414}{db\+\_\+path}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_a66361d334cabae5782ca8a8740b32e95}{conn}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_af4bebaca067ce2d388fe76ee8859e1bd}{task\+\_\+group\+\_\+id}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_a782fb3d819b27356b34060bc3b9f110e}{table\+\_\+access\+\_\+condition}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
\begin{DoxyVerb}Handles logging data to and reading data from a SQLite3 table for observation across
processes and for controlled restarts.
\end{DoxyVerb}
 

Definition at line 104 of file mturk\+\_\+data\+\_\+handler.\+py.



\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_ac6706c58fc7fc4f76a8d92e55c4d64df}\label{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_ac6706c58fc7fc4f76a8d92e55c4d64df}} 
\index{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler@{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler}!\+\_\+\+\_\+init\+\_\+\+\_\+@{\+\_\+\+\_\+init\+\_\+\+\_\+}}
\index{\+\_\+\+\_\+init\+\_\+\+\_\+@{\+\_\+\+\_\+init\+\_\+\+\_\+}!parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler@{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler}}
\subsubsection{\texorpdfstring{\+\_\+\+\_\+init\+\_\+\+\_\+()}{\_\_init\_\_()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+dev.\+mturk\+\_\+data\+\_\+handler.\+M\+Turk\+Data\+Handler.\+\_\+\+\_\+init\+\_\+\+\_\+ (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{task\+\_\+group\+\_\+id = {\ttfamily None},  }\item[{}]{file\+\_\+name = {\ttfamily \textquotesingle{}pmt\+\_\+data.db\textquotesingle{}} }\end{DoxyParamCaption})}



Definition at line 110 of file mturk\+\_\+data\+\_\+handler.\+py.


\begin{DoxyCode}
110     \textcolor{keyword}{def }\_\_init\_\_(self, task\_group\_id=None, file\_name='pmt\_data.db'):
111         self.db\_path = os.path.join(data\_dir, file\_name)
112         self.conn = \{\}
113         self.task\_group\_id = task\_group\_id
114         self.table\_access\_condition = threading.Condition()
115         self.create\_default\_tables()
116 
\end{DoxyCode}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_a08e9ad4daabe8117c158b0c2a986f6f1}\label{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_a08e9ad4daabe8117c158b0c2a986f6f1}} 
\index{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler@{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler}!create\+\_\+default\+\_\+tables@{create\+\_\+default\+\_\+tables}}
\index{create\+\_\+default\+\_\+tables@{create\+\_\+default\+\_\+tables}!parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler@{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler}}
\subsubsection{\texorpdfstring{create\+\_\+default\+\_\+tables()}{create\_default\_tables()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+dev.\+mturk\+\_\+data\+\_\+handler.\+M\+Turk\+Data\+Handler.\+create\+\_\+default\+\_\+tables (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}

\begin{DoxyVerb}Prepares the default tables in the database if they don't exist.
\end{DoxyVerb}
 

Definition at line 175 of file mturk\+\_\+data\+\_\+handler.\+py.


\begin{DoxyCode}
175     \textcolor{keyword}{def }create\_default\_tables(self):
176         \textcolor{stringliteral}{"""}
177 \textcolor{stringliteral}{        Prepares the default tables in the database if they don't exist.}
178 \textcolor{stringliteral}{        """}
179         with self.table\_access\_condition:
180             conn = self.\_get\_connection()
181             c = conn.cursor()
182             c.execute(CREATE\_RUN\_DATA\_SQL\_TABLE)
183             c.execute(CREATE\_WORKER\_DATA\_SQL\_TABLE)
184             c.execute(CREATE\_HIT\_DATA\_SQL\_TABLE)
185             c.execute(CREATE\_ASSIGN\_DATA\_SQL\_TABLE)
186             c.execute(CREATE\_PAIRING\_DATA\_SQL\_TABLE)
187 
188             \textcolor{comment}{# TODO move to versioning and migrations}
189             \textcolor{comment}{# attempt to add new fields one by one to update old versions}
190             updates = [
191                 \textcolor{stringliteral}{'''ALTER TABLE pairings}
192 \textcolor{stringliteral}{                   ADD COLUMN onboarding\_id TEXT default null'''},
193                 \textcolor{stringliteral}{'''ALTER TABLE runs}
194 \textcolor{stringliteral}{                   ADD COLUMN taskname TEXT default null'''},
195                 \textcolor{stringliteral}{'''ALTER TABLE runs}
196 \textcolor{stringliteral}{                   ADD COLUMN launch\_time int default 0'''},
197                 \textcolor{stringliteral}{'''ALTER TABLE pairings}
198 \textcolor{stringliteral}{                   ADD COLUMN extra\_bonus\_amount INT default 0'''},
199                 \textcolor{stringliteral}{'''ALTER TABLE pairings}
200 \textcolor{stringliteral}{                   ADD COLUMN extra\_bonus\_text TEXT default '';'''},
201             ]
202             \textcolor{keywordflow}{for} update \textcolor{keywordflow}{in} updates:
203                 \textcolor{keywordflow}{try}:
204                     c.execute(update)
205                 \textcolor{keywordflow}{except} sqlite3.Error:
206                     \textcolor{keywordflow}{pass}
207             conn.commit()
208 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_a46feee52b8950688e8d916dcd263d2c1}\label{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_a46feee52b8950688e8d916dcd263d2c1}} 
\index{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler@{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler}!get\+\_\+all\+\_\+assignments\+\_\+for\+\_\+worker@{get\+\_\+all\+\_\+assignments\+\_\+for\+\_\+worker}}
\index{get\+\_\+all\+\_\+assignments\+\_\+for\+\_\+worker@{get\+\_\+all\+\_\+assignments\+\_\+for\+\_\+worker}!parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler@{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler}}
\subsubsection{\texorpdfstring{get\+\_\+all\+\_\+assignments\+\_\+for\+\_\+worker()}{get\_all\_assignments\_for\_worker()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+dev.\+mturk\+\_\+data\+\_\+handler.\+M\+Turk\+Data\+Handler.\+get\+\_\+all\+\_\+assignments\+\_\+for\+\_\+worker (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{worker\+\_\+id }\end{DoxyParamCaption})}

\begin{DoxyVerb}get all assignments associated with a particular worker_id.
\end{DoxyVerb}
 

Definition at line 842 of file mturk\+\_\+data\+\_\+handler.\+py.


\begin{DoxyCode}
842     \textcolor{keyword}{def }get\_all\_assignments\_for\_worker(self, worker\_id):
843         \textcolor{stringliteral}{"""}
844 \textcolor{stringliteral}{        get all assignments associated with a particular worker\_id.}
845 \textcolor{stringliteral}{        """}
846         with self.table\_access\_condition:
847             conn = self.\_get\_connection()
848             c = conn.cursor()
849             c.execute(\textcolor{stringliteral}{"SELECT * FROM assignments WHERE worker\_id = ?;"}, (worker\_id,))
850             results = c.fetchall()
851             \textcolor{keywordflow}{return} results
852 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_ab4f6bcf277206b3ac02971f208c2ec32}\label{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_ab4f6bcf277206b3ac02971f208c2ec32}} 
\index{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler@{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler}!get\+\_\+all\+\_\+pairings\+\_\+for\+\_\+worker@{get\+\_\+all\+\_\+pairings\+\_\+for\+\_\+worker}}
\index{get\+\_\+all\+\_\+pairings\+\_\+for\+\_\+worker@{get\+\_\+all\+\_\+pairings\+\_\+for\+\_\+worker}!parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler@{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler}}
\subsubsection{\texorpdfstring{get\+\_\+all\+\_\+pairings\+\_\+for\+\_\+worker()}{get\_all\_pairings\_for\_worker()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+dev.\+mturk\+\_\+data\+\_\+handler.\+M\+Turk\+Data\+Handler.\+get\+\_\+all\+\_\+pairings\+\_\+for\+\_\+worker (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{worker\+\_\+id }\end{DoxyParamCaption})}

\begin{DoxyVerb}get all pairings associated with a particular worker_id.
\end{DoxyVerb}
 

Definition at line 853 of file mturk\+\_\+data\+\_\+handler.\+py.


\begin{DoxyCode}
853     \textcolor{keyword}{def }get\_all\_pairings\_for\_worker(self, worker\_id):
854         \textcolor{stringliteral}{"""}
855 \textcolor{stringliteral}{        get all pairings associated with a particular worker\_id.}
856 \textcolor{stringliteral}{        """}
857         with self.table\_access\_condition:
858             conn = self.\_get\_connection()
859             c = conn.cursor()
860             c.execute(\textcolor{stringliteral}{'SELECT * FROM pairings WHERE worker\_id = ?;'}, (worker\_id,))
861             results = c.fetchall()
862             \textcolor{keywordflow}{return} results
863 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_a23837cfc187beca71c486a2b3000459e}\label{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_a23837cfc187beca71c486a2b3000459e}} 
\index{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler@{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler}!get\+\_\+all\+\_\+run\+\_\+data@{get\+\_\+all\+\_\+run\+\_\+data}}
\index{get\+\_\+all\+\_\+run\+\_\+data@{get\+\_\+all\+\_\+run\+\_\+data}!parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler@{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler}}
\subsubsection{\texorpdfstring{get\+\_\+all\+\_\+run\+\_\+data()}{get\_all\_run\_data()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+dev.\+mturk\+\_\+data\+\_\+handler.\+M\+Turk\+Data\+Handler.\+get\+\_\+all\+\_\+run\+\_\+data (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{start = {\ttfamily 0},  }\item[{}]{count = {\ttfamily 1000} }\end{DoxyParamCaption})}

\begin{DoxyVerb}get all the run data for all task_group_ids.
\end{DoxyVerb}
 

Definition at line 753 of file mturk\+\_\+data\+\_\+handler.\+py.


\begin{DoxyCode}
753     \textcolor{keyword}{def }get\_all\_run\_data(self, start=0, count=1000):
754         \textcolor{stringliteral}{"""}
755 \textcolor{stringliteral}{        get all the run data for all task\_group\_ids.}
756 \textcolor{stringliteral}{        """}
757         with self.table\_access\_condition:
758             conn = self.\_get\_connection()
759             c = conn.cursor()
760             c.execute(\textcolor{stringliteral}{'SELECT * FROM runs LIMIT ?,?;'}, (start, start + count))
761             results = c.fetchall()
762             \textcolor{keywordflow}{return} results
763 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_a7d86983e9f01a1f785284bbda21a2860}\label{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_a7d86983e9f01a1f785284bbda21a2860}} 
\index{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler@{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler}!get\+\_\+all\+\_\+task\+\_\+assignments\+\_\+for\+\_\+worker@{get\+\_\+all\+\_\+task\+\_\+assignments\+\_\+for\+\_\+worker}}
\index{get\+\_\+all\+\_\+task\+\_\+assignments\+\_\+for\+\_\+worker@{get\+\_\+all\+\_\+task\+\_\+assignments\+\_\+for\+\_\+worker}!parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler@{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler}}
\subsubsection{\texorpdfstring{get\+\_\+all\+\_\+task\+\_\+assignments\+\_\+for\+\_\+worker()}{get\_all\_task\_assignments\_for\_worker()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+dev.\+mturk\+\_\+data\+\_\+handler.\+M\+Turk\+Data\+Handler.\+get\+\_\+all\+\_\+task\+\_\+assignments\+\_\+for\+\_\+worker (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{worker\+\_\+id,  }\item[{}]{task\+\_\+group\+\_\+id = {\ttfamily None} }\end{DoxyParamCaption})}

\begin{DoxyVerb}get all assignments for a particular worker within a particular run by worker_id
and task_group_id.
\end{DoxyVerb}
 

Definition at line 864 of file mturk\+\_\+data\+\_\+handler.\+py.


\begin{DoxyCode}
864     \textcolor{keyword}{def }get\_all\_task\_assignments\_for\_worker(self, worker\_id, task\_group\_id=None):
865         \textcolor{stringliteral}{"""}
866 \textcolor{stringliteral}{        get all assignments for a particular worker within a particular run by worker\_id}
867 \textcolor{stringliteral}{        and task\_group\_id.}
868 \textcolor{stringliteral}{        """}
869         task\_group\_id = self.\_force\_task\_group\_id(task\_group\_id)
870         with self.table\_access\_condition:
871             conn = self.\_get\_connection()
872             c = conn.cursor()
873             c.execute(
874                 \textcolor{stringliteral}{"""SELECT assignments.assignment\_id, assignments.status,}
875 \textcolor{stringliteral}{                         assignments.approve\_time, assignments.worker\_id,}
876 \textcolor{stringliteral}{                         assignments.hit\_id}
877 \textcolor{stringliteral}{                         FROM assignments}
878 \textcolor{stringliteral}{                         INNER JOIN hits on assignments.hit\_id = hits.hit\_id}
879 \textcolor{stringliteral}{                         WHERE assignments.worker\_id = ? AND hits.run\_id = ?;}
880 \textcolor{stringliteral}{                         """},
881                 (worker\_id, task\_group\_id),
882             )
883             results = c.fetchall()
884             \textcolor{keywordflow}{return} results
885 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_a497bab989cb0979d44136b232a99f9a7}\label{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_a497bab989cb0979d44136b232a99f9a7}} 
\index{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler@{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler}!get\+\_\+all\+\_\+task\+\_\+pairings\+\_\+for\+\_\+worker@{get\+\_\+all\+\_\+task\+\_\+pairings\+\_\+for\+\_\+worker}}
\index{get\+\_\+all\+\_\+task\+\_\+pairings\+\_\+for\+\_\+worker@{get\+\_\+all\+\_\+task\+\_\+pairings\+\_\+for\+\_\+worker}!parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler@{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler}}
\subsubsection{\texorpdfstring{get\+\_\+all\+\_\+task\+\_\+pairings\+\_\+for\+\_\+worker()}{get\_all\_task\_pairings\_for\_worker()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+dev.\+mturk\+\_\+data\+\_\+handler.\+M\+Turk\+Data\+Handler.\+get\+\_\+all\+\_\+task\+\_\+pairings\+\_\+for\+\_\+worker (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{worker\+\_\+id,  }\item[{}]{task\+\_\+group\+\_\+id = {\ttfamily None} }\end{DoxyParamCaption})}

\begin{DoxyVerb}get all pairings for a particular worker within a particular run by worker_id
and task_group_id.
\end{DoxyVerb}
 

Definition at line 886 of file mturk\+\_\+data\+\_\+handler.\+py.


\begin{DoxyCode}
886     \textcolor{keyword}{def }get\_all\_task\_pairings\_for\_worker(self, worker\_id, task\_group\_id=None):
887         \textcolor{stringliteral}{"""}
888 \textcolor{stringliteral}{        get all pairings for a particular worker within a particular run by worker\_id}
889 \textcolor{stringliteral}{        and task\_group\_id.}
890 \textcolor{stringliteral}{        """}
891         task\_group\_id = self.\_force\_task\_group\_id(task\_group\_id)
892         with self.table\_access\_condition:
893             conn = self.\_get\_connection()
894             c = conn.cursor()
895             c.execute(
896                 \textcolor{stringliteral}{"""SELECT * FROM pairings WHERE worker\_id = ?}
897 \textcolor{stringliteral}{                         AND run\_id = ?;"""},
898                 (worker\_id, task\_group\_id),
899             )
900             results = c.fetchall()
901             \textcolor{keywordflow}{return} results
902 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_a3e7435a5ea6af94b4d668c095184a234}\label{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_a3e7435a5ea6af94b4d668c095184a234}} 
\index{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler@{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler}!get\+\_\+all\+\_\+worker\+\_\+data@{get\+\_\+all\+\_\+worker\+\_\+data}}
\index{get\+\_\+all\+\_\+worker\+\_\+data@{get\+\_\+all\+\_\+worker\+\_\+data}!parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler@{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler}}
\subsubsection{\texorpdfstring{get\+\_\+all\+\_\+worker\+\_\+data()}{get\_all\_worker\_data()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+dev.\+mturk\+\_\+data\+\_\+handler.\+M\+Turk\+Data\+Handler.\+get\+\_\+all\+\_\+worker\+\_\+data (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{start = {\ttfamily 0},  }\item[{}]{count = {\ttfamily 100} }\end{DoxyParamCaption})}

\begin{DoxyVerb}get all the worker data for all worker_ids.
\end{DoxyVerb}
 

Definition at line 685 of file mturk\+\_\+data\+\_\+handler.\+py.


\begin{DoxyCode}
685     \textcolor{keyword}{def }get\_all\_worker\_data(self, start=0, count=100):
686         \textcolor{stringliteral}{"""}
687 \textcolor{stringliteral}{        get all the worker data for all worker\_ids.}
688 \textcolor{stringliteral}{        """}
689         with self.table\_access\_condition:
690             conn = self.\_get\_connection()
691             c = conn.cursor()
692             c.execute(\textcolor{stringliteral}{'SELECT * FROM workers LIMIT ?,?;'}, (start, start + count))
693             results = c.fetchall()
694             \textcolor{keywordflow}{return} results
695 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_a70ee72567e0c94eea130cdee21549ada}\label{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_a70ee72567e0c94eea130cdee21549ada}} 
\index{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler@{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler}!get\+\_\+assignment\+\_\+data@{get\+\_\+assignment\+\_\+data}}
\index{get\+\_\+assignment\+\_\+data@{get\+\_\+assignment\+\_\+data}!parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler@{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler}}
\subsubsection{\texorpdfstring{get\+\_\+assignment\+\_\+data()}{get\_assignment\_data()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+dev.\+mturk\+\_\+data\+\_\+handler.\+M\+Turk\+Data\+Handler.\+get\+\_\+assignment\+\_\+data (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{assignment\+\_\+id }\end{DoxyParamCaption})}

\begin{DoxyVerb}get assignment data for a particular assignment by assignment_id.
\end{DoxyVerb}
 

Definition at line 725 of file mturk\+\_\+data\+\_\+handler.\+py.


\begin{DoxyCode}
725     \textcolor{keyword}{def }get\_assignment\_data(self, assignment\_id):
726         \textcolor{stringliteral}{"""}
727 \textcolor{stringliteral}{        get assignment data for a particular assignment by assignment\_id.}
728 \textcolor{stringliteral}{        """}
729         with self.table\_access\_condition:
730             conn = self.\_get\_connection()
731             c = conn.cursor()
732             c.execute(
733                 \textcolor{stringliteral}{'SELECT * FROM assignments WHERE assignment\_id = ?;'}, (assignment\_id,)
734             )
735             results = c.fetchone()
736             \textcolor{keywordflow}{return} results
737 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_aa3f132c04075d005d6639b938414ac0f}\label{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_aa3f132c04075d005d6639b938414ac0f}} 
\index{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler@{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler}!get\+\_\+assignments\+\_\+for\+\_\+run@{get\+\_\+assignments\+\_\+for\+\_\+run}}
\index{get\+\_\+assignments\+\_\+for\+\_\+run@{get\+\_\+assignments\+\_\+for\+\_\+run}!parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler@{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler}}
\subsubsection{\texorpdfstring{get\+\_\+assignments\+\_\+for\+\_\+run()}{get\_assignments\_for\_run()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+dev.\+mturk\+\_\+data\+\_\+handler.\+M\+Turk\+Data\+Handler.\+get\+\_\+assignments\+\_\+for\+\_\+run (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{task\+\_\+group\+\_\+id }\end{DoxyParamCaption})}

\begin{DoxyVerb}get all assignments for a particular run by task_group_id.
\end{DoxyVerb}
 

Definition at line 707 of file mturk\+\_\+data\+\_\+handler.\+py.


\begin{DoxyCode}
707     \textcolor{keyword}{def }get\_assignments\_for\_run(self, task\_group\_id):
708         \textcolor{stringliteral}{"""}
709 \textcolor{stringliteral}{        get all assignments for a particular run by task\_group\_id.}
710 \textcolor{stringliteral}{        """}
711         with self.table\_access\_condition:
712             conn = self.\_get\_connection()
713             c = conn.cursor()
714             c.execute(
715                 \textcolor{stringliteral}{"""SELECT assignments.* FROM assignments}
716 \textcolor{stringliteral}{                         WHERE assignments.hit\_id IN (}
717 \textcolor{stringliteral}{                           SELECT hits.hit\_id FROM hits}
718 \textcolor{stringliteral}{                           WHERE hits.run\_id = ?}
719 \textcolor{stringliteral}{                         );"""},
720                 (task\_group\_id,),
721             )
722             results = c.fetchall()
723             \textcolor{keywordflow}{return} results
724 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_af46969088769ed561fd4206e729aecf9}\label{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_af46969088769ed561fd4206e729aecf9}} 
\index{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler@{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler}!get\+\_\+conversation\+\_\+data@{get\+\_\+conversation\+\_\+data}}
\index{get\+\_\+conversation\+\_\+data@{get\+\_\+conversation\+\_\+data}!parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler@{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler}}
\subsubsection{\texorpdfstring{get\+\_\+conversation\+\_\+data()}{get\_conversation\_data()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+dev.\+mturk\+\_\+data\+\_\+handler.\+M\+Turk\+Data\+Handler.\+get\+\_\+conversation\+\_\+data (\begin{DoxyParamCaption}\item[{}]{task\+\_\+group\+\_\+id,  }\item[{}]{conv\+\_\+id,  }\item[{}]{worker\+\_\+id,  }\item[{}]{is\+\_\+sandbox }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\begin{DoxyVerb}A poorly named function that gets conversation data for a worker.
\end{DoxyVerb}
 

Definition at line 904 of file mturk\+\_\+data\+\_\+handler.\+py.


\begin{DoxyCode}
904     \textcolor{keyword}{def }get\_conversation\_data(task\_group\_id, conv\_id, worker\_id, is\_sandbox):
905         \textcolor{stringliteral}{"""}
906 \textcolor{stringliteral}{        A poorly named function that gets conversation data for a worker.}
907 \textcolor{stringliteral}{        """}
908         result = \{
909             \textcolor{stringliteral}{'had\_data\_dir'}: \textcolor{keyword}{False},
910             \textcolor{stringliteral}{'had\_run\_dir'}: \textcolor{keyword}{False},
911             \textcolor{stringliteral}{'had\_conversation\_dir'}: \textcolor{keyword}{False},
912             \textcolor{stringliteral}{'had\_worker\_dir'}: \textcolor{keyword}{False},
913             \textcolor{stringliteral}{'had\_worker\_file'}: \textcolor{keyword}{False},
914             \textcolor{stringliteral}{'data'}: \textcolor{keywordtype}{None},
915         \}
916         target = \textcolor{stringliteral}{'sandbox'} \textcolor{keywordflow}{if} is\_sandbox \textcolor{keywordflow}{else} \textcolor{stringliteral}{'live'}
917         search\_dir = os.path.join(data\_dir, target)
918         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} os.path.exists(search\_dir):
919             \textcolor{keywordflow}{return} result
920         result[\textcolor{stringliteral}{'had\_data\_dir'}] = \textcolor{keyword}{True}
921         search\_dir = os.path.join(search\_dir, task\_group\_id)
922         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} os.path.exists(search\_dir):
923             \textcolor{keywordflow}{return} result
924         result[\textcolor{stringliteral}{'had\_run\_dir'}] = \textcolor{keyword}{True}
925         search\_dir = os.path.join(search\_dir, conv\_id)
926         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} os.path.exists(search\_dir):
927             \textcolor{keywordflow}{return} result
928         result[\textcolor{stringliteral}{'had\_conversation\_dir'}] = \textcolor{keyword}{True}
929         search\_dir = os.path.join(search\_dir, \textcolor{stringliteral}{'workers'})
930         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} os.path.exists(search\_dir):
931             \textcolor{keywordflow}{return} result
932         result[\textcolor{stringliteral}{'had\_worker\_dir'}] = \textcolor{keyword}{True}
933         target\_filename = os.path.join(search\_dir, \textcolor{stringliteral}{'\{\}.json'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(worker\_id))
934         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} os.path.exists(target\_filename):
935             \textcolor{keywordflow}{return} result
936         result[\textcolor{stringliteral}{'had\_worker\_file'}] = \textcolor{keyword}{True}
937         with open(target\_filename, \textcolor{stringliteral}{'r') as target\_file:}
938 \textcolor{stringliteral}{            result['data'}] = json.load(target\_file)
939 
940         \textcolor{keywordflow}{return} result
941 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_af089c1fdb7266ba77936d53d957932f4}\label{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_af089c1fdb7266ba77936d53d957932f4}} 
\index{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler@{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler}!get\+\_\+full\+\_\+conversation\+\_\+data@{get\+\_\+full\+\_\+conversation\+\_\+data}}
\index{get\+\_\+full\+\_\+conversation\+\_\+data@{get\+\_\+full\+\_\+conversation\+\_\+data}!parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler@{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler}}
\subsubsection{\texorpdfstring{get\+\_\+full\+\_\+conversation\+\_\+data()}{get\_full\_conversation\_data()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+dev.\+mturk\+\_\+data\+\_\+handler.\+M\+Turk\+Data\+Handler.\+get\+\_\+full\+\_\+conversation\+\_\+data (\begin{DoxyParamCaption}\item[{}]{task\+\_\+group\+\_\+id,  }\item[{}]{conv\+\_\+id,  }\item[{}]{is\+\_\+sandbox }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\begin{DoxyVerb}Gets all conversation data saved for a world.
\end{DoxyVerb}
 

Definition at line 943 of file mturk\+\_\+data\+\_\+handler.\+py.


\begin{DoxyCode}
943     \textcolor{keyword}{def }get\_full\_conversation\_data(task\_group\_id, conv\_id, is\_sandbox):
944         \textcolor{stringliteral}{"""}
945 \textcolor{stringliteral}{        Gets all conversation data saved for a world.}
946 \textcolor{stringliteral}{        """}
947         target = \textcolor{stringliteral}{'sandbox'} \textcolor{keywordflow}{if} is\_sandbox \textcolor{keywordflow}{else} \textcolor{stringliteral}{'live'}
948         return\_data = \{\textcolor{stringliteral}{'custom\_data'}: \{\}, \textcolor{stringliteral}{'worker\_data'}: \{\}\}
949 
950         target\_dir = os.path.join(data\_dir, target, task\_group\_id, conv\_id)
951         target\_dir\_custom = os.path.join(target\_dir, \textcolor{stringliteral}{'custom'})
952         custom\_file = os.path.join(target\_dir\_custom, \textcolor{stringliteral}{'data.json'})
953         \textcolor{keywordflow}{if} os.path.exists(custom\_file):
954             custom\_data = \{\}
955             with open(custom\_file, \textcolor{stringliteral}{'r') as infile:}
956 \textcolor{stringliteral}{                custom\_data = json.load(infile)}
957 \textcolor{stringliteral}{            pickle\_file = os.path.join(target\_dir\_custom, 'data.pickle'})
958             \textcolor{keywordflow}{if} os.path.exists(pickle\_file):
959                 with open(pickle\_file, \textcolor{stringliteral}{'rb'}) \textcolor{keyword}{as} infile:
960                     custom\_data[\textcolor{stringliteral}{'needs-pickle'}] = pickle.load(infile)
961             return\_data[\textcolor{stringliteral}{'custom\_data'}] = custom\_data
962 
963         target\_dir\_workers = os.path.join(target\_dir, \textcolor{stringliteral}{'workers'})
964         \textcolor{keywordflow}{for} w\_file \textcolor{keywordflow}{in} os.listdir(target\_dir\_workers):
965             w\_id = w\_file.split(\textcolor{stringliteral}{'.json'})[0]
966             worker\_file = os.path.join(target\_dir\_workers, w\_file)
967             with open(worker\_file, \textcolor{stringliteral}{'r') as infile:}
968 \textcolor{stringliteral}{                return\_data['worker\_data'}][w\_id] = json.load(infile)
969 
970         \textcolor{keywordflow}{return} return\_data
971 \end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_aac6a98f191bfacfb9092f2d0138fb429}\label{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_aac6a98f191bfacfb9092f2d0138fb429}} 
\index{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler@{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler}!get\+\_\+hit\+\_\+data@{get\+\_\+hit\+\_\+data}}
\index{get\+\_\+hit\+\_\+data@{get\+\_\+hit\+\_\+data}!parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler@{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler}}
\subsubsection{\texorpdfstring{get\+\_\+hit\+\_\+data()}{get\_hit\_data()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+dev.\+mturk\+\_\+data\+\_\+handler.\+M\+Turk\+Data\+Handler.\+get\+\_\+hit\+\_\+data (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{hit\+\_\+id }\end{DoxyParamCaption})}

\begin{DoxyVerb}get the hit data for the given hit_id, return None if not.
\end{DoxyVerb}
 

Definition at line 786 of file mturk\+\_\+data\+\_\+handler.\+py.


\begin{DoxyCode}
786     \textcolor{keyword}{def }get\_hit\_data(self, hit\_id):
787         \textcolor{stringliteral}{"""}
788 \textcolor{stringliteral}{        get the hit data for the given hit\_id, return None if not.}
789 \textcolor{stringliteral}{        """}
790         with self.table\_access\_condition:
791             conn = self.\_get\_connection()
792             c = conn.cursor()
793             c.execute(\textcolor{stringliteral}{"SELECT * FROM hits WHERE hit\_id = ?;"}, (hit\_id,))
794             results = c.fetchone()
795             \textcolor{keywordflow}{return} results
796 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_a9effb9b4fadb19804787129f064f23a2}\label{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_a9effb9b4fadb19804787129f064f23a2}} 
\index{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler@{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler}!get\+\_\+hits\+\_\+for\+\_\+run@{get\+\_\+hits\+\_\+for\+\_\+run}}
\index{get\+\_\+hits\+\_\+for\+\_\+run@{get\+\_\+hits\+\_\+for\+\_\+run}!parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler@{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler}}
\subsubsection{\texorpdfstring{get\+\_\+hits\+\_\+for\+\_\+run()}{get\_hits\_for\_run()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+dev.\+mturk\+\_\+data\+\_\+handler.\+M\+Turk\+Data\+Handler.\+get\+\_\+hits\+\_\+for\+\_\+run (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{run\+\_\+id }\end{DoxyParamCaption})}

\begin{DoxyVerb}Get the full list of HITs for the given run_id.
\end{DoxyVerb}
 

Definition at line 775 of file mturk\+\_\+data\+\_\+handler.\+py.


\begin{DoxyCode}
775     \textcolor{keyword}{def }get\_hits\_for\_run(self, run\_id):
776         \textcolor{stringliteral}{"""}
777 \textcolor{stringliteral}{        Get the full list of HITs for the given run\_id.}
778 \textcolor{stringliteral}{        """}
779         with self.table\_access\_condition:
780             conn = self.\_get\_connection()
781             c = conn.cursor()
782             c.execute(\textcolor{stringliteral}{"SELECT * FROM hits WHERE run\_id = ?;"}, (run\_id,))
783             results = c.fetchall()
784             \textcolor{keywordflow}{return} results
785 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_a112a75abc2ccd02aa53119c88d1c6bb2}\label{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_a112a75abc2ccd02aa53119c88d1c6bb2}} 
\index{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler@{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler}!get\+\_\+pairings\+\_\+for\+\_\+assignment@{get\+\_\+pairings\+\_\+for\+\_\+assignment}}
\index{get\+\_\+pairings\+\_\+for\+\_\+assignment@{get\+\_\+pairings\+\_\+for\+\_\+assignment}!parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler@{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler}}
\subsubsection{\texorpdfstring{get\+\_\+pairings\+\_\+for\+\_\+assignment()}{get\_pairings\_for\_assignment()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+dev.\+mturk\+\_\+data\+\_\+handler.\+M\+Turk\+Data\+Handler.\+get\+\_\+pairings\+\_\+for\+\_\+assignment (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{assignment\+\_\+id }\end{DoxyParamCaption})}

\begin{DoxyVerb}get all pairings attached to a particular assignment_id.
\end{DoxyVerb}
 

Definition at line 797 of file mturk\+\_\+data\+\_\+handler.\+py.


\begin{DoxyCode}
797     \textcolor{keyword}{def }get\_pairings\_for\_assignment(self, assignment\_id):
798         \textcolor{stringliteral}{"""}
799 \textcolor{stringliteral}{        get all pairings attached to a particular assignment\_id.}
800 \textcolor{stringliteral}{        """}
801         with self.table\_access\_condition:
802             conn = self.\_get\_connection()
803             c = conn.cursor()
804             c.execute(
805                 \textcolor{stringliteral}{"SELECT * FROM pairings WHERE assignment\_id = ?;"}, (assignment\_id,)
806             )
807             results = c.fetchall()
808             \textcolor{keywordflow}{return} results
809 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_a507259114132bb247683c7f9b127c12c}\label{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_a507259114132bb247683c7f9b127c12c}} 
\index{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler@{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler}!get\+\_\+pairings\+\_\+for\+\_\+conversation@{get\+\_\+pairings\+\_\+for\+\_\+conversation}}
\index{get\+\_\+pairings\+\_\+for\+\_\+conversation@{get\+\_\+pairings\+\_\+for\+\_\+conversation}!parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler@{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler}}
\subsubsection{\texorpdfstring{get\+\_\+pairings\+\_\+for\+\_\+conversation()}{get\_pairings\_for\_conversation()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+dev.\+mturk\+\_\+data\+\_\+handler.\+M\+Turk\+Data\+Handler.\+get\+\_\+pairings\+\_\+for\+\_\+conversation (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{conversation\+\_\+id,  }\item[{}]{task\+\_\+group\+\_\+id = {\ttfamily None} }\end{DoxyParamCaption})}

\begin{DoxyVerb}get all pairings for a singular conversation in a run by conversation_id and
task_group_id.
\end{DoxyVerb}
 

Definition at line 825 of file mturk\+\_\+data\+\_\+handler.\+py.


\begin{DoxyCode}
825     \textcolor{keyword}{def }get\_pairings\_for\_conversation(self, conversation\_id, task\_group\_id=None):
826         \textcolor{stringliteral}{"""}
827 \textcolor{stringliteral}{        get all pairings for a singular conversation in a run by conversation\_id and}
828 \textcolor{stringliteral}{        task\_group\_id.}
829 \textcolor{stringliteral}{        """}
830         task\_group\_id = self.\_force\_task\_group\_id(task\_group\_id)
831         with self.table\_access\_condition:
832             conn = self.\_get\_connection()
833             c = conn.cursor()
834             c.execute(
835                 \textcolor{stringliteral}{"""SELECT * FROM pairings WHERE conversation\_id = ?}
836 \textcolor{stringliteral}{                         AND run\_id = ?;"""},
837                 (conversation\_id, task\_group\_id),
838             )
839             results = c.fetchall()
840             \textcolor{keywordflow}{return} results
841 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_aac09cee0791b834add5a50e430b6030e}\label{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_aac09cee0791b834add5a50e430b6030e}} 
\index{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler@{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler}!get\+\_\+pairings\+\_\+for\+\_\+run@{get\+\_\+pairings\+\_\+for\+\_\+run}}
\index{get\+\_\+pairings\+\_\+for\+\_\+run@{get\+\_\+pairings\+\_\+for\+\_\+run}!parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler@{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler}}
\subsubsection{\texorpdfstring{get\+\_\+pairings\+\_\+for\+\_\+run()}{get\_pairings\_for\_run()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+dev.\+mturk\+\_\+data\+\_\+handler.\+M\+Turk\+Data\+Handler.\+get\+\_\+pairings\+\_\+for\+\_\+run (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{task\+\_\+group\+\_\+id }\end{DoxyParamCaption})}

\begin{DoxyVerb}get all pairings from a particular run by task_group_id.
\end{DoxyVerb}
 

Definition at line 810 of file mturk\+\_\+data\+\_\+handler.\+py.


\begin{DoxyCode}
810     \textcolor{keyword}{def }get\_pairings\_for\_run(self, task\_group\_id):
811         \textcolor{stringliteral}{"""}
812 \textcolor{stringliteral}{        get all pairings from a particular run by task\_group\_id.}
813 \textcolor{stringliteral}{        """}
814         with self.table\_access\_condition:
815             conn = self.\_get\_connection()
816             c = conn.cursor()
817             c.execute(
818                 \textcolor{stringliteral}{"""SELECT * FROM pairings}
819 \textcolor{stringliteral}{                         WHERE run\_id = ?;"""},
820                 (task\_group\_id,),
821             )
822             results = c.fetchall()
823             \textcolor{keywordflow}{return} results
824 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_a915eb49ef703f1606b8039a76b6a9385}\label{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_a915eb49ef703f1606b8039a76b6a9385}} 
\index{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler@{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler}!get\+\_\+run\+\_\+data@{get\+\_\+run\+\_\+data}}
\index{get\+\_\+run\+\_\+data@{get\+\_\+run\+\_\+data}!parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler@{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler}}
\subsubsection{\texorpdfstring{get\+\_\+run\+\_\+data()}{get\_run\_data()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+dev.\+mturk\+\_\+data\+\_\+handler.\+M\+Turk\+Data\+Handler.\+get\+\_\+run\+\_\+data (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{task\+\_\+group\+\_\+id }\end{DoxyParamCaption})}

\begin{DoxyVerb}get the run data for the given task_group_id, return None if not found.
\end{DoxyVerb}
 

Definition at line 764 of file mturk\+\_\+data\+\_\+handler.\+py.


\begin{DoxyCode}
764     \textcolor{keyword}{def }get\_run\_data(self, task\_group\_id):
765         \textcolor{stringliteral}{"""}
766 \textcolor{stringliteral}{        get the run data for the given task\_group\_id, return None if not found.}
767 \textcolor{stringliteral}{        """}
768         with self.table\_access\_condition:
769             conn = self.\_get\_connection()
770             c = conn.cursor()
771             c.execute(\textcolor{stringliteral}{'SELECT * FROM runs WHERE run\_id = ?;'}, (task\_group\_id,))
772             results = c.fetchone()
773             \textcolor{keywordflow}{return} results
774 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_a9aa7011c4fdd163ed18b99bbd697da78}\label{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_a9aa7011c4fdd163ed18b99bbd697da78}} 
\index{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler@{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler}!get\+\_\+worker\+\_\+assignment\+\_\+pairing@{get\+\_\+worker\+\_\+assignment\+\_\+pairing}}
\index{get\+\_\+worker\+\_\+assignment\+\_\+pairing@{get\+\_\+worker\+\_\+assignment\+\_\+pairing}!parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler@{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler}}
\subsubsection{\texorpdfstring{get\+\_\+worker\+\_\+assignment\+\_\+pairing()}{get\_worker\_assignment\_pairing()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+dev.\+mturk\+\_\+data\+\_\+handler.\+M\+Turk\+Data\+Handler.\+get\+\_\+worker\+\_\+assignment\+\_\+pairing (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{worker\+\_\+id,  }\item[{}]{assignment\+\_\+id }\end{DoxyParamCaption})}

\begin{DoxyVerb}get a pairing data structure between a worker and an assignment.
\end{DoxyVerb}
 

Definition at line 738 of file mturk\+\_\+data\+\_\+handler.\+py.


\begin{DoxyCode}
738     \textcolor{keyword}{def }get\_worker\_assignment\_pairing(self, worker\_id, assignment\_id):
739         \textcolor{stringliteral}{"""}
740 \textcolor{stringliteral}{        get a pairing data structure between a worker and an assignment.}
741 \textcolor{stringliteral}{        """}
742         with self.table\_access\_condition:
743             conn = self.\_get\_connection()
744             c = conn.cursor()
745             c.execute(
746                 \textcolor{stringliteral}{"""SELECT * FROM pairings WHERE worker\_id = ?}
747 \textcolor{stringliteral}{                         AND assignment\_id = ?;"""},
748                 (worker\_id, assignment\_id),
749             )
750             results = c.fetchone()
751             \textcolor{keywordflow}{return} results
752 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_a748e6271a1618272cd17ec412b2c2a25}\label{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_a748e6271a1618272cd17ec412b2c2a25}} 
\index{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler@{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler}!get\+\_\+worker\+\_\+data@{get\+\_\+worker\+\_\+data}}
\index{get\+\_\+worker\+\_\+data@{get\+\_\+worker\+\_\+data}!parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler@{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler}}
\subsubsection{\texorpdfstring{get\+\_\+worker\+\_\+data()}{get\_worker\_data()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+dev.\+mturk\+\_\+data\+\_\+handler.\+M\+Turk\+Data\+Handler.\+get\+\_\+worker\+\_\+data (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{worker\+\_\+id }\end{DoxyParamCaption})}

\begin{DoxyVerb}get all worker data for a particular worker_id.
\end{DoxyVerb}
 

Definition at line 696 of file mturk\+\_\+data\+\_\+handler.\+py.


\begin{DoxyCode}
696     \textcolor{keyword}{def }get\_worker\_data(self, worker\_id):
697         \textcolor{stringliteral}{"""}
698 \textcolor{stringliteral}{        get all worker data for a particular worker\_id.}
699 \textcolor{stringliteral}{        """}
700         with self.table\_access\_condition:
701             conn = self.\_get\_connection()
702             c = conn.cursor()
703             c.execute(\textcolor{stringliteral}{'SELECT * FROM workers WHERE worker\_id = ?;'}, (worker\_id,))
704             results = c.fetchone()
705             \textcolor{keywordflow}{return} results
706 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_a6f53c1208c4e3b71be96c4f3e96dab2e}\label{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_a6f53c1208c4e3b71be96c4f3e96dab2e}} 
\index{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler@{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler}!log\+\_\+abandon\+\_\+assignment@{log\+\_\+abandon\+\_\+assignment}}
\index{log\+\_\+abandon\+\_\+assignment@{log\+\_\+abandon\+\_\+assignment}!parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler@{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler}}
\subsubsection{\texorpdfstring{log\+\_\+abandon\+\_\+assignment()}{log\_abandon\_assignment()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+dev.\+mturk\+\_\+data\+\_\+handler.\+M\+Turk\+Data\+Handler.\+log\+\_\+abandon\+\_\+assignment (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{worker\+\_\+id,  }\item[{}]{assignment\+\_\+id }\end{DoxyParamCaption})}

\begin{DoxyVerb}To be called whenever a worker returns a hit.
\end{DoxyVerb}
 

Definition at line 458 of file mturk\+\_\+data\+\_\+handler.\+py.


\begin{DoxyCode}
458     \textcolor{keyword}{def }log\_abandon\_assignment(self, worker\_id, assignment\_id):
459         \textcolor{stringliteral}{"""}
460 \textcolor{stringliteral}{        To be called whenever a worker returns a hit.}
461 \textcolor{stringliteral}{        """}
462         with self.table\_access\_condition:
463             conn = self.\_get\_connection()
464             c = conn.cursor()
465             \textcolor{comment}{# update the assignment status to reviewable}
466             c.execute(
467                 \textcolor{stringliteral}{"""UPDATE assignments SET status = ?}
468 \textcolor{stringliteral}{                         WHERE assignment\_id = ?;"""},
469                 (\textcolor{stringliteral}{'Abandoned'}, assignment\_id),
470             )
471             \textcolor{comment}{# Increment worker completed}
472             c.execute(
473                 \textcolor{stringliteral}{"""UPDATE workers SET disconnected = disconnected + 1}
474 \textcolor{stringliteral}{                         WHERE worker\_id = ?;"""},
475                 (worker\_id,),
476             )
477             conn.commit()
478 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_a57266a8380587e0256b966ad780ec7d7}\label{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_a57266a8380587e0256b966ad780ec7d7}} 
\index{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler@{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler}!log\+\_\+approve\+\_\+assignment@{log\+\_\+approve\+\_\+assignment}}
\index{log\+\_\+approve\+\_\+assignment@{log\+\_\+approve\+\_\+assignment}!parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler@{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler}}
\subsubsection{\texorpdfstring{log\+\_\+approve\+\_\+assignment()}{log\_approve\_assignment()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+dev.\+mturk\+\_\+data\+\_\+handler.\+M\+Turk\+Data\+Handler.\+log\+\_\+approve\+\_\+assignment (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{assignment\+\_\+id }\end{DoxyParamCaption})}

\begin{DoxyVerb}Update assignment state to reflect approval, update worker state to increment
number of accepted assignments.
\end{DoxyVerb}
 

Definition at line 591 of file mturk\+\_\+data\+\_\+handler.\+py.


\begin{DoxyCode}
591     \textcolor{keyword}{def }log\_approve\_assignment(self, assignment\_id):
592         \textcolor{stringliteral}{"""}
593 \textcolor{stringliteral}{        Update assignment state to reflect approval, update worker state to increment}
594 \textcolor{stringliteral}{        number of accepted assignments.}
595 \textcolor{stringliteral}{        """}
596         with self.table\_access\_condition:
597             conn = self.\_get\_connection()
598             c = conn.cursor()
599 
600             c.execute(
601                 \textcolor{stringliteral}{'SELECT * FROM assignments WHERE assignment\_id = ?;'}, (assignment\_id,)
602             )
603             assignment = c.fetchone()
604             \textcolor{keywordflow}{if} assignment \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
605                 \textcolor{keywordflow}{return}
606             status = assignment[\textcolor{stringliteral}{'status'}]
607             worker\_id = assignment[\textcolor{stringliteral}{'worker\_id'}]
608             \textcolor{keywordflow}{if} status == \textcolor{stringliteral}{'Approved'}:
609                 \textcolor{keywordflow}{return}  \textcolor{comment}{# assign already approved}
610 
611             \textcolor{comment}{# handle the approving part}
612             c.execute(
613                 \textcolor{stringliteral}{"""UPDATE assignments SET status = ?}
614 \textcolor{stringliteral}{                         WHERE assignment\_id = ?;"""},
615                 (\textcolor{stringliteral}{'Approved'}, assignment\_id),
616             )
617 
618             \textcolor{comment}{# This was a rejection override}
619             \textcolor{keywordflow}{if} status == \textcolor{stringliteral}{'Rejected'}:
620                 c.execute(
621                     \textcolor{stringliteral}{"""UPDATE workers SET approved = approved + 1,}
622 \textcolor{stringliteral}{                             rejected = rejected - 1}
623 \textcolor{stringliteral}{                             WHERE worker\_id = ?;"""},
624                     (worker\_id,),
625                 )
626             \textcolor{keywordflow}{else}:
627                 c.execute(
628                     \textcolor{stringliteral}{"""UPDATE workers SET approved = approved + 1}
629 \textcolor{stringliteral}{                             WHERE worker\_id = ?;"""},
630                     (worker\_id,),
631                 )
632 
633             conn.commit()
634 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_a70ba0bf16c83138626c33c71a041674f}\label{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_a70ba0bf16c83138626c33c71a041674f}} 
\index{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler@{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler}!log\+\_\+award\+\_\+amount@{log\+\_\+award\+\_\+amount}}
\index{log\+\_\+award\+\_\+amount@{log\+\_\+award\+\_\+amount}!parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler@{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler}}
\subsubsection{\texorpdfstring{log\+\_\+award\+\_\+amount()}{log\_award\_amount()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+dev.\+mturk\+\_\+data\+\_\+handler.\+M\+Turk\+Data\+Handler.\+log\+\_\+award\+\_\+amount (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{worker\+\_\+id,  }\item[{}]{assignment\+\_\+id,  }\item[{}]{amount,  }\item[{}]{reason }\end{DoxyParamCaption})}

\begin{DoxyVerb}Update a pairing state to add a task bonus to be paid, appends reason.

To be used for automatic evaluation bonuses
\end{DoxyVerb}
 

Definition at line 535 of file mturk\+\_\+data\+\_\+handler.\+py.


\begin{DoxyCode}
535     \textcolor{keyword}{def }log\_award\_amount(self, worker\_id, assignment\_id, amount, reason):
536         \textcolor{stringliteral}{"""}
537 \textcolor{stringliteral}{        Update a pairing state to add a task bonus to be paid, appends reason.}
538 \textcolor{stringliteral}{}
539 \textcolor{stringliteral}{        To be used for automatic evaluation bonuses}
540 \textcolor{stringliteral}{        """}
541         with self.table\_access\_condition:
542             conn = self.\_get\_connection()
543             c = conn.cursor()
544             reason = \textcolor{stringliteral}{"$\{\} for \{\}\(\backslash\)n"}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(amount, reason)
545             \textcolor{comment}{# Bonus amount is stored in a cents int in the SQL table}
546             cent\_amount = \hyperlink{namespacelanguage__model_1_1eval__ppl_a7d12ee00479673c5c8d1f6d01faa272a}{int}(amount * 100)
547             c.execute(
548                 \textcolor{stringliteral}{"""UPDATE pairings SET bonus\_amount = bonus\_amount + ?,}
549 \textcolor{stringliteral}{                        bonus\_text = bonus\_text || ?}
550 \textcolor{stringliteral}{                         WHERE worker\_id = ? AND assignment\_id = ?;"""},
551                 (cent\_amount, reason, worker\_id, assignment\_id),
552             )
553             conn.commit()
554 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_aaa2ae4ebfd4b668bdef7642cdf4d9392}\label{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_aaa2ae4ebfd4b668bdef7642cdf4d9392}} 
\index{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler@{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler}!log\+\_\+bonus\+\_\+paid@{log\+\_\+bonus\+\_\+paid}}
\index{log\+\_\+bonus\+\_\+paid@{log\+\_\+bonus\+\_\+paid}!parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler@{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler}}
\subsubsection{\texorpdfstring{log\+\_\+bonus\+\_\+paid()}{log\_bonus\_paid()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+dev.\+mturk\+\_\+data\+\_\+handler.\+M\+Turk\+Data\+Handler.\+log\+\_\+bonus\+\_\+paid (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{worker\+\_\+id,  }\item[{}]{assignment\+\_\+id }\end{DoxyParamCaption})}

\begin{DoxyVerb}Update to show that the intended bonus amount awarded for work in the task has
been paid.
\end{DoxyVerb}
 

Definition at line 576 of file mturk\+\_\+data\+\_\+handler.\+py.


\begin{DoxyCode}
576     \textcolor{keyword}{def }log\_bonus\_paid(self, worker\_id, assignment\_id):
577         \textcolor{stringliteral}{"""}
578 \textcolor{stringliteral}{        Update to show that the intended bonus amount awarded for work in the task has}
579 \textcolor{stringliteral}{        been paid.}
580 \textcolor{stringliteral}{        """}
581         with self.table\_access\_condition:
582             conn = self.\_get\_connection()
583             c = conn.cursor()
584             c.execute(
585                 \textcolor{stringliteral}{"""UPDATE pairings SET bonus\_paid = ?}
586 \textcolor{stringliteral}{                         WHERE worker\_id = ? AND assignment\_id = ?;"""},
587                 (\textcolor{keyword}{True}, worker\_id, assignment\_id),
588             )
589             conn.commit()
590 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_a07f6dfb250fe119f1fdd44c58e6c05aa}\label{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_a07f6dfb250fe119f1fdd44c58e6c05aa}} 
\index{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler@{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler}!log\+\_\+complete\+\_\+assignment@{log\+\_\+complete\+\_\+assignment}}
\index{log\+\_\+complete\+\_\+assignment@{log\+\_\+complete\+\_\+assignment}!parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler@{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler}}
\subsubsection{\texorpdfstring{log\+\_\+complete\+\_\+assignment()}{log\_complete\_assignment()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+dev.\+mturk\+\_\+data\+\_\+handler.\+M\+Turk\+Data\+Handler.\+log\+\_\+complete\+\_\+assignment (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{worker\+\_\+id,  }\item[{}]{assignment\+\_\+id,  }\item[{}]{approve\+\_\+time,  }\item[{}]{complete\+\_\+type,  }\item[{}]{task\+\_\+group\+\_\+id = {\ttfamily None} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Note that an assignment was completed.
\end{DoxyVerb}
 

Definition at line 325 of file mturk\+\_\+data\+\_\+handler.\+py.


\begin{DoxyCode}
325     ):
326         \textcolor{stringliteral}{"""}
327 \textcolor{stringliteral}{        Note that an assignment was completed.}
328 \textcolor{stringliteral}{        """}
329         task\_group\_id = self.\_force\_task\_group\_id(task\_group\_id)
330         with self.table\_access\_condition:
331             conn = self.\_get\_connection()
332             c = conn.cursor()
333             \textcolor{comment}{# Update assign data to completed}
334             c.execute(
335                 \textcolor{stringliteral}{"""UPDATE assignments SET status = ?, approve\_time = ?}
336 \textcolor{stringliteral}{                         WHERE assignment\_id = ?;"""},
337                 (\textcolor{stringliteral}{'Completed'}, approve\_time, assignment\_id),
338             )
339 
340             \textcolor{comment}{# Increment worker completed}
341             c.execute(
342                 \textcolor{stringliteral}{"""UPDATE workers SET completed = completed + 1}
343 \textcolor{stringliteral}{                         WHERE worker\_id = ?;"""},
344                 (worker\_id,),
345             )
346 
347             \textcolor{comment}{# update the payment data status}
348             c.execute(
349                 \textcolor{stringliteral}{"""UPDATE pairings SET status = ?, task\_end = ?}
350 \textcolor{stringliteral}{                         WHERE worker\_id = ? AND assignment\_id = ?;"""},
351                 (complete\_type, time.time(), worker\_id, assignment\_id),
352             )
353 
354             \textcolor{comment}{# Update run data to have another completed}
355             c.execute(
356                 \textcolor{stringliteral}{"""UPDATE runs SET completed = completed + 1}
357 \textcolor{stringliteral}{                         WHERE run\_id = ?;"""},
358                 (task\_group\_id,),
359             )
360             conn.commit()
361 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_a42409b508f2b135f6d02c80f39aee466}\label{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_a42409b508f2b135f6d02c80f39aee466}} 
\index{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler@{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler}!log\+\_\+disconnect\+\_\+assignment@{log\+\_\+disconnect\+\_\+assignment}}
\index{log\+\_\+disconnect\+\_\+assignment@{log\+\_\+disconnect\+\_\+assignment}!parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler@{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler}}
\subsubsection{\texorpdfstring{log\+\_\+disconnect\+\_\+assignment()}{log\_disconnect\_assignment()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+dev.\+mturk\+\_\+data\+\_\+handler.\+M\+Turk\+Data\+Handler.\+log\+\_\+disconnect\+\_\+assignment (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{worker\+\_\+id,  }\item[{}]{assignment\+\_\+id,  }\item[{}]{approve\+\_\+time,  }\item[{}]{disconnect\+\_\+type,  }\item[{}]{task\+\_\+group\+\_\+id = {\ttfamily None} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Note that an assignment was disconnected from.
\end{DoxyVerb}
 

Definition at line 369 of file mturk\+\_\+data\+\_\+handler.\+py.


\begin{DoxyCode}
369     ):
370         \textcolor{stringliteral}{"""}
371 \textcolor{stringliteral}{        Note that an assignment was disconnected from.}
372 \textcolor{stringliteral}{        """}
373         task\_group\_id = self.\_force\_task\_group\_id(task\_group\_id)
374         with self.table\_access\_condition:
375             conn = self.\_get\_connection()
376             c = conn.cursor()
377 
378             \textcolor{comment}{# Update assign data to completed for this task (we can't track)}
379             c.execute(
380                 \textcolor{stringliteral}{"""UPDATE assignments SET status = ?, approve\_time = ?}
381 \textcolor{stringliteral}{                         WHERE assignment\_id = ?;"""},
382                 (\textcolor{stringliteral}{'Disconnected'}, approve\_time, assignment\_id),
383             )
384 
385             \textcolor{comment}{# Increment worker disconnected}
386             c.execute(
387                 \textcolor{stringliteral}{"""UPDATE workers SET disconnected = disconnected + 1}
388 \textcolor{stringliteral}{                         WHERE worker\_id = ?;"""},
389                 (worker\_id,),
390             )
391 
392             \textcolor{comment}{# update the pairing status}
393             c.execute(
394                 \textcolor{stringliteral}{"""UPDATE pairings SET status = ?, task\_end = ?}
395 \textcolor{stringliteral}{                         WHERE worker\_id = ? AND assignment\_id = ?;"""},
396                 (disconnect\_type, time.time(), worker\_id, assignment\_id),
397             )
398 
399             \textcolor{comment}{# Update run data to have another completed}
400             c.execute(
401                 \textcolor{stringliteral}{'UPDATE runs SET failed = failed + 1 WHERE run\_id = ?;'},
402                 (task\_group\_id,),
403             )
404             conn.commit()
405 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_ab175fd5970bfd7b24751ad99e7b99111}\label{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_ab175fd5970bfd7b24751ad99e7b99111}} 
\index{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler@{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler}!log\+\_\+expire\+\_\+assignment@{log\+\_\+expire\+\_\+assignment}}
\index{log\+\_\+expire\+\_\+assignment@{log\+\_\+expire\+\_\+assignment}!parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler@{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler}}
\subsubsection{\texorpdfstring{log\+\_\+expire\+\_\+assignment()}{log\_expire\_assignment()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+dev.\+mturk\+\_\+data\+\_\+handler.\+M\+Turk\+Data\+Handler.\+log\+\_\+expire\+\_\+assignment (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{worker\+\_\+id,  }\item[{}]{assignment\+\_\+id,  }\item[{}]{task\+\_\+group\+\_\+id = {\ttfamily None} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Note that an assignment was expired by us.
\end{DoxyVerb}
 

Definition at line 406 of file mturk\+\_\+data\+\_\+handler.\+py.


\begin{DoxyCode}
406     \textcolor{keyword}{def }log\_expire\_assignment(self, worker\_id, assignment\_id, task\_group\_id=None):
407         \textcolor{stringliteral}{"""}
408 \textcolor{stringliteral}{        Note that an assignment was expired by us.}
409 \textcolor{stringliteral}{        """}
410         task\_group\_id = self.\_force\_task\_group\_id(task\_group\_id)
411         with self.table\_access\_condition:
412             conn = self.\_get\_connection()
413             c = conn.cursor()
414 
415             \textcolor{comment}{# Update assign data to expired}
416             c.execute(
417                 \textcolor{stringliteral}{"""UPDATE assignments SET status = ?}
418 \textcolor{stringliteral}{                         WHERE assignment\_id = ?;"""},
419                 (\textcolor{stringliteral}{'Expired'}, assignment\_id),
420             )
421 
422             \textcolor{comment}{# Increment worker completed}
423             c.execute(
424                 \textcolor{stringliteral}{"""UPDATE workers SET expired = expired + 1}
425 \textcolor{stringliteral}{                         WHERE worker\_id = ?;"""},
426                 (worker\_id,),
427             )
428 
429             \textcolor{comment}{# update the pairing status}
430             c.execute(
431                 \textcolor{stringliteral}{"""UPDATE pairings SET status = ?, task\_end = ?}
432 \textcolor{stringliteral}{                         WHERE worker\_id = ? AND assignment\_id = ?;"""},
433                 (AssignState.STATUS\_EXPIRED, time.time(), worker\_id, assignment\_id),
434             )
435 
436             \textcolor{comment}{# Update run data to have another completed}
437             c.execute(
438                 \textcolor{stringliteral}{'UPDATE runs SET failed = failed + 1 WHERE run\_id = ?;'},
439                 (task\_group\_id,),
440             )
441             conn.commit()
442 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_a520efb5a04ffab6b689c0562997f76e0}\label{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_a520efb5a04ffab6b689c0562997f76e0}} 
\index{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler@{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler}!log\+\_\+finish\+\_\+onboard@{log\+\_\+finish\+\_\+onboard}}
\index{log\+\_\+finish\+\_\+onboard@{log\+\_\+finish\+\_\+onboard}!parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler@{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler}}
\subsubsection{\texorpdfstring{log\+\_\+finish\+\_\+onboard()}{log\_finish\_onboard()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+dev.\+mturk\+\_\+data\+\_\+handler.\+M\+Turk\+Data\+Handler.\+log\+\_\+finish\+\_\+onboard (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{worker\+\_\+id,  }\item[{}]{assignment\+\_\+id }\end{DoxyParamCaption})}

\begin{DoxyVerb}Update a pairing state to reflect waiting status.
\end{DoxyVerb}
 

Definition at line 500 of file mturk\+\_\+data\+\_\+handler.\+py.


\begin{DoxyCode}
500     \textcolor{keyword}{def }log\_finish\_onboard(self, worker\_id, assignment\_id):
501         \textcolor{stringliteral}{"""}
502 \textcolor{stringliteral}{        Update a pairing state to reflect waiting status.}
503 \textcolor{stringliteral}{        """}
504         with self.table\_access\_condition:
505             conn = self.\_get\_connection()
506             c = conn.cursor()
507             c.execute(
508                 \textcolor{stringliteral}{"""UPDATE pairings SET status = ?, onboarding\_end = ?}
509 \textcolor{stringliteral}{                         WHERE worker\_id = ? AND assignment\_id = ?;"""},
510                 (AssignState.STATUS\_WAITING, time.time(), worker\_id, assignment\_id),
511             )
512             conn.commit()
513 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_a97043bdbc4faa87164cd1e9d71559327}\label{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_a97043bdbc4faa87164cd1e9d71559327}} 
\index{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler@{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler}!log\+\_\+hit\+\_\+status@{log\+\_\+hit\+\_\+status}}
\index{log\+\_\+hit\+\_\+status@{log\+\_\+hit\+\_\+status}!parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler@{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler}}
\subsubsection{\texorpdfstring{log\+\_\+hit\+\_\+status()}{log\_hit\_status()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+dev.\+mturk\+\_\+data\+\_\+handler.\+M\+Turk\+Data\+Handler.\+log\+\_\+hit\+\_\+status (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{mturk\+\_\+hit\+\_\+creation\+\_\+response,  }\item[{}]{task\+\_\+group\+\_\+id = {\ttfamily None} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Create or update an entry in the hit status table.
\end{DoxyVerb}
 

Definition at line 223 of file mturk\+\_\+data\+\_\+handler.\+py.


\begin{DoxyCode}
223     \textcolor{keyword}{def }log\_hit\_status(self, mturk\_hit\_creation\_response, task\_group\_id=None):
224         \textcolor{stringliteral}{"""}
225 \textcolor{stringliteral}{        Create or update an entry in the hit status table.}
226 \textcolor{stringliteral}{        """}
227         task\_group\_id = self.\_force\_task\_group\_id(task\_group\_id)
228 
229         hit\_details = mturk\_hit\_creation\_response[\textcolor{stringliteral}{'HIT'}]
230         id = hit\_details[\textcolor{stringliteral}{'HITId'}]
231         expiration = time.mktime(hit\_details[\textcolor{stringliteral}{'Expiration'}].timetuple())
232         status = hit\_details[\textcolor{stringliteral}{'HITStatus'}]
233         assignments\_pending = hit\_details[\textcolor{stringliteral}{'NumberOfAssignmentsPending'}]
234         assignments\_available = hit\_details[\textcolor{stringliteral}{'NumberOfAssignmentsAvailable'}]
235         assignments\_complete = hit\_details[\textcolor{stringliteral}{'NumberOfAssignmentsCompleted'}]
236         with self.table\_access\_condition:
237             conn = self.\_get\_connection()
238             c = conn.cursor()
239             c.execute(\textcolor{stringliteral}{'SELECT COUNT(*) FROM hits WHERE hit\_id = ?;'}, (id,))
240             is\_new\_hit = c.fetchone()[0] == 0
241             \textcolor{keywordflow}{if} is\_new\_hit:
242                 c.execute(
243                     \textcolor{stringliteral}{"""UPDATE runs SET created = created + 1}
244 \textcolor{stringliteral}{                             WHERE run\_id = ?;"""},
245                     (task\_group\_id,),
246                 )
247 
248             c.execute(
249                 \textcolor{stringliteral}{'REPLACE INTO hits VALUES (?,?,?,?,?,?,?);'},
250                 (
251                     id,
252                     expiration,
253                     status,
254                     assignments\_pending,
255                     assignments\_available,
256                     assignments\_complete,
257                     task\_group\_id,
258                 ),
259             )
260             conn.commit()
261 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_ae8c02400cd4261b79571e6108955c883}\label{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_ae8c02400cd4261b79571e6108955c883}} 
\index{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler@{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler}!log\+\_\+new\+\_\+run@{log\+\_\+new\+\_\+run}}
\index{log\+\_\+new\+\_\+run@{log\+\_\+new\+\_\+run}!parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler@{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler}}
\subsubsection{\texorpdfstring{log\+\_\+new\+\_\+run()}{log\_new\_run()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+dev.\+mturk\+\_\+data\+\_\+handler.\+M\+Turk\+Data\+Handler.\+log\+\_\+new\+\_\+run (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{target\+\_\+hits,  }\item[{}]{taskname,  }\item[{}]{task\+\_\+group\+\_\+id = {\ttfamily None} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Add a new run to the runs table.
\end{DoxyVerb}
 

Definition at line 209 of file mturk\+\_\+data\+\_\+handler.\+py.


\begin{DoxyCode}
209     \textcolor{keyword}{def }log\_new\_run(self, target\_hits, taskname, task\_group\_id=None):
210         \textcolor{stringliteral}{"""}
211 \textcolor{stringliteral}{        Add a new run to the runs table.}
212 \textcolor{stringliteral}{        """}
213         with self.table\_access\_condition:
214             task\_group\_id = self.\_force\_task\_group\_id(task\_group\_id)
215             conn = self.\_get\_connection()
216             c = conn.cursor()
217             c.execute(
218                 \textcolor{stringliteral}{'INSERT INTO runs VALUES (?,?,?,?,?,?,?);'},
219                 (task\_group\_id, 0, target\_hits, 0, 0, taskname, time.time()),
220             )
221             conn.commit()
222 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_abf54a08cd2b503358c52229258c1f2c6}\label{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_abf54a08cd2b503358c52229258c1f2c6}} 
\index{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler@{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler}!log\+\_\+pay\+\_\+extra\+\_\+bonus@{log\+\_\+pay\+\_\+extra\+\_\+bonus}}
\index{log\+\_\+pay\+\_\+extra\+\_\+bonus@{log\+\_\+pay\+\_\+extra\+\_\+bonus}!parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler@{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler}}
\subsubsection{\texorpdfstring{log\+\_\+pay\+\_\+extra\+\_\+bonus()}{log\_pay\_extra\_bonus()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+dev.\+mturk\+\_\+data\+\_\+handler.\+M\+Turk\+Data\+Handler.\+log\+\_\+pay\+\_\+extra\+\_\+bonus (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{worker\+\_\+id,  }\item[{}]{assignment\+\_\+id,  }\item[{}]{amount,  }\item[{}]{reason }\end{DoxyParamCaption})}

\begin{DoxyVerb}Update a pairing state to add a bonus to be paid, appends reason.

To be used for extra bonuses awarded at the discretion of the requester
\end{DoxyVerb}
 

Definition at line 555 of file mturk\+\_\+data\+\_\+handler.\+py.


\begin{DoxyCode}
555     \textcolor{keyword}{def }log\_pay\_extra\_bonus(self, worker\_id, assignment\_id, amount, reason):
556         \textcolor{stringliteral}{"""}
557 \textcolor{stringliteral}{        Update a pairing state to add a bonus to be paid, appends reason.}
558 \textcolor{stringliteral}{}
559 \textcolor{stringliteral}{        To be used for extra bonuses awarded at the discretion of the requester}
560 \textcolor{stringliteral}{        """}
561         with self.table\_access\_condition:
562             conn = self.\_get\_connection()
563             c = conn.cursor()
564             reason = \textcolor{stringliteral}{"$\{\} for \{\}\(\backslash\)n"}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(amount, reason)
565             \textcolor{comment}{# Bonus amount is stored in a cents int in the SQL table}
566             cent\_amount = \hyperlink{namespacelanguage__model_1_1eval__ppl_a7d12ee00479673c5c8d1f6d01faa272a}{int}(amount * 100)
567             c.execute(
568                 \textcolor{stringliteral}{"""UPDATE pairings}
569 \textcolor{stringliteral}{                        SET extra\_bonus\_amount = extra\_bonus\_amount + ?,}
570 \textcolor{stringliteral}{                        extra\_bonus\_text = extra\_bonus\_text || ?}
571 \textcolor{stringliteral}{                         WHERE worker\_id = ? AND assignment\_id = ?;"""},
572                 (cent\_amount, reason, worker\_id, assignment\_id),
573             )
574             conn.commit()
575 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_afd8d5abb26cbd00f96ff7d8ad44b1f49}\label{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_afd8d5abb26cbd00f96ff7d8ad44b1f49}} 
\index{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler@{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler}!log\+\_\+reject\+\_\+assignment@{log\+\_\+reject\+\_\+assignment}}
\index{log\+\_\+reject\+\_\+assignment@{log\+\_\+reject\+\_\+assignment}!parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler@{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler}}
\subsubsection{\texorpdfstring{log\+\_\+reject\+\_\+assignment()}{log\_reject\_assignment()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+dev.\+mturk\+\_\+data\+\_\+handler.\+M\+Turk\+Data\+Handler.\+log\+\_\+reject\+\_\+assignment (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{assignment\+\_\+id }\end{DoxyParamCaption})}

\begin{DoxyVerb}Update assignment state to reflect rejection, update worker state to increment
number of rejected assignments.
\end{DoxyVerb}
 

Definition at line 635 of file mturk\+\_\+data\+\_\+handler.\+py.


\begin{DoxyCode}
635     \textcolor{keyword}{def }log\_reject\_assignment(self, assignment\_id):
636         \textcolor{stringliteral}{"""}
637 \textcolor{stringliteral}{        Update assignment state to reflect rejection, update worker state to increment}
638 \textcolor{stringliteral}{        number of rejected assignments.}
639 \textcolor{stringliteral}{        """}
640         with self.table\_access\_condition:
641             conn = self.\_get\_connection()
642             c = conn.cursor()
643             c.execute(
644                 \textcolor{stringliteral}{"""UPDATE assignments SET status = ?}
645 \textcolor{stringliteral}{                         WHERE assignment\_id = ? AND status != ?;"""},
646                 (\textcolor{stringliteral}{'Rejected'}, assignment\_id, \textcolor{stringliteral}{'Rejected'}),
647             )
648             \textcolor{comment}{# If this reject actually happened, update worker's rejections}
649             \textcolor{keywordflow}{if} c.rowcount > 0:
650                 c.execute(
651                     \textcolor{stringliteral}{'SELECT * FROM assignments WHERE assignment\_id = ?;'},
652                     (assignment\_id,),
653                 )
654                 assignment = c.fetchone()
655                 \textcolor{keywordflow}{if} assignment \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
656                     \textcolor{keywordflow}{return}
657                 worker\_id = assignment[\textcolor{stringliteral}{'worker\_id'}]
658                 c.execute(
659                     \textcolor{stringliteral}{"""UPDATE workers SET rejected = rejected + 1}
660 \textcolor{stringliteral}{                             WHERE worker\_id = ?;"""},
661                     (worker\_id,),
662                 )
663             conn.commit()
664 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_aa084ae52cbcc1fdce7e5a20f079f3f47}\label{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_aa084ae52cbcc1fdce7e5a20f079f3f47}} 
\index{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler@{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler}!log\+\_\+start\+\_\+onboard@{log\+\_\+start\+\_\+onboard}}
\index{log\+\_\+start\+\_\+onboard@{log\+\_\+start\+\_\+onboard}!parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler@{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler}}
\subsubsection{\texorpdfstring{log\+\_\+start\+\_\+onboard()}{log\_start\_onboard()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+dev.\+mturk\+\_\+data\+\_\+handler.\+M\+Turk\+Data\+Handler.\+log\+\_\+start\+\_\+onboard (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{worker\+\_\+id,  }\item[{}]{assignment\+\_\+id,  }\item[{}]{conversation\+\_\+id }\end{DoxyParamCaption})}

\begin{DoxyVerb}Update a pairing state to reflect onboarding status.
\end{DoxyVerb}
 

Definition at line 479 of file mturk\+\_\+data\+\_\+handler.\+py.


\begin{DoxyCode}
479     \textcolor{keyword}{def }log\_start\_onboard(self, worker\_id, assignment\_id, conversation\_id):
480         \textcolor{stringliteral}{"""}
481 \textcolor{stringliteral}{        Update a pairing state to reflect onboarding status.}
482 \textcolor{stringliteral}{        """}
483         with self.table\_access\_condition:
484             conn = self.\_get\_connection()
485             c = conn.cursor()
486             c.execute(
487                 \textcolor{stringliteral}{'''UPDATE pairings SET status = ?, onboarding\_start = ?,}
488 \textcolor{stringliteral}{                         onboarding\_id = ?}
489 \textcolor{stringliteral}{                         WHERE worker\_id = ? AND assignment\_id = ?;'''},
490                 (
491                     AssignState.STATUS\_ONBOARDING,
492                     time.time(),
493                     conversation\_id,
494                     worker\_id,
495                     assignment\_id,
496                 ),
497             )
498             conn.commit()
499 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_ac8a4ba8bd6942424ff47149189c027a3}\label{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_ac8a4ba8bd6942424ff47149189c027a3}} 
\index{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler@{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler}!log\+\_\+start\+\_\+task@{log\+\_\+start\+\_\+task}}
\index{log\+\_\+start\+\_\+task@{log\+\_\+start\+\_\+task}!parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler@{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler}}
\subsubsection{\texorpdfstring{log\+\_\+start\+\_\+task()}{log\_start\_task()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+dev.\+mturk\+\_\+data\+\_\+handler.\+M\+Turk\+Data\+Handler.\+log\+\_\+start\+\_\+task (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{worker\+\_\+id,  }\item[{}]{assignment\+\_\+id,  }\item[{}]{conversation\+\_\+id }\end{DoxyParamCaption})}

\begin{DoxyVerb}Update a pairing state to reflect in_task status.
\end{DoxyVerb}
 

Definition at line 514 of file mturk\+\_\+data\+\_\+handler.\+py.


\begin{DoxyCode}
514     \textcolor{keyword}{def }log\_start\_task(self, worker\_id, assignment\_id, conversation\_id):
515         \textcolor{stringliteral}{"""}
516 \textcolor{stringliteral}{        Update a pairing state to reflect in\_task status.}
517 \textcolor{stringliteral}{        """}
518         with self.table\_access\_condition:
519             conn = self.\_get\_connection()
520             c = conn.cursor()
521             c.execute(
522                 \textcolor{stringliteral}{"""UPDATE pairings SET status = ?, task\_start = ?,}
523 \textcolor{stringliteral}{                         conversation\_id = ? WHERE worker\_id = ?}
524 \textcolor{stringliteral}{                         AND assignment\_id = ?;"""},
525                 (
526                     AssignState.STATUS\_IN\_TASK,
527                     time.time(),
528                     conversation\_id,
529                     worker\_id,
530                     assignment\_id,
531                 ),
532             )
533             conn.commit()
534 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_a5a9a1246250044f6f13117c899285c82}\label{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_a5a9a1246250044f6f13117c899285c82}} 
\index{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler@{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler}!log\+\_\+submit\+\_\+assignment@{log\+\_\+submit\+\_\+assignment}}
\index{log\+\_\+submit\+\_\+assignment@{log\+\_\+submit\+\_\+assignment}!parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler@{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler}}
\subsubsection{\texorpdfstring{log\+\_\+submit\+\_\+assignment()}{log\_submit\_assignment()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+dev.\+mturk\+\_\+data\+\_\+handler.\+M\+Turk\+Data\+Handler.\+log\+\_\+submit\+\_\+assignment (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{worker\+\_\+id,  }\item[{}]{assignment\+\_\+id }\end{DoxyParamCaption})}

\begin{DoxyVerb}To be called whenever a worker hits the "submit hit" button.
\end{DoxyVerb}
 

Definition at line 443 of file mturk\+\_\+data\+\_\+handler.\+py.


\begin{DoxyCode}
443     \textcolor{keyword}{def }log\_submit\_assignment(self, worker\_id, assignment\_id):
444         \textcolor{stringliteral}{"""}
445 \textcolor{stringliteral}{        To be called whenever a worker hits the "submit hit" button.}
446 \textcolor{stringliteral}{        """}
447         with self.table\_access\_condition:
448             conn = self.\_get\_connection()
449             c = conn.cursor()
450             \textcolor{comment}{# update the assignment status to reviewable}
451             c.execute(
452                 \textcolor{stringliteral}{"""UPDATE assignments SET status = ?}
453 \textcolor{stringliteral}{                         WHERE assignment\_id = ?;"""},
454                 (\textcolor{stringliteral}{'Reviewable'}, assignment\_id),
455             )
456             conn.commit()
457 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_a7b7b243f1ae901dce38b639fb9dcde22}\label{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_a7b7b243f1ae901dce38b639fb9dcde22}} 
\index{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler@{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler}!log\+\_\+worker\+\_\+accept\+\_\+assignment@{log\+\_\+worker\+\_\+accept\+\_\+assignment}}
\index{log\+\_\+worker\+\_\+accept\+\_\+assignment@{log\+\_\+worker\+\_\+accept\+\_\+assignment}!parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler@{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler}}
\subsubsection{\texorpdfstring{log\+\_\+worker\+\_\+accept\+\_\+assignment()}{log\_worker\_accept\_assignment()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+dev.\+mturk\+\_\+data\+\_\+handler.\+M\+Turk\+Data\+Handler.\+log\+\_\+worker\+\_\+accept\+\_\+assignment (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{worker\+\_\+id,  }\item[{}]{assignment\+\_\+id,  }\item[{}]{hit\+\_\+id,  }\item[{}]{task\+\_\+group\+\_\+id = {\ttfamily None} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Log a worker accept, update assignment state and pairings to match the
acceptance.
\end{DoxyVerb}
 

Definition at line 264 of file mturk\+\_\+data\+\_\+handler.\+py.


\begin{DoxyCode}
264     ):
265         \textcolor{stringliteral}{"""}
266 \textcolor{stringliteral}{        Log a worker accept, update assignment state and pairings to match the}
267 \textcolor{stringliteral}{        acceptance.}
268 \textcolor{stringliteral}{        """}
269         task\_group\_id = self.\_force\_task\_group\_id(task\_group\_id)
270         with self.table\_access\_condition:
271             conn = self.\_get\_connection()
272             c = conn.cursor()
273 
274             \textcolor{comment}{# Ensure worker exists, mark the accepted assignment}
275             c.execute(\textcolor{stringliteral}{'SELECT COUNT(*) FROM workers WHERE worker\_id = ?;'}, (worker\_id,))
276             has\_worker = c.fetchone()[0] > 0
277             \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} has\_worker:
278                 \textcolor{comment}{# Must instert a new worker into the database}
279                 c.execute(
280                     \textcolor{stringliteral}{'INSERT INTO workers VALUES (?,?,?,?,?,?,?);'},
281                     (worker\_id, 1, 0, 0, 0, 0, 0),
282                 )
283             \textcolor{keywordflow}{else}:
284                 \textcolor{comment}{# Increment number of assignments the worker has accepted}
285                 c.execute(
286                     \textcolor{stringliteral}{"""UPDATE workers SET accepted = accepted + 1}
287 \textcolor{stringliteral}{                             WHERE worker\_id = ?;"""},
288                     (worker\_id,),
289                 )
290 
291             \textcolor{comment}{# Ensure the assignment exists, mark the current worker}
292             c.execute(
293                 \textcolor{stringliteral}{'REPLACE INTO assignments VALUES (?,?,?,?,?)'},
294                 (assignment\_id, \textcolor{stringliteral}{'Accepted'}, \textcolor{keywordtype}{None}, worker\_id, hit\_id),
295             )
296 
297             \textcolor{comment}{# Create tracking for this specific pairing, as the assignment}
298             \textcolor{comment}{# may be reassigned}
299             c.execute(
300                 \textcolor{stringliteral}{"""INSERT INTO pairings}
301 \textcolor{stringliteral}{                         VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)"""},
302                 (
303                     AssignState.STATUS\_NONE,
304                     \textcolor{keywordtype}{None},
305                     \textcolor{keywordtype}{None},
306                     \textcolor{keywordtype}{None},
307                     \textcolor{keywordtype}{None},
308                     \textcolor{keywordtype}{None},
309                     0,
310                     \textcolor{stringliteral}{''},
311                     \textcolor{keyword}{False},
312                     \textcolor{stringliteral}{''},
313                     worker\_id,
314                     assignment\_id,
315                     task\_group\_id,
316                     \textcolor{keywordtype}{None},
317                     0,
318                     \textcolor{stringliteral}{''},
319                 ),
320             )
321             conn.commit()
322 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_acb69b500f70e42e4e8a99e224534cc27}\label{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_acb69b500f70e42e4e8a99e224534cc27}} 
\index{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler@{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler}!log\+\_\+worker\+\_\+note@{log\+\_\+worker\+\_\+note}}
\index{log\+\_\+worker\+\_\+note@{log\+\_\+worker\+\_\+note}!parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler@{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler}}
\subsubsection{\texorpdfstring{log\+\_\+worker\+\_\+note()}{log\_worker\_note()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+dev.\+mturk\+\_\+data\+\_\+handler.\+M\+Turk\+Data\+Handler.\+log\+\_\+worker\+\_\+note (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{worker\+\_\+id,  }\item[{}]{assignment\+\_\+id,  }\item[{}]{note }\end{DoxyParamCaption})}

\begin{DoxyVerb}Append a note to the worker notes for a particular worker-assignment pairing.

Adds newline to the note.
\end{DoxyVerb}
 

Definition at line 665 of file mturk\+\_\+data\+\_\+handler.\+py.


\begin{DoxyCode}
665     \textcolor{keyword}{def }log\_worker\_note(self, worker\_id, assignment\_id, note):
666         \textcolor{stringliteral}{"""}
667 \textcolor{stringliteral}{        Append a note to the worker notes for a particular worker-assignment pairing.}
668 \textcolor{stringliteral}{}
669 \textcolor{stringliteral}{        Adds newline to the note.}
670 \textcolor{stringliteral}{        """}
671         note += \textcolor{stringliteral}{'\(\backslash\)n'}
672         with self.table\_access\_condition:
673             \textcolor{keywordflow}{try}:
674                 conn = self.\_get\_connection()
675                 c = conn.cursor()
676                 c.execute(
677                     \textcolor{stringliteral}{"""UPDATE pairings SET notes = notes || ?}
678 \textcolor{stringliteral}{                             WHERE worker\_id = ? AND assignment\_id = ?;"""},
679                     (note, worker\_id, assignment\_id),
680                 )
681                 conn.commit()
682             \textcolor{keywordflow}{except} Exception \textcolor{keyword}{as} e:
683                 print(repr(e))
684 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_a6d5a47cdeede36a2fb650f28dd72ef12}\label{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_a6d5a47cdeede36a2fb650f28dd72ef12}} 
\index{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler@{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler}!save\+\_\+world\+\_\+data@{save\+\_\+world\+\_\+data}}
\index{save\+\_\+world\+\_\+data@{save\+\_\+world\+\_\+data}!parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler@{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler}}
\subsubsection{\texorpdfstring{save\+\_\+world\+\_\+data()}{save\_world\_data()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+dev.\+mturk\+\_\+data\+\_\+handler.\+M\+Turk\+Data\+Handler.\+save\+\_\+world\+\_\+data (\begin{DoxyParamCaption}\item[{}]{prepped\+\_\+save\+\_\+data,  }\item[{}]{task\+\_\+group\+\_\+id,  }\item[{}]{conversation\+\_\+id,  }\item[{}]{sandbox = {\ttfamily False} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 120 of file mturk\+\_\+data\+\_\+handler.\+py.


\begin{DoxyCode}
120     ):
121         target = \textcolor{stringliteral}{'sandbox'} \textcolor{keywordflow}{if} sandbox \textcolor{keywordflow}{else} \textcolor{stringliteral}{'live'}
122         \textcolor{keywordflow}{if} task\_group\_id \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
123             \textcolor{keywordflow}{return}
124         target\_dir = os.path.join(data\_dir, target, task\_group\_id, conversation\_id)
125         custom\_data = prepped\_save\_data[\textcolor{stringliteral}{'custom\_data'}]
126         \textcolor{keywordflow}{if} custom\_data \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}:
127             target\_dir\_custom = os.path.join(target\_dir, \textcolor{stringliteral}{'custom'})
128             \textcolor{keywordflow}{if} custom\_data.get(\textcolor{stringliteral}{'needs-pickle'}) \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}:
129                 pickle\_file = os.path.join(target\_dir\_custom, \textcolor{stringliteral}{'data.pickle'})
130                 \hyperlink{namespaceparlai_1_1mturk_1_1core_1_1mturk__data__handler_a28ec50366a486cded72d95c9be461c2f}{force\_dir}(pickle\_file)
131                 with open(pickle\_file, \textcolor{stringliteral}{'wb'}) \textcolor{keyword}{as} outfile:
132                     pickle.dump(custom\_data[\textcolor{stringliteral}{'needs-pickle'}], outfile)
133                 del custom\_data[\textcolor{stringliteral}{'needs-pickle'}]
134             custom\_file = os.path.join(target\_dir\_custom, \textcolor{stringliteral}{'data.json'})
135             \hyperlink{namespaceparlai_1_1mturk_1_1core_1_1mturk__data__handler_a28ec50366a486cded72d95c9be461c2f}{force\_dir}(custom\_file)
136             print(\textcolor{stringliteral}{'Saving data to \{\}.'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(custom\_file))
137             with open(custom\_file, \textcolor{stringliteral}{'w'}) \textcolor{keyword}{as} outfile:
138                 json.dump(custom\_data, outfile)
139         worker\_data = prepped\_save\_data[\textcolor{stringliteral}{'worker\_data'}]
140         target\_dir\_workers = os.path.join(target\_dir, \textcolor{stringliteral}{'workers'})
141         \textcolor{keywordflow}{for} worker\_id, w\_data \textcolor{keywordflow}{in} worker\_data.items():
142             worker\_file = os.path.join(target\_dir\_workers, \textcolor{stringliteral}{'\{\}.json'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(worker\_id))
143             \hyperlink{namespaceparlai_1_1mturk_1_1core_1_1mturk__data__handler_a28ec50366a486cded72d95c9be461c2f}{force\_dir}(worker\_file)
144             with open(worker\_file, \textcolor{stringliteral}{'w'}) \textcolor{keyword}{as} outfile:
145                 json.dump(w\_data, outfile)
146 
\end{DoxyCode}


\subsection{Member Data Documentation}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_a66361d334cabae5782ca8a8740b32e95}\label{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_a66361d334cabae5782ca8a8740b32e95}} 
\index{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler@{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler}!conn@{conn}}
\index{conn@{conn}!parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler@{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler}}
\subsubsection{\texorpdfstring{conn}{conn}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+dev.\+mturk\+\_\+data\+\_\+handler.\+M\+Turk\+Data\+Handler.\+conn}



Definition at line 112 of file mturk\+\_\+data\+\_\+handler.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_a7cca153268ab042892a68ad4aa032414}\label{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_a7cca153268ab042892a68ad4aa032414}} 
\index{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler@{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler}!db\+\_\+path@{db\+\_\+path}}
\index{db\+\_\+path@{db\+\_\+path}!parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler@{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler}}
\subsubsection{\texorpdfstring{db\+\_\+path}{db\_path}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+dev.\+mturk\+\_\+data\+\_\+handler.\+M\+Turk\+Data\+Handler.\+db\+\_\+path}



Definition at line 111 of file mturk\+\_\+data\+\_\+handler.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_a782fb3d819b27356b34060bc3b9f110e}\label{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_a782fb3d819b27356b34060bc3b9f110e}} 
\index{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler@{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler}!table\+\_\+access\+\_\+condition@{table\+\_\+access\+\_\+condition}}
\index{table\+\_\+access\+\_\+condition@{table\+\_\+access\+\_\+condition}!parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler@{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler}}
\subsubsection{\texorpdfstring{table\+\_\+access\+\_\+condition}{table\_access\_condition}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+dev.\+mturk\+\_\+data\+\_\+handler.\+M\+Turk\+Data\+Handler.\+table\+\_\+access\+\_\+condition}



Definition at line 114 of file mturk\+\_\+data\+\_\+handler.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_af4bebaca067ce2d388fe76ee8859e1bd}\label{classparlai_1_1mturk_1_1core_1_1dev_1_1mturk__data__handler_1_1MTurkDataHandler_af4bebaca067ce2d388fe76ee8859e1bd}} 
\index{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler@{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler}!task\+\_\+group\+\_\+id@{task\+\_\+group\+\_\+id}}
\index{task\+\_\+group\+\_\+id@{task\+\_\+group\+\_\+id}!parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler@{parlai\+::mturk\+::core\+::dev\+::mturk\+\_\+data\+\_\+handler\+::\+M\+Turk\+Data\+Handler}}
\subsubsection{\texorpdfstring{task\+\_\+group\+\_\+id}{task\_group\_id}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+dev.\+mturk\+\_\+data\+\_\+handler.\+M\+Turk\+Data\+Handler.\+task\+\_\+group\+\_\+id}



Definition at line 113 of file mturk\+\_\+data\+\_\+handler.\+py.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
parlai/mturk/core/dev/\hyperlink{dev_2mturk__data__handler_8py}{mturk\+\_\+data\+\_\+handler.\+py}\end{DoxyCompactItemize}
