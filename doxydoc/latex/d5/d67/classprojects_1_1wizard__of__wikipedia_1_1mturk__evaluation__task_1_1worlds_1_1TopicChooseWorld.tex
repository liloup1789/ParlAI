\hypertarget{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1TopicChooseWorld}{}\section{projects.\+wizard\+\_\+of\+\_\+wikipedia.\+mturk\+\_\+evaluation\+\_\+task.\+worlds.\+Topic\+Choose\+World Class Reference}
\label{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1TopicChooseWorld}\index{projects.\+wizard\+\_\+of\+\_\+wikipedia.\+mturk\+\_\+evaluation\+\_\+task.\+worlds.\+Topic\+Choose\+World@{projects.\+wizard\+\_\+of\+\_\+wikipedia.\+mturk\+\_\+evaluation\+\_\+task.\+worlds.\+Topic\+Choose\+World}}


Inheritance diagram for projects.\+wizard\+\_\+of\+\_\+wikipedia.\+mturk\+\_\+evaluation\+\_\+task.\+worlds.\+Topic\+Choose\+World\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=238pt]{d0/d7b/classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1TopicChooseWorld__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for projects.\+wizard\+\_\+of\+\_\+wikipedia.\+mturk\+\_\+evaluation\+\_\+task.\+worlds.\+Topic\+Choose\+World\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=238pt]{dd/d86/classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1TopicChooseWorld__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1TopicChooseWorld_a0c6930dd70c72544112407d55c0422ce}{\+\_\+\+\_\+init\+\_\+\+\_\+} (self, \hyperlink{classparlai_1_1core_1_1worlds_1_1World_a3640d92718acd3e6942a28c1ab3678bd}{opt}, \hyperlink{classparlai_1_1mturk_1_1core_1_1worlds_1_1MTurkOnboardWorld_a38d19c84f42e452f782df53df4fb9861}{mturk\+\_\+agent}, \hyperlink{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1TopicChooseWorld_a2eb6c10647cb8207bfa083ef0a493d13}{role}=\textquotesingle{}P\+E\+R\+S\+O\+N\+\_\+1\textquotesingle{})
\item 
def \hyperlink{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1TopicChooseWorld_a1ede8a9a810cffefa36645ae3a3929bc}{parley} (self)
\item 
def \hyperlink{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1TopicChooseWorld_a09c14d33c1bc510ad995270b98976123}{check\+\_\+timeout} (self, act)
\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1TopicChooseWorld_a2eb6c10647cb8207bfa083ef0a493d13}{role}
\item 
\hyperlink{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1TopicChooseWorld_a71ae18a662941ea82999f48817e1c784}{task\+\_\+type}
\item 
\hyperlink{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1TopicChooseWorld_ac951b666993c2d306f11a50d30fe2ed1}{max\+\_\+choice\+\_\+time}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
\begin{DoxyVerb}A world that provides topics to an MTurk Agent and asks them to choose one.
\end{DoxyVerb}
 

Definition at line 92 of file worlds.\+py.



\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1TopicChooseWorld_a0c6930dd70c72544112407d55c0422ce}\label{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1TopicChooseWorld_a0c6930dd70c72544112407d55c0422ce}} 
\index{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Topic\+Choose\+World@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Topic\+Choose\+World}!\+\_\+\+\_\+init\+\_\+\+\_\+@{\+\_\+\+\_\+init\+\_\+\+\_\+}}
\index{\+\_\+\+\_\+init\+\_\+\+\_\+@{\+\_\+\+\_\+init\+\_\+\+\_\+}!projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Topic\+Choose\+World@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Topic\+Choose\+World}}
\subsubsection{\texorpdfstring{\+\_\+\+\_\+init\+\_\+\+\_\+()}{\_\_init\_\_()}}
{\footnotesize\ttfamily def projects.\+wizard\+\_\+of\+\_\+wikipedia.\+mturk\+\_\+evaluation\+\_\+task.\+worlds.\+Topic\+Choose\+World.\+\_\+\+\_\+init\+\_\+\+\_\+ (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{opt,  }\item[{}]{mturk\+\_\+agent,  }\item[{}]{role = {\ttfamily \textquotesingle{}PERSON\+\_\+1\textquotesingle{}} }\end{DoxyParamCaption})}



Definition at line 97 of file worlds.\+py.


\begin{DoxyCode}
97     \textcolor{keyword}{def }\_\_init\_\_(self, opt, mturk\_agent, role='PERSON\_1'):
98         self.role = role
99         self.task\_type = \textcolor{stringliteral}{'sandbox'} \textcolor{keywordflow}{if} opt[\textcolor{stringliteral}{'is\_sandbox'}] \textcolor{keywordflow}{else} \textcolor{stringliteral}{'live'}
100         self.max\_choice\_time = opt[\textcolor{stringliteral}{'max\_choice\_time'}]
101         super().\_\_init\_\_(opt, mturk\_agent)
102 
\end{DoxyCode}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1TopicChooseWorld_a09c14d33c1bc510ad995270b98976123}\label{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1TopicChooseWorld_a09c14d33c1bc510ad995270b98976123}} 
\index{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Topic\+Choose\+World@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Topic\+Choose\+World}!check\+\_\+timeout@{check\+\_\+timeout}}
\index{check\+\_\+timeout@{check\+\_\+timeout}!projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Topic\+Choose\+World@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Topic\+Choose\+World}}
\subsubsection{\texorpdfstring{check\+\_\+timeout()}{check\_timeout()}}
{\footnotesize\ttfamily def projects.\+wizard\+\_\+of\+\_\+wikipedia.\+mturk\+\_\+evaluation\+\_\+task.\+worlds.\+Topic\+Choose\+World.\+check\+\_\+timeout (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{act }\end{DoxyParamCaption})}



Definition at line 129 of file worlds.\+py.


\begin{DoxyCode}
129     \textcolor{keyword}{def }check\_timeout(self, act):
130         \textcolor{keywordflow}{if} (
131             (act[\textcolor{stringliteral}{'text'}] == \textcolor{stringliteral}{'[TIMEOUT]'})
132             \textcolor{keywordflow}{or} (act[\textcolor{stringliteral}{'text'}] == \textcolor{stringliteral}{'[RETURNED]'})
133             \textcolor{keywordflow}{or} (act[\textcolor{stringliteral}{'text'}] == \textcolor{stringliteral}{'[DISCONNECT]'})
134         ):
135             \textcolor{keywordflow}{return} \textcolor{keyword}{True}
136         \textcolor{keywordflow}{else}:
137             \textcolor{keywordflow}{return} \textcolor{keyword}{False}
138 
139 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1TopicChooseWorld_a1ede8a9a810cffefa36645ae3a3929bc}\label{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1TopicChooseWorld_a1ede8a9a810cffefa36645ae3a3929bc}} 
\index{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Topic\+Choose\+World@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Topic\+Choose\+World}!parley@{parley}}
\index{parley@{parley}!projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Topic\+Choose\+World@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Topic\+Choose\+World}}
\subsubsection{\texorpdfstring{parley()}{parley()}}
{\footnotesize\ttfamily def projects.\+wizard\+\_\+of\+\_\+wikipedia.\+mturk\+\_\+evaluation\+\_\+task.\+worlds.\+Topic\+Choose\+World.\+parley (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line 103 of file worlds.\+py.


\begin{DoxyCode}
103     \textcolor{keyword}{def }parley(self):
104         \textcolor{comment}{# only pick topic if your ID is PERSON\_1}
105         \textcolor{keywordflow}{if} self.role == \textcolor{stringliteral}{'PERSON\_1'}:
106             seen = random.choice([\textcolor{keyword}{True}, \textcolor{keyword}{False}])
107             num = random.choice([2, 3])
108             topics = self.mturk\_agent.topics\_generator.get\_topics(seen=seen, num=num)
109             self.mturk\_agent.observe(
110                 \hyperlink{namespaceparlai_1_1core_1_1worlds_afc3fad603b7bce41dbdc9cdc04a9c794}{validate}(
111                     \{\textcolor{stringliteral}{'id'}: \textcolor{stringliteral}{'SYSTEM'}, \textcolor{stringliteral}{'text'}: PICK\_TOPIC\_MSG, \textcolor{stringliteral}{'relevant\_topics'}: topics\}
112                 )
113             )
114 
115             topic\_act = self.mturk\_agent.act(timeout=self.max\_choice\_time)
116             timed\_out = self.check\_timeout(topic\_act)
117             \textcolor{keywordflow}{if} timed\_out:
118                 \textcolor{keywordflow}{return}
119             pick\_msg = AFTER\_PICK\_TOPIC\_MSG
120             self.mturk\_agent.observe(\{\textcolor{stringliteral}{'id'}: \textcolor{stringliteral}{'SYSTEM'}, \textcolor{stringliteral}{'text'}: pick\_msg\})
121             self.mturk\_agent.chosen\_topic = topic\_act[\textcolor{stringliteral}{'text'}]
122             self.mturk\_agent.topic\_choices = topics
123             self.mturk\_agent.seen = seen
124             self.mturk\_agent.observe(\hyperlink{namespaceparlai_1_1core_1_1worlds_afc3fad603b7bce41dbdc9cdc04a9c794}{validate}(\{\textcolor{stringliteral}{'id'}: \textcolor{stringliteral}{'SYSTEM'}, \textcolor{stringliteral}{'wait\_msg'}: \textcolor{keyword}{True}\}))
125         \textcolor{keywordflow}{else}:
126             self.mturk\_agent.observe(\hyperlink{namespaceparlai_1_1core_1_1worlds_afc3fad603b7bce41dbdc9cdc04a9c794}{validate}(\{\textcolor{stringliteral}{'id'}: \textcolor{stringliteral}{'SYSTEM'}, \textcolor{stringliteral}{'wait\_msg'}: \textcolor{keyword}{True}\}))
127         \textcolor{keywordflow}{return}
128 
\end{DoxyCode}


\subsection{Member Data Documentation}
\mbox{\Hypertarget{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1TopicChooseWorld_ac951b666993c2d306f11a50d30fe2ed1}\label{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1TopicChooseWorld_ac951b666993c2d306f11a50d30fe2ed1}} 
\index{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Topic\+Choose\+World@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Topic\+Choose\+World}!max\+\_\+choice\+\_\+time@{max\+\_\+choice\+\_\+time}}
\index{max\+\_\+choice\+\_\+time@{max\+\_\+choice\+\_\+time}!projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Topic\+Choose\+World@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Topic\+Choose\+World}}
\subsubsection{\texorpdfstring{max\+\_\+choice\+\_\+time}{max\_choice\_time}}
{\footnotesize\ttfamily projects.\+wizard\+\_\+of\+\_\+wikipedia.\+mturk\+\_\+evaluation\+\_\+task.\+worlds.\+Topic\+Choose\+World.\+max\+\_\+choice\+\_\+time}



Definition at line 100 of file worlds.\+py.

\mbox{\Hypertarget{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1TopicChooseWorld_a2eb6c10647cb8207bfa083ef0a493d13}\label{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1TopicChooseWorld_a2eb6c10647cb8207bfa083ef0a493d13}} 
\index{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Topic\+Choose\+World@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Topic\+Choose\+World}!role@{role}}
\index{role@{role}!projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Topic\+Choose\+World@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Topic\+Choose\+World}}
\subsubsection{\texorpdfstring{role}{role}}
{\footnotesize\ttfamily projects.\+wizard\+\_\+of\+\_\+wikipedia.\+mturk\+\_\+evaluation\+\_\+task.\+worlds.\+Topic\+Choose\+World.\+role}



Definition at line 98 of file worlds.\+py.

\mbox{\Hypertarget{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1TopicChooseWorld_a71ae18a662941ea82999f48817e1c784}\label{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1TopicChooseWorld_a71ae18a662941ea82999f48817e1c784}} 
\index{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Topic\+Choose\+World@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Topic\+Choose\+World}!task\+\_\+type@{task\+\_\+type}}
\index{task\+\_\+type@{task\+\_\+type}!projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Topic\+Choose\+World@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Topic\+Choose\+World}}
\subsubsection{\texorpdfstring{task\+\_\+type}{task\_type}}
{\footnotesize\ttfamily projects.\+wizard\+\_\+of\+\_\+wikipedia.\+mturk\+\_\+evaluation\+\_\+task.\+worlds.\+Topic\+Choose\+World.\+task\+\_\+type}



Definition at line 99 of file worlds.\+py.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
projects/wizard\+\_\+of\+\_\+wikipedia/mturk\+\_\+evaluation\+\_\+task/\hyperlink{projects_2wizard__of__wikipedia_2mturk__evaluation__task_2worlds_8py}{worlds.\+py}\end{DoxyCompactItemize}
