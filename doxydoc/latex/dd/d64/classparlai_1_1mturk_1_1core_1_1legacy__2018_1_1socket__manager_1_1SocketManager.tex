\hypertarget{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager}{}\section{parlai.\+mturk.\+core.\+legacy\+\_\+2018.\+socket\+\_\+manager.\+Socket\+Manager Class Reference}
\label{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager}\index{parlai.\+mturk.\+core.\+legacy\+\_\+2018.\+socket\+\_\+manager.\+Socket\+Manager@{parlai.\+mturk.\+core.\+legacy\+\_\+2018.\+socket\+\_\+manager.\+Socket\+Manager}}


Inheritance diagram for parlai.\+mturk.\+core.\+legacy\+\_\+2018.\+socket\+\_\+manager.\+Socket\+Manager\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=269pt]{d0/d8c/classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager__inherit__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_ac4a8060782edd077f684e1f90a04f75d}{\+\_\+\+\_\+init\+\_\+\+\_\+} (self, \hyperlink{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_aac5bb60353aa8fed36a831b55d805683}{server\+\_\+url}, \hyperlink{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_aa80ae69b3f44a462d996a05a85b49cf6}{port}, \hyperlink{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_ababcefebfe2b2e917d08ff38cbba85e0}{alive\+\_\+callback}, \hyperlink{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_acc942e6c0c373bcae320a0429dbae3cc}{message\+\_\+callback}, \hyperlink{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_adef2c46d45c694ae1b0ec13d7c126211}{socket\+\_\+dead\+\_\+callback}, \hyperlink{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_a7766f5aafcb9e27c5043a141e247b770}{task\+\_\+group\+\_\+id}, socket\+\_\+dead\+\_\+timeout=None, \hyperlink{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_a77c85a9f4cb4513e5a5ae9399fa133b8}{server\+\_\+death\+\_\+callback}=None)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_a8fd31d452501b480aad260eebaf51c8e}{get\+\_\+my\+\_\+sender\+\_\+id} (self)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_a8793f6a47fa15f3b76b3660240563492}{packet\+\_\+should\+\_\+block} (self, packet\+\_\+item)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_a762590d50448509a5986c27a60dfea1a}{channel\+\_\+thread} (self)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_a736cdf9b5be6d3fee7f88cf7893b56f0}{open\+\_\+channel} (self, worker\+\_\+id, assignment\+\_\+id)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_aba8ba15b13ecbf57b9bc9ef15d9ba620}{close\+\_\+channel} (self, connection\+\_\+id)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_ab005f976aeba162ce019724c0e093cae}{close\+\_\+all\+\_\+channels} (self)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_a8fa0c55682c0eb89ba4f4d7dcfd9fdba}{socket\+\_\+is\+\_\+open} (self, connection\+\_\+id)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_a806197fb2a39b170bdc10f93f010318c}{queue\+\_\+packet} (self, packet)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_a260df8c8135ae0759b5578283db9fd89}{get\+\_\+status} (self, packet\+\_\+id)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_a994294d92872fd98ec0fabd9d2a56793}{shutdown} (self)
\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_aac5bb60353aa8fed36a831b55d805683}{server\+\_\+url}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_aa80ae69b3f44a462d996a05a85b49cf6}{port}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_ababcefebfe2b2e917d08ff38cbba85e0}{alive\+\_\+callback}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_acc942e6c0c373bcae320a0429dbae3cc}{message\+\_\+callback}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_adef2c46d45c694ae1b0ec13d7c126211}{socket\+\_\+dead\+\_\+callback}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_a77c85a9f4cb4513e5a5ae9399fa133b8}{server\+\_\+death\+\_\+callback}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_aa03639a380e2e4b77d9deee1e1ca73f2}{missed\+\_\+pongs}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_a7766f5aafcb9e27c5043a141e247b770}{task\+\_\+group\+\_\+id}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_ada12108ee07d549263a52089cc4d4072}{ws}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_ab26fa8cedfbf7c4ec782c65f8550ee3e}{keep\+\_\+running}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_acf0bd7ea24ab0f7d4b879ebef34f3657}{listen\+\_\+thread}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_a805d6a8fc46ca8e444574fb9fc803fa9}{send\+\_\+thread}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_a53dd0c12c8301905c750d44c12e635b5}{queues}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_ab9edf9b83e376ba2f1c0a93111a1d35c}{blocking\+\_\+packets}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_a2101388d30d371d0b6cc50a856eab21f}{threads}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_aafe5700dd3b0305ed953a08679b9ba80}{run}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_ae901bace256661621c0f1f3a5f9ac245}{last\+\_\+sent\+\_\+heartbeat\+\_\+time}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_a0f1c69f518a3efcb5e03f035356a7790}{last\+\_\+received\+\_\+heartbeat}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_aa440819d20eb90b0a6b33fde4b742d10}{pongs\+\_\+without\+\_\+heartbeat}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_a71110eaf00e72f30b53903a3f80120af}{processed\+\_\+packets}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_ad4c06576e8c31887644510f8d5a33ee1}{packet\+\_\+map}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_a0fc12cc7c91be28ded5e6df370879323}{alive}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_a0cf172f18269d1c15c52bf0f2b7d2be6}{is\+\_\+shutdown}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_a9b2eed50e092797ab535a44b047519c4}{send\+\_\+lock}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_a71d2ebfec605262a5a9d8de29c0ecaa9}{packet\+\_\+map\+\_\+lock}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_a5bbcb26e24bb4799c92d6e432dad76f1}{thread\+\_\+shutdown\+\_\+lock}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_abef59362956404a1f7db7bad8d4955f0}{worker\+\_\+assign\+\_\+ids}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_a36e688c77dcdc7034484e889a4074ff8}{use\+\_\+socket}
\end{DoxyCompactItemize}
\subsection*{Static Public Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_ab9e91e6d31b0a8cbee08a69cd5d54c99}{A\+C\+K\+\_\+\+T\+I\+ME}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_a0f241edfe6db02a1d9b5c0a54b7d1447}{D\+E\+F\+\_\+\+M\+I\+S\+S\+E\+D\+\_\+\+P\+O\+N\+GS}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_afa855d56173d233a1dc79bb2eebc6307}{H\+E\+A\+R\+T\+B\+E\+A\+T\+\_\+\+R\+A\+TE}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_a95f11e1f710c96100b9edaf289604b79}{D\+E\+F\+\_\+\+D\+E\+A\+D\+\_\+\+T\+I\+ME}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
\begin{DoxyVerb}SocketManager is a wrapper around websocket to stabilize its packet passing.

The manager handles resending packet, as well as maintaining alive status for all
the connections it forms
\end{DoxyVerb}
 

Definition at line 199 of file socket\+\_\+manager.\+py.



\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_ac4a8060782edd077f684e1f90a04f75d}\label{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_ac4a8060782edd077f684e1f90a04f75d}} 
\index{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager@{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager}!\+\_\+\+\_\+init\+\_\+\+\_\+@{\+\_\+\+\_\+init\+\_\+\+\_\+}}
\index{\+\_\+\+\_\+init\+\_\+\+\_\+@{\+\_\+\+\_\+init\+\_\+\+\_\+}!parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager@{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager}}
\subsubsection{\texorpdfstring{\+\_\+\+\_\+init\+\_\+\+\_\+()}{\_\_init\_\_()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+legacy\+\_\+2018.\+socket\+\_\+manager.\+Socket\+Manager.\+\_\+\+\_\+init\+\_\+\+\_\+ (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{server\+\_\+url,  }\item[{}]{port,  }\item[{}]{alive\+\_\+callback,  }\item[{}]{message\+\_\+callback,  }\item[{}]{socket\+\_\+dead\+\_\+callback,  }\item[{}]{task\+\_\+group\+\_\+id,  }\item[{}]{socket\+\_\+dead\+\_\+timeout = {\ttfamily None},  }\item[{}]{server\+\_\+death\+\_\+callback = {\ttfamily None} }\end{DoxyParamCaption})}

\begin{DoxyVerb}server_url:           url at which the server is to be run
port:                 port for the socket to operate on
alive_callback:       function to be called on alive Packets, defined
               alive_callback(self, pkt)
message_callback:     function to be called on message Packets, defined
               message_callback(self, pkt)
socket_dead_callback: function to be called when a socket dies, should
              return false if the socket_manager should ignore
              the death and treat the socket as alive defined
               on_socket_dead(self, worker_id, assignment_id)
socket_dead_timeout:  time to wait between heartbeats before dying
\end{DoxyVerb}
 

Definition at line 225 of file socket\+\_\+manager.\+py.


\begin{DoxyCode}
225     ):
226         \textcolor{stringliteral}{"""}
227 \textcolor{stringliteral}{        server\_url:           url at which the server is to be run}
228 \textcolor{stringliteral}{        port:                 port for the socket to operate on}
229 \textcolor{stringliteral}{        alive\_callback:       function to be called on alive Packets, defined}
230 \textcolor{stringliteral}{                               alive\_callback(self, pkt)}
231 \textcolor{stringliteral}{        message\_callback:     function to be called on message Packets, defined}
232 \textcolor{stringliteral}{                               message\_callback(self, pkt)}
233 \textcolor{stringliteral}{        socket\_dead\_callback: function to be called when a socket dies, should}
234 \textcolor{stringliteral}{                              return false if the socket\_manager should ignore}
235 \textcolor{stringliteral}{                              the death and treat the socket as alive defined}
236 \textcolor{stringliteral}{                               on\_socket\_dead(self, worker\_id, assignment\_id)}
237 \textcolor{stringliteral}{        socket\_dead\_timeout:  time to wait between heartbeats before dying}
238 \textcolor{stringliteral}{        """}
239         self.server\_url = server\_url
240         self.port = port
241         self.alive\_callback = alive\_callback
242         self.message\_callback = message\_callback
243         self.socket\_dead\_callback = socket\_dead\_callback
244         self.server\_death\_callback = server\_death\_callback
245         \textcolor{keywordflow}{if} socket\_dead\_timeout \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}:
246             self.missed\_pongs = 1 + socket\_dead\_timeout / self.HEARTBEAT\_RATE
247         \textcolor{keywordflow}{else}:
248             self.missed\_pongs = self.DEF\_MISSED\_PONGS
249         self.task\_group\_id = task\_group\_id
250 
251         self.ws = \textcolor{keywordtype}{None}
252         self.keep\_running = \textcolor{keyword}{True}
253 
254         \textcolor{comment}{# initialize the state}
255         self.listen\_thread = \textcolor{keywordtype}{None}
256         self.send\_thread = \textcolor{keywordtype}{None}
257         self.queues = \{\}
258         self.blocking\_packets = \{\}  \textcolor{comment}{# connection\_id to blocking packet map}
259         self.threads = \{\}
260         self.run = \{\}
261         self.last\_sent\_heartbeat\_time = \{\}  \textcolor{comment}{# time of last heartbeat sent}
262         self.last\_received\_heartbeat = \{\}  \textcolor{comment}{# actual last received heartbeat}
263         self.pongs\_without\_heartbeat = \{\}
264         \textcolor{comment}{# TODO update processed packets to *ensure* only one execution per}
265         \textcolor{comment}{# packet, as right now two threads can be spawned to process the}
266         \textcolor{comment}{# same packet at the same time, as the packet is only added to this}
267         \textcolor{comment}{# set after processing is complete.}
268         self.processed\_packets = set()
269         self.packet\_map = \{\}
270         self.alive = \textcolor{keyword}{False}
271         self.is\_shutdown = \textcolor{keyword}{False}
272         self.send\_lock = threading.Condition()
273         self.packet\_map\_lock = threading.Condition()
274         self.thread\_shutdown\_lock = threading.Condition()
275         self.worker\_assign\_ids = \{\}  \textcolor{comment}{# mapping from connection id to pair}
276 
277         \textcolor{comment}{# setup the socket}
278         self.\_setup\_socket()
279 
\end{DoxyCode}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_a762590d50448509a5986c27a60dfea1a}\label{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_a762590d50448509a5986c27a60dfea1a}} 
\index{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager@{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager}!channel\+\_\+thread@{channel\+\_\+thread}}
\index{channel\+\_\+thread@{channel\+\_\+thread}!parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager@{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager}}
\subsubsection{\texorpdfstring{channel\+\_\+thread()}{channel\_thread()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+legacy\+\_\+2018.\+socket\+\_\+manager.\+Socket\+Manager.\+channel\+\_\+thread (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}

\begin{DoxyVerb}Handler thread for monitoring all channels.
\end{DoxyVerb}
 

Definition at line 614 of file socket\+\_\+manager.\+py.


\begin{DoxyCode}
614     \textcolor{keyword}{def }channel\_thread(self):
615         \textcolor{stringliteral}{"""}
616 \textcolor{stringliteral}{        Handler thread for monitoring all channels.}
617 \textcolor{stringliteral}{        """}
618         \textcolor{comment}{# while the thread is still alive}
619         \textcolor{keywordflow}{while} \textcolor{keywordflow}{not} self.is\_shutdown:
620             \textcolor{keywordflow}{if} self.ws \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
621                 \textcolor{comment}{# Waiting for websocket to come back alive}
622                 time.sleep(shared\_utils.THREAD\_SHORT\_SLEEP)
623                 \textcolor{keywordflow}{continue}
624             \textcolor{keywordflow}{for} connection\_id \textcolor{keywordflow}{in} self.run.copy():
625                 \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} self.run[connection\_id]:
626                     \textcolor{keywordflow}{continue}
627                 \textcolor{keywordflow}{try}:
628                     \textcolor{comment}{# Send a heartbeat if needed}
629                     self.\_send\_needed\_heartbeat(connection\_id)
630                     \textcolor{comment}{# Check if client is still alive}
631                     \textcolor{keywordflow}{if} self.pongs\_without\_heartbeat[connection\_id] > self.missed\_pongs:
632                         self.run[connection\_id] = \textcolor{keyword}{False}
633                         \textcolor{comment}{# Setup and run the channel sending thread}
634                         self.threads[connection\_id] = threading.Thread(
635                             target=self.socket\_dead\_callback,
636                             name=\textcolor{stringliteral}{'Socket-dead-\{\}'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(connection\_id),
637                             args=self.worker\_assign\_ids[connection\_id],
638                         )
639                         self.threads[connection\_id].daemon = \textcolor{keyword}{True}
640                         self.threads[connection\_id].start()
641 
642                     \textcolor{comment}{# Make sure the queue still exists}
643                     \textcolor{keywordflow}{if} connection\_id \textcolor{keywordflow}{not} \textcolor{keywordflow}{in} self.queues:
644                         self.run[connection\_id] = \textcolor{keyword}{False}
645                         \textcolor{keywordflow}{break}
646                     \textcolor{keywordflow}{if} self.blocking\_packets.get(connection\_id) \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}:
647                         packet\_item = self.blocking\_packets[connection\_id]
648                         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} self.packet\_should\_block(packet\_item):
649                             self.blocking\_packets[connection\_id] = \textcolor{keywordtype}{None}
650                         \textcolor{keywordflow}{else}:
651                             \textcolor{keywordflow}{continue}
652                     \textcolor{keywordflow}{try}:
653                         \textcolor{comment}{# Get first item in the queue, check if can send it yet}
654                         item = self.queues[connection\_id].get(block=\textcolor{keyword}{False})
655                         t = item[0]
656                         \textcolor{keywordflow}{if} time.time() < t:
657                             \textcolor{comment}{# Put the item back into the queue,}
658                             \textcolor{comment}{# it's not time to pop yet}
659                             self.\_safe\_put(connection\_id, item)
660                         \textcolor{keywordflow}{else}:
661                             \textcolor{comment}{# Try to send the packet}
662                             packet = item[1]
663                             \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} packet:
664                                 \textcolor{comment}{# This packet was deleted out from under us}
665                                 \textcolor{keywordflow}{continue}
666                             \textcolor{keywordflow}{if} packet.status \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} Packet.STATUS\_ACK:
667                                 \textcolor{comment}{# either need to send initial packet}
668                                 \textcolor{comment}{# or resend not-acked packet}
669                                 self.\_send\_packet(packet, connection\_id, t)
670                     \textcolor{keywordflow}{except} Empty:
671                         \textcolor{keywordflow}{pass}
672                 \textcolor{keywordflow}{except} Exception \textcolor{keyword}{as} e:
673                     shared\_utils.print\_and\_log(
674                         logging.WARN,
675                         \textcolor{stringliteral}{'Unexpected error occurred in socket handling thread: '}
676                         \textcolor{stringliteral}{'\{\}'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(repr(e)),
677                         should\_print=\textcolor{keyword}{True},
678                     )
679             time.sleep(shared\_utils.THREAD\_SHORT\_SLEEP)
680 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_ab005f976aeba162ce019724c0e093cae}\label{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_ab005f976aeba162ce019724c0e093cae}} 
\index{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager@{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager}!close\+\_\+all\+\_\+channels@{close\+\_\+all\+\_\+channels}}
\index{close\+\_\+all\+\_\+channels@{close\+\_\+all\+\_\+channels}!parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager@{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager}}
\subsubsection{\texorpdfstring{close\+\_\+all\+\_\+channels()}{close\_all\_channels()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+legacy\+\_\+2018.\+socket\+\_\+manager.\+Socket\+Manager.\+close\+\_\+all\+\_\+channels (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}

\begin{DoxyVerb}Closes all channels by clearing the list of channels.
\end{DoxyVerb}
 

Definition at line 733 of file socket\+\_\+manager.\+py.


\begin{DoxyCode}
733     \textcolor{keyword}{def }close\_all\_channels(self):
734         \textcolor{stringliteral}{"""}
735 \textcolor{stringliteral}{        Closes all channels by clearing the list of channels.}
736 \textcolor{stringliteral}{        """}
737         shared\_utils.print\_and\_log(logging.DEBUG, \textcolor{stringliteral}{'Closing all channels'})
738         connection\_ids = list(self.queues.keys())
739         \textcolor{keywordflow}{for} connection\_id \textcolor{keywordflow}{in} connection\_ids:
740             self.close\_channel(connection\_id)
741 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_aba8ba15b13ecbf57b9bc9ef15d9ba620}\label{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_aba8ba15b13ecbf57b9bc9ef15d9ba620}} 
\index{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager@{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager}!close\+\_\+channel@{close\+\_\+channel}}
\index{close\+\_\+channel@{close\+\_\+channel}!parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager@{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager}}
\subsubsection{\texorpdfstring{close\+\_\+channel()}{close\_channel()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+legacy\+\_\+2018.\+socket\+\_\+manager.\+Socket\+Manager.\+close\+\_\+channel (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{connection\+\_\+id }\end{DoxyParamCaption})}

\begin{DoxyVerb}Closes a channel by connection_id.
\end{DoxyVerb}
 

Definition at line 699 of file socket\+\_\+manager.\+py.


\begin{DoxyCode}
699     \textcolor{keyword}{def }close\_channel(self, connection\_id):
700         \textcolor{stringliteral}{"""}
701 \textcolor{stringliteral}{        Closes a channel by connection\_id.}
702 \textcolor{stringliteral}{        """}
703         shared\_utils.print\_and\_log(
704             logging.DEBUG, \textcolor{stringliteral}{'Closing channel \{\}'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(connection\_id)
705         )
706         self.run[connection\_id] = \textcolor{keyword}{False}
707         with self.thread\_shutdown\_lock:
708             \textcolor{keywordflow}{if} connection\_id \textcolor{keywordflow}{in} self.queues:
709                 \textcolor{keywordflow}{while} \textcolor{keywordflow}{not} self.queues[connection\_id].empty():  \textcolor{comment}{# Empty queue}
710                     \textcolor{keywordflow}{try}:
711                         item = self.queues[connection\_id].get(block=\textcolor{keyword}{False})
712                         t = item[0]
713                         packet = item[1]
714                         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} packet:
715                             \textcolor{keywordflow}{continue}
716                         packet.requires\_ack = \textcolor{keyword}{False}
717                         packet.blocking = \textcolor{keyword}{False}
718                         \textcolor{keywordflow}{if} packet.status \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} Packet.STATUS\_ACK:
719                             self.\_send\_packet(packet, connection\_id, t)
720                     \textcolor{keywordflow}{except} Empty:
721                         \textcolor{keywordflow}{break}
722                 \textcolor{comment}{# Clean up packets}
723                 with self.packet\_map\_lock:
724                     packet\_ids = list(self.packet\_map.keys())
725                     \textcolor{keywordflow}{for} packet\_id \textcolor{keywordflow}{in} packet\_ids:
726                         packet = self.packet\_map[packet\_id]
727                         packet\_conn\_id = packet.get\_receiver\_connection\_id()
728                         \textcolor{keywordflow}{if} connection\_id == packet\_conn\_id:
729                             del self.packet\_map[packet\_id]
730                 \textcolor{comment}{# Clean up other resources}
731                 del self.queues[connection\_id]
732 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_a8fd31d452501b480aad260eebaf51c8e}\label{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_a8fd31d452501b480aad260eebaf51c8e}} 
\index{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager@{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager}!get\+\_\+my\+\_\+sender\+\_\+id@{get\+\_\+my\+\_\+sender\+\_\+id}}
\index{get\+\_\+my\+\_\+sender\+\_\+id@{get\+\_\+my\+\_\+sender\+\_\+id}!parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager@{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager}}
\subsubsection{\texorpdfstring{get\+\_\+my\+\_\+sender\+\_\+id()}{get\_my\_sender\_id()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+legacy\+\_\+2018.\+socket\+\_\+manager.\+Socket\+Manager.\+get\+\_\+my\+\_\+sender\+\_\+id (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}

\begin{DoxyVerb}Gives the name that this socket manager should use for its world.
\end{DoxyVerb}
 

Definition at line 280 of file socket\+\_\+manager.\+py.


\begin{DoxyCode}
280     \textcolor{keyword}{def }get\_my\_sender\_id(self):
281         \textcolor{stringliteral}{"""}
282 \textcolor{stringliteral}{        Gives the name that this socket manager should use for its world.}
283 \textcolor{stringliteral}{        """}
284         \textcolor{keywordflow}{return} \textcolor{stringliteral}{'[World\_\{\}]'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(self.task\_group\_id)
285 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_a260df8c8135ae0759b5578283db9fd89}\label{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_a260df8c8135ae0759b5578283db9fd89}} 
\index{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager@{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager}!get\+\_\+status@{get\+\_\+status}}
\index{get\+\_\+status@{get\+\_\+status}!parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager@{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager}}
\subsubsection{\texorpdfstring{get\+\_\+status()}{get\_status()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+legacy\+\_\+2018.\+socket\+\_\+manager.\+Socket\+Manager.\+get\+\_\+status (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{packet\+\_\+id }\end{DoxyParamCaption})}

\begin{DoxyVerb}Returns the status of a particular packet by id.
\end{DoxyVerb}
 

Definition at line 770 of file socket\+\_\+manager.\+py.


\begin{DoxyCode}
770     \textcolor{keyword}{def }get\_status(self, packet\_id):
771         \textcolor{stringliteral}{"""}
772 \textcolor{stringliteral}{        Returns the status of a particular packet by id.}
773 \textcolor{stringliteral}{        """}
774         with self.packet\_map\_lock:
775             \textcolor{keywordflow}{if} packet\_id \textcolor{keywordflow}{not} \textcolor{keywordflow}{in} self.packet\_map:
776                 \textcolor{keywordflow}{return} Packet.STATUS\_NONE
777             \textcolor{keywordflow}{return} self.packet\_map[packet\_id].status
778 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_a736cdf9b5be6d3fee7f88cf7893b56f0}\label{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_a736cdf9b5be6d3fee7f88cf7893b56f0}} 
\index{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager@{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager}!open\+\_\+channel@{open\+\_\+channel}}
\index{open\+\_\+channel@{open\+\_\+channel}!parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager@{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager}}
\subsubsection{\texorpdfstring{open\+\_\+channel()}{open\_channel()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+legacy\+\_\+2018.\+socket\+\_\+manager.\+Socket\+Manager.\+open\+\_\+channel (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{worker\+\_\+id,  }\item[{}]{assignment\+\_\+id }\end{DoxyParamCaption})}

\begin{DoxyVerb}Opens a channel for a worker on a given assignment, doesn't re-open if the
channel is already open.
\end{DoxyVerb}
 

Definition at line 681 of file socket\+\_\+manager.\+py.


\begin{DoxyCode}
681     \textcolor{keyword}{def }open\_channel(self, worker\_id, assignment\_id):
682         \textcolor{stringliteral}{"""}
683 \textcolor{stringliteral}{        Opens a channel for a worker on a given assignment, doesn't re-open if the}
684 \textcolor{stringliteral}{        channel is already open.}
685 \textcolor{stringliteral}{        """}
686         connection\_id = \textcolor{stringliteral}{'\{\}\_\{\}'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(worker\_id, assignment\_id)
687         \textcolor{keywordflow}{if} connection\_id \textcolor{keywordflow}{in} self.queues \textcolor{keywordflow}{and} self.run[connection\_id]:
688             shared\_utils.print\_and\_log(
689                 logging.DEBUG, \textcolor{stringliteral}{'Channel (\{\}) already open'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(connection\_id)
690             )
691             \textcolor{keywordflow}{return}
692         self.run[connection\_id] = \textcolor{keyword}{True}
693         self.queues[connection\_id] = PriorityQueue()
694         self.last\_sent\_heartbeat\_time[connection\_id] = 0
695         self.pongs\_without\_heartbeat[connection\_id] = 0
696         self.last\_received\_heartbeat[connection\_id] = \textcolor{keywordtype}{None}
697         self.worker\_assign\_ids[connection\_id] = (worker\_id, assignment\_id)
698 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_a8793f6a47fa15f3b76b3660240563492}\label{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_a8793f6a47fa15f3b76b3660240563492}} 
\index{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager@{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager}!packet\+\_\+should\+\_\+block@{packet\+\_\+should\+\_\+block}}
\index{packet\+\_\+should\+\_\+block@{packet\+\_\+should\+\_\+block}!parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager@{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager}}
\subsubsection{\texorpdfstring{packet\+\_\+should\+\_\+block()}{packet\_should\_block()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+legacy\+\_\+2018.\+socket\+\_\+manager.\+Socket\+Manager.\+packet\+\_\+should\+\_\+block (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{packet\+\_\+item }\end{DoxyParamCaption})}

\begin{DoxyVerb}Helper function to determine if a packet is still blocking.
\end{DoxyVerb}
 

Definition at line 603 of file socket\+\_\+manager.\+py.


\begin{DoxyCode}
603     \textcolor{keyword}{def }packet\_should\_block(self, packet\_item):
604         \textcolor{stringliteral}{"""}
605 \textcolor{stringliteral}{        Helper function to determine if a packet is still blocking.}
606 \textcolor{stringliteral}{        """}
607         t, packet = packet\_item
608         \textcolor{keywordflow}{if} time.time() > t:
609             \textcolor{keywordflow}{return} \textcolor{keyword}{False}  \textcolor{comment}{# Exceeded blocking time}
610         \textcolor{keywordflow}{if} packet.status \textcolor{keywordflow}{in} [Packet.STATUS\_ACK, Packet.STATUS\_FAIL]:
611             \textcolor{keywordflow}{return} \textcolor{keyword}{False}  \textcolor{comment}{# No longer in blocking status}
612         \textcolor{keywordflow}{return} \textcolor{keyword}{True}
613 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_a806197fb2a39b170bdc10f93f010318c}\label{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_a806197fb2a39b170bdc10f93f010318c}} 
\index{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager@{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager}!queue\+\_\+packet@{queue\+\_\+packet}}
\index{queue\+\_\+packet@{queue\+\_\+packet}!parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager@{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager}}
\subsubsection{\texorpdfstring{queue\+\_\+packet()}{queue\_packet()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+legacy\+\_\+2018.\+socket\+\_\+manager.\+Socket\+Manager.\+queue\+\_\+packet (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{packet }\end{DoxyParamCaption})}

\begin{DoxyVerb}Queues sending a packet to its intended owner, returns True if queued
successfully and False if there is no such worker (anymore)
\end{DoxyVerb}
 

Definition at line 745 of file socket\+\_\+manager.\+py.


\begin{DoxyCode}
745     \textcolor{keyword}{def }queue\_packet(self, packet):
746         \textcolor{stringliteral}{"""}
747 \textcolor{stringliteral}{        Queues sending a packet to its intended owner, returns True if queued}
748 \textcolor{stringliteral}{        successfully and False if there is no such worker (anymore)}
749 \textcolor{stringliteral}{        """}
750         connection\_id = packet.get\_receiver\_connection\_id()
751         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} self.socket\_is\_open(connection\_id):
752             \textcolor{comment}{# Warn if there is no socket to send through for the expected recip}
753             shared\_utils.print\_and\_log(
754                 logging.WARN,
755                 \textcolor{stringliteral}{'Can not send packet to worker\_id \{\}: packet queue not found. '}
756                 \textcolor{stringliteral}{'Message: \{\}'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(connection\_id, packet.data),
757             )
758             \textcolor{keywordflow}{return} \textcolor{keyword}{False}
759         shared\_utils.print\_and\_log(
760             logging.DEBUG,
761             \textcolor{stringliteral}{'Put packet (\{\}) in queue (\{\})'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(packet.id, connection\_id),
762         )
763         \textcolor{comment}{# Get the current time to put packet into the priority queue}
764         with self.packet\_map\_lock:
765             self.packet\_map[packet.id] = packet
766         item = (time.time(), packet)
767         self.\_safe\_put(connection\_id, item)
768         \textcolor{keywordflow}{return} \textcolor{keyword}{True}
769 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_a994294d92872fd98ec0fabd9d2a56793}\label{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_a994294d92872fd98ec0fabd9d2a56793}} 
\index{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager@{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager}!shutdown@{shutdown}}
\index{shutdown@{shutdown}!parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager@{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager}}
\subsubsection{\texorpdfstring{shutdown()}{shutdown()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+legacy\+\_\+2018.\+socket\+\_\+manager.\+Socket\+Manager.\+shutdown (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}

\begin{DoxyVerb}marks the socket manager as closing, shuts down all channels.
\end{DoxyVerb}
 

Definition at line 793 of file socket\+\_\+manager.\+py.


\begin{DoxyCode}
793     \textcolor{keyword}{def }shutdown(self):
794         \textcolor{stringliteral}{"""}
795 \textcolor{stringliteral}{        marks the socket manager as closing, shuts down all channels.}
796 \textcolor{stringliteral}{        """}
797         self.is\_shutdown = \textcolor{keyword}{True}
798         self.close\_all\_channels()
799         self.keep\_running = \textcolor{keyword}{False}
800         self.\_ensure\_closed()
801 
802 
803 \textcolor{comment}{# TODO extract common functionality from the above and make both classes extend}
804 \textcolor{comment}{# from the base}
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_a8fa0c55682c0eb89ba4f4d7dcfd9fdba}\label{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_a8fa0c55682c0eb89ba4f4d7dcfd9fdba}} 
\index{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager@{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager}!socket\+\_\+is\+\_\+open@{socket\+\_\+is\+\_\+open}}
\index{socket\+\_\+is\+\_\+open@{socket\+\_\+is\+\_\+open}!parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager@{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager}}
\subsubsection{\texorpdfstring{socket\+\_\+is\+\_\+open()}{socket\_is\_open()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+legacy\+\_\+2018.\+socket\+\_\+manager.\+Socket\+Manager.\+socket\+\_\+is\+\_\+open (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{connection\+\_\+id }\end{DoxyParamCaption})}



Definition at line 742 of file socket\+\_\+manager.\+py.


\begin{DoxyCode}
742     \textcolor{keyword}{def }socket\_is\_open(self, connection\_id):
743         \textcolor{keywordflow}{return} connection\_id \textcolor{keywordflow}{in} self.queues
744 
\end{DoxyCode}


\subsection{Member Data Documentation}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_ab9e91e6d31b0a8cbee08a69cd5d54c99}\label{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_ab9e91e6d31b0a8cbee08a69cd5d54c99}} 
\index{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager@{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager}!A\+C\+K\+\_\+\+T\+I\+ME@{A\+C\+K\+\_\+\+T\+I\+ME}}
\index{A\+C\+K\+\_\+\+T\+I\+ME@{A\+C\+K\+\_\+\+T\+I\+ME}!parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager@{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager}}
\subsubsection{\texorpdfstring{A\+C\+K\+\_\+\+T\+I\+ME}{ACK\_TIME}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+legacy\+\_\+2018.\+socket\+\_\+manager.\+Socket\+Manager.\+A\+C\+K\+\_\+\+T\+I\+ME\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 208 of file socket\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_a0fc12cc7c91be28ded5e6df370879323}\label{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_a0fc12cc7c91be28ded5e6df370879323}} 
\index{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager@{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager}!alive@{alive}}
\index{alive@{alive}!parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager@{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager}}
\subsubsection{\texorpdfstring{alive}{alive}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+legacy\+\_\+2018.\+socket\+\_\+manager.\+Socket\+Manager.\+alive}



Definition at line 270 of file socket\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_ababcefebfe2b2e917d08ff38cbba85e0}\label{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_ababcefebfe2b2e917d08ff38cbba85e0}} 
\index{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager@{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager}!alive\+\_\+callback@{alive\+\_\+callback}}
\index{alive\+\_\+callback@{alive\+\_\+callback}!parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager@{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager}}
\subsubsection{\texorpdfstring{alive\+\_\+callback}{alive\_callback}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+legacy\+\_\+2018.\+socket\+\_\+manager.\+Socket\+Manager.\+alive\+\_\+callback}



Definition at line 241 of file socket\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_ab9edf9b83e376ba2f1c0a93111a1d35c}\label{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_ab9edf9b83e376ba2f1c0a93111a1d35c}} 
\index{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager@{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager}!blocking\+\_\+packets@{blocking\+\_\+packets}}
\index{blocking\+\_\+packets@{blocking\+\_\+packets}!parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager@{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager}}
\subsubsection{\texorpdfstring{blocking\+\_\+packets}{blocking\_packets}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+legacy\+\_\+2018.\+socket\+\_\+manager.\+Socket\+Manager.\+blocking\+\_\+packets}



Definition at line 258 of file socket\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_a95f11e1f710c96100b9edaf289604b79}\label{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_a95f11e1f710c96100b9edaf289604b79}} 
\index{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager@{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager}!D\+E\+F\+\_\+\+D\+E\+A\+D\+\_\+\+T\+I\+ME@{D\+E\+F\+\_\+\+D\+E\+A\+D\+\_\+\+T\+I\+ME}}
\index{D\+E\+F\+\_\+\+D\+E\+A\+D\+\_\+\+T\+I\+ME@{D\+E\+F\+\_\+\+D\+E\+A\+D\+\_\+\+T\+I\+ME}!parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager@{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager}}
\subsubsection{\texorpdfstring{D\+E\+F\+\_\+\+D\+E\+A\+D\+\_\+\+T\+I\+ME}{DEF\_DEAD\_TIME}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+legacy\+\_\+2018.\+socket\+\_\+manager.\+Socket\+Manager.\+D\+E\+F\+\_\+\+D\+E\+A\+D\+\_\+\+T\+I\+ME\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 213 of file socket\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_a0f241edfe6db02a1d9b5c0a54b7d1447}\label{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_a0f241edfe6db02a1d9b5c0a54b7d1447}} 
\index{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager@{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager}!D\+E\+F\+\_\+\+M\+I\+S\+S\+E\+D\+\_\+\+P\+O\+N\+GS@{D\+E\+F\+\_\+\+M\+I\+S\+S\+E\+D\+\_\+\+P\+O\+N\+GS}}
\index{D\+E\+F\+\_\+\+M\+I\+S\+S\+E\+D\+\_\+\+P\+O\+N\+GS@{D\+E\+F\+\_\+\+M\+I\+S\+S\+E\+D\+\_\+\+P\+O\+N\+GS}!parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager@{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager}}
\subsubsection{\texorpdfstring{D\+E\+F\+\_\+\+M\+I\+S\+S\+E\+D\+\_\+\+P\+O\+N\+GS}{DEF\_MISSED\_PONGS}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+legacy\+\_\+2018.\+socket\+\_\+manager.\+Socket\+Manager.\+D\+E\+F\+\_\+\+M\+I\+S\+S\+E\+D\+\_\+\+P\+O\+N\+GS\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 211 of file socket\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_afa855d56173d233a1dc79bb2eebc6307}\label{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_afa855d56173d233a1dc79bb2eebc6307}} 
\index{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager@{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager}!H\+E\+A\+R\+T\+B\+E\+A\+T\+\_\+\+R\+A\+TE@{H\+E\+A\+R\+T\+B\+E\+A\+T\+\_\+\+R\+A\+TE}}
\index{H\+E\+A\+R\+T\+B\+E\+A\+T\+\_\+\+R\+A\+TE@{H\+E\+A\+R\+T\+B\+E\+A\+T\+\_\+\+R\+A\+TE}!parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager@{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager}}
\subsubsection{\texorpdfstring{H\+E\+A\+R\+T\+B\+E\+A\+T\+\_\+\+R\+A\+TE}{HEARTBEAT\_RATE}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+legacy\+\_\+2018.\+socket\+\_\+manager.\+Socket\+Manager.\+H\+E\+A\+R\+T\+B\+E\+A\+T\+\_\+\+R\+A\+TE\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 212 of file socket\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_a0cf172f18269d1c15c52bf0f2b7d2be6}\label{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_a0cf172f18269d1c15c52bf0f2b7d2be6}} 
\index{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager@{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager}!is\+\_\+shutdown@{is\+\_\+shutdown}}
\index{is\+\_\+shutdown@{is\+\_\+shutdown}!parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager@{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager}}
\subsubsection{\texorpdfstring{is\+\_\+shutdown}{is\_shutdown}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+legacy\+\_\+2018.\+socket\+\_\+manager.\+Socket\+Manager.\+is\+\_\+shutdown}



Definition at line 271 of file socket\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_ab26fa8cedfbf7c4ec782c65f8550ee3e}\label{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_ab26fa8cedfbf7c4ec782c65f8550ee3e}} 
\index{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager@{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager}!keep\+\_\+running@{keep\+\_\+running}}
\index{keep\+\_\+running@{keep\+\_\+running}!parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager@{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager}}
\subsubsection{\texorpdfstring{keep\+\_\+running}{keep\_running}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+legacy\+\_\+2018.\+socket\+\_\+manager.\+Socket\+Manager.\+keep\+\_\+running}



Definition at line 252 of file socket\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_a0f1c69f518a3efcb5e03f035356a7790}\label{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_a0f1c69f518a3efcb5e03f035356a7790}} 
\index{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager@{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager}!last\+\_\+received\+\_\+heartbeat@{last\+\_\+received\+\_\+heartbeat}}
\index{last\+\_\+received\+\_\+heartbeat@{last\+\_\+received\+\_\+heartbeat}!parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager@{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager}}
\subsubsection{\texorpdfstring{last\+\_\+received\+\_\+heartbeat}{last\_received\_heartbeat}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+legacy\+\_\+2018.\+socket\+\_\+manager.\+Socket\+Manager.\+last\+\_\+received\+\_\+heartbeat}



Definition at line 262 of file socket\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_ae901bace256661621c0f1f3a5f9ac245}\label{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_ae901bace256661621c0f1f3a5f9ac245}} 
\index{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager@{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager}!last\+\_\+sent\+\_\+heartbeat\+\_\+time@{last\+\_\+sent\+\_\+heartbeat\+\_\+time}}
\index{last\+\_\+sent\+\_\+heartbeat\+\_\+time@{last\+\_\+sent\+\_\+heartbeat\+\_\+time}!parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager@{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager}}
\subsubsection{\texorpdfstring{last\+\_\+sent\+\_\+heartbeat\+\_\+time}{last\_sent\_heartbeat\_time}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+legacy\+\_\+2018.\+socket\+\_\+manager.\+Socket\+Manager.\+last\+\_\+sent\+\_\+heartbeat\+\_\+time}



Definition at line 261 of file socket\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_acf0bd7ea24ab0f7d4b879ebef34f3657}\label{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_acf0bd7ea24ab0f7d4b879ebef34f3657}} 
\index{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager@{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager}!listen\+\_\+thread@{listen\+\_\+thread}}
\index{listen\+\_\+thread@{listen\+\_\+thread}!parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager@{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager}}
\subsubsection{\texorpdfstring{listen\+\_\+thread}{listen\_thread}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+legacy\+\_\+2018.\+socket\+\_\+manager.\+Socket\+Manager.\+listen\+\_\+thread}



Definition at line 255 of file socket\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_acc942e6c0c373bcae320a0429dbae3cc}\label{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_acc942e6c0c373bcae320a0429dbae3cc}} 
\index{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager@{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager}!message\+\_\+callback@{message\+\_\+callback}}
\index{message\+\_\+callback@{message\+\_\+callback}!parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager@{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager}}
\subsubsection{\texorpdfstring{message\+\_\+callback}{message\_callback}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+legacy\+\_\+2018.\+socket\+\_\+manager.\+Socket\+Manager.\+message\+\_\+callback}



Definition at line 242 of file socket\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_aa03639a380e2e4b77d9deee1e1ca73f2}\label{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_aa03639a380e2e4b77d9deee1e1ca73f2}} 
\index{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager@{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager}!missed\+\_\+pongs@{missed\+\_\+pongs}}
\index{missed\+\_\+pongs@{missed\+\_\+pongs}!parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager@{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager}}
\subsubsection{\texorpdfstring{missed\+\_\+pongs}{missed\_pongs}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+legacy\+\_\+2018.\+socket\+\_\+manager.\+Socket\+Manager.\+missed\+\_\+pongs}



Definition at line 246 of file socket\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_ad4c06576e8c31887644510f8d5a33ee1}\label{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_ad4c06576e8c31887644510f8d5a33ee1}} 
\index{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager@{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager}!packet\+\_\+map@{packet\+\_\+map}}
\index{packet\+\_\+map@{packet\+\_\+map}!parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager@{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager}}
\subsubsection{\texorpdfstring{packet\+\_\+map}{packet\_map}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+legacy\+\_\+2018.\+socket\+\_\+manager.\+Socket\+Manager.\+packet\+\_\+map}



Definition at line 269 of file socket\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_a71d2ebfec605262a5a9d8de29c0ecaa9}\label{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_a71d2ebfec605262a5a9d8de29c0ecaa9}} 
\index{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager@{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager}!packet\+\_\+map\+\_\+lock@{packet\+\_\+map\+\_\+lock}}
\index{packet\+\_\+map\+\_\+lock@{packet\+\_\+map\+\_\+lock}!parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager@{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager}}
\subsubsection{\texorpdfstring{packet\+\_\+map\+\_\+lock}{packet\_map\_lock}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+legacy\+\_\+2018.\+socket\+\_\+manager.\+Socket\+Manager.\+packet\+\_\+map\+\_\+lock}



Definition at line 273 of file socket\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_aa440819d20eb90b0a6b33fde4b742d10}\label{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_aa440819d20eb90b0a6b33fde4b742d10}} 
\index{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager@{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager}!pongs\+\_\+without\+\_\+heartbeat@{pongs\+\_\+without\+\_\+heartbeat}}
\index{pongs\+\_\+without\+\_\+heartbeat@{pongs\+\_\+without\+\_\+heartbeat}!parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager@{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager}}
\subsubsection{\texorpdfstring{pongs\+\_\+without\+\_\+heartbeat}{pongs\_without\_heartbeat}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+legacy\+\_\+2018.\+socket\+\_\+manager.\+Socket\+Manager.\+pongs\+\_\+without\+\_\+heartbeat}



Definition at line 263 of file socket\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_aa80ae69b3f44a462d996a05a85b49cf6}\label{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_aa80ae69b3f44a462d996a05a85b49cf6}} 
\index{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager@{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager}!port@{port}}
\index{port@{port}!parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager@{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager}}
\subsubsection{\texorpdfstring{port}{port}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+legacy\+\_\+2018.\+socket\+\_\+manager.\+Socket\+Manager.\+port}



Definition at line 240 of file socket\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_a71110eaf00e72f30b53903a3f80120af}\label{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_a71110eaf00e72f30b53903a3f80120af}} 
\index{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager@{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager}!processed\+\_\+packets@{processed\+\_\+packets}}
\index{processed\+\_\+packets@{processed\+\_\+packets}!parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager@{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager}}
\subsubsection{\texorpdfstring{processed\+\_\+packets}{processed\_packets}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+legacy\+\_\+2018.\+socket\+\_\+manager.\+Socket\+Manager.\+processed\+\_\+packets}



Definition at line 268 of file socket\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_a53dd0c12c8301905c750d44c12e635b5}\label{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_a53dd0c12c8301905c750d44c12e635b5}} 
\index{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager@{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager}!queues@{queues}}
\index{queues@{queues}!parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager@{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager}}
\subsubsection{\texorpdfstring{queues}{queues}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+legacy\+\_\+2018.\+socket\+\_\+manager.\+Socket\+Manager.\+queues}



Definition at line 257 of file socket\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_aafe5700dd3b0305ed953a08679b9ba80}\label{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_aafe5700dd3b0305ed953a08679b9ba80}} 
\index{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager@{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager}!run@{run}}
\index{run@{run}!parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager@{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager}}
\subsubsection{\texorpdfstring{run}{run}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+legacy\+\_\+2018.\+socket\+\_\+manager.\+Socket\+Manager.\+run}



Definition at line 260 of file socket\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_a9b2eed50e092797ab535a44b047519c4}\label{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_a9b2eed50e092797ab535a44b047519c4}} 
\index{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager@{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager}!send\+\_\+lock@{send\+\_\+lock}}
\index{send\+\_\+lock@{send\+\_\+lock}!parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager@{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager}}
\subsubsection{\texorpdfstring{send\+\_\+lock}{send\_lock}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+legacy\+\_\+2018.\+socket\+\_\+manager.\+Socket\+Manager.\+send\+\_\+lock}



Definition at line 272 of file socket\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_a805d6a8fc46ca8e444574fb9fc803fa9}\label{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_a805d6a8fc46ca8e444574fb9fc803fa9}} 
\index{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager@{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager}!send\+\_\+thread@{send\+\_\+thread}}
\index{send\+\_\+thread@{send\+\_\+thread}!parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager@{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager}}
\subsubsection{\texorpdfstring{send\+\_\+thread}{send\_thread}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+legacy\+\_\+2018.\+socket\+\_\+manager.\+Socket\+Manager.\+send\+\_\+thread}



Definition at line 256 of file socket\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_a77c85a9f4cb4513e5a5ae9399fa133b8}\label{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_a77c85a9f4cb4513e5a5ae9399fa133b8}} 
\index{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager@{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager}!server\+\_\+death\+\_\+callback@{server\+\_\+death\+\_\+callback}}
\index{server\+\_\+death\+\_\+callback@{server\+\_\+death\+\_\+callback}!parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager@{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager}}
\subsubsection{\texorpdfstring{server\+\_\+death\+\_\+callback}{server\_death\_callback}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+legacy\+\_\+2018.\+socket\+\_\+manager.\+Socket\+Manager.\+server\+\_\+death\+\_\+callback}



Definition at line 244 of file socket\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_aac5bb60353aa8fed36a831b55d805683}\label{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_aac5bb60353aa8fed36a831b55d805683}} 
\index{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager@{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager}!server\+\_\+url@{server\+\_\+url}}
\index{server\+\_\+url@{server\+\_\+url}!parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager@{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager}}
\subsubsection{\texorpdfstring{server\+\_\+url}{server\_url}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+legacy\+\_\+2018.\+socket\+\_\+manager.\+Socket\+Manager.\+server\+\_\+url}



Definition at line 239 of file socket\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_adef2c46d45c694ae1b0ec13d7c126211}\label{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_adef2c46d45c694ae1b0ec13d7c126211}} 
\index{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager@{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager}!socket\+\_\+dead\+\_\+callback@{socket\+\_\+dead\+\_\+callback}}
\index{socket\+\_\+dead\+\_\+callback@{socket\+\_\+dead\+\_\+callback}!parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager@{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager}}
\subsubsection{\texorpdfstring{socket\+\_\+dead\+\_\+callback}{socket\_dead\_callback}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+legacy\+\_\+2018.\+socket\+\_\+manager.\+Socket\+Manager.\+socket\+\_\+dead\+\_\+callback}



Definition at line 243 of file socket\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_a7766f5aafcb9e27c5043a141e247b770}\label{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_a7766f5aafcb9e27c5043a141e247b770}} 
\index{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager@{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager}!task\+\_\+group\+\_\+id@{task\+\_\+group\+\_\+id}}
\index{task\+\_\+group\+\_\+id@{task\+\_\+group\+\_\+id}!parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager@{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager}}
\subsubsection{\texorpdfstring{task\+\_\+group\+\_\+id}{task\_group\_id}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+legacy\+\_\+2018.\+socket\+\_\+manager.\+Socket\+Manager.\+task\+\_\+group\+\_\+id}



Definition at line 249 of file socket\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_a5bbcb26e24bb4799c92d6e432dad76f1}\label{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_a5bbcb26e24bb4799c92d6e432dad76f1}} 
\index{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager@{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager}!thread\+\_\+shutdown\+\_\+lock@{thread\+\_\+shutdown\+\_\+lock}}
\index{thread\+\_\+shutdown\+\_\+lock@{thread\+\_\+shutdown\+\_\+lock}!parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager@{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager}}
\subsubsection{\texorpdfstring{thread\+\_\+shutdown\+\_\+lock}{thread\_shutdown\_lock}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+legacy\+\_\+2018.\+socket\+\_\+manager.\+Socket\+Manager.\+thread\+\_\+shutdown\+\_\+lock}



Definition at line 274 of file socket\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_a2101388d30d371d0b6cc50a856eab21f}\label{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_a2101388d30d371d0b6cc50a856eab21f}} 
\index{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager@{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager}!threads@{threads}}
\index{threads@{threads}!parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager@{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager}}
\subsubsection{\texorpdfstring{threads}{threads}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+legacy\+\_\+2018.\+socket\+\_\+manager.\+Socket\+Manager.\+threads}



Definition at line 259 of file socket\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_a36e688c77dcdc7034484e889a4074ff8}\label{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_a36e688c77dcdc7034484e889a4074ff8}} 
\index{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager@{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager}!use\+\_\+socket@{use\+\_\+socket}}
\index{use\+\_\+socket@{use\+\_\+socket}!parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager@{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager}}
\subsubsection{\texorpdfstring{use\+\_\+socket}{use\_socket}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+legacy\+\_\+2018.\+socket\+\_\+manager.\+Socket\+Manager.\+use\+\_\+socket}



Definition at line 451 of file socket\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_abef59362956404a1f7db7bad8d4955f0}\label{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_abef59362956404a1f7db7bad8d4955f0}} 
\index{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager@{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager}!worker\+\_\+assign\+\_\+ids@{worker\+\_\+assign\+\_\+ids}}
\index{worker\+\_\+assign\+\_\+ids@{worker\+\_\+assign\+\_\+ids}!parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager@{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager}}
\subsubsection{\texorpdfstring{worker\+\_\+assign\+\_\+ids}{worker\_assign\_ids}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+legacy\+\_\+2018.\+socket\+\_\+manager.\+Socket\+Manager.\+worker\+\_\+assign\+\_\+ids}



Definition at line 275 of file socket\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_ada12108ee07d549263a52089cc4d4072}\label{classparlai_1_1mturk_1_1core_1_1legacy__2018_1_1socket__manager_1_1SocketManager_ada12108ee07d549263a52089cc4d4072}} 
\index{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager@{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager}!ws@{ws}}
\index{ws@{ws}!parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager@{parlai\+::mturk\+::core\+::legacy\+\_\+2018\+::socket\+\_\+manager\+::\+Socket\+Manager}}
\subsubsection{\texorpdfstring{ws}{ws}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+legacy\+\_\+2018.\+socket\+\_\+manager.\+Socket\+Manager.\+ws}



Definition at line 251 of file socket\+\_\+manager.\+py.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
parlai/mturk/core/legacy\+\_\+2018/\hyperlink{legacy__2018_2socket__manager_8py}{socket\+\_\+manager.\+py}\end{DoxyCompactItemize}
