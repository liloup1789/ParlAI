\hypertarget{classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1modules__v0_1_1Seq2seq}{}\section{parlai.\+agents.\+legacy\+\_\+agents.\+seq2seq.\+modules\+\_\+v0.\+Seq2seq Class Reference}
\label{classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1modules__v0_1_1Seq2seq}\index{parlai.\+agents.\+legacy\+\_\+agents.\+seq2seq.\+modules\+\_\+v0.\+Seq2seq@{parlai.\+agents.\+legacy\+\_\+agents.\+seq2seq.\+modules\+\_\+v0.\+Seq2seq}}


Inheritance diagram for parlai.\+agents.\+legacy\+\_\+agents.\+seq2seq.\+modules\+\_\+v0.\+Seq2seq\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=211pt]{d3/d60/classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1modules__v0_1_1Seq2seq__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for parlai.\+agents.\+legacy\+\_\+agents.\+seq2seq.\+modules\+\_\+v0.\+Seq2seq\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=211pt]{d0/d35/classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1modules__v0_1_1Seq2seq__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1modules__v0_1_1Seq2seq_a18cac7233148ad9fd4e6a0ea290d4dbc}{\+\_\+\+\_\+init\+\_\+\+\_\+} (self, \hyperlink{classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1modules__v0_1_1Seq2seq_a2e60b16af41691a50e1c01373ee84490}{opt}, num\+\_\+features, padding\+\_\+idx=0, start\+\_\+idx=1, end\+\_\+idx=2, \hyperlink{classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1modules__v0_1_1Seq2seq_af2d1dd10d9adf8062267fb8b61920296}{longest\+\_\+label}=1)
\item 
def \hyperlink{classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1modules__v0_1_1Seq2seq_adab65a09af78ad2a9bcdca010f0d0fe6}{unbeamize\+\_\+hidden} (self, hidden, beam\+\_\+size, batch\+\_\+size)
\item 
def \hyperlink{classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1modules__v0_1_1Seq2seq_a0c0270e1e4c3f72bca49d3752d90baab}{unbeamize\+\_\+enc\+\_\+out} (self, enc\+\_\+out, beam\+\_\+size, batch\+\_\+size)
\item 
def \hyperlink{classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1modules__v0_1_1Seq2seq_a5c8f9eaa59a088164f0e23de5ca37c67}{forward} (self, xs, ys=None, cands=None, valid\+\_\+cands=None, prev\+\_\+enc=None, rank\+\_\+during\+\_\+training=False, beam\+\_\+size=1, topk=1)
\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1modules__v0_1_1Seq2seq_a2e60b16af41691a50e1c01373ee84490}{opt}
\item 
\hyperlink{classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1modules__v0_1_1Seq2seq_aa8abe77993316832af5601bf342dbe9d}{rank}
\item 
\hyperlink{classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1modules__v0_1_1Seq2seq_a005c8c9a0c2fc950aac6841b002284f9}{attn\+\_\+type}
\item 
\hyperlink{classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1modules__v0_1_1Seq2seq_a1ee5059cb8d87c633632c2cd41fc4c7e}{N\+U\+L\+L\+\_\+\+I\+DX}
\item 
\hyperlink{classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1modules__v0_1_1Seq2seq_a8edf86af4ee5f4f86402171fcf3b295f}{E\+N\+D\+\_\+\+I\+DX}
\item 
\hyperlink{classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1modules__v0_1_1Seq2seq_af2d1dd10d9adf8062267fb8b61920296}{longest\+\_\+label}
\item 
\hyperlink{classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1modules__v0_1_1Seq2seq_a2b046e68638777dc3e72858a2c484a17}{decoder}
\item 
\hyperlink{classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1modules__v0_1_1Seq2seq_af2bad7e6370b6bb7ef5c297a2826c9c5}{encoder}
\item 
\hyperlink{classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1modules__v0_1_1Seq2seq_a7a10ab57a8fe8989137f2b4cf28aa42c}{ranker}
\item 
\hyperlink{classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1modules__v0_1_1Seq2seq_aa21d1adb34b3b3ece347984310b1545f}{beam\+\_\+log\+\_\+freq}
\item 
\hyperlink{classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1modules__v0_1_1Seq2seq_aa80d0e73c519394baebfc597087017a5}{dict}
\item 
\hyperlink{classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1modules__v0_1_1Seq2seq_ae02b9025445475a06082ab529a1602a9}{beam\+\_\+dump\+\_\+filecnt}
\item 
\hyperlink{classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1modules__v0_1_1Seq2seq_a85ebfc4d5e2869524815325ca8f17803}{beam\+\_\+dump\+\_\+path}
\end{DoxyCompactItemize}
\subsection*{Static Public Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1modules__v0_1_1Seq2seq_a92764ca883dc39a9c4187ab10a38255c}{R\+N\+N\+\_\+\+O\+P\+TS}
\end{DoxyCompactItemize}


\subsection{Detailed Description}


Definition at line 35 of file modules\+\_\+v0.\+py.



\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1modules__v0_1_1Seq2seq_a18cac7233148ad9fd4e6a0ea290d4dbc}\label{classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1modules__v0_1_1Seq2seq_a18cac7233148ad9fd4e6a0ea290d4dbc}} 
\index{parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::modules\+\_\+v0\+::\+Seq2seq@{parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::modules\+\_\+v0\+::\+Seq2seq}!\+\_\+\+\_\+init\+\_\+\+\_\+@{\+\_\+\+\_\+init\+\_\+\+\_\+}}
\index{\+\_\+\+\_\+init\+\_\+\+\_\+@{\+\_\+\+\_\+init\+\_\+\+\_\+}!parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::modules\+\_\+v0\+::\+Seq2seq@{parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::modules\+\_\+v0\+::\+Seq2seq}}
\subsubsection{\texorpdfstring{\+\_\+\+\_\+init\+\_\+\+\_\+()}{\_\_init\_\_()}}
{\footnotesize\ttfamily def parlai.\+agents.\+legacy\+\_\+agents.\+seq2seq.\+modules\+\_\+v0.\+Seq2seq.\+\_\+\+\_\+init\+\_\+\+\_\+ (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{opt,  }\item[{}]{num\+\_\+features,  }\item[{}]{padding\+\_\+idx = {\ttfamily 0},  }\item[{}]{start\+\_\+idx = {\ttfamily 1},  }\item[{}]{end\+\_\+idx = {\ttfamily 2},  }\item[{}]{longest\+\_\+label = {\ttfamily 1} }\end{DoxyParamCaption})}



Definition at line 40 of file modules\+\_\+v0.\+py.


\begin{DoxyCode}
40     ):
41         super().\_\_init\_\_()
42         self.opt = opt
43 
44         self.rank = opt[\textcolor{stringliteral}{'rank\_candidates'}]
45         self.attn\_type = opt[\textcolor{stringliteral}{'attention'}]
46 
47         self.NULL\_IDX = padding\_idx
48         self.END\_IDX = end\_idx
49         self.register\_buffer(\textcolor{stringliteral}{'START'}, torch.LongTensor([start\_idx]))
50         self.longest\_label = longest\_label
51 
52         rnn\_class = Seq2seq.RNN\_OPTS[opt[\textcolor{stringliteral}{'rnn\_class'}]]
53         self.decoder = Decoder(
54             num\_features,
55             padding\_idx=self.NULL\_IDX,
56             rnn\_class=rnn\_class,
57             emb\_size=opt[\textcolor{stringliteral}{'embeddingsize'}],
58             hidden\_size=opt[\textcolor{stringliteral}{'hiddensize'}],
59             num\_layers=opt[\textcolor{stringliteral}{'numlayers'}],
60             dropout=opt[\textcolor{stringliteral}{'dropout'}],
61             share\_output=opt[\textcolor{stringliteral}{'lookuptable'}] \textcolor{keywordflow}{in} [\textcolor{stringliteral}{'dec\_out'}, \textcolor{stringliteral}{'all'}],
62             attn\_type=opt[\textcolor{stringliteral}{'attention'}],
63             attn\_length=opt[\textcolor{stringliteral}{'attention\_length'}],
64             attn\_time=opt.get(\textcolor{stringliteral}{'attention\_time'}),
65             bidir\_input=opt[\textcolor{stringliteral}{'bidirectional'}],
66             numsoftmax=opt.get(\textcolor{stringliteral}{'numsoftmax'}, 1),
67             softmax\_layer\_bias=opt.get(\textcolor{stringliteral}{'softmax\_layer\_bias'}, \textcolor{keyword}{False}),
68         )
69 
70         shared\_lt = (
71             self.decoder.lt \textcolor{keywordflow}{if} opt[\textcolor{stringliteral}{'lookuptable'}] \textcolor{keywordflow}{in} [\textcolor{stringliteral}{'enc\_dec'}, \textcolor{stringliteral}{'all'}] \textcolor{keywordflow}{else} \textcolor{keywordtype}{None}
72         )
73         shared\_rnn = self.decoder.rnn \textcolor{keywordflow}{if} opt[\textcolor{stringliteral}{'decoder'}] == \textcolor{stringliteral}{'shared'} \textcolor{keywordflow}{else} \textcolor{keywordtype}{None}
74         self.encoder = Encoder(
75             num\_features,
76             padding\_idx=self.NULL\_IDX,
77             rnn\_class=rnn\_class,
78             emb\_size=opt[\textcolor{stringliteral}{'embeddingsize'}],
79             hidden\_size=opt[\textcolor{stringliteral}{'hiddensize'}],
80             num\_layers=opt[\textcolor{stringliteral}{'numlayers'}],
81             dropout=opt[\textcolor{stringliteral}{'dropout'}],
82             bidirectional=opt[\textcolor{stringliteral}{'bidirectional'}],
83             shared\_lt=shared\_lt,
84             shared\_rnn=shared\_rnn,
85         )
86 
87         \textcolor{keywordflow}{if} self.rank:
88             self.ranker = Ranker(
89                 self.decoder, padding\_idx=self.NULL\_IDX, attn\_type=opt[\textcolor{stringliteral}{'attention'}]
90             )
91 
92         self.beam\_log\_freq = opt.get(\textcolor{stringliteral}{'beam\_log\_freq'}, 0.0)
93         \textcolor{keywordflow}{if} self.beam\_log\_freq > 0.0:
94             self.dict = DictionaryAgent(opt)
95             self.beam\_dump\_filecnt = 0
96             self.beam\_dump\_path = opt[\textcolor{stringliteral}{'model\_file'}] + \textcolor{stringliteral}{'.beam\_dump'}
97             \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} os.path.exists(self.beam\_dump\_path):
98                 os.makedirs(self.beam\_dump\_path)
99 
\end{DoxyCode}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1modules__v0_1_1Seq2seq_a5c8f9eaa59a088164f0e23de5ca37c67}\label{classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1modules__v0_1_1Seq2seq_a5c8f9eaa59a088164f0e23de5ca37c67}} 
\index{parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::modules\+\_\+v0\+::\+Seq2seq@{parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::modules\+\_\+v0\+::\+Seq2seq}!forward@{forward}}
\index{forward@{forward}!parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::modules\+\_\+v0\+::\+Seq2seq@{parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::modules\+\_\+v0\+::\+Seq2seq}}
\subsubsection{\texorpdfstring{forward()}{forward()}}
{\footnotesize\ttfamily def parlai.\+agents.\+legacy\+\_\+agents.\+seq2seq.\+modules\+\_\+v0.\+Seq2seq.\+forward (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{xs,  }\item[{}]{ys = {\ttfamily None},  }\item[{}]{cands = {\ttfamily None},  }\item[{}]{valid\+\_\+cands = {\ttfamily None},  }\item[{}]{prev\+\_\+enc = {\ttfamily None},  }\item[{}]{rank\+\_\+during\+\_\+training = {\ttfamily False},  }\item[{}]{beam\+\_\+size = {\ttfamily 1},  }\item[{}]{topk = {\ttfamily 1} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Get output predictions from the model.

Arguments:
xs -- input to the encoder
ys -- expected output from the decoder
cands -- set of candidates to rank, if applicable
valid_cands -- indices to match candidates with their appropriate xs
prev_enc -- if you know you'll pass in the same xs multiple times and
    the model is in eval mode, you can pass in the encoder output from
    the last forward pass to skip recalcuating the same encoder output
rank_during_training -- (default False) if set, ranks any available
    cands during training as well
\end{DoxyVerb}
 

Definition at line 136 of file modules\+\_\+v0.\+py.


\begin{DoxyCode}
136     ):
137         \textcolor{stringliteral}{"""}
138 \textcolor{stringliteral}{        Get output predictions from the model.}
139 \textcolor{stringliteral}{}
140 \textcolor{stringliteral}{        Arguments:}
141 \textcolor{stringliteral}{        xs -- input to the encoder}
142 \textcolor{stringliteral}{        ys -- expected output from the decoder}
143 \textcolor{stringliteral}{        cands -- set of candidates to rank, if applicable}
144 \textcolor{stringliteral}{        valid\_cands -- indices to match candidates with their appropriate xs}
145 \textcolor{stringliteral}{        prev\_enc -- if you know you'll pass in the same xs multiple times and}
146 \textcolor{stringliteral}{            the model is in eval mode, you can pass in the encoder output from}
147 \textcolor{stringliteral}{            the last forward pass to skip recalcuating the same encoder output}
148 \textcolor{stringliteral}{        rank\_during\_training -- (default False) if set, ranks any available}
149 \textcolor{stringliteral}{            cands during training as well}
150 \textcolor{stringliteral}{        """}
151         input\_xs = xs
152         nbest\_beam\_preds, nbest\_beam\_scores = \textcolor{keywordtype}{None}, \textcolor{keywordtype}{None}
153         bsz = len(xs)
154         \textcolor{keywordflow}{if} ys \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}:
155             \textcolor{comment}{# keep track of longest label we've ever seen}
156             \textcolor{comment}{# we'll never produce longer ones than that during prediction}
157             self.longest\_label = max(self.longest\_label, ys.size(1))
158 
159         \textcolor{keywordflow}{if} prev\_enc \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}:
160             enc\_out, hidden, attn\_mask = prev\_enc
161         \textcolor{keywordflow}{else}:
162             enc\_out, hidden = self.encoder(xs)
163             attn\_mask = xs.ne(0).\hyperlink{namespaceprojects_1_1controllable__dialogue_1_1make__control__dataset_aa2b7207688c641dbc094ab44eca27113}{float}() \textcolor{keywordflow}{if} self.attn\_type != \textcolor{stringliteral}{'none'} \textcolor{keywordflow}{else} \textcolor{keywordtype}{None}
164         encoder\_states = (enc\_out, hidden, attn\_mask)
165         start = self.START.detach()
166         starts = start.expand(bsz, 1)
167 
168         predictions = []
169         scores = []
170         cand\_preds, cand\_scores = \textcolor{keywordtype}{None}, \textcolor{keywordtype}{None}
171         \textcolor{keywordflow}{if} self.rank \textcolor{keywordflow}{and} cands \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}:
172             decode\_params = (start, hidden, enc\_out, attn\_mask)
173             \textcolor{keywordflow}{if} self.training:
174                 \textcolor{keywordflow}{if} rank\_during\_training:
175                     cand\_preds, cand\_scores = self.ranker.forward(
176                         cands, valid\_cands, decode\_params=decode\_params
177                     )
178             \textcolor{keywordflow}{else}:
179                 cand\_preds, cand\_scores = self.ranker.forward(
180                     cands, valid\_cands, decode\_params=decode\_params
181                 )
182 
183         \textcolor{keywordflow}{if} ys \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}:
184             y\_in = ys.narrow(1, 0, ys.size(1) - 1)
185             xs = torch.cat([starts, y\_in], 1)
186             \textcolor{keywordflow}{if} self.attn\_type == \textcolor{stringliteral}{'none'}:
187                 preds, score, hidden = self.decoder(xs, hidden, enc\_out, attn\_mask)
188                 predictions.append(preds)
189                 scores.append(score)
190             \textcolor{keywordflow}{else}:
191                 \textcolor{keywordflow}{for} i \textcolor{keywordflow}{in} range(ys.size(1)):
192                     xi = xs.select(1, i)
193                     preds, score, hidden = self.decoder(xi, hidden, enc\_out, attn\_mask)
194                     predictions.append(preds)
195                     scores.append(score)
196         \textcolor{keywordflow}{else}:
197             \textcolor{comment}{# here we do search: supported search types: greedy, beam search}
198             \textcolor{keywordflow}{if} beam\_size == 1:
199                 done = [\textcolor{keyword}{False} \textcolor{keywordflow}{for} \_ \textcolor{keywordflow}{in} range(bsz)]
200                 total\_done = 0
201                 xs = starts
202 
203                 \textcolor{keywordflow}{for} \_ \textcolor{keywordflow}{in} range(self.longest\_label):
204                     \textcolor{comment}{# generate at most longest\_label tokens}
205                     preds, score, hidden = self.decoder(
206                         xs, hidden, enc\_out, attn\_mask, topk
207                     )
208                     scores.append(score)
209                     xs = preds
210                     predictions.append(preds)
211 
212                     \textcolor{comment}{# check if we've produced the end token}
213                     \textcolor{keywordflow}{for} b \textcolor{keywordflow}{in} range(bsz):
214                         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} done[b]:
215                             \textcolor{comment}{# only add more tokens for examples that aren't done}
216                             \textcolor{keywordflow}{if} preds.data[b][0] == self.END\_IDX:
217                                 \textcolor{comment}{# if we produced END, we're done}
218                                 done[b] = \textcolor{keyword}{True}
219                                 total\_done += 1
220                     \textcolor{keywordflow}{if} total\_done == bsz:
221                         \textcolor{comment}{# no need to generate any more}
222                         \textcolor{keywordflow}{break}
223 
224             \textcolor{keywordflow}{elif} beam\_size > 1:
225                 enc\_out, hidden = (
226                     encoder\_states[0],
227                     encoder\_states[1],
228                 )  \textcolor{comment}{# take it from encoder}
229                 enc\_out = enc\_out.unsqueeze(1).\hyperlink{namespacerepeat}{repeat}(1, beam\_size, 1, 1)
230                 \textcolor{comment}{# create batch size num of beams}
231                 data\_device = enc\_out.device
232                 beams = [
233                     Beam(
234                         beam\_size,
235                         3,
236                         0,
237                         1,
238                         2,
239                         min\_n\_best=beam\_size / 2,
240                         cuda=data\_device,
241                     )
242                     \textcolor{keywordflow}{for} \_ \textcolor{keywordflow}{in} range(bsz)
243                 ]
244                 \textcolor{comment}{# init the input with start token}
245                 xs = starts
246                 \textcolor{comment}{# repeat tensors to support batched beam}
247                 xs = xs.repeat(1, beam\_size)
248                 attn\_mask = input\_xs.ne(0).\hyperlink{namespaceprojects_1_1controllable__dialogue_1_1make__control__dataset_aa2b7207688c641dbc094ab44eca27113}{float}()
249                 attn\_mask = attn\_mask.unsqueeze(1).\hyperlink{namespacerepeat}{repeat}(1, beam\_size, 1)
250                 repeated\_hidden = []
251 
252                 \textcolor{keywordflow}{if} isinstance(hidden, tuple):
253                     \textcolor{keywordflow}{for} i \textcolor{keywordflow}{in} range(len(hidden)):
254                         repeated\_hidden.append(
255                             hidden[i].unsqueeze(2).\hyperlink{namespacerepeat}{repeat}(1, 1, beam\_size, 1)
256                         )
257                     hidden = self.unbeamize\_hidden(
258                         tuple(repeated\_hidden), beam\_size, bsz
259                     )
260                 \textcolor{keywordflow}{else}:  \textcolor{comment}{# GRU}
261                     repeated\_hidden = hidden.unsqueeze(2).\hyperlink{namespacerepeat}{repeat}(1, 1, beam\_size, 1)
262                     hidden = self.unbeamize\_hidden(repeated\_hidden, beam\_size, bsz)
263                 enc\_out = self.unbeamize\_enc\_out(enc\_out, beam\_size, bsz)
264                 xs = xs.view(bsz * beam\_size, -1)
265                 \textcolor{keywordflow}{for} step \textcolor{keywordflow}{in} range(self.longest\_label):
266                     \textcolor{keywordflow}{if} all((b.done() \textcolor{keywordflow}{for} b \textcolor{keywordflow}{in} beams)):
267                         \textcolor{keywordflow}{break}
268                     out = self.decoder(xs, hidden, enc\_out)
269                     scores = out[1]
270                     scores = scores.view(bsz, beam\_size, -1)  \textcolor{comment}{# -1 is a vocab size}
271                     \textcolor{keywordflow}{for} i, b \textcolor{keywordflow}{in} enumerate(beams):
272                         b.advance(F.log\_softmax(scores[i, :], dim=-1))
273                     xs = torch.cat(
274                         [b.get\_output\_from\_current\_step() \textcolor{keywordflow}{for} b \textcolor{keywordflow}{in} beams]
275                     ).unsqueeze(-1)
276                     permute\_hidden\_idx = torch.cat(
277                         [
278                             beam\_size * i + b.get\_backtrack\_from\_current\_step()
279                             \textcolor{keywordflow}{for} i, b \textcolor{keywordflow}{in} enumerate(beams)
280                         ]
281                     )
282                     new\_hidden = out[2]
283                     \textcolor{keywordflow}{if} isinstance(hidden, tuple):
284                         \textcolor{keywordflow}{for} i \textcolor{keywordflow}{in} range(len(hidden)):
285                             hidden[i].data.copy\_(
286                                 new\_hidden[i].data.index\_select(
287                                     dim=1, index=permute\_hidden\_idx
288                                 )
289                             )
290                     \textcolor{keywordflow}{else}:  \textcolor{comment}{# GRU}
291                         hidden.data.copy\_(
292                             new\_hidden.data.index\_select(
293                                 dim=1, index=permute\_hidden\_idx
294                             )
295                         )
296 
297                 \textcolor{keywordflow}{for} b \textcolor{keywordflow}{in} beams:
298                     b.check\_finished()
299                 beam\_pred = [
300                     b.get\_pretty\_hypothesis(b.get\_top\_hyp()[0])[1:] \textcolor{keywordflow}{for} b \textcolor{keywordflow}{in} beams
301                 ]
302                 \textcolor{comment}{# these beam scores are rescored with length penalty!}
303                 beam\_scores = torch.stack([b.get\_top\_hyp()[1] \textcolor{keywordflow}{for} b \textcolor{keywordflow}{in} beams])
304                 pad\_length = max([t.size(0) \textcolor{keywordflow}{for} t \textcolor{keywordflow}{in} beam\_pred])
305                 beam\_pred = torch.stack(
306                     [\hyperlink{namespaceparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1modules__v0_afab760d03d96d6a368953b7173ea189a}{pad}(t, length=pad\_length, dim=0) \textcolor{keywordflow}{for} t \textcolor{keywordflow}{in} beam\_pred], dim=0
307                 )
308 
309                 \textcolor{comment}{#  prepare n best list for each beam}
310                 n\_best\_beam\_tails = [
311                     b.get\_rescored\_finished(n\_best=len(b.finished)) \textcolor{keywordflow}{for} b \textcolor{keywordflow}{in} beams
312                 ]
313                 nbest\_beam\_scores = []
314                 nbest\_beam\_preds = []
315                 \textcolor{keywordflow}{for} i, beamtails \textcolor{keywordflow}{in} enumerate(n\_best\_beam\_tails):
316                     perbeam\_preds = []
317                     perbeam\_scores = []
318                     \textcolor{keywordflow}{for} tail \textcolor{keywordflow}{in} beamtails:
319                         perbeam\_preds.append(
320                             beams[i].get\_pretty\_hypothesis(
321                                 beams[i].get\_hyp\_from\_finished(tail)
322                             )
323                         )
324                         perbeam\_scores.append(tail.score)
325                     nbest\_beam\_scores.append(perbeam\_scores)
326                     nbest\_beam\_preds.append(perbeam\_preds)
327 
328                 \textcolor{keywordflow}{if} self.beam\_log\_freq > 0.0:
329                     num\_dump = round(bsz * self.beam\_log\_freq)
330                     \textcolor{keywordflow}{for} i \textcolor{keywordflow}{in} range(num\_dump):
331                         dot\_graph = beams[i].get\_beam\_dot(dictionary=self.dict)
332                         dot\_graph.write\_png(
333                             os.path.join(
334                                 self.beam\_dump\_path,
335                                 \textcolor{stringliteral}{"\{\}.png"}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(self.beam\_dump\_filecnt),
336                             )
337                         )
338                         self.beam\_dump\_filecnt += 1
339 
340                 predictions = beam\_pred
341                 scores = beam\_scores
342 
343         \textcolor{keywordflow}{if} isinstance(predictions, list):
344             predictions = torch.cat(predictions, 1)
345         \textcolor{keywordflow}{if} isinstance(scores, list):
346             scores = torch.cat(scores, 1)
347 
348         \textcolor{keywordflow}{return} (
349             predictions,
350             scores,
351             cand\_preds,
352             cand\_scores,
353             encoder\_states,
354             nbest\_beam\_preds,
355             nbest\_beam\_scores,
356         )
357 
358 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1modules__v0_1_1Seq2seq_a0c0270e1e4c3f72bca49d3752d90baab}\label{classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1modules__v0_1_1Seq2seq_a0c0270e1e4c3f72bca49d3752d90baab}} 
\index{parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::modules\+\_\+v0\+::\+Seq2seq@{parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::modules\+\_\+v0\+::\+Seq2seq}!unbeamize\+\_\+enc\+\_\+out@{unbeamize\+\_\+enc\+\_\+out}}
\index{unbeamize\+\_\+enc\+\_\+out@{unbeamize\+\_\+enc\+\_\+out}!parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::modules\+\_\+v0\+::\+Seq2seq@{parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::modules\+\_\+v0\+::\+Seq2seq}}
\subsubsection{\texorpdfstring{unbeamize\+\_\+enc\+\_\+out()}{unbeamize\_enc\_out()}}
{\footnotesize\ttfamily def parlai.\+agents.\+legacy\+\_\+agents.\+seq2seq.\+modules\+\_\+v0.\+Seq2seq.\+unbeamize\+\_\+enc\+\_\+out (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{enc\+\_\+out,  }\item[{}]{beam\+\_\+size,  }\item[{}]{batch\+\_\+size }\end{DoxyParamCaption})}



Definition at line 122 of file modules\+\_\+v0.\+py.


\begin{DoxyCode}
122     \textcolor{keyword}{def }unbeamize\_enc\_out(self, enc\_out, beam\_size, batch\_size):
123         hidden\_size = enc\_out.size(-1)
124         \textcolor{keywordflow}{return} enc\_out.view(batch\_size * beam\_size, -1, hidden\_size)
125 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1modules__v0_1_1Seq2seq_adab65a09af78ad2a9bcdca010f0d0fe6}\label{classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1modules__v0_1_1Seq2seq_adab65a09af78ad2a9bcdca010f0d0fe6}} 
\index{parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::modules\+\_\+v0\+::\+Seq2seq@{parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::modules\+\_\+v0\+::\+Seq2seq}!unbeamize\+\_\+hidden@{unbeamize\+\_\+hidden}}
\index{unbeamize\+\_\+hidden@{unbeamize\+\_\+hidden}!parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::modules\+\_\+v0\+::\+Seq2seq@{parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::modules\+\_\+v0\+::\+Seq2seq}}
\subsubsection{\texorpdfstring{unbeamize\+\_\+hidden()}{unbeamize\_hidden()}}
{\footnotesize\ttfamily def parlai.\+agents.\+legacy\+\_\+agents.\+seq2seq.\+modules\+\_\+v0.\+Seq2seq.\+unbeamize\+\_\+hidden (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{hidden,  }\item[{}]{beam\+\_\+size,  }\item[{}]{batch\+\_\+size }\end{DoxyParamCaption})}

\begin{DoxyVerb}Creates a view of the hidden where batch axis is collapsed with beam axis, we
need to do this for batched beam search, i.e. we emulate bigger mini-batch.

:param hidden: hidden state of the decoder
:param beam_size: beam size, i.e. num of hypothesis
:param batch_size: number of samples in the mini batch
:return: view of the hidden
\end{DoxyVerb}
 

Definition at line 100 of file modules\+\_\+v0.\+py.


\begin{DoxyCode}
100     \textcolor{keyword}{def }unbeamize\_hidden(self, hidden, beam\_size, batch\_size):
101         \textcolor{stringliteral}{"""}
102 \textcolor{stringliteral}{        Creates a view of the hidden where batch axis is collapsed with beam axis, we}
103 \textcolor{stringliteral}{        need to do this for batched beam search, i.e. we emulate bigger mini-batch.}
104 \textcolor{stringliteral}{}
105 \textcolor{stringliteral}{        :param hidden: hidden state of the decoder}
106 \textcolor{stringliteral}{        :param beam\_size: beam size, i.e. num of hypothesis}
107 \textcolor{stringliteral}{        :param batch\_size: number of samples in the mini batch}
108 \textcolor{stringliteral}{        :return: view of the hidden}
109 \textcolor{stringliteral}{        """}
110         \textcolor{keywordflow}{if} isinstance(hidden, tuple):
111             num\_layers = hidden[0].size(0)
112             hidden\_size = hidden[0].size(-1)
113             \textcolor{keywordflow}{return} (
114                 hidden[0].view(num\_layers, batch\_size * beam\_size, hidden\_size),
115                 hidden[1].view(num\_layers, batch\_size * beam\_size, hidden\_size),
116             )
117         \textcolor{keywordflow}{else}:  \textcolor{comment}{# GRU}
118             num\_layers = hidden.size(0)
119             hidden\_size = hidden.size(-1)
120             \textcolor{keywordflow}{return} hidden.view(num\_layers, batch\_size * beam\_size, hidden\_size)
121 
\end{DoxyCode}


\subsection{Member Data Documentation}
\mbox{\Hypertarget{classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1modules__v0_1_1Seq2seq_a005c8c9a0c2fc950aac6841b002284f9}\label{classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1modules__v0_1_1Seq2seq_a005c8c9a0c2fc950aac6841b002284f9}} 
\index{parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::modules\+\_\+v0\+::\+Seq2seq@{parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::modules\+\_\+v0\+::\+Seq2seq}!attn\+\_\+type@{attn\+\_\+type}}
\index{attn\+\_\+type@{attn\+\_\+type}!parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::modules\+\_\+v0\+::\+Seq2seq@{parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::modules\+\_\+v0\+::\+Seq2seq}}
\subsubsection{\texorpdfstring{attn\+\_\+type}{attn\_type}}
{\footnotesize\ttfamily parlai.\+agents.\+legacy\+\_\+agents.\+seq2seq.\+modules\+\_\+v0.\+Seq2seq.\+attn\+\_\+type}



Definition at line 45 of file modules\+\_\+v0.\+py.

\mbox{\Hypertarget{classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1modules__v0_1_1Seq2seq_ae02b9025445475a06082ab529a1602a9}\label{classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1modules__v0_1_1Seq2seq_ae02b9025445475a06082ab529a1602a9}} 
\index{parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::modules\+\_\+v0\+::\+Seq2seq@{parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::modules\+\_\+v0\+::\+Seq2seq}!beam\+\_\+dump\+\_\+filecnt@{beam\+\_\+dump\+\_\+filecnt}}
\index{beam\+\_\+dump\+\_\+filecnt@{beam\+\_\+dump\+\_\+filecnt}!parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::modules\+\_\+v0\+::\+Seq2seq@{parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::modules\+\_\+v0\+::\+Seq2seq}}
\subsubsection{\texorpdfstring{beam\+\_\+dump\+\_\+filecnt}{beam\_dump\_filecnt}}
{\footnotesize\ttfamily parlai.\+agents.\+legacy\+\_\+agents.\+seq2seq.\+modules\+\_\+v0.\+Seq2seq.\+beam\+\_\+dump\+\_\+filecnt}



Definition at line 95 of file modules\+\_\+v0.\+py.

\mbox{\Hypertarget{classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1modules__v0_1_1Seq2seq_a85ebfc4d5e2869524815325ca8f17803}\label{classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1modules__v0_1_1Seq2seq_a85ebfc4d5e2869524815325ca8f17803}} 
\index{parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::modules\+\_\+v0\+::\+Seq2seq@{parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::modules\+\_\+v0\+::\+Seq2seq}!beam\+\_\+dump\+\_\+path@{beam\+\_\+dump\+\_\+path}}
\index{beam\+\_\+dump\+\_\+path@{beam\+\_\+dump\+\_\+path}!parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::modules\+\_\+v0\+::\+Seq2seq@{parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::modules\+\_\+v0\+::\+Seq2seq}}
\subsubsection{\texorpdfstring{beam\+\_\+dump\+\_\+path}{beam\_dump\_path}}
{\footnotesize\ttfamily parlai.\+agents.\+legacy\+\_\+agents.\+seq2seq.\+modules\+\_\+v0.\+Seq2seq.\+beam\+\_\+dump\+\_\+path}



Definition at line 96 of file modules\+\_\+v0.\+py.

\mbox{\Hypertarget{classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1modules__v0_1_1Seq2seq_aa21d1adb34b3b3ece347984310b1545f}\label{classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1modules__v0_1_1Seq2seq_aa21d1adb34b3b3ece347984310b1545f}} 
\index{parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::modules\+\_\+v0\+::\+Seq2seq@{parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::modules\+\_\+v0\+::\+Seq2seq}!beam\+\_\+log\+\_\+freq@{beam\+\_\+log\+\_\+freq}}
\index{beam\+\_\+log\+\_\+freq@{beam\+\_\+log\+\_\+freq}!parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::modules\+\_\+v0\+::\+Seq2seq@{parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::modules\+\_\+v0\+::\+Seq2seq}}
\subsubsection{\texorpdfstring{beam\+\_\+log\+\_\+freq}{beam\_log\_freq}}
{\footnotesize\ttfamily parlai.\+agents.\+legacy\+\_\+agents.\+seq2seq.\+modules\+\_\+v0.\+Seq2seq.\+beam\+\_\+log\+\_\+freq}



Definition at line 92 of file modules\+\_\+v0.\+py.

\mbox{\Hypertarget{classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1modules__v0_1_1Seq2seq_a2b046e68638777dc3e72858a2c484a17}\label{classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1modules__v0_1_1Seq2seq_a2b046e68638777dc3e72858a2c484a17}} 
\index{parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::modules\+\_\+v0\+::\+Seq2seq@{parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::modules\+\_\+v0\+::\+Seq2seq}!decoder@{decoder}}
\index{decoder@{decoder}!parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::modules\+\_\+v0\+::\+Seq2seq@{parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::modules\+\_\+v0\+::\+Seq2seq}}
\subsubsection{\texorpdfstring{decoder}{decoder}}
{\footnotesize\ttfamily parlai.\+agents.\+legacy\+\_\+agents.\+seq2seq.\+modules\+\_\+v0.\+Seq2seq.\+decoder}



Definition at line 53 of file modules\+\_\+v0.\+py.

\mbox{\Hypertarget{classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1modules__v0_1_1Seq2seq_aa80d0e73c519394baebfc597087017a5}\label{classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1modules__v0_1_1Seq2seq_aa80d0e73c519394baebfc597087017a5}} 
\index{parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::modules\+\_\+v0\+::\+Seq2seq@{parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::modules\+\_\+v0\+::\+Seq2seq}!dict@{dict}}
\index{dict@{dict}!parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::modules\+\_\+v0\+::\+Seq2seq@{parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::modules\+\_\+v0\+::\+Seq2seq}}
\subsubsection{\texorpdfstring{dict}{dict}}
{\footnotesize\ttfamily parlai.\+agents.\+legacy\+\_\+agents.\+seq2seq.\+modules\+\_\+v0.\+Seq2seq.\+dict}



Definition at line 94 of file modules\+\_\+v0.\+py.

\mbox{\Hypertarget{classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1modules__v0_1_1Seq2seq_af2bad7e6370b6bb7ef5c297a2826c9c5}\label{classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1modules__v0_1_1Seq2seq_af2bad7e6370b6bb7ef5c297a2826c9c5}} 
\index{parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::modules\+\_\+v0\+::\+Seq2seq@{parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::modules\+\_\+v0\+::\+Seq2seq}!encoder@{encoder}}
\index{encoder@{encoder}!parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::modules\+\_\+v0\+::\+Seq2seq@{parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::modules\+\_\+v0\+::\+Seq2seq}}
\subsubsection{\texorpdfstring{encoder}{encoder}}
{\footnotesize\ttfamily parlai.\+agents.\+legacy\+\_\+agents.\+seq2seq.\+modules\+\_\+v0.\+Seq2seq.\+encoder}



Definition at line 74 of file modules\+\_\+v0.\+py.

\mbox{\Hypertarget{classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1modules__v0_1_1Seq2seq_a8edf86af4ee5f4f86402171fcf3b295f}\label{classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1modules__v0_1_1Seq2seq_a8edf86af4ee5f4f86402171fcf3b295f}} 
\index{parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::modules\+\_\+v0\+::\+Seq2seq@{parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::modules\+\_\+v0\+::\+Seq2seq}!E\+N\+D\+\_\+\+I\+DX@{E\+N\+D\+\_\+\+I\+DX}}
\index{E\+N\+D\+\_\+\+I\+DX@{E\+N\+D\+\_\+\+I\+DX}!parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::modules\+\_\+v0\+::\+Seq2seq@{parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::modules\+\_\+v0\+::\+Seq2seq}}
\subsubsection{\texorpdfstring{E\+N\+D\+\_\+\+I\+DX}{END\_IDX}}
{\footnotesize\ttfamily parlai.\+agents.\+legacy\+\_\+agents.\+seq2seq.\+modules\+\_\+v0.\+Seq2seq.\+E\+N\+D\+\_\+\+I\+DX}



Definition at line 48 of file modules\+\_\+v0.\+py.

\mbox{\Hypertarget{classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1modules__v0_1_1Seq2seq_af2d1dd10d9adf8062267fb8b61920296}\label{classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1modules__v0_1_1Seq2seq_af2d1dd10d9adf8062267fb8b61920296}} 
\index{parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::modules\+\_\+v0\+::\+Seq2seq@{parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::modules\+\_\+v0\+::\+Seq2seq}!longest\+\_\+label@{longest\+\_\+label}}
\index{longest\+\_\+label@{longest\+\_\+label}!parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::modules\+\_\+v0\+::\+Seq2seq@{parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::modules\+\_\+v0\+::\+Seq2seq}}
\subsubsection{\texorpdfstring{longest\+\_\+label}{longest\_label}}
{\footnotesize\ttfamily parlai.\+agents.\+legacy\+\_\+agents.\+seq2seq.\+modules\+\_\+v0.\+Seq2seq.\+longest\+\_\+label}



Definition at line 50 of file modules\+\_\+v0.\+py.

\mbox{\Hypertarget{classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1modules__v0_1_1Seq2seq_a1ee5059cb8d87c633632c2cd41fc4c7e}\label{classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1modules__v0_1_1Seq2seq_a1ee5059cb8d87c633632c2cd41fc4c7e}} 
\index{parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::modules\+\_\+v0\+::\+Seq2seq@{parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::modules\+\_\+v0\+::\+Seq2seq}!N\+U\+L\+L\+\_\+\+I\+DX@{N\+U\+L\+L\+\_\+\+I\+DX}}
\index{N\+U\+L\+L\+\_\+\+I\+DX@{N\+U\+L\+L\+\_\+\+I\+DX}!parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::modules\+\_\+v0\+::\+Seq2seq@{parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::modules\+\_\+v0\+::\+Seq2seq}}
\subsubsection{\texorpdfstring{N\+U\+L\+L\+\_\+\+I\+DX}{NULL\_IDX}}
{\footnotesize\ttfamily parlai.\+agents.\+legacy\+\_\+agents.\+seq2seq.\+modules\+\_\+v0.\+Seq2seq.\+N\+U\+L\+L\+\_\+\+I\+DX}



Definition at line 47 of file modules\+\_\+v0.\+py.

\mbox{\Hypertarget{classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1modules__v0_1_1Seq2seq_a2e60b16af41691a50e1c01373ee84490}\label{classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1modules__v0_1_1Seq2seq_a2e60b16af41691a50e1c01373ee84490}} 
\index{parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::modules\+\_\+v0\+::\+Seq2seq@{parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::modules\+\_\+v0\+::\+Seq2seq}!opt@{opt}}
\index{opt@{opt}!parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::modules\+\_\+v0\+::\+Seq2seq@{parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::modules\+\_\+v0\+::\+Seq2seq}}
\subsubsection{\texorpdfstring{opt}{opt}}
{\footnotesize\ttfamily parlai.\+agents.\+legacy\+\_\+agents.\+seq2seq.\+modules\+\_\+v0.\+Seq2seq.\+opt}



Definition at line 42 of file modules\+\_\+v0.\+py.

\mbox{\Hypertarget{classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1modules__v0_1_1Seq2seq_aa8abe77993316832af5601bf342dbe9d}\label{classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1modules__v0_1_1Seq2seq_aa8abe77993316832af5601bf342dbe9d}} 
\index{parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::modules\+\_\+v0\+::\+Seq2seq@{parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::modules\+\_\+v0\+::\+Seq2seq}!rank@{rank}}
\index{rank@{rank}!parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::modules\+\_\+v0\+::\+Seq2seq@{parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::modules\+\_\+v0\+::\+Seq2seq}}
\subsubsection{\texorpdfstring{rank}{rank}}
{\footnotesize\ttfamily parlai.\+agents.\+legacy\+\_\+agents.\+seq2seq.\+modules\+\_\+v0.\+Seq2seq.\+rank}



Definition at line 44 of file modules\+\_\+v0.\+py.

\mbox{\Hypertarget{classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1modules__v0_1_1Seq2seq_a7a10ab57a8fe8989137f2b4cf28aa42c}\label{classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1modules__v0_1_1Seq2seq_a7a10ab57a8fe8989137f2b4cf28aa42c}} 
\index{parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::modules\+\_\+v0\+::\+Seq2seq@{parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::modules\+\_\+v0\+::\+Seq2seq}!ranker@{ranker}}
\index{ranker@{ranker}!parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::modules\+\_\+v0\+::\+Seq2seq@{parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::modules\+\_\+v0\+::\+Seq2seq}}
\subsubsection{\texorpdfstring{ranker}{ranker}}
{\footnotesize\ttfamily parlai.\+agents.\+legacy\+\_\+agents.\+seq2seq.\+modules\+\_\+v0.\+Seq2seq.\+ranker}



Definition at line 88 of file modules\+\_\+v0.\+py.

\mbox{\Hypertarget{classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1modules__v0_1_1Seq2seq_a92764ca883dc39a9c4187ab10a38255c}\label{classparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1modules__v0_1_1Seq2seq_a92764ca883dc39a9c4187ab10a38255c}} 
\index{parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::modules\+\_\+v0\+::\+Seq2seq@{parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::modules\+\_\+v0\+::\+Seq2seq}!R\+N\+N\+\_\+\+O\+P\+TS@{R\+N\+N\+\_\+\+O\+P\+TS}}
\index{R\+N\+N\+\_\+\+O\+P\+TS@{R\+N\+N\+\_\+\+O\+P\+TS}!parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::modules\+\_\+v0\+::\+Seq2seq@{parlai\+::agents\+::legacy\+\_\+agents\+::seq2seq\+::modules\+\_\+v0\+::\+Seq2seq}}
\subsubsection{\texorpdfstring{R\+N\+N\+\_\+\+O\+P\+TS}{RNN\_OPTS}}
{\footnotesize\ttfamily parlai.\+agents.\+legacy\+\_\+agents.\+seq2seq.\+modules\+\_\+v0.\+Seq2seq.\+R\+N\+N\+\_\+\+O\+P\+TS\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 36 of file modules\+\_\+v0.\+py.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
parlai/agents/legacy\+\_\+agents/seq2seq/\hyperlink{seq2seq_2modules__v0_8py}{modules\+\_\+v0.\+py}\end{DoxyCompactItemize}
