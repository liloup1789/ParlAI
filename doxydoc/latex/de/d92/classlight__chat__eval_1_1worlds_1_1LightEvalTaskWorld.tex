\hypertarget{classlight__chat__eval_1_1worlds_1_1LightEvalTaskWorld}{}\section{light\+\_\+chat\+\_\+eval.\+worlds.\+Light\+Eval\+Task\+World Class Reference}
\label{classlight__chat__eval_1_1worlds_1_1LightEvalTaskWorld}\index{light\+\_\+chat\+\_\+eval.\+worlds.\+Light\+Eval\+Task\+World@{light\+\_\+chat\+\_\+eval.\+worlds.\+Light\+Eval\+Task\+World}}


Inheritance diagram for light\+\_\+chat\+\_\+eval.\+worlds.\+Light\+Eval\+Task\+World\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=217pt]{d9/d93/classlight__chat__eval_1_1worlds_1_1LightEvalTaskWorld__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for light\+\_\+chat\+\_\+eval.\+worlds.\+Light\+Eval\+Task\+World\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=217pt]{d5/d62/classlight__chat__eval_1_1worlds_1_1LightEvalTaskWorld__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{classlight__chat__eval_1_1worlds_1_1LightEvalTaskWorld_a9f9e7de884af532dc436e72c8c0011fc}{\+\_\+\+\_\+init\+\_\+\+\_\+} (self, \hyperlink{classparlai_1_1core_1_1worlds_1_1World_a3640d92718acd3e6942a28c1ab3678bd}{opt}, mturk\+\_\+agents, sample, \hyperlink{classlight__chat__eval_1_1worlds_1_1LightEvalTaskWorld_ad605071600d13b139e24541051eb4afb}{use\+\_\+train}, \hyperlink{classlight__chat__eval_1_1worlds_1_1LightEvalTaskWorld_a272355df766ac2722a7547deb5755651}{max\+\_\+wrong})
\item 
def \hyperlink{classlight__chat__eval_1_1worlds_1_1LightEvalTaskWorld_a0530e173b2c53acc0129ff45b628fece}{extract\+\_\+from\+\_\+flag} (self, text, flag)
\item 
def \hyperlink{classlight__chat__eval_1_1worlds_1_1LightEvalTaskWorld_a55840132c24a5cd4147123774ed4dd55}{get\+\_\+current\+\_\+turn\+\_\+context} (self)
\item 
def \hyperlink{classlight__chat__eval_1_1worlds_1_1LightEvalTaskWorld_ae0eca37fa3376ebcd24115d1246dfd81}{parley} (self)
\item 
def \hyperlink{classlight__chat__eval_1_1worlds_1_1LightEvalTaskWorld_a950251a737281924e06c7720c2de9dd8}{episode\+\_\+done} (self)
\item 
def \hyperlink{classlight__chat__eval_1_1worlds_1_1LightEvalTaskWorld_a86acc8c22dd59f854c4a43f34d804975}{shutdown} (self)
\item 
def \hyperlink{classlight__chat__eval_1_1worlds_1_1LightEvalTaskWorld_ad7b6b353e331f0e4eb6a0bc9198a58ee}{get\+\_\+custom\+\_\+task\+\_\+data} (self)
\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classlight__chat__eval_1_1worlds_1_1LightEvalTaskWorld_ac8f15206b335ec5ea3498a3ee1b0f65f}{mturk\+\_\+agent}
\item 
\hyperlink{classlight__chat__eval_1_1worlds_1_1LightEvalTaskWorld_a60c0b70ca0cfb7d35c2b0eac85df0cf1}{sample\+\_\+acts}
\item 
\hyperlink{classlight__chat__eval_1_1worlds_1_1LightEvalTaskWorld_a54478e731c75aaf71048894bb762a005}{turn}
\item 
\hyperlink{classlight__chat__eval_1_1worlds_1_1LightEvalTaskWorld_ab0ffce12733c1c46f5dc64b1a802f1e2}{episode\+Done}
\item 
\hyperlink{classlight__chat__eval_1_1worlds_1_1LightEvalTaskWorld_a1deec2abb5e96799ec49097721586013}{completed}
\item 
\hyperlink{classlight__chat__eval_1_1worlds_1_1LightEvalTaskWorld_a9dac942996f55099107ba813e91ce437}{selections}
\item 
\hyperlink{classlight__chat__eval_1_1worlds_1_1LightEvalTaskWorld_a89359a6fdc961c97b5859980b3790540}{corrects}
\item 
\hyperlink{classlight__chat__eval_1_1worlds_1_1LightEvalTaskWorld_ad605071600d13b139e24541051eb4afb}{use\+\_\+train}
\item 
\hyperlink{classlight__chat__eval_1_1worlds_1_1LightEvalTaskWorld_a272355df766ac2722a7547deb5755651}{max\+\_\+wrong}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
\begin{DoxyVerb}Task world steps the worker through a conversation, giving them cands to select from
as if they are a retrieval model.
\end{DoxyVerb}
 

Definition at line 221 of file worlds.\+py.



\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classlight__chat__eval_1_1worlds_1_1LightEvalTaskWorld_a9f9e7de884af532dc436e72c8c0011fc}\label{classlight__chat__eval_1_1worlds_1_1LightEvalTaskWorld_a9f9e7de884af532dc436e72c8c0011fc}} 
\index{light\+\_\+chat\+\_\+eval\+::worlds\+::\+Light\+Eval\+Task\+World@{light\+\_\+chat\+\_\+eval\+::worlds\+::\+Light\+Eval\+Task\+World}!\+\_\+\+\_\+init\+\_\+\+\_\+@{\+\_\+\+\_\+init\+\_\+\+\_\+}}
\index{\+\_\+\+\_\+init\+\_\+\+\_\+@{\+\_\+\+\_\+init\+\_\+\+\_\+}!light\+\_\+chat\+\_\+eval\+::worlds\+::\+Light\+Eval\+Task\+World@{light\+\_\+chat\+\_\+eval\+::worlds\+::\+Light\+Eval\+Task\+World}}
\subsubsection{\texorpdfstring{\+\_\+\+\_\+init\+\_\+\+\_\+()}{\_\_init\_\_()}}
{\footnotesize\ttfamily def light\+\_\+chat\+\_\+eval.\+worlds.\+Light\+Eval\+Task\+World.\+\_\+\+\_\+init\+\_\+\+\_\+ (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{opt,  }\item[{}]{mturk\+\_\+agents,  }\item[{}]{sample,  }\item[{}]{use\+\_\+train,  }\item[{}]{max\+\_\+wrong }\end{DoxyParamCaption})}



Definition at line 227 of file worlds.\+py.


\begin{DoxyCode}
227     \textcolor{keyword}{def }\_\_init\_\_(self, opt, mturk\_agents, sample, use\_train, max\_wrong):
228         self.mturk\_agent = mturk\_agents[0]
229         self.sample\_acts = sample
230         self.turn = 0
231         self.episodeDone = \textcolor{keyword}{False}
232         self.completed = \textcolor{keyword}{False}
233         self.selections = []
234         self.corrects = [
235             ex[\textcolor{stringliteral}{'labels'}][0] \textcolor{keywordflow}{if} \textcolor{stringliteral}{'labels'} \textcolor{keywordflow}{in} ex \textcolor{keywordflow}{else} ex[\textcolor{stringliteral}{'eval\_labels'}] \textcolor{keywordflow}{for} ex \textcolor{keywordflow}{in} sample
236         ]
237         self.use\_train = use\_train
238         self.max\_wrong = max\_wrong
239 
\end{DoxyCode}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{classlight__chat__eval_1_1worlds_1_1LightEvalTaskWorld_a950251a737281924e06c7720c2de9dd8}\label{classlight__chat__eval_1_1worlds_1_1LightEvalTaskWorld_a950251a737281924e06c7720c2de9dd8}} 
\index{light\+\_\+chat\+\_\+eval\+::worlds\+::\+Light\+Eval\+Task\+World@{light\+\_\+chat\+\_\+eval\+::worlds\+::\+Light\+Eval\+Task\+World}!episode\+\_\+done@{episode\+\_\+done}}
\index{episode\+\_\+done@{episode\+\_\+done}!light\+\_\+chat\+\_\+eval\+::worlds\+::\+Light\+Eval\+Task\+World@{light\+\_\+chat\+\_\+eval\+::worlds\+::\+Light\+Eval\+Task\+World}}
\subsubsection{\texorpdfstring{episode\+\_\+done()}{episode\_done()}}
{\footnotesize\ttfamily def light\+\_\+chat\+\_\+eval.\+worlds.\+Light\+Eval\+Task\+World.\+episode\+\_\+done (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line 369 of file worlds.\+py.


\begin{DoxyCode}
369     \textcolor{keyword}{def }episode\_done(self):
370         \textcolor{keywordflow}{return} self.episodeDone
371 
\end{DoxyCode}
\mbox{\Hypertarget{classlight__chat__eval_1_1worlds_1_1LightEvalTaskWorld_a0530e173b2c53acc0129ff45b628fece}\label{classlight__chat__eval_1_1worlds_1_1LightEvalTaskWorld_a0530e173b2c53acc0129ff45b628fece}} 
\index{light\+\_\+chat\+\_\+eval\+::worlds\+::\+Light\+Eval\+Task\+World@{light\+\_\+chat\+\_\+eval\+::worlds\+::\+Light\+Eval\+Task\+World}!extract\+\_\+from\+\_\+flag@{extract\+\_\+from\+\_\+flag}}
\index{extract\+\_\+from\+\_\+flag@{extract\+\_\+from\+\_\+flag}!light\+\_\+chat\+\_\+eval\+::worlds\+::\+Light\+Eval\+Task\+World@{light\+\_\+chat\+\_\+eval\+::worlds\+::\+Light\+Eval\+Task\+World}}
\subsubsection{\texorpdfstring{extract\+\_\+from\+\_\+flag()}{extract\_from\_flag()}}
{\footnotesize\ttfamily def light\+\_\+chat\+\_\+eval.\+worlds.\+Light\+Eval\+Task\+World.\+extract\+\_\+from\+\_\+flag (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{text,  }\item[{}]{flag }\end{DoxyParamCaption})}



Definition at line 240 of file worlds.\+py.


\begin{DoxyCode}
240     \textcolor{keyword}{def }extract\_from\_flag(self, text, flag):
241         \textcolor{keywordflow}{return} text.split(flag)[1]
242 
\end{DoxyCode}
\mbox{\Hypertarget{classlight__chat__eval_1_1worlds_1_1LightEvalTaskWorld_a55840132c24a5cd4147123774ed4dd55}\label{classlight__chat__eval_1_1worlds_1_1LightEvalTaskWorld_a55840132c24a5cd4147123774ed4dd55}} 
\index{light\+\_\+chat\+\_\+eval\+::worlds\+::\+Light\+Eval\+Task\+World@{light\+\_\+chat\+\_\+eval\+::worlds\+::\+Light\+Eval\+Task\+World}!get\+\_\+current\+\_\+turn\+\_\+context@{get\+\_\+current\+\_\+turn\+\_\+context}}
\index{get\+\_\+current\+\_\+turn\+\_\+context@{get\+\_\+current\+\_\+turn\+\_\+context}!light\+\_\+chat\+\_\+eval\+::worlds\+::\+Light\+Eval\+Task\+World@{light\+\_\+chat\+\_\+eval\+::worlds\+::\+Light\+Eval\+Task\+World}}
\subsubsection{\texorpdfstring{get\+\_\+current\+\_\+turn\+\_\+context()}{get\_current\_turn\_context()}}
{\footnotesize\ttfamily def light\+\_\+chat\+\_\+eval.\+worlds.\+Light\+Eval\+Task\+World.\+get\+\_\+current\+\_\+turn\+\_\+context (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line 243 of file worlds.\+py.


\begin{DoxyCode}
243     \textcolor{keyword}{def }get\_current\_turn\_context(self):
244         all\_lines = []
245         \textcolor{keywordflow}{for} act \textcolor{keywordflow}{in} self.sample\_acts[: self.turn]:
246             lines = act[\textcolor{stringliteral}{'text'}].split(\textcolor{stringliteral}{'\(\backslash\)n'})
247             \textcolor{keywordflow}{if} lines[-1].startswith(\textcolor{stringliteral}{'\_self'}):
248                 lines = lines[:-1]
249             all\_lines += lines
250 
251         lines = all\_lines + self.sample\_acts[self.turn][\textcolor{stringliteral}{'text'}].split(\textcolor{stringliteral}{'\(\backslash\)n'})
252         lines = list(filter(\textcolor{keyword}{lambda} x: len(x) > 0, lines))
253 
254         setting\_name = \textcolor{stringliteral}{'Setting withheld'}
255         setting\_desc = \textcolor{stringliteral}{'Setting description withheld'}
256         self\_name = \textcolor{stringliteral}{'Character withheld'}
257         partner\_name = \textcolor{stringliteral}{'Partner withheld'}
258         self\_persona = \textcolor{stringliteral}{'Persona withheld'}
259         self\_act = \textcolor{stringliteral}{''}
260         self\_text = \textcolor{stringliteral}{'Spoken text withheld'}
261         messages = []
262         self\_message = \{\}
263         partner\_message = \{\}
264 
265         \textcolor{comment}{# Handle current turn context separately}
266         \textcolor{keywordflow}{if} lines[-1].startswith(\textcolor{stringliteral}{'\_self'}):
267             self\_line = lines[-1]
268             lines = lines[:-1]
269             \textcolor{comment}{# Extract current turn context}
270             \textcolor{keywordflow}{if} self\_line.startswith(\textcolor{stringliteral}{'\_self\_say'}):
271                 self\_text = self.extract\_from\_flag(self\_line, \textcolor{stringliteral}{'\_self\_say'})
272             \textcolor{keywordflow}{elif} self\_line.startswith(\textcolor{stringliteral}{'\_self\_act'}):
273                 self\_act = self.extract\_from\_flag(self\_line, \textcolor{stringliteral}{'\_self\_act'})
274             \textcolor{keywordflow}{elif} self\_line.startswith(\textcolor{stringliteral}{'\_self\_emote'}):
275                 self\_act = self.extract\_from\_flag(self\_line, \textcolor{stringliteral}{'\_self\_emote'})
276 
277         \textcolor{comment}{# Construct the rest of the context}
278         \textcolor{keywordflow}{for} line \textcolor{keywordflow}{in} lines:
279             \textcolor{keywordflow}{if} line.startswith(\textcolor{stringliteral}{'\_setting\_name'}):
280                 setting\_name = self.extract\_from\_flag(line, \textcolor{stringliteral}{'\_setting\_name'})
281             \textcolor{keywordflow}{elif} line.startswith(\textcolor{stringliteral}{'\_setting\_desc'}):
282                 setting\_desc = self.extract\_from\_flag(line, \textcolor{stringliteral}{'\_setting\_desc'})
283             \textcolor{keywordflow}{elif} line.startswith(\textcolor{stringliteral}{'\_partner\_name'}):
284                 partner\_name = self.extract\_from\_flag(line, \textcolor{stringliteral}{'\_partner\_name'})
285             \textcolor{keywordflow}{elif} line.startswith(\textcolor{stringliteral}{'\_self\_name'}):
286                 self\_name = self.extract\_from\_flag(line, \textcolor{stringliteral}{'\_self\_name'})
287             \textcolor{keywordflow}{elif} line.startswith(\textcolor{stringliteral}{'\_self\_persona'}):
288                 self\_persona = self.extract\_from\_flag(line, \textcolor{stringliteral}{'\_self\_persona'})
289             \textcolor{keywordflow}{elif} line.startswith(\textcolor{stringliteral}{'\_partner'}):
290                 \textcolor{keywordflow}{if} \textcolor{stringliteral}{'id'} \textcolor{keywordflow}{in} self\_message:
291                     messages.append(self\_message)
292                     self\_message = \{\}
293                 \textcolor{keywordflow}{if} line.startswith(\textcolor{stringliteral}{'\_partner\_say'}):
294                     partner\_message[\textcolor{stringliteral}{'id'}] = partner\_name
295                     partner\_message[\textcolor{stringliteral}{'text'}] = self.extract\_from\_flag(
296                         line, \textcolor{stringliteral}{'\_partner\_say'}
297                     )
298                 \textcolor{keywordflow}{if} line.startswith(\textcolor{stringliteral}{'\_partner\_act'}):
299                     partner\_message[\textcolor{stringliteral}{'task\_data'}] = \{
300                         \textcolor{stringliteral}{'action'}: self.extract\_from\_flag(line, \textcolor{stringliteral}{'\_partner\_act'})
301                     \}
302                 \textcolor{keywordflow}{if} line.startswith(\textcolor{stringliteral}{'\_partner\_emote'}):
303                     partner\_message[\textcolor{stringliteral}{'task\_data'}] = \{
304                         \textcolor{stringliteral}{'action'}: \textcolor{stringliteral}{'gesture '}
305                         + self.extract\_from\_flag(line, \textcolor{stringliteral}{'\_partner\_emote'})
306                     \}
307             \textcolor{keywordflow}{elif} line.startswith(\textcolor{stringliteral}{'\_self'}):
308                 \textcolor{keywordflow}{if} \textcolor{stringliteral}{'id'} \textcolor{keywordflow}{in} partner\_message:
309                     messages.append(partner\_message)
310                     partner\_message = \{\}
311                 \textcolor{keywordflow}{if} line.startswith(\textcolor{stringliteral}{'\_self\_say'}):
312                     self\_message[\textcolor{stringliteral}{'id'}] = self\_name
313                     self\_message[\textcolor{stringliteral}{'text'}] = self.extract\_from\_flag(line, \textcolor{stringliteral}{'\_self\_say'})
314                 \textcolor{keywordflow}{if} line.startswith(\textcolor{stringliteral}{'\_self\_act'}):
315                     self\_message[\textcolor{stringliteral}{'task\_data'}] = \{
316                         \textcolor{stringliteral}{'action'}: self.extract\_from\_flag(line, \textcolor{stringliteral}{'\_self\_act'})
317                     \}
318                 \textcolor{keywordflow}{if} line.startswith(\textcolor{stringliteral}{'\_self\_emote'}):
319                     self\_message[\textcolor{stringliteral}{'task\_data'}] = \{
320                         \textcolor{stringliteral}{'action'}: \textcolor{stringliteral}{'gesture '}
321                         + self.extract\_from\_flag(line, \textcolor{stringliteral}{'\_self\_emote'})
322                     \}
323 
324         \textcolor{keywordflow}{if} \textcolor{stringliteral}{'id'} \textcolor{keywordflow}{in} partner\_message:
325             messages.append(partner\_message)
326 
327         act = \{
328             \textcolor{stringliteral}{'id'}: \textcolor{stringliteral}{'System'},
329             \textcolor{stringliteral}{'text'}: \textcolor{stringliteral}{'TASK\_DATA'},
330             \textcolor{stringliteral}{'task\_data'}: \{
331                 \textcolor{stringliteral}{'actions'}: sorted(self.sample\_acts[self.turn][\textcolor{stringliteral}{'label\_candidates'}]),
332                 \textcolor{stringliteral}{'text'}: self\_text,
333                 \textcolor{stringliteral}{'curr\_message\_context'}: \{\textcolor{stringliteral}{'action'}: self\_act\},
334                 \textcolor{stringliteral}{'agent\_id'}: self\_name,
335                 \textcolor{stringliteral}{'base\_name'}: self\_name,
336                 \textcolor{stringliteral}{'persona'}: self\_persona,
337                 \textcolor{stringliteral}{'partner\_name'}: partner\_name,
338                 \textcolor{stringliteral}{'setting'}: setting\_desc,
339                 \textcolor{stringliteral}{'setting\_name'}: setting\_name,
340                 \textcolor{stringliteral}{'messages'}: messages,
341             \},
342         \}
343         \textcolor{keywordflow}{return} act
344 
\end{DoxyCode}
\mbox{\Hypertarget{classlight__chat__eval_1_1worlds_1_1LightEvalTaskWorld_ad7b6b353e331f0e4eb6a0bc9198a58ee}\label{classlight__chat__eval_1_1worlds_1_1LightEvalTaskWorld_ad7b6b353e331f0e4eb6a0bc9198a58ee}} 
\index{light\+\_\+chat\+\_\+eval\+::worlds\+::\+Light\+Eval\+Task\+World@{light\+\_\+chat\+\_\+eval\+::worlds\+::\+Light\+Eval\+Task\+World}!get\+\_\+custom\+\_\+task\+\_\+data@{get\+\_\+custom\+\_\+task\+\_\+data}}
\index{get\+\_\+custom\+\_\+task\+\_\+data@{get\+\_\+custom\+\_\+task\+\_\+data}!light\+\_\+chat\+\_\+eval\+::worlds\+::\+Light\+Eval\+Task\+World@{light\+\_\+chat\+\_\+eval\+::worlds\+::\+Light\+Eval\+Task\+World}}
\subsubsection{\texorpdfstring{get\+\_\+custom\+\_\+task\+\_\+data()}{get\_custom\_task\_data()}}
{\footnotesize\ttfamily def light\+\_\+chat\+\_\+eval.\+worlds.\+Light\+Eval\+Task\+World.\+get\+\_\+custom\+\_\+task\+\_\+data (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line 375 of file worlds.\+py.


\begin{DoxyCode}
375     \textcolor{keyword}{def }get\_custom\_task\_data(self):
376         \textcolor{comment}{# brings important data together for the task, to later be used for}
377         \textcolor{comment}{# creating the dataset. If data requires pickling, put it in a field}
378         \textcolor{comment}{# called 'needs-pickle'.}
379         \textcolor{keywordflow}{return} \{
380             \textcolor{stringliteral}{'selections'}: self.selections,
381             \textcolor{stringliteral}{'corrects'}: self.corrects,
382             \textcolor{stringliteral}{'episode'}: self.sample\_acts,
383             \textcolor{stringliteral}{'training'}: self.use\_train,
384         \}
385 \end{DoxyCode}
\mbox{\Hypertarget{classlight__chat__eval_1_1worlds_1_1LightEvalTaskWorld_ae0eca37fa3376ebcd24115d1246dfd81}\label{classlight__chat__eval_1_1worlds_1_1LightEvalTaskWorld_ae0eca37fa3376ebcd24115d1246dfd81}} 
\index{light\+\_\+chat\+\_\+eval\+::worlds\+::\+Light\+Eval\+Task\+World@{light\+\_\+chat\+\_\+eval\+::worlds\+::\+Light\+Eval\+Task\+World}!parley@{parley}}
\index{parley@{parley}!light\+\_\+chat\+\_\+eval\+::worlds\+::\+Light\+Eval\+Task\+World@{light\+\_\+chat\+\_\+eval\+::worlds\+::\+Light\+Eval\+Task\+World}}
\subsubsection{\texorpdfstring{parley()}{parley()}}
{\footnotesize\ttfamily def light\+\_\+chat\+\_\+eval.\+worlds.\+Light\+Eval\+Task\+World.\+parley (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line 345 of file worlds.\+py.


\begin{DoxyCode}
345     \textcolor{keyword}{def }parley(self):
346         self.mturk\_agent.observe(self.get\_current\_turn\_context())
347         act = self.mturk\_agent.act()
348         \textcolor{keywordflow}{if} \hyperlink{namespacelight__chats_1_1worlds_a43b0aff73307cda95a089763b77f40d3}{is\_disconnected}(act):
349             self.episodeDone = \textcolor{keyword}{True}
350             \textcolor{keywordflow}{return}
351         self.selections.append(act[\textcolor{stringliteral}{'text'}])
352 
353         self.turn += 1
354         \textcolor{keywordflow}{if} self.turn == len(self.sample\_acts):
355             self.episodeDone = \textcolor{keyword}{True}
356             self.completed = \textcolor{keyword}{True}
357             wrong = 0
358             \textcolor{keywordflow}{if} self.use\_train:
359                 \textcolor{keywordflow}{for} i \textcolor{keywordflow}{in} range(len(self.selections)):
360                     \textcolor{keywordflow}{if} self.selections[i] != self.corrects[i]:
361                         wrong += 1
362             \textcolor{keywordflow}{if} wrong > self.max\_wrong:
363                 self.completed = \textcolor{keyword}{False}
364                 self.mturk\_agent.mturk\_manager.soft\_block\_worker(
365                     self.mturk\_agent.worker\_id
366                 )
367                 print(\textcolor{stringliteral}{'Worker failed in train'}, self.mturk\_agent.worker\_id)
368 
\end{DoxyCode}
\mbox{\Hypertarget{classlight__chat__eval_1_1worlds_1_1LightEvalTaskWorld_a86acc8c22dd59f854c4a43f34d804975}\label{classlight__chat__eval_1_1worlds_1_1LightEvalTaskWorld_a86acc8c22dd59f854c4a43f34d804975}} 
\index{light\+\_\+chat\+\_\+eval\+::worlds\+::\+Light\+Eval\+Task\+World@{light\+\_\+chat\+\_\+eval\+::worlds\+::\+Light\+Eval\+Task\+World}!shutdown@{shutdown}}
\index{shutdown@{shutdown}!light\+\_\+chat\+\_\+eval\+::worlds\+::\+Light\+Eval\+Task\+World@{light\+\_\+chat\+\_\+eval\+::worlds\+::\+Light\+Eval\+Task\+World}}
\subsubsection{\texorpdfstring{shutdown()}{shutdown()}}
{\footnotesize\ttfamily def light\+\_\+chat\+\_\+eval.\+worlds.\+Light\+Eval\+Task\+World.\+shutdown (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line 372 of file worlds.\+py.


\begin{DoxyCode}
372     \textcolor{keyword}{def }shutdown(self):
373         self.mturk\_agent.shutdown()
374 
\end{DoxyCode}


\subsection{Member Data Documentation}
\mbox{\Hypertarget{classlight__chat__eval_1_1worlds_1_1LightEvalTaskWorld_a1deec2abb5e96799ec49097721586013}\label{classlight__chat__eval_1_1worlds_1_1LightEvalTaskWorld_a1deec2abb5e96799ec49097721586013}} 
\index{light\+\_\+chat\+\_\+eval\+::worlds\+::\+Light\+Eval\+Task\+World@{light\+\_\+chat\+\_\+eval\+::worlds\+::\+Light\+Eval\+Task\+World}!completed@{completed}}
\index{completed@{completed}!light\+\_\+chat\+\_\+eval\+::worlds\+::\+Light\+Eval\+Task\+World@{light\+\_\+chat\+\_\+eval\+::worlds\+::\+Light\+Eval\+Task\+World}}
\subsubsection{\texorpdfstring{completed}{completed}}
{\footnotesize\ttfamily light\+\_\+chat\+\_\+eval.\+worlds.\+Light\+Eval\+Task\+World.\+completed}



Definition at line 232 of file worlds.\+py.

\mbox{\Hypertarget{classlight__chat__eval_1_1worlds_1_1LightEvalTaskWorld_a89359a6fdc961c97b5859980b3790540}\label{classlight__chat__eval_1_1worlds_1_1LightEvalTaskWorld_a89359a6fdc961c97b5859980b3790540}} 
\index{light\+\_\+chat\+\_\+eval\+::worlds\+::\+Light\+Eval\+Task\+World@{light\+\_\+chat\+\_\+eval\+::worlds\+::\+Light\+Eval\+Task\+World}!corrects@{corrects}}
\index{corrects@{corrects}!light\+\_\+chat\+\_\+eval\+::worlds\+::\+Light\+Eval\+Task\+World@{light\+\_\+chat\+\_\+eval\+::worlds\+::\+Light\+Eval\+Task\+World}}
\subsubsection{\texorpdfstring{corrects}{corrects}}
{\footnotesize\ttfamily light\+\_\+chat\+\_\+eval.\+worlds.\+Light\+Eval\+Task\+World.\+corrects}



Definition at line 234 of file worlds.\+py.

\mbox{\Hypertarget{classlight__chat__eval_1_1worlds_1_1LightEvalTaskWorld_ab0ffce12733c1c46f5dc64b1a802f1e2}\label{classlight__chat__eval_1_1worlds_1_1LightEvalTaskWorld_ab0ffce12733c1c46f5dc64b1a802f1e2}} 
\index{light\+\_\+chat\+\_\+eval\+::worlds\+::\+Light\+Eval\+Task\+World@{light\+\_\+chat\+\_\+eval\+::worlds\+::\+Light\+Eval\+Task\+World}!episode\+Done@{episode\+Done}}
\index{episode\+Done@{episode\+Done}!light\+\_\+chat\+\_\+eval\+::worlds\+::\+Light\+Eval\+Task\+World@{light\+\_\+chat\+\_\+eval\+::worlds\+::\+Light\+Eval\+Task\+World}}
\subsubsection{\texorpdfstring{episode\+Done}{episodeDone}}
{\footnotesize\ttfamily light\+\_\+chat\+\_\+eval.\+worlds.\+Light\+Eval\+Task\+World.\+episode\+Done}



Definition at line 231 of file worlds.\+py.

\mbox{\Hypertarget{classlight__chat__eval_1_1worlds_1_1LightEvalTaskWorld_a272355df766ac2722a7547deb5755651}\label{classlight__chat__eval_1_1worlds_1_1LightEvalTaskWorld_a272355df766ac2722a7547deb5755651}} 
\index{light\+\_\+chat\+\_\+eval\+::worlds\+::\+Light\+Eval\+Task\+World@{light\+\_\+chat\+\_\+eval\+::worlds\+::\+Light\+Eval\+Task\+World}!max\+\_\+wrong@{max\+\_\+wrong}}
\index{max\+\_\+wrong@{max\+\_\+wrong}!light\+\_\+chat\+\_\+eval\+::worlds\+::\+Light\+Eval\+Task\+World@{light\+\_\+chat\+\_\+eval\+::worlds\+::\+Light\+Eval\+Task\+World}}
\subsubsection{\texorpdfstring{max\+\_\+wrong}{max\_wrong}}
{\footnotesize\ttfamily light\+\_\+chat\+\_\+eval.\+worlds.\+Light\+Eval\+Task\+World.\+max\+\_\+wrong}



Definition at line 238 of file worlds.\+py.

\mbox{\Hypertarget{classlight__chat__eval_1_1worlds_1_1LightEvalTaskWorld_ac8f15206b335ec5ea3498a3ee1b0f65f}\label{classlight__chat__eval_1_1worlds_1_1LightEvalTaskWorld_ac8f15206b335ec5ea3498a3ee1b0f65f}} 
\index{light\+\_\+chat\+\_\+eval\+::worlds\+::\+Light\+Eval\+Task\+World@{light\+\_\+chat\+\_\+eval\+::worlds\+::\+Light\+Eval\+Task\+World}!mturk\+\_\+agent@{mturk\+\_\+agent}}
\index{mturk\+\_\+agent@{mturk\+\_\+agent}!light\+\_\+chat\+\_\+eval\+::worlds\+::\+Light\+Eval\+Task\+World@{light\+\_\+chat\+\_\+eval\+::worlds\+::\+Light\+Eval\+Task\+World}}
\subsubsection{\texorpdfstring{mturk\+\_\+agent}{mturk\_agent}}
{\footnotesize\ttfamily light\+\_\+chat\+\_\+eval.\+worlds.\+Light\+Eval\+Task\+World.\+mturk\+\_\+agent}



Definition at line 228 of file worlds.\+py.

\mbox{\Hypertarget{classlight__chat__eval_1_1worlds_1_1LightEvalTaskWorld_a60c0b70ca0cfb7d35c2b0eac85df0cf1}\label{classlight__chat__eval_1_1worlds_1_1LightEvalTaskWorld_a60c0b70ca0cfb7d35c2b0eac85df0cf1}} 
\index{light\+\_\+chat\+\_\+eval\+::worlds\+::\+Light\+Eval\+Task\+World@{light\+\_\+chat\+\_\+eval\+::worlds\+::\+Light\+Eval\+Task\+World}!sample\+\_\+acts@{sample\+\_\+acts}}
\index{sample\+\_\+acts@{sample\+\_\+acts}!light\+\_\+chat\+\_\+eval\+::worlds\+::\+Light\+Eval\+Task\+World@{light\+\_\+chat\+\_\+eval\+::worlds\+::\+Light\+Eval\+Task\+World}}
\subsubsection{\texorpdfstring{sample\+\_\+acts}{sample\_acts}}
{\footnotesize\ttfamily light\+\_\+chat\+\_\+eval.\+worlds.\+Light\+Eval\+Task\+World.\+sample\+\_\+acts}



Definition at line 229 of file worlds.\+py.

\mbox{\Hypertarget{classlight__chat__eval_1_1worlds_1_1LightEvalTaskWorld_a9dac942996f55099107ba813e91ce437}\label{classlight__chat__eval_1_1worlds_1_1LightEvalTaskWorld_a9dac942996f55099107ba813e91ce437}} 
\index{light\+\_\+chat\+\_\+eval\+::worlds\+::\+Light\+Eval\+Task\+World@{light\+\_\+chat\+\_\+eval\+::worlds\+::\+Light\+Eval\+Task\+World}!selections@{selections}}
\index{selections@{selections}!light\+\_\+chat\+\_\+eval\+::worlds\+::\+Light\+Eval\+Task\+World@{light\+\_\+chat\+\_\+eval\+::worlds\+::\+Light\+Eval\+Task\+World}}
\subsubsection{\texorpdfstring{selections}{selections}}
{\footnotesize\ttfamily light\+\_\+chat\+\_\+eval.\+worlds.\+Light\+Eval\+Task\+World.\+selections}



Definition at line 233 of file worlds.\+py.

\mbox{\Hypertarget{classlight__chat__eval_1_1worlds_1_1LightEvalTaskWorld_a54478e731c75aaf71048894bb762a005}\label{classlight__chat__eval_1_1worlds_1_1LightEvalTaskWorld_a54478e731c75aaf71048894bb762a005}} 
\index{light\+\_\+chat\+\_\+eval\+::worlds\+::\+Light\+Eval\+Task\+World@{light\+\_\+chat\+\_\+eval\+::worlds\+::\+Light\+Eval\+Task\+World}!turn@{turn}}
\index{turn@{turn}!light\+\_\+chat\+\_\+eval\+::worlds\+::\+Light\+Eval\+Task\+World@{light\+\_\+chat\+\_\+eval\+::worlds\+::\+Light\+Eval\+Task\+World}}
\subsubsection{\texorpdfstring{turn}{turn}}
{\footnotesize\ttfamily light\+\_\+chat\+\_\+eval.\+worlds.\+Light\+Eval\+Task\+World.\+turn}



Definition at line 230 of file worlds.\+py.

\mbox{\Hypertarget{classlight__chat__eval_1_1worlds_1_1LightEvalTaskWorld_ad605071600d13b139e24541051eb4afb}\label{classlight__chat__eval_1_1worlds_1_1LightEvalTaskWorld_ad605071600d13b139e24541051eb4afb}} 
\index{light\+\_\+chat\+\_\+eval\+::worlds\+::\+Light\+Eval\+Task\+World@{light\+\_\+chat\+\_\+eval\+::worlds\+::\+Light\+Eval\+Task\+World}!use\+\_\+train@{use\+\_\+train}}
\index{use\+\_\+train@{use\+\_\+train}!light\+\_\+chat\+\_\+eval\+::worlds\+::\+Light\+Eval\+Task\+World@{light\+\_\+chat\+\_\+eval\+::worlds\+::\+Light\+Eval\+Task\+World}}
\subsubsection{\texorpdfstring{use\+\_\+train}{use\_train}}
{\footnotesize\ttfamily light\+\_\+chat\+\_\+eval.\+worlds.\+Light\+Eval\+Task\+World.\+use\+\_\+train}



Definition at line 237 of file worlds.\+py.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
parlai/mturk/tasks/light/light\+\_\+chat\+\_\+eval/\hyperlink{parlai_2mturk_2tasks_2light_2light__chat__eval_2worlds_8py}{worlds.\+py}\end{DoxyCompactItemize}
