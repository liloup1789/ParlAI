\hypertarget{classparlai_1_1agents_1_1starspace_1_1modules_1_1Starspace}{}\section{parlai.\+agents.\+starspace.\+modules.\+Starspace Class Reference}
\label{classparlai_1_1agents_1_1starspace_1_1modules_1_1Starspace}\index{parlai.\+agents.\+starspace.\+modules.\+Starspace@{parlai.\+agents.\+starspace.\+modules.\+Starspace}}


Inheritance diagram for parlai.\+agents.\+starspace.\+modules.\+Starspace\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=241pt]{d9/d19/classparlai_1_1agents_1_1starspace_1_1modules_1_1Starspace__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for parlai.\+agents.\+starspace.\+modules.\+Starspace\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=241pt]{d6/d20/classparlai_1_1agents_1_1starspace_1_1modules_1_1Starspace__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{classparlai_1_1agents_1_1starspace_1_1modules_1_1Starspace_a28383f59fc45a0fa2193787aa2a8b188}{\+\_\+\+\_\+init\+\_\+\+\_\+} (self, \hyperlink{classparlai_1_1agents_1_1starspace_1_1modules_1_1Starspace_af1f3c22c7248018379df0379d253f8db}{opt}, num\+\_\+features, dict)
\item 
def \hyperlink{classparlai_1_1agents_1_1starspace_1_1modules_1_1Starspace_a08e4e81ef10c1ec4c09ab6c8147690ab}{forward} (self, xs, ys=None, cands=None)
\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classparlai_1_1agents_1_1starspace_1_1modules_1_1Starspace_abec90fc1b96357cb230a2b3118c9275f}{lt}
\item 
\hyperlink{classparlai_1_1agents_1_1starspace_1_1modules_1_1Starspace_aa93228651180a1901e55585fe9008002}{encoder}
\item 
\hyperlink{classparlai_1_1agents_1_1starspace_1_1modules_1_1Starspace_ae5bf28970ad7bd4207e8fe69986986fc}{lt2}
\item 
\hyperlink{classparlai_1_1agents_1_1starspace_1_1modules_1_1Starspace_a7ead99b8e725174d82e97bd014bd26c9}{encoder2}
\item 
\hyperlink{classparlai_1_1agents_1_1starspace_1_1modules_1_1Starspace_af1f3c22c7248018379df0379d253f8db}{opt}
\item 
\hyperlink{classparlai_1_1agents_1_1starspace_1_1modules_1_1Starspace_ab8e5d5eaf9aba2d98fdcf56dd5bf986d}{lin}
\item 
\hyperlink{classparlai_1_1agents_1_1starspace_1_1modules_1_1Starspace_a277328d66e566f3f9874e7af4402cef9}{lins}
\end{DoxyCompactItemize}


\subsection{Detailed Description}


Definition at line 12 of file modules.\+py.



\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classparlai_1_1agents_1_1starspace_1_1modules_1_1Starspace_a28383f59fc45a0fa2193787aa2a8b188}\label{classparlai_1_1agents_1_1starspace_1_1modules_1_1Starspace_a28383f59fc45a0fa2193787aa2a8b188}} 
\index{parlai\+::agents\+::starspace\+::modules\+::\+Starspace@{parlai\+::agents\+::starspace\+::modules\+::\+Starspace}!\+\_\+\+\_\+init\+\_\+\+\_\+@{\+\_\+\+\_\+init\+\_\+\+\_\+}}
\index{\+\_\+\+\_\+init\+\_\+\+\_\+@{\+\_\+\+\_\+init\+\_\+\+\_\+}!parlai\+::agents\+::starspace\+::modules\+::\+Starspace@{parlai\+::agents\+::starspace\+::modules\+::\+Starspace}}
\subsubsection{\texorpdfstring{\+\_\+\+\_\+init\+\_\+\+\_\+()}{\_\_init\_\_()}}
{\footnotesize\ttfamily def parlai.\+agents.\+starspace.\+modules.\+Starspace.\+\_\+\+\_\+init\+\_\+\+\_\+ (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{opt,  }\item[{}]{num\+\_\+features,  }\item[{}]{dict }\end{DoxyParamCaption})}



Definition at line 13 of file modules.\+py.


\begin{DoxyCode}
13     \textcolor{keyword}{def }\_\_init\_\_(self, opt, num\_features, dict):
14         super().\_\_init\_\_()
15         self.lt = nn.Embedding(
16             num\_features,
17             opt[\textcolor{stringliteral}{'embeddingsize'}],
18             0,
19             sparse=\textcolor{keyword}{True},
20             max\_norm=opt[\textcolor{stringliteral}{'embeddingnorm'}],
21         )
22         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} opt[\textcolor{stringliteral}{'tfidf'}]:
23             dict = \textcolor{keywordtype}{None}
24         self.encoder = Encoder(self.lt, dict)
25         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} opt[\textcolor{stringliteral}{'share\_embeddings'}]:
26             self.lt2 = nn.Embedding(
27                 num\_features,
28                 opt[\textcolor{stringliteral}{'embeddingsize'}],
29                 0,
30                 sparse=\textcolor{keyword}{True},
31                 max\_norm=opt[\textcolor{stringliteral}{'embeddingnorm'}],
32             )
33             self.encoder2 = Encoder(self.lt2, dict)
34         \textcolor{keywordflow}{else}:
35             self.encoder2 = self.encoder
36         self.opt = opt
37         self.lin = nn.Linear(opt[\textcolor{stringliteral}{'embeddingsize'}], opt[\textcolor{stringliteral}{'embeddingsize'}], bias=\textcolor{keyword}{False})
38         self.lins = 0
39         \textcolor{keywordflow}{if} \textcolor{stringliteral}{'lins'} \textcolor{keywordflow}{in} opt:
40             self.lins = opt[\textcolor{stringliteral}{'lins'}]
41 
\end{DoxyCode}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{classparlai_1_1agents_1_1starspace_1_1modules_1_1Starspace_a08e4e81ef10c1ec4c09ab6c8147690ab}\label{classparlai_1_1agents_1_1starspace_1_1modules_1_1Starspace_a08e4e81ef10c1ec4c09ab6c8147690ab}} 
\index{parlai\+::agents\+::starspace\+::modules\+::\+Starspace@{parlai\+::agents\+::starspace\+::modules\+::\+Starspace}!forward@{forward}}
\index{forward@{forward}!parlai\+::agents\+::starspace\+::modules\+::\+Starspace@{parlai\+::agents\+::starspace\+::modules\+::\+Starspace}}
\subsubsection{\texorpdfstring{forward()}{forward()}}
{\footnotesize\ttfamily def parlai.\+agents.\+starspace.\+modules.\+Starspace.\+forward (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{xs,  }\item[{}]{ys = {\ttfamily None},  }\item[{}]{cands = {\ttfamily None} }\end{DoxyParamCaption})}



Definition at line 42 of file modules.\+py.


\begin{DoxyCode}
42     \textcolor{keyword}{def }forward(self, xs, ys=None, cands=None):
43         xs\_enc = []
44         ys\_enc = []
45         xs\_emb = self.encoder(xs)
46         \textcolor{keywordflow}{if} self.lins > 0:
47             xs\_emb = self.lin(xs\_emb)
48         \textcolor{keywordflow}{if} ys \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}:
49             \textcolor{comment}{# training includes the correct example first.}
50             xs\_enc.append(xs\_emb)
51             ys\_enc.append(self.encoder2(ys))
52         \textcolor{keywordflow}{for} c \textcolor{keywordflow}{in} cands:
53             xs\_enc.append(xs\_emb)
54             c\_emb = self.encoder2(c)
55             ys\_enc.append(c\_emb)
56         \textcolor{keywordflow}{return} torch.cat(xs\_enc), torch.cat(ys\_enc)
57 
58 
\end{DoxyCode}


\subsection{Member Data Documentation}
\mbox{\Hypertarget{classparlai_1_1agents_1_1starspace_1_1modules_1_1Starspace_aa93228651180a1901e55585fe9008002}\label{classparlai_1_1agents_1_1starspace_1_1modules_1_1Starspace_aa93228651180a1901e55585fe9008002}} 
\index{parlai\+::agents\+::starspace\+::modules\+::\+Starspace@{parlai\+::agents\+::starspace\+::modules\+::\+Starspace}!encoder@{encoder}}
\index{encoder@{encoder}!parlai\+::agents\+::starspace\+::modules\+::\+Starspace@{parlai\+::agents\+::starspace\+::modules\+::\+Starspace}}
\subsubsection{\texorpdfstring{encoder}{encoder}}
{\footnotesize\ttfamily parlai.\+agents.\+starspace.\+modules.\+Starspace.\+encoder}



Definition at line 24 of file modules.\+py.

\mbox{\Hypertarget{classparlai_1_1agents_1_1starspace_1_1modules_1_1Starspace_a7ead99b8e725174d82e97bd014bd26c9}\label{classparlai_1_1agents_1_1starspace_1_1modules_1_1Starspace_a7ead99b8e725174d82e97bd014bd26c9}} 
\index{parlai\+::agents\+::starspace\+::modules\+::\+Starspace@{parlai\+::agents\+::starspace\+::modules\+::\+Starspace}!encoder2@{encoder2}}
\index{encoder2@{encoder2}!parlai\+::agents\+::starspace\+::modules\+::\+Starspace@{parlai\+::agents\+::starspace\+::modules\+::\+Starspace}}
\subsubsection{\texorpdfstring{encoder2}{encoder2}}
{\footnotesize\ttfamily parlai.\+agents.\+starspace.\+modules.\+Starspace.\+encoder2}



Definition at line 33 of file modules.\+py.

\mbox{\Hypertarget{classparlai_1_1agents_1_1starspace_1_1modules_1_1Starspace_ab8e5d5eaf9aba2d98fdcf56dd5bf986d}\label{classparlai_1_1agents_1_1starspace_1_1modules_1_1Starspace_ab8e5d5eaf9aba2d98fdcf56dd5bf986d}} 
\index{parlai\+::agents\+::starspace\+::modules\+::\+Starspace@{parlai\+::agents\+::starspace\+::modules\+::\+Starspace}!lin@{lin}}
\index{lin@{lin}!parlai\+::agents\+::starspace\+::modules\+::\+Starspace@{parlai\+::agents\+::starspace\+::modules\+::\+Starspace}}
\subsubsection{\texorpdfstring{lin}{lin}}
{\footnotesize\ttfamily parlai.\+agents.\+starspace.\+modules.\+Starspace.\+lin}



Definition at line 37 of file modules.\+py.

\mbox{\Hypertarget{classparlai_1_1agents_1_1starspace_1_1modules_1_1Starspace_a277328d66e566f3f9874e7af4402cef9}\label{classparlai_1_1agents_1_1starspace_1_1modules_1_1Starspace_a277328d66e566f3f9874e7af4402cef9}} 
\index{parlai\+::agents\+::starspace\+::modules\+::\+Starspace@{parlai\+::agents\+::starspace\+::modules\+::\+Starspace}!lins@{lins}}
\index{lins@{lins}!parlai\+::agents\+::starspace\+::modules\+::\+Starspace@{parlai\+::agents\+::starspace\+::modules\+::\+Starspace}}
\subsubsection{\texorpdfstring{lins}{lins}}
{\footnotesize\ttfamily parlai.\+agents.\+starspace.\+modules.\+Starspace.\+lins}



Definition at line 38 of file modules.\+py.

\mbox{\Hypertarget{classparlai_1_1agents_1_1starspace_1_1modules_1_1Starspace_abec90fc1b96357cb230a2b3118c9275f}\label{classparlai_1_1agents_1_1starspace_1_1modules_1_1Starspace_abec90fc1b96357cb230a2b3118c9275f}} 
\index{parlai\+::agents\+::starspace\+::modules\+::\+Starspace@{parlai\+::agents\+::starspace\+::modules\+::\+Starspace}!lt@{lt}}
\index{lt@{lt}!parlai\+::agents\+::starspace\+::modules\+::\+Starspace@{parlai\+::agents\+::starspace\+::modules\+::\+Starspace}}
\subsubsection{\texorpdfstring{lt}{lt}}
{\footnotesize\ttfamily parlai.\+agents.\+starspace.\+modules.\+Starspace.\+lt}



Definition at line 15 of file modules.\+py.

\mbox{\Hypertarget{classparlai_1_1agents_1_1starspace_1_1modules_1_1Starspace_ae5bf28970ad7bd4207e8fe69986986fc}\label{classparlai_1_1agents_1_1starspace_1_1modules_1_1Starspace_ae5bf28970ad7bd4207e8fe69986986fc}} 
\index{parlai\+::agents\+::starspace\+::modules\+::\+Starspace@{parlai\+::agents\+::starspace\+::modules\+::\+Starspace}!lt2@{lt2}}
\index{lt2@{lt2}!parlai\+::agents\+::starspace\+::modules\+::\+Starspace@{parlai\+::agents\+::starspace\+::modules\+::\+Starspace}}
\subsubsection{\texorpdfstring{lt2}{lt2}}
{\footnotesize\ttfamily parlai.\+agents.\+starspace.\+modules.\+Starspace.\+lt2}



Definition at line 26 of file modules.\+py.

\mbox{\Hypertarget{classparlai_1_1agents_1_1starspace_1_1modules_1_1Starspace_af1f3c22c7248018379df0379d253f8db}\label{classparlai_1_1agents_1_1starspace_1_1modules_1_1Starspace_af1f3c22c7248018379df0379d253f8db}} 
\index{parlai\+::agents\+::starspace\+::modules\+::\+Starspace@{parlai\+::agents\+::starspace\+::modules\+::\+Starspace}!opt@{opt}}
\index{opt@{opt}!parlai\+::agents\+::starspace\+::modules\+::\+Starspace@{parlai\+::agents\+::starspace\+::modules\+::\+Starspace}}
\subsubsection{\texorpdfstring{opt}{opt}}
{\footnotesize\ttfamily parlai.\+agents.\+starspace.\+modules.\+Starspace.\+opt}



Definition at line 36 of file modules.\+py.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
parlai/agents/starspace/\hyperlink{parlai_2agents_2starspace_2modules_8py}{modules.\+py}\end{DoxyCompactItemize}
