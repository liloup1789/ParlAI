\hypertarget{namespaceparlai_1_1scripts_1_1profile__interactive}{}\section{parlai.\+scripts.\+profile\+\_\+interactive Namespace Reference}
\label{namespaceparlai_1_1scripts_1_1profile__interactive}\index{parlai.\+scripts.\+profile\+\_\+interactive@{parlai.\+scripts.\+profile\+\_\+interactive}}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{namespaceparlai_1_1scripts_1_1profile__interactive_ae1f4afb65e0f6c7679baa3af43c3eda0}{setup\+\_\+args} (\hyperlink{namespaceparlai_1_1scripts_1_1profile__interactive_a716b72ad1a9b1269468e9e2acc7ad6e5}{parser}=None)
\item 
def \hyperlink{namespaceparlai_1_1scripts_1_1profile__interactive_a5657fbf0eae34d1a0e5b48df3a7ded54}{profile\+\_\+interactive} (opt, \hyperlink{namespaceparlai_1_1scripts_1_1profile__interactive_a0653e122493d1680d4f0376069714916}{print\+\_\+parser}=None)
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\hyperlink{namespaceparlai_1_1scripts_1_1profile__interactive_a716b72ad1a9b1269468e9e2acc7ad6e5}{parser}
\item 
\hyperlink{namespaceparlai_1_1scripts_1_1profile__interactive_a6d8d2d18ac538424c535e179e83c0f8d}{print\+\_\+args}
\item 
\hyperlink{namespaceparlai_1_1scripts_1_1profile__interactive_a0653e122493d1680d4f0376069714916}{print\+\_\+parser}
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\mbox{\Hypertarget{namespaceparlai_1_1scripts_1_1profile__interactive_a5657fbf0eae34d1a0e5b48df3a7ded54}\label{namespaceparlai_1_1scripts_1_1profile__interactive_a5657fbf0eae34d1a0e5b48df3a7ded54}} 
\index{parlai\+::scripts\+::profile\+\_\+interactive@{parlai\+::scripts\+::profile\+\_\+interactive}!profile\+\_\+interactive@{profile\+\_\+interactive}}
\index{profile\+\_\+interactive@{profile\+\_\+interactive}!parlai\+::scripts\+::profile\+\_\+interactive@{parlai\+::scripts\+::profile\+\_\+interactive}}
\subsubsection{\texorpdfstring{profile\+\_\+interactive()}{profile\_interactive()}}
{\footnotesize\ttfamily def parlai.\+scripts.\+profile\+\_\+interactive.\+profile\+\_\+interactive (\begin{DoxyParamCaption}\item[{}]{opt,  }\item[{}]{print\+\_\+parser = {\ttfamily None} }\end{DoxyParamCaption})}



Definition at line 50 of file profile\+\_\+interactive.\+py.


\begin{DoxyCode}
50 \textcolor{keyword}{def }\hyperlink{namespaceparlai_1_1scripts_1_1profile__interactive_a5657fbf0eae34d1a0e5b48df3a7ded54}{profile\_interactive}(opt, print\_parser=None):
51     \textcolor{keywordflow}{if} print\_parser \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}:
52         \textcolor{keywordflow}{if} print\_parser \textcolor{keywordflow}{is} \textcolor{keyword}{True} \textcolor{keywordflow}{and} isinstance(opt, ParlaiParser):
53             print\_parser = opt
54         \textcolor{keywordflow}{elif} print\_parser \textcolor{keywordflow}{is} \textcolor{keyword}{False}:
55             print\_parser = \textcolor{keywordtype}{None}
56     \textcolor{keywordflow}{if} isinstance(opt, ParlaiParser):
57         print(\textcolor{stringliteral}{'[ Deprecated Warning: interactive should be passed opt not Parser ]'})
58         opt = opt.parse\_args()
59 
60     \textcolor{comment}{# Create model and assign it to the specified task}
61     agent = \hyperlink{namespaceparlai_1_1core_1_1agents_a00d77a7e26fb89e8bd900f7b2a02982a}{create\_agent}(opt, requireModelExists=\textcolor{keyword}{True})
62     human\_agent = RepeatQueryAgent(opt)
63     world = \hyperlink{namespaceparlai_1_1core_1_1worlds_a79969c7ba76d4b3c500f5bb776444dc6}{create\_task}(opt, [human\_agent, agent])
64 
65     \textcolor{keywordflow}{if} print\_parser:
66         \textcolor{comment}{# Show arguments after loading model}
67         print\_parser.opt = agent.opt
68         print\_parser.print\_args()
69 
70     pr = cProfile.Profile()
71     pr.enable()
72 
73     \textcolor{comment}{# Run}
74     cnt = 0
75     \textcolor{keywordflow}{while} \textcolor{keyword}{True}:
76         world.parley()
77         \textcolor{keywordflow}{if} opt.get(\textcolor{stringliteral}{'display\_examples'}):
78             print(\textcolor{stringliteral}{"---"})
79             print(world.display())
80         cnt += 1
81         \textcolor{keywordflow}{if} cnt >= opt.get(\textcolor{stringliteral}{'num\_examples'}, 100):
82             \textcolor{keywordflow}{break}
83         \textcolor{keywordflow}{if} world.epoch\_done():
84             print(\textcolor{stringliteral}{"EPOCH DONE"})
85             \textcolor{keywordflow}{break}
86 
87     pr.disable()
88     s = io.StringIO()
89     sortby = \textcolor{stringliteral}{'cumulative'}
90     ps = pstats.Stats(pr, stream=s).sort\_stats(sortby)
91     ps.print\_stats()
92     print(s.getvalue())
93 
94 
\end{DoxyCode}
\mbox{\Hypertarget{namespaceparlai_1_1scripts_1_1profile__interactive_ae1f4afb65e0f6c7679baa3af43c3eda0}\label{namespaceparlai_1_1scripts_1_1profile__interactive_ae1f4afb65e0f6c7679baa3af43c3eda0}} 
\index{parlai\+::scripts\+::profile\+\_\+interactive@{parlai\+::scripts\+::profile\+\_\+interactive}!setup\+\_\+args@{setup\+\_\+args}}
\index{setup\+\_\+args@{setup\+\_\+args}!parlai\+::scripts\+::profile\+\_\+interactive@{parlai\+::scripts\+::profile\+\_\+interactive}}
\subsubsection{\texorpdfstring{setup\+\_\+args()}{setup\_args()}}
{\footnotesize\ttfamily def parlai.\+scripts.\+profile\+\_\+interactive.\+setup\+\_\+args (\begin{DoxyParamCaption}\item[{}]{parser = {\ttfamily None} }\end{DoxyParamCaption})}



Definition at line 21 of file profile\+\_\+interactive.\+py.


\begin{DoxyCode}
21 \textcolor{keyword}{def }\hyperlink{namespaceparlai_1_1scripts_1_1profile__interactive_ae1f4afb65e0f6c7679baa3af43c3eda0}{setup\_args}(parser=None):
22     \textcolor{keywordflow}{if} parser \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
23         parser = ParlaiParser(\textcolor{keyword}{True}, \textcolor{keyword}{True}, \textcolor{stringliteral}{'Interactive chat with a model'})
24     parser.add\_argument(\textcolor{stringliteral}{'-d'}, \textcolor{stringliteral}{'--display-examples'}, type=\textcolor{stringliteral}{'bool'}, default=\textcolor{keyword}{True})
25     parser.add\_argument(\textcolor{stringliteral}{'-ne'}, \textcolor{stringliteral}{'--num-examples'}, type=int, default=5)
26     parser.add\_argument(
27         \textcolor{stringliteral}{'--display-prettify'},
28         type=\textcolor{stringliteral}{'bool'},
29         default=\textcolor{keyword}{False},
30         help=\textcolor{stringliteral}{'Set to use a prettytable when displaying '}
31         \textcolor{stringliteral}{'examples with text candidates'},
32     )
33     parser.add\_argument(
34         \textcolor{stringliteral}{'--display-ignore-fields'},
35         type=str,
36         default=\textcolor{stringliteral}{'label\_candidates,text\_candidates'},
37         help=\textcolor{stringliteral}{'Do not display these fields'},
38     )
39     parser.add\_argument(
40         \textcolor{stringliteral}{'-it'},
41         \textcolor{stringliteral}{'--interactive-task'},
42         type=\textcolor{stringliteral}{'bool'},
43         default=\textcolor{keyword}{True},
44         help=\textcolor{stringliteral}{'Create interactive version of task'},
45     )
46     parser.set\_defaults(interactive\_mode=\textcolor{keyword}{True}, task=\textcolor{stringliteral}{'interactive'})
47     \textcolor{keywordflow}{return} parser
48 
49 
\end{DoxyCode}


\subsection{Variable Documentation}
\mbox{\Hypertarget{namespaceparlai_1_1scripts_1_1profile__interactive_a716b72ad1a9b1269468e9e2acc7ad6e5}\label{namespaceparlai_1_1scripts_1_1profile__interactive_a716b72ad1a9b1269468e9e2acc7ad6e5}} 
\index{parlai\+::scripts\+::profile\+\_\+interactive@{parlai\+::scripts\+::profile\+\_\+interactive}!parser@{parser}}
\index{parser@{parser}!parlai\+::scripts\+::profile\+\_\+interactive@{parlai\+::scripts\+::profile\+\_\+interactive}}
\subsubsection{\texorpdfstring{parser}{parser}}
{\footnotesize\ttfamily parlai.\+scripts.\+profile\+\_\+interactive.\+parser}



Definition at line 97 of file profile\+\_\+interactive.\+py.

\mbox{\Hypertarget{namespaceparlai_1_1scripts_1_1profile__interactive_a6d8d2d18ac538424c535e179e83c0f8d}\label{namespaceparlai_1_1scripts_1_1profile__interactive_a6d8d2d18ac538424c535e179e83c0f8d}} 
\index{parlai\+::scripts\+::profile\+\_\+interactive@{parlai\+::scripts\+::profile\+\_\+interactive}!print\+\_\+args@{print\+\_\+args}}
\index{print\+\_\+args@{print\+\_\+args}!parlai\+::scripts\+::profile\+\_\+interactive@{parlai\+::scripts\+::profile\+\_\+interactive}}
\subsubsection{\texorpdfstring{print\+\_\+args}{print\_args}}
{\footnotesize\ttfamily parlai.\+scripts.\+profile\+\_\+interactive.\+print\+\_\+args}



Definition at line 98 of file profile\+\_\+interactive.\+py.

\mbox{\Hypertarget{namespaceparlai_1_1scripts_1_1profile__interactive_a0653e122493d1680d4f0376069714916}\label{namespaceparlai_1_1scripts_1_1profile__interactive_a0653e122493d1680d4f0376069714916}} 
\index{parlai\+::scripts\+::profile\+\_\+interactive@{parlai\+::scripts\+::profile\+\_\+interactive}!print\+\_\+parser@{print\+\_\+parser}}
\index{print\+\_\+parser@{print\+\_\+parser}!parlai\+::scripts\+::profile\+\_\+interactive@{parlai\+::scripts\+::profile\+\_\+interactive}}
\subsubsection{\texorpdfstring{print\+\_\+parser}{print\_parser}}
{\footnotesize\ttfamily parlai.\+scripts.\+profile\+\_\+interactive.\+print\+\_\+parser}



Definition at line 98 of file profile\+\_\+interactive.\+py.

