\hypertarget{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval}{}\section{projects.\+wizard\+\_\+of\+\_\+wikipedia.\+mturk\+\_\+evaluation\+\_\+task.\+worlds.\+Wizard\+Eval Class Reference}
\label{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval}\index{projects.\+wizard\+\_\+of\+\_\+wikipedia.\+mturk\+\_\+evaluation\+\_\+task.\+worlds.\+Wizard\+Eval@{projects.\+wizard\+\_\+of\+\_\+wikipedia.\+mturk\+\_\+evaluation\+\_\+task.\+worlds.\+Wizard\+Eval}}


Inheritance diagram for projects.\+wizard\+\_\+of\+\_\+wikipedia.\+mturk\+\_\+evaluation\+\_\+task.\+worlds.\+Wizard\+Eval\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=220pt]{d6/d96/classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for projects.\+wizard\+\_\+of\+\_\+wikipedia.\+mturk\+\_\+evaluation\+\_\+task.\+worlds.\+Wizard\+Eval\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=220pt]{de/d46/classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_ac1e77202cbc7aa82ec603df4aaaffaf7}{\+\_\+\+\_\+init\+\_\+\+\_\+} (self, \hyperlink{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_a793bf2d1056a9f3e70c89f43062d8db2}{opt}, \hyperlink{classparlai_1_1core_1_1worlds_1_1MultiAgentDialogWorld_a05fc93525cb86edef121980fc55f9926}{agents}=None, shared=None, \hyperlink{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_aa245724e16215bb2739524d94cee6582}{range\+\_\+turn}=(3, 5), \hyperlink{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_a56e2813e954250d045d519297a9469e3}{max\+\_\+turn}=5, \hyperlink{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_acf3ad9fdd1d432a9a520ea8bce150f4f}{max\+\_\+resp\+\_\+time}=120, model\+\_\+agent\+\_\+opt=None, \hyperlink{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_a704cab2652de8aba49350f041d249804}{world\+\_\+tag}=\textquotesingle{}\textquotesingle{}, \hyperlink{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_aef19629b948f594f5db8b97a0a482c00}{agent\+\_\+timeout\+\_\+shutdown}=120, knowledge\+\_\+retriever\+\_\+opt=None)
\item 
def \hyperlink{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_abc7bd5ac461df6eaf0e591888aaf68b9}{get\+\_\+human\+\_\+agent\+\_\+act} (self, agent)
\item 
def \hyperlink{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_abfff1c20503e898e721969580c160f67}{parley} (self)
\item 
def \hyperlink{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_a1cffb86be3a550ac33519b487959ec8c}{parallel\+\_\+eval\+\_\+mode} (self)
\item 
def \hyperlink{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_a57f678d93fee85fb988fce00c22560d5}{model\+\_\+observes\+\_\+itself} (self, txt)
\item 
def \hyperlink{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_a858503006ae3bd8583cecb008a0eb522}{episode\+\_\+done} (self)
\item 
def \hyperlink{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_aa58e1bc16ad0db719e00321563c9f45a}{get\+\_\+instruction} (self, agent\+\_\+id=None, tag=\textquotesingle{}first\textquotesingle{})
\item 
def \hyperlink{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_af2db699f6af0f8b441fbf280c5b12302}{save\+\_\+data} (self)
\item 
def \hyperlink{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_ac6b1cd76a8d7270fb0d879c2ec77abf5}{is\+\_\+msg\+\_\+tooshortlong} (self, act, ag, th\+\_\+min=3, th\+\_\+max=20)
\item 
def \hyperlink{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_a49e222b755af51462cba1320eadc4f53}{check\+\_\+timeout} (self, act)
\item 
def \hyperlink{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_aac0d10bb35f7764c2649773815969a5b}{shutdown} (self)
\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_a793bf2d1056a9f3e70c89f43062d8db2}{opt}
\item 
\hyperlink{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_aac0098081b1015a7f287ecfd35f81cb2}{turn\+\_\+idx}
\item 
\hyperlink{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_aa245724e16215bb2739524d94cee6582}{range\+\_\+turn}
\item 
\hyperlink{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_a56e2813e954250d045d519297a9469e3}{max\+\_\+turn}
\item 
\hyperlink{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_ab1b3361214d1e82df327c1a231e17415}{n\+\_\+turn}
\item 
\hyperlink{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_a459651da0a9bc3c3b6c40cf4b3b971a1}{chat\+\_\+done}
\item 
\hyperlink{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_a4147f96f588e83e08bc86e52dec2cdc0}{other\+\_\+first}
\item 
\hyperlink{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_a54e6126b43f436d05d525985ae1eaece}{dialog}
\item 
\hyperlink{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_a80a437a8206ec8442147d898a7aa0e24}{dialog\+\_\+list}
\item 
\hyperlink{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_a2e24ea0775d6c0587e434252383c6082}{gmark\+\_\+score}
\item 
\hyperlink{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_ac3bb46424c65dac64d3d91e584be8636}{task\+\_\+type}
\item 
\hyperlink{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_a704cab2652de8aba49350f041d249804}{world\+\_\+tag}
\item 
\hyperlink{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_aacc518b7e3a5c1b7f937592864ae5e2d}{ratings}
\item 
\hyperlink{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_a55e5a388195e3eb5455bc3fdd004b5e0}{model\+\_\+agent}
\item 
\hyperlink{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_a0ff232b423606b2ac3b95fb9e0d9f820}{knowledge\+\_\+agent}
\item 
\hyperlink{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_acf3ad9fdd1d432a9a520ea8bce150f4f}{max\+\_\+resp\+\_\+time}
\item 
\hyperlink{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_aef19629b948f594f5db8b97a0a482c00}{agent\+\_\+timeout\+\_\+shutdown}
\item 
\hyperlink{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_a07a6ad3dcadff66b04e4e9eb652f4910}{eval\+\_\+agent}
\item 
\hyperlink{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_a18f6c2c8871d9f39ba0c7a205b05aa8e}{other\+\_\+agent}
\item 
\hyperlink{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_a72f089d7257435bf9e1cb20ba293d4ad}{chosen\+\_\+topic}
\item 
\hyperlink{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_a6295bb9c04061cacd467fbcb9c3ff6b6}{seen}
\item 
\hyperlink{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_a3777176fe6a2ef5586e2dbbe2b4e9894}{topic\+\_\+choices}
\item 
\hyperlink{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_a46e08a2e5573f3748e8fba9e8122931c}{start\+\_\+time}
\end{DoxyCompactItemize}


\subsection{Detailed Description}


Definition at line 144 of file worlds.\+py.



\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_ac1e77202cbc7aa82ec603df4aaaffaf7}\label{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_ac1e77202cbc7aa82ec603df4aaaffaf7}} 
\index{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval}!\+\_\+\+\_\+init\+\_\+\+\_\+@{\+\_\+\+\_\+init\+\_\+\+\_\+}}
\index{\+\_\+\+\_\+init\+\_\+\+\_\+@{\+\_\+\+\_\+init\+\_\+\+\_\+}!projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval}}
\subsubsection{\texorpdfstring{\+\_\+\+\_\+init\+\_\+\+\_\+()}{\_\_init\_\_()}}
{\footnotesize\ttfamily def projects.\+wizard\+\_\+of\+\_\+wikipedia.\+mturk\+\_\+evaluation\+\_\+task.\+worlds.\+Wizard\+Eval.\+\_\+\+\_\+init\+\_\+\+\_\+ (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{opt,  }\item[{}]{agents = {\ttfamily None},  }\item[{}]{shared = {\ttfamily None},  }\item[{}]{range\+\_\+turn = {\ttfamily (3,~5)},  }\item[{}]{max\+\_\+turn = {\ttfamily 5},  }\item[{}]{max\+\_\+resp\+\_\+time = {\ttfamily 120},  }\item[{}]{model\+\_\+agent\+\_\+opt = {\ttfamily None},  }\item[{}]{world\+\_\+tag = {\ttfamily \textquotesingle{}\textquotesingle{}},  }\item[{}]{agent\+\_\+timeout\+\_\+shutdown = {\ttfamily 120},  }\item[{}]{knowledge\+\_\+retriever\+\_\+opt = {\ttfamily None} }\end{DoxyParamCaption})}



Definition at line 157 of file worlds.\+py.


\begin{DoxyCode}
157     ):
158         self.opt = opt
159         \textcolor{comment}{# TURN CONTROL}
160         self.turn\_idx = 0
161         self.range\_turn = range\_turn
162         self.max\_turn = max\_turn
163         self.n\_turn = np.random.randint(self.range\_turn[0], self.range\_turn[1]) + 1
164         self.chat\_done = \textcolor{keyword}{False}
165         self.other\_first = random.choice([\textcolor{keyword}{True}, \textcolor{keyword}{False}])
166 
167         \textcolor{comment}{# DATA}
168         self.dialog = []
169         self.dialog\_list = []
170         self.gmark\_score = -1
171         self.task\_type = \textcolor{stringliteral}{'sandbox'} \textcolor{keywordflow}{if} opt[\textcolor{stringliteral}{'is\_sandbox'}] \textcolor{keywordflow}{else} \textcolor{stringliteral}{'live'}
172         self.world\_tag = world\_tag
173         self.ratings = [\textcolor{stringliteral}{'1'}, \textcolor{stringliteral}{'2'}, \textcolor{stringliteral}{'3'}, \textcolor{stringliteral}{'4'}, \textcolor{stringliteral}{'5'}]
174 
175         super().\_\_init\_\_(opt, agents, shared)
176 
177         \textcolor{comment}{# MODEL AGENT SET UP}
178         \textcolor{keywordflow}{if} model\_agent\_opt \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}:
179             self.model\_agent = \hyperlink{namespaceparlai_1_1core_1_1agents_aa5af5dd1d2f9da491b60348d479b849f}{create\_agent\_from\_shared}(model\_agent\_opt)
180             self.knowledge\_agent = \hyperlink{namespaceparlai_1_1core_1_1agents_aa5af5dd1d2f9da491b60348d479b849f}{create\_agent\_from\_shared}(knowledge\_retriever\_opt
      )
181         \textcolor{keywordflow}{else}:
182             \textcolor{comment}{# case where we test against a human}
183             self.model\_agent = \textcolor{keywordtype}{None}
184 
185         \textcolor{comment}{# TIMEOUT PROTOCOLS}
186         self.max\_resp\_time = max\_resp\_time  \textcolor{comment}{# in secs}
187         self.agent\_timeout\_shutdown = agent\_timeout\_shutdown
188 
189         \textcolor{comment}{# TOPIC CHOICES}
190         \textcolor{keywordflow}{if} self.model\_agent \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
191             \textcolor{keywordflow}{for} idx \textcolor{keywordflow}{in} range(len(self.agents)):
192                 \textcolor{keywordflow}{if} self.agents[idx].id == \textcolor{stringliteral}{'PERSON\_1'}:
193                     self.eval\_agent = self.agents[idx]
194                     self.other\_agent = self.agents[idx - 1]
195                     \textcolor{keywordflow}{break}
196         \textcolor{keywordflow}{else}:
197             self.eval\_agent = self.agents[0]
198 
199         self.chosen\_topic = self.eval\_agent.chosen\_topic
200         self.seen = self.eval\_agent.seen
201         self.topic\_choices = self.eval\_agent.topic\_choices
202 
\end{DoxyCode}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_a49e222b755af51462cba1320eadc4f53}\label{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_a49e222b755af51462cba1320eadc4f53}} 
\index{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval}!check\+\_\+timeout@{check\+\_\+timeout}}
\index{check\+\_\+timeout@{check\+\_\+timeout}!projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval}}
\subsubsection{\texorpdfstring{check\+\_\+timeout()}{check\_timeout()}}
{\footnotesize\ttfamily def projects.\+wizard\+\_\+of\+\_\+wikipedia.\+mturk\+\_\+evaluation\+\_\+task.\+worlds.\+Wizard\+Eval.\+check\+\_\+timeout (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{act }\end{DoxyParamCaption})}



Definition at line 492 of file worlds.\+py.


\begin{DoxyCode}
492     \textcolor{keyword}{def }check\_timeout(self, act):
493         \textcolor{keywordflow}{if} act \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
494             self.chat\_done = \textcolor{keyword}{True}
495             \textcolor{keywordflow}{return} \textcolor{keyword}{True}
496         \textcolor{keywordflow}{if} (
497             (act[\textcolor{stringliteral}{'text'}] == \textcolor{stringliteral}{'[TIMEOUT]'})
498             \textcolor{keywordflow}{or} (act[\textcolor{stringliteral}{'text'}] == \textcolor{stringliteral}{'[RETURNED]'})
499             \textcolor{keywordflow}{or} (act[\textcolor{stringliteral}{'text'}] == \textcolor{stringliteral}{'[DISCONNECT]'})
500         ):
501             control\_msg = \{\textcolor{stringliteral}{'episode\_done'}: \textcolor{keyword}{True}\}
502             control\_msg[\textcolor{stringliteral}{'id'}] = \textcolor{stringliteral}{'SYSTEM'}
503             control\_msg[\textcolor{stringliteral}{'text'}] = self.get\_instruction(
504                 agent\_id=act[\textcolor{stringliteral}{'id'}], tag=\textcolor{stringliteral}{'timeout'}
505             )
506             \textcolor{keywordflow}{for} ag \textcolor{keywordflow}{in} self.agents:
507                 \textcolor{keywordflow}{if} ag.id != act[\textcolor{stringliteral}{'id'}]:
508                     ag.observe(\hyperlink{namespaceparlai_1_1core_1_1worlds_afc3fad603b7bce41dbdc9cdc04a9c794}{validate}(control\_msg))
509             self.chat\_done = \textcolor{keyword}{True}
510             \textcolor{keywordflow}{return} \textcolor{keyword}{True}
511         \textcolor{keywordflow}{else}:
512             \textcolor{keywordflow}{return} \textcolor{keyword}{False}
513 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_a858503006ae3bd8583cecb008a0eb522}\label{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_a858503006ae3bd8583cecb008a0eb522}} 
\index{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval}!episode\+\_\+done@{episode\+\_\+done}}
\index{episode\+\_\+done@{episode\+\_\+done}!projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval}}
\subsubsection{\texorpdfstring{episode\+\_\+done()}{episode\_done()}}
{\footnotesize\ttfamily def projects.\+wizard\+\_\+of\+\_\+wikipedia.\+mturk\+\_\+evaluation\+\_\+task.\+worlds.\+Wizard\+Eval.\+episode\+\_\+done (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line 403 of file worlds.\+py.


\begin{DoxyCode}
403     \textcolor{keyword}{def }episode\_done(self):
404         \textcolor{keywordflow}{return} self.chat\_done
405 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_abc7bd5ac461df6eaf0e591888aaf68b9}\label{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_abc7bd5ac461df6eaf0e591888aaf68b9}} 
\index{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval}!get\+\_\+human\+\_\+agent\+\_\+act@{get\+\_\+human\+\_\+agent\+\_\+act}}
\index{get\+\_\+human\+\_\+agent\+\_\+act@{get\+\_\+human\+\_\+agent\+\_\+act}!projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval}}
\subsubsection{\texorpdfstring{get\+\_\+human\+\_\+agent\+\_\+act()}{get\_human\_agent\_act()}}
{\footnotesize\ttfamily def projects.\+wizard\+\_\+of\+\_\+wikipedia.\+mturk\+\_\+evaluation\+\_\+task.\+worlds.\+Wizard\+Eval.\+get\+\_\+human\+\_\+agent\+\_\+act (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{agent }\end{DoxyParamCaption})}



Definition at line 203 of file worlds.\+py.


\begin{DoxyCode}
203     \textcolor{keyword}{def }get\_human\_agent\_act(self, agent):
204         act = agent.act(timeout=self.max\_resp\_time)
205         \textcolor{keywordflow}{while} self.is\_msg\_tooshortlong(act, agent):
206             act = agent.act(timeout=self.max\_resp\_time)
207         \textcolor{keywordflow}{return} act
208 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_aa58e1bc16ad0db719e00321563c9f45a}\label{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_aa58e1bc16ad0db719e00321563c9f45a}} 
\index{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval}!get\+\_\+instruction@{get\+\_\+instruction}}
\index{get\+\_\+instruction@{get\+\_\+instruction}!projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval}}
\subsubsection{\texorpdfstring{get\+\_\+instruction()}{get\_instruction()}}
{\footnotesize\ttfamily def projects.\+wizard\+\_\+of\+\_\+wikipedia.\+mturk\+\_\+evaluation\+\_\+task.\+worlds.\+Wizard\+Eval.\+get\+\_\+instruction (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{agent\+\_\+id = {\ttfamily None},  }\item[{}]{tag = {\ttfamily \textquotesingle{}first\textquotesingle{}} }\end{DoxyParamCaption})}



Definition at line 406 of file worlds.\+py.


\begin{DoxyCode}
406     \textcolor{keyword}{def }get\_instruction(self, agent\_id=None, tag='first'):
407         \textcolor{keywordflow}{if} tag == \textcolor{stringliteral}{'start'}:
408             \textcolor{keywordflow}{return} START\_MSG.format(self.n\_turn)
409 
410         \textcolor{keywordflow}{if} tag == \textcolor{stringliteral}{'chat\_not\_done'}:
411             \textcolor{keywordflow}{return} CHAT\_NOT\_DONE\_MSG.format(self.n\_turn + 1 - self.turn\_idx)
412 
413         \textcolor{keywordflow}{if} tag == \textcolor{stringliteral}{'timeout'}:
414             \textcolor{keywordflow}{return} TIMEOUT\_MESSAGE
415 
416         \textcolor{keywordflow}{if} tag == \textcolor{stringliteral}{'exceed\_min\_turns'}:
417             \textcolor{keywordflow}{return} EXCEED\_MIN\_TURNS\_MSG.format(self.n\_turn)
418 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_ac6b1cd76a8d7270fb0d879c2ec77abf5}\label{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_ac6b1cd76a8d7270fb0d879c2ec77abf5}} 
\index{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval}!is\+\_\+msg\+\_\+tooshortlong@{is\+\_\+msg\+\_\+tooshortlong}}
\index{is\+\_\+msg\+\_\+tooshortlong@{is\+\_\+msg\+\_\+tooshortlong}!projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval}}
\subsubsection{\texorpdfstring{is\+\_\+msg\+\_\+tooshortlong()}{is\_msg\_tooshortlong()}}
{\footnotesize\ttfamily def projects.\+wizard\+\_\+of\+\_\+wikipedia.\+mturk\+\_\+evaluation\+\_\+task.\+worlds.\+Wizard\+Eval.\+is\+\_\+msg\+\_\+tooshortlong (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{act,  }\item[{}]{ag,  }\item[{}]{th\+\_\+min = {\ttfamily 3},  }\item[{}]{th\+\_\+max = {\ttfamily 20} }\end{DoxyParamCaption})}



Definition at line 474 of file worlds.\+py.


\begin{DoxyCode}
474     \textcolor{keyword}{def }is\_msg\_tooshortlong(self, act, ag, th\_min=3, th\_max=20):
475         \textcolor{keywordflow}{if} act[\textcolor{stringliteral}{'episode\_done'}]:
476             \textcolor{keywordflow}{return} \textcolor{keyword}{False}
477 
478         control\_msg = \{\textcolor{stringliteral}{'episode\_done'}: \textcolor{keyword}{False}\}
479         control\_msg[\textcolor{stringliteral}{'id'}] = \textcolor{stringliteral}{'SYSTEM'}
480 
481         msg\_len = len(act[\textcolor{stringliteral}{'text'}].split(\textcolor{stringliteral}{' '}))
482         \textcolor{keywordflow}{if} msg\_len < th\_min:
483             control\_msg[\textcolor{stringliteral}{'text'}] = TOO\_SHORT\_MSG.format(th\_min)
484             ag.observe(\hyperlink{namespaceparlai_1_1core_1_1worlds_afc3fad603b7bce41dbdc9cdc04a9c794}{validate}(control\_msg))
485             \textcolor{keywordflow}{return} \textcolor{keyword}{True}
486         \textcolor{keywordflow}{if} msg\_len > th\_max:
487             control\_msg[\textcolor{stringliteral}{'text'}] = TOO\_LONG\_MSG.format(th\_max)
488             ag.observe(\hyperlink{namespaceparlai_1_1core_1_1worlds_afc3fad603b7bce41dbdc9cdc04a9c794}{validate}(control\_msg))
489             \textcolor{keywordflow}{return} \textcolor{keyword}{True}
490         \textcolor{keywordflow}{return} \textcolor{keyword}{False}
491 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_a57f678d93fee85fb988fce00c22560d5}\label{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_a57f678d93fee85fb988fce00c22560d5}} 
\index{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval}!model\+\_\+observes\+\_\+itself@{model\+\_\+observes\+\_\+itself}}
\index{model\+\_\+observes\+\_\+itself@{model\+\_\+observes\+\_\+itself}!projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval}}
\subsubsection{\texorpdfstring{model\+\_\+observes\+\_\+itself()}{model\_observes\_itself()}}
{\footnotesize\ttfamily def projects.\+wizard\+\_\+of\+\_\+wikipedia.\+mturk\+\_\+evaluation\+\_\+task.\+worlds.\+Wizard\+Eval.\+model\+\_\+observes\+\_\+itself (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{txt }\end{DoxyParamCaption})}



Definition at line 399 of file worlds.\+py.


\begin{DoxyCode}
399     \textcolor{keyword}{def }model\_observes\_itself(self, txt):
400         act = \{\textcolor{stringliteral}{'text'}: txt, \textcolor{stringliteral}{'episode\_done'}: \textcolor{keyword}{False}\}
401         self.model\_agent.observe(act)
402 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_a1cffb86be3a550ac33519b487959ec8c}\label{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_a1cffb86be3a550ac33519b487959ec8c}} 
\index{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval}!parallel\+\_\+eval\+\_\+mode@{parallel\+\_\+eval\+\_\+mode}}
\index{parallel\+\_\+eval\+\_\+mode@{parallel\+\_\+eval\+\_\+mode}!projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval}}
\subsubsection{\texorpdfstring{parallel\+\_\+eval\+\_\+mode()}{parallel\_eval\_mode()}}
{\footnotesize\ttfamily def projects.\+wizard\+\_\+of\+\_\+wikipedia.\+mturk\+\_\+evaluation\+\_\+task.\+worlds.\+Wizard\+Eval.\+parallel\+\_\+eval\+\_\+mode (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}

\begin{DoxyVerb}Parallel function that shuts one agent down and asks the other to do the
evaluation if their are two agents.

If there is only one agent, it performs the evaluation.
\end{DoxyVerb}
 

Definition at line 358 of file worlds.\+py.


\begin{DoxyCode}
358     \textcolor{keyword}{def }parallel\_eval\_mode(self):
359         \textcolor{stringliteral}{"""}
360 \textcolor{stringliteral}{        Parallel function that shuts one agent down and asks the other to do the}
361 \textcolor{stringliteral}{        evaluation if their are two agents.}
362 \textcolor{stringliteral}{}
363 \textcolor{stringliteral}{        If there is only one agent, it performs the evaluation.}
364 \textcolor{stringliteral}{        """}
365         \textcolor{keyword}{global} eval\_or\_shutdown
366 
367         \textcolor{keyword}{def }eval\_or\_shutdown(agent):
368             \textcolor{keywordflow}{if} self.model\_agent \textcolor{keywordflow}{is} \textcolor{keywordtype}{None} \textcolor{keywordflow}{and} agent == self.other\_agent:
369                 control\_msg = \{\textcolor{stringliteral}{'episode\_done'}: \textcolor{keyword}{False}\}
370                 control\_msg[\textcolor{stringliteral}{'id'}] = \textcolor{stringliteral}{'SYSTEM'}
371                 control\_msg[\textcolor{stringliteral}{'text'}] = OTHER\_AGENT\_FINISHED\_MSG
372                 self.other\_agent.observe(\hyperlink{namespaceparlai_1_1core_1_1worlds_afc3fad603b7bce41dbdc9cdc04a9c794}{validate}(control\_msg))
373                 \textcolor{comment}{# mark eval agent done}
374                 self.eval\_agent.mturk\_manager.mark\_workers\_done([self.eval\_agent])
375                 \textcolor{comment}{# shutdown other agent}
376                 self.other\_agent.shutdown()
377             \textcolor{keywordflow}{else}:
378                 control\_msg = \{\textcolor{stringliteral}{'episode\_done'}: \textcolor{keyword}{False}\}
379                 control\_msg[\textcolor{stringliteral}{'id'}] = \textcolor{stringliteral}{'SYSTEM'}
380                 \textcolor{comment}{# General mark for this convo}
381                 control\_msg[\textcolor{stringliteral}{'text'}] = GMARK\_MSG
382                 control\_msg[\textcolor{stringliteral}{'general\_mark\_score'}] = \textcolor{keyword}{True}
383                 self.eval\_agent.observe(\hyperlink{namespaceparlai_1_1core_1_1worlds_afc3fad603b7bce41dbdc9cdc04a9c794}{validate}(control\_msg))
384                 act = self.eval\_agent.act(timeout=self.max\_resp\_time)
385                 timeout = self.check\_timeout(act)
386                 \textcolor{keywordflow}{if} timeout:
387                     \textcolor{keywordflow}{return}
388                 \textcolor{keywordflow}{while} act[\textcolor{stringliteral}{'text'}] \textcolor{keywordflow}{not} \textcolor{keywordflow}{in} self.ratings:
389                     control\_msg[\textcolor{stringliteral}{'text'}] = NAN\_MSG
390                     self.eval\_agent.observe(\hyperlink{namespaceparlai_1_1core_1_1worlds_afc3fad603b7bce41dbdc9cdc04a9c794}{validate}(control\_msg))
391                     act = self.eval\_agent.act(timeout=self.max\_resp\_time)
392                 \textcolor{keywordflow}{if} \textcolor{stringliteral}{'text'} \textcolor{keywordflow}{in} act \textcolor{keywordflow}{and} act[\textcolor{stringliteral}{'text'}] \textcolor{keywordflow}{in} self.ratings:
393                     self.gmark\_score = \hyperlink{namespacelanguage__model_1_1eval__ppl_a7d12ee00479673c5c8d1f6d01faa272a}{int}(act[\textcolor{stringliteral}{'text'}])
394 
395         Parallel(n\_jobs=len(self.agents), backend=\textcolor{stringliteral}{'threading'})(
396             delayed(eval\_or\_shutdown)(agent) \textcolor{keywordflow}{for} agent \textcolor{keywordflow}{in} self.agents
397         )
398 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_abfff1c20503e898e721969580c160f67}\label{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_abfff1c20503e898e721969580c160f67}} 
\index{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval}!parley@{parley}}
\index{parley@{parley}!projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval}}
\subsubsection{\texorpdfstring{parley()}{parley()}}
{\footnotesize\ttfamily def projects.\+wizard\+\_\+of\+\_\+wikipedia.\+mturk\+\_\+evaluation\+\_\+task.\+worlds.\+Wizard\+Eval.\+parley (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line 235 of file worlds.\+py.


\begin{DoxyCode}
235     \textcolor{keyword}{def }parley(self):
236         self.turn\_idx += 1
237 
238         control\_msg = \{\textcolor{stringliteral}{'episode\_done'}: \textcolor{keyword}{False}\}
239         control\_msg[\textcolor{stringliteral}{'id'}] = \textcolor{stringliteral}{'SYSTEM'}
240 
241         print(self.world\_tag + \textcolor{stringliteral}{' is at turn \{\}...'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(self.turn\_idx))
242 
243         \textcolor{stringliteral}{"""If at first turn, we tell each agent the chosen topic."""}
244         \textcolor{keywordflow}{if} self.turn\_idx == 1:
245             self.start\_time = time.time()
246             \textcolor{keywordflow}{for} idx, agent \textcolor{keywordflow}{in} enumerate(self.agents):
247                 chosen\_topic\_text = (
248                     \textcolor{stringliteral}{'<b><span style="color:blue">'}
249                     \textcolor{stringliteral}{'\{\}\(\backslash\)n</span></b>'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(self.chosen\_topic.strip())
250                 )
251                 control\_msg[\textcolor{stringliteral}{'chosen\_topic'}] = chosen\_topic\_text
252                 print(chosen\_topic\_text)
253                 control\_msg[\textcolor{stringliteral}{'text'}] = self.get\_instruction(
254                     tag=\textcolor{stringliteral}{'start'}, agent\_id=agent.id
255                 )
256                 agent.observe(\hyperlink{namespaceparlai_1_1core_1_1worlds_afc3fad603b7bce41dbdc9cdc04a9c794}{validate}(control\_msg))
257                 \textcolor{keywordflow}{if} idx == 0:
258                     time.sleep(3)
259 
260         \textcolor{stringliteral}{"""If we get to the min turns, inform turker that they can end if they}
261 \textcolor{stringliteral}{        want.}
262 \textcolor{stringliteral}{        """}
263         \textcolor{keywordflow}{if} self.turn\_idx == self.n\_turn + 1:
264             \textcolor{keywordflow}{for} idx, agent \textcolor{keywordflow}{in} enumerate(self.agents):
265                 control\_msg[\textcolor{stringliteral}{'text'}] = self.get\_instruction(idx, tag=\textcolor{stringliteral}{'exceed\_min\_turns'})
266                 control\_msg[\textcolor{stringliteral}{'exceed\_min\_turns'}] = \textcolor{keyword}{True}
267                 agent.observe(\hyperlink{namespaceparlai_1_1core_1_1worlds_afc3fad603b7bce41dbdc9cdc04a9c794}{validate}(control\_msg))
268 
269         \textcolor{stringliteral}{"""Otherwise, we proceed accordingly."""}
270         \textcolor{comment}{# Other agent first}
271         \textcolor{keywordflow}{if} self.other\_first \textcolor{keywordflow}{and} self.turn\_idx == 1:
272             \textcolor{keywordflow}{if} self.model\_agent \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}:
273                 \textcolor{comment}{# Model has to observe chosen topic}
274                 chosen\_act = \{
275                     \textcolor{stringliteral}{'chosen\_topic'}: self.chosen\_topic,
276                     \textcolor{stringliteral}{'text'}: self.chosen\_topic,
277                     \textcolor{stringliteral}{'episode\_done'}: \textcolor{keyword}{False},
278                 \}
279                 chosen\_act = self.\_add\_knowledge\_to\_act(chosen\_act)
280                 self.model\_agent.observe(chosen\_act)
281                 model\_act = self.model\_agent.act()
282                 model\_act.force\_set(\textcolor{stringliteral}{'id'}, \textcolor{stringliteral}{'PERSON\_2'})
283                 self.dialog.append((1, model\_act.get(\textcolor{stringliteral}{'text'})))
284                 self.eval\_agent.observe(model\_act)
285                 self.knowledge\_agent.observe(model\_act, actor\_id=\textcolor{stringliteral}{'wizard'})
286             \textcolor{keywordflow}{else}:
287                 act = self.get\_human\_agent\_act(self.other\_agent)
288                 timeout = self.check\_timeout(act)
289                 \textcolor{keywordflow}{if} timeout:
290                     \textcolor{comment}{# eval agent early disconnect}
291                     control\_msg[\textcolor{stringliteral}{'text'}] = UNEXPECTED\_DISCONNECTION\_MSG
292                     self.eval\_agent.observe(\hyperlink{namespaceparlai_1_1core_1_1worlds_afc3fad603b7bce41dbdc9cdc04a9c794}{validate}(control\_msg))
293                     \textcolor{keywordflow}{return}
294                 \textcolor{keywordflow}{else}:
295                     self.dialog.append((1, act.get(\textcolor{stringliteral}{'text'})))
296                     self.eval\_agent.observe(act)
297 
298         \textcolor{comment}{# Eval agent turn}
299         act = self.get\_human\_agent\_act(self.eval\_agent)
300         timeout = self.check\_timeout(act)
301         \textcolor{keywordflow}{if} timeout:
302             \textcolor{keywordflow}{if} self.model\_agent \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
303                 control\_msg[\textcolor{stringliteral}{'text'}] = UNEXPECTED\_DISCONNECTION\_MSG
304                 self.other\_agent.observe(\hyperlink{namespaceparlai_1_1core_1_1worlds_afc3fad603b7bce41dbdc9cdc04a9c794}{validate}(control\_msg))
305             \textcolor{keywordflow}{return}
306 
307         \textcolor{keywordflow}{if} act[\textcolor{stringliteral}{'episode\_done'}]:
308             \textcolor{keywordflow}{if} self.turn\_idx >= self.n\_turn:
309                 self.parallel\_eval\_mode()
310 
311                 self.chat\_done = \textcolor{keyword}{True}
312                 \textcolor{keywordflow}{for} ag \textcolor{keywordflow}{in} self.agents:
313                     control\_msg[\textcolor{stringliteral}{'text'}] = CHAT\_ENDED\_MSG
314                     ag.observe(\hyperlink{namespaceparlai_1_1core_1_1worlds_afc3fad603b7bce41dbdc9cdc04a9c794}{validate}(control\_msg))
315             \textcolor{keywordflow}{return}
316 
317         self.dialog.append((0, act[\textcolor{stringliteral}{'text'}]))
318 
319         \textcolor{comment}{# Add chosen topic for model to observe}
320         act[\textcolor{stringliteral}{'chosen\_topic'}] = self.chosen\_topic
321         \textcolor{keywordflow}{if} self.model\_agent \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}:
322             act = self.\_add\_knowledge\_to\_act(act)
323             self.model\_agent.observe(act)
324         \textcolor{keywordflow}{else}:
325             self.other\_agent.observe(act)
326 
327         \textcolor{comment}{# Model\_agent turn}
328         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} self.other\_first \textcolor{keywordflow}{or} self.turn\_idx < self.n\_turn:
329             \textcolor{keywordflow}{if} self.model\_agent \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}:
330                 act = self.model\_agent.act()
331                 self.knowledge\_agent.observe(act, actor\_id=\textcolor{stringliteral}{'wizard'})
332                 text = act[\textcolor{stringliteral}{'text'}]
333                 \textcolor{keywordflow}{for} (sb\_0, sb\_1) \textcolor{keywordflow}{in} [
334                     (\textcolor{stringliteral}{' .'}, \textcolor{stringliteral}{'.'}),
335                     (\textcolor{stringliteral}{' ,'}, \textcolor{stringliteral}{','}),
336                     (\textcolor{stringliteral}{' ?'}, \textcolor{stringliteral}{'?'}),
337                     (\textcolor{stringliteral}{' !'}, \textcolor{stringliteral}{'!'}),
338                     (\textcolor{stringliteral}{'i '}, \textcolor{stringliteral}{'I '}),
339                 ]:
340                     text = text.replace(sb\_0, sb\_1)
341                 act.force\_set(\textcolor{stringliteral}{'text'}, text)
342                 act.force\_set(\textcolor{stringliteral}{'id'}, \textcolor{stringliteral}{'PERSON\_2'})
343                 \textcolor{comment}{# NOTE: your model may or may not need to observe itself here}
344                 \textcolor{comment}{# If it does, call model\_observes\_itself or some other specialized}
345                 \textcolor{comment}{# function}
346             \textcolor{keywordflow}{else}:
347                 act = self.get\_human\_agent\_act(self.other\_agent)
348                 timeout = self.check\_timeout(act)
349                 \textcolor{keywordflow}{if} timeout:
350                     \textcolor{comment}{# eval agent early disconnect}
351                     control\_msg[\textcolor{stringliteral}{'text'}] = UNEXPECTED\_DISCONNECTION\_MSG
352                     self.eval\_agent.observe(\hyperlink{namespaceparlai_1_1core_1_1worlds_afc3fad603b7bce41dbdc9cdc04a9c794}{validate}(control\_msg))
353                     \textcolor{keywordflow}{return}
354 
355             self.dialog.append((1, act.get(\textcolor{stringliteral}{'text'})))
356             self.eval\_agent.observe(act)
357 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_af2db699f6af0f8b441fbf280c5b12302}\label{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_af2db699f6af0f8b441fbf280c5b12302}} 
\index{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval}!save\+\_\+data@{save\+\_\+data}}
\index{save\+\_\+data@{save\+\_\+data}!projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval}}
\subsubsection{\texorpdfstring{save\+\_\+data()}{save\_data()}}
{\footnotesize\ttfamily def projects.\+wizard\+\_\+of\+\_\+wikipedia.\+mturk\+\_\+evaluation\+\_\+task.\+worlds.\+Wizard\+Eval.\+save\+\_\+data (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line 419 of file worlds.\+py.


\begin{DoxyCode}
419     \textcolor{keyword}{def }save\_data(self):
420         convo\_finished = \textcolor{keyword}{True}
421         bad\_workers = []
422         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} self.opt[\textcolor{stringliteral}{'is\_sandbox'}]:
423             \textcolor{keywordflow}{if} self.opt.get(\textcolor{stringliteral}{'unique\_workers'}) \textcolor{keywordflow}{and} self.opt.get(\textcolor{stringliteral}{'unique\_qualif\_id'}):
424                 \textcolor{comment}{# assign qualification to evaluating agent only}
425                 qual = self.opt[\textcolor{stringliteral}{'unique\_qualif\_id'}]
426                 mutils.give\_worker\_qualification(
427                     self.eval\_agent.worker\_id, qual, value=\textcolor{keywordtype}{None}, is\_sandbox=\textcolor{keyword}{False}
428                 )
429         \textcolor{keywordflow}{if} self.dialog == [] \textcolor{keywordflow}{or} self.gmark\_score == -1:
430             convo\_finished = \textcolor{keyword}{False}
431 
432         data\_path = self.opt[\textcolor{stringliteral}{'data\_path'}]
433         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} os.path.exists(data\_path):
434             os.makedirs(data\_path)
435         \textcolor{keywordflow}{if} convo\_finished:
436             filename = os.path.join(
437                 data\_path,
438                 \textcolor{stringliteral}{'\{\}\_\{\}\_\{\}.pkl'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(
439                     time.strftime(\textcolor{stringliteral}{"%Y%m%d-%H%M%S"}),
440                     np.random.randint(0, 1000),
441                     self.task\_type,
442                 ),
443             )
444         \textcolor{keywordflow}{else}:
445             filename = os.path.join(
446                 data\_path,
447                 \textcolor{stringliteral}{'\{\}\_\{\}\_\{\}\_incomplete.pkl'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(
448                     time.strftime(\textcolor{stringliteral}{"%Y%m%d-%H%M%S"}),
449                     np.random.randint(0, 1000),
450                     self.task\_type,
451                 ),
452             )
453         print(self.world\_tag, \textcolor{stringliteral}{': Data successfully saved at \{\}.'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(filename))
454         pickle.dump(
455             \{
456                 \textcolor{stringliteral}{'chosen\_topic'}: self.chosen\_topic,
457                 \textcolor{stringliteral}{'topic\_choices'}: self.topic\_choices,
458                 \textcolor{stringliteral}{'seen'}: self.seen,
459                 \textcolor{stringliteral}{'dialog'}: self.dialog,
460                 \textcolor{stringliteral}{'dialog\_list'}: self.dialog\_list,
461                 \textcolor{stringliteral}{'other\_first'}: self.other\_first,
462                 \textcolor{stringliteral}{'total\_time'}: time.time() - self.start\_time,
463                 \textcolor{stringliteral}{'workers'}: [ag.worker\_id \textcolor{keywordflow}{for} ag \textcolor{keywordflow}{in} self.agents],
464                 \textcolor{stringliteral}{'hit\_id'}: [ag.hit\_id \textcolor{keywordflow}{for} ag \textcolor{keywordflow}{in} self.agents],
465                 \textcolor{stringliteral}{'assignment\_id'}: [ag.assignment\_id \textcolor{keywordflow}{for} ag \textcolor{keywordflow}{in} self.agents],
466                 \textcolor{stringliteral}{'bad\_workers'}: bad\_workers,
467                 \textcolor{stringliteral}{'n\_turn'}: self.n\_turn,
468                 \textcolor{stringliteral}{'gmark\_score'}: self.gmark\_score,
469                 \textcolor{stringliteral}{'inference'}: \textcolor{stringliteral}{'nucleus'},
470             \},
471             open(filename, \textcolor{stringliteral}{'wb'}),
472         )
473 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_aac0d10bb35f7764c2649773815969a5b}\label{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_aac0d10bb35f7764c2649773815969a5b}} 
\index{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval}!shutdown@{shutdown}}
\index{shutdown@{shutdown}!projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval}}
\subsubsection{\texorpdfstring{shutdown()}{shutdown()}}
{\footnotesize\ttfamily def projects.\+wizard\+\_\+of\+\_\+wikipedia.\+mturk\+\_\+evaluation\+\_\+task.\+worlds.\+Wizard\+Eval.\+shutdown (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line 514 of file worlds.\+py.


\begin{DoxyCode}
514     \textcolor{keyword}{def }shutdown(self):
515         \textcolor{comment}{# only need to shut down evaluating agent}
516         \textcolor{comment}{# if more than one agent, other agent shut down previously}
517         self.eval\_agent.shutdown()
518 \end{DoxyCode}


\subsection{Member Data Documentation}
\mbox{\Hypertarget{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_aef19629b948f594f5db8b97a0a482c00}\label{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_aef19629b948f594f5db8b97a0a482c00}} 
\index{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval}!agent\+\_\+timeout\+\_\+shutdown@{agent\+\_\+timeout\+\_\+shutdown}}
\index{agent\+\_\+timeout\+\_\+shutdown@{agent\+\_\+timeout\+\_\+shutdown}!projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval}}
\subsubsection{\texorpdfstring{agent\+\_\+timeout\+\_\+shutdown}{agent\_timeout\_shutdown}}
{\footnotesize\ttfamily projects.\+wizard\+\_\+of\+\_\+wikipedia.\+mturk\+\_\+evaluation\+\_\+task.\+worlds.\+Wizard\+Eval.\+agent\+\_\+timeout\+\_\+shutdown}



Definition at line 187 of file worlds.\+py.

\mbox{\Hypertarget{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_a459651da0a9bc3c3b6c40cf4b3b971a1}\label{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_a459651da0a9bc3c3b6c40cf4b3b971a1}} 
\index{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval}!chat\+\_\+done@{chat\+\_\+done}}
\index{chat\+\_\+done@{chat\+\_\+done}!projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval}}
\subsubsection{\texorpdfstring{chat\+\_\+done}{chat\_done}}
{\footnotesize\ttfamily projects.\+wizard\+\_\+of\+\_\+wikipedia.\+mturk\+\_\+evaluation\+\_\+task.\+worlds.\+Wizard\+Eval.\+chat\+\_\+done}



Definition at line 164 of file worlds.\+py.

\mbox{\Hypertarget{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_a72f089d7257435bf9e1cb20ba293d4ad}\label{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_a72f089d7257435bf9e1cb20ba293d4ad}} 
\index{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval}!chosen\+\_\+topic@{chosen\+\_\+topic}}
\index{chosen\+\_\+topic@{chosen\+\_\+topic}!projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval}}
\subsubsection{\texorpdfstring{chosen\+\_\+topic}{chosen\_topic}}
{\footnotesize\ttfamily projects.\+wizard\+\_\+of\+\_\+wikipedia.\+mturk\+\_\+evaluation\+\_\+task.\+worlds.\+Wizard\+Eval.\+chosen\+\_\+topic}



Definition at line 199 of file worlds.\+py.

\mbox{\Hypertarget{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_a54e6126b43f436d05d525985ae1eaece}\label{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_a54e6126b43f436d05d525985ae1eaece}} 
\index{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval}!dialog@{dialog}}
\index{dialog@{dialog}!projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval}}
\subsubsection{\texorpdfstring{dialog}{dialog}}
{\footnotesize\ttfamily projects.\+wizard\+\_\+of\+\_\+wikipedia.\+mturk\+\_\+evaluation\+\_\+task.\+worlds.\+Wizard\+Eval.\+dialog}



Definition at line 168 of file worlds.\+py.

\mbox{\Hypertarget{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_a80a437a8206ec8442147d898a7aa0e24}\label{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_a80a437a8206ec8442147d898a7aa0e24}} 
\index{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval}!dialog\+\_\+list@{dialog\+\_\+list}}
\index{dialog\+\_\+list@{dialog\+\_\+list}!projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval}}
\subsubsection{\texorpdfstring{dialog\+\_\+list}{dialog\_list}}
{\footnotesize\ttfamily projects.\+wizard\+\_\+of\+\_\+wikipedia.\+mturk\+\_\+evaluation\+\_\+task.\+worlds.\+Wizard\+Eval.\+dialog\+\_\+list}



Definition at line 169 of file worlds.\+py.

\mbox{\Hypertarget{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_a07a6ad3dcadff66b04e4e9eb652f4910}\label{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_a07a6ad3dcadff66b04e4e9eb652f4910}} 
\index{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval}!eval\+\_\+agent@{eval\+\_\+agent}}
\index{eval\+\_\+agent@{eval\+\_\+agent}!projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval}}
\subsubsection{\texorpdfstring{eval\+\_\+agent}{eval\_agent}}
{\footnotesize\ttfamily projects.\+wizard\+\_\+of\+\_\+wikipedia.\+mturk\+\_\+evaluation\+\_\+task.\+worlds.\+Wizard\+Eval.\+eval\+\_\+agent}



Definition at line 193 of file worlds.\+py.

\mbox{\Hypertarget{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_a2e24ea0775d6c0587e434252383c6082}\label{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_a2e24ea0775d6c0587e434252383c6082}} 
\index{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval}!gmark\+\_\+score@{gmark\+\_\+score}}
\index{gmark\+\_\+score@{gmark\+\_\+score}!projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval}}
\subsubsection{\texorpdfstring{gmark\+\_\+score}{gmark\_score}}
{\footnotesize\ttfamily projects.\+wizard\+\_\+of\+\_\+wikipedia.\+mturk\+\_\+evaluation\+\_\+task.\+worlds.\+Wizard\+Eval.\+gmark\+\_\+score}



Definition at line 170 of file worlds.\+py.

\mbox{\Hypertarget{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_a0ff232b423606b2ac3b95fb9e0d9f820}\label{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_a0ff232b423606b2ac3b95fb9e0d9f820}} 
\index{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval}!knowledge\+\_\+agent@{knowledge\+\_\+agent}}
\index{knowledge\+\_\+agent@{knowledge\+\_\+agent}!projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval}}
\subsubsection{\texorpdfstring{knowledge\+\_\+agent}{knowledge\_agent}}
{\footnotesize\ttfamily projects.\+wizard\+\_\+of\+\_\+wikipedia.\+mturk\+\_\+evaluation\+\_\+task.\+worlds.\+Wizard\+Eval.\+knowledge\+\_\+agent}



Definition at line 180 of file worlds.\+py.

\mbox{\Hypertarget{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_acf3ad9fdd1d432a9a520ea8bce150f4f}\label{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_acf3ad9fdd1d432a9a520ea8bce150f4f}} 
\index{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval}!max\+\_\+resp\+\_\+time@{max\+\_\+resp\+\_\+time}}
\index{max\+\_\+resp\+\_\+time@{max\+\_\+resp\+\_\+time}!projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval}}
\subsubsection{\texorpdfstring{max\+\_\+resp\+\_\+time}{max\_resp\_time}}
{\footnotesize\ttfamily projects.\+wizard\+\_\+of\+\_\+wikipedia.\+mturk\+\_\+evaluation\+\_\+task.\+worlds.\+Wizard\+Eval.\+max\+\_\+resp\+\_\+time}



Definition at line 186 of file worlds.\+py.

\mbox{\Hypertarget{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_a56e2813e954250d045d519297a9469e3}\label{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_a56e2813e954250d045d519297a9469e3}} 
\index{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval}!max\+\_\+turn@{max\+\_\+turn}}
\index{max\+\_\+turn@{max\+\_\+turn}!projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval}}
\subsubsection{\texorpdfstring{max\+\_\+turn}{max\_turn}}
{\footnotesize\ttfamily projects.\+wizard\+\_\+of\+\_\+wikipedia.\+mturk\+\_\+evaluation\+\_\+task.\+worlds.\+Wizard\+Eval.\+max\+\_\+turn}



Definition at line 162 of file worlds.\+py.

\mbox{\Hypertarget{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_a55e5a388195e3eb5455bc3fdd004b5e0}\label{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_a55e5a388195e3eb5455bc3fdd004b5e0}} 
\index{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval}!model\+\_\+agent@{model\+\_\+agent}}
\index{model\+\_\+agent@{model\+\_\+agent}!projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval}}
\subsubsection{\texorpdfstring{model\+\_\+agent}{model\_agent}}
{\footnotesize\ttfamily projects.\+wizard\+\_\+of\+\_\+wikipedia.\+mturk\+\_\+evaluation\+\_\+task.\+worlds.\+Wizard\+Eval.\+model\+\_\+agent}



Definition at line 179 of file worlds.\+py.

\mbox{\Hypertarget{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_ab1b3361214d1e82df327c1a231e17415}\label{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_ab1b3361214d1e82df327c1a231e17415}} 
\index{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval}!n\+\_\+turn@{n\+\_\+turn}}
\index{n\+\_\+turn@{n\+\_\+turn}!projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval}}
\subsubsection{\texorpdfstring{n\+\_\+turn}{n\_turn}}
{\footnotesize\ttfamily projects.\+wizard\+\_\+of\+\_\+wikipedia.\+mturk\+\_\+evaluation\+\_\+task.\+worlds.\+Wizard\+Eval.\+n\+\_\+turn}



Definition at line 163 of file worlds.\+py.

\mbox{\Hypertarget{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_a793bf2d1056a9f3e70c89f43062d8db2}\label{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_a793bf2d1056a9f3e70c89f43062d8db2}} 
\index{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval}!opt@{opt}}
\index{opt@{opt}!projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval}}
\subsubsection{\texorpdfstring{opt}{opt}}
{\footnotesize\ttfamily projects.\+wizard\+\_\+of\+\_\+wikipedia.\+mturk\+\_\+evaluation\+\_\+task.\+worlds.\+Wizard\+Eval.\+opt}



Definition at line 158 of file worlds.\+py.

\mbox{\Hypertarget{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_a18f6c2c8871d9f39ba0c7a205b05aa8e}\label{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_a18f6c2c8871d9f39ba0c7a205b05aa8e}} 
\index{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval}!other\+\_\+agent@{other\+\_\+agent}}
\index{other\+\_\+agent@{other\+\_\+agent}!projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval}}
\subsubsection{\texorpdfstring{other\+\_\+agent}{other\_agent}}
{\footnotesize\ttfamily projects.\+wizard\+\_\+of\+\_\+wikipedia.\+mturk\+\_\+evaluation\+\_\+task.\+worlds.\+Wizard\+Eval.\+other\+\_\+agent}



Definition at line 194 of file worlds.\+py.

\mbox{\Hypertarget{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_a4147f96f588e83e08bc86e52dec2cdc0}\label{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_a4147f96f588e83e08bc86e52dec2cdc0}} 
\index{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval}!other\+\_\+first@{other\+\_\+first}}
\index{other\+\_\+first@{other\+\_\+first}!projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval}}
\subsubsection{\texorpdfstring{other\+\_\+first}{other\_first}}
{\footnotesize\ttfamily projects.\+wizard\+\_\+of\+\_\+wikipedia.\+mturk\+\_\+evaluation\+\_\+task.\+worlds.\+Wizard\+Eval.\+other\+\_\+first}



Definition at line 165 of file worlds.\+py.

\mbox{\Hypertarget{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_aa245724e16215bb2739524d94cee6582}\label{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_aa245724e16215bb2739524d94cee6582}} 
\index{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval}!range\+\_\+turn@{range\+\_\+turn}}
\index{range\+\_\+turn@{range\+\_\+turn}!projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval}}
\subsubsection{\texorpdfstring{range\+\_\+turn}{range\_turn}}
{\footnotesize\ttfamily projects.\+wizard\+\_\+of\+\_\+wikipedia.\+mturk\+\_\+evaluation\+\_\+task.\+worlds.\+Wizard\+Eval.\+range\+\_\+turn}



Definition at line 161 of file worlds.\+py.

\mbox{\Hypertarget{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_aacc518b7e3a5c1b7f937592864ae5e2d}\label{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_aacc518b7e3a5c1b7f937592864ae5e2d}} 
\index{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval}!ratings@{ratings}}
\index{ratings@{ratings}!projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval}}
\subsubsection{\texorpdfstring{ratings}{ratings}}
{\footnotesize\ttfamily projects.\+wizard\+\_\+of\+\_\+wikipedia.\+mturk\+\_\+evaluation\+\_\+task.\+worlds.\+Wizard\+Eval.\+ratings}



Definition at line 173 of file worlds.\+py.

\mbox{\Hypertarget{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_a6295bb9c04061cacd467fbcb9c3ff6b6}\label{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_a6295bb9c04061cacd467fbcb9c3ff6b6}} 
\index{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval}!seen@{seen}}
\index{seen@{seen}!projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval}}
\subsubsection{\texorpdfstring{seen}{seen}}
{\footnotesize\ttfamily projects.\+wizard\+\_\+of\+\_\+wikipedia.\+mturk\+\_\+evaluation\+\_\+task.\+worlds.\+Wizard\+Eval.\+seen}



Definition at line 200 of file worlds.\+py.

\mbox{\Hypertarget{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_a46e08a2e5573f3748e8fba9e8122931c}\label{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_a46e08a2e5573f3748e8fba9e8122931c}} 
\index{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval}!start\+\_\+time@{start\+\_\+time}}
\index{start\+\_\+time@{start\+\_\+time}!projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval}}
\subsubsection{\texorpdfstring{start\+\_\+time}{start\_time}}
{\footnotesize\ttfamily projects.\+wizard\+\_\+of\+\_\+wikipedia.\+mturk\+\_\+evaluation\+\_\+task.\+worlds.\+Wizard\+Eval.\+start\+\_\+time}



Definition at line 245 of file worlds.\+py.

\mbox{\Hypertarget{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_ac3bb46424c65dac64d3d91e584be8636}\label{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_ac3bb46424c65dac64d3d91e584be8636}} 
\index{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval}!task\+\_\+type@{task\+\_\+type}}
\index{task\+\_\+type@{task\+\_\+type}!projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval}}
\subsubsection{\texorpdfstring{task\+\_\+type}{task\_type}}
{\footnotesize\ttfamily projects.\+wizard\+\_\+of\+\_\+wikipedia.\+mturk\+\_\+evaluation\+\_\+task.\+worlds.\+Wizard\+Eval.\+task\+\_\+type}



Definition at line 171 of file worlds.\+py.

\mbox{\Hypertarget{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_a3777176fe6a2ef5586e2dbbe2b4e9894}\label{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_a3777176fe6a2ef5586e2dbbe2b4e9894}} 
\index{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval}!topic\+\_\+choices@{topic\+\_\+choices}}
\index{topic\+\_\+choices@{topic\+\_\+choices}!projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval}}
\subsubsection{\texorpdfstring{topic\+\_\+choices}{topic\_choices}}
{\footnotesize\ttfamily projects.\+wizard\+\_\+of\+\_\+wikipedia.\+mturk\+\_\+evaluation\+\_\+task.\+worlds.\+Wizard\+Eval.\+topic\+\_\+choices}



Definition at line 201 of file worlds.\+py.

\mbox{\Hypertarget{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_aac0098081b1015a7f287ecfd35f81cb2}\label{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_aac0098081b1015a7f287ecfd35f81cb2}} 
\index{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval}!turn\+\_\+idx@{turn\+\_\+idx}}
\index{turn\+\_\+idx@{turn\+\_\+idx}!projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval}}
\subsubsection{\texorpdfstring{turn\+\_\+idx}{turn\_idx}}
{\footnotesize\ttfamily projects.\+wizard\+\_\+of\+\_\+wikipedia.\+mturk\+\_\+evaluation\+\_\+task.\+worlds.\+Wizard\+Eval.\+turn\+\_\+idx}



Definition at line 160 of file worlds.\+py.

\mbox{\Hypertarget{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_a704cab2652de8aba49350f041d249804}\label{classprojects_1_1wizard__of__wikipedia_1_1mturk__evaluation__task_1_1worlds_1_1WizardEval_a704cab2652de8aba49350f041d249804}} 
\index{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval}!world\+\_\+tag@{world\+\_\+tag}}
\index{world\+\_\+tag@{world\+\_\+tag}!projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::mturk\+\_\+evaluation\+\_\+task\+::worlds\+::\+Wizard\+Eval}}
\subsubsection{\texorpdfstring{world\+\_\+tag}{world\_tag}}
{\footnotesize\ttfamily projects.\+wizard\+\_\+of\+\_\+wikipedia.\+mturk\+\_\+evaluation\+\_\+task.\+worlds.\+Wizard\+Eval.\+world\+\_\+tag}



Definition at line 172 of file worlds.\+py.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
projects/wizard\+\_\+of\+\_\+wikipedia/mturk\+\_\+evaluation\+\_\+task/\hyperlink{projects_2wizard__of__wikipedia_2mturk__evaluation__task_2worlds_8py}{worlds.\+py}\end{DoxyCompactItemize}
