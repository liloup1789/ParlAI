\hypertarget{classparlai_1_1mturk_1_1core_1_1worker__manager_1_1WorkerManager}{}\section{parlai.\+mturk.\+core.\+worker\+\_\+manager.\+Worker\+Manager Class Reference}
\label{classparlai_1_1mturk_1_1core_1_1worker__manager_1_1WorkerManager}\index{parlai.\+mturk.\+core.\+worker\+\_\+manager.\+Worker\+Manager@{parlai.\+mturk.\+core.\+worker\+\_\+manager.\+Worker\+Manager}}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1worker__manager_1_1WorkerManager_a3cb56395af2a5c89c048ee3f9b5b8f7a}{\+\_\+\+\_\+init\+\_\+\+\_\+} (self, \hyperlink{classparlai_1_1mturk_1_1core_1_1worker__manager_1_1WorkerManager_a90e4c41010915289fa5e8e1fb0572623}{mturk\+\_\+manager}, \hyperlink{classparlai_1_1mturk_1_1core_1_1worker__manager_1_1WorkerManager_a69b6fcf739bcdaf914fe524772738309}{opt})
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1worker__manager_1_1WorkerManager_ae583d18246beaa4e75c2d1d539fe77ad}{get\+\_\+worker\+\_\+data\+\_\+package} (self)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1worker__manager_1_1WorkerManager_a829bf9d74d9afb0277c11347745ac6db}{route\+\_\+packet} (self, pkt)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1worker__manager_1_1WorkerManager_a252814b16fd59e725345146e6004e90a}{map\+\_\+over\+\_\+agents} (self, map\+\_\+function, filter\+\_\+func=None)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1worker__manager_1_1WorkerManager_aa60e04ed5327e2b3dc9f886a17352e72}{get\+\_\+agent\+\_\+for\+\_\+assignment} (self, assignment\+\_\+id)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1worker__manager_1_1WorkerManager_a95b104ab69a0c75312657ce77842a690}{time\+\_\+block\+\_\+worker} (self, worker\+\_\+id)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1worker__manager_1_1WorkerManager_af4c5d947d5477e2b5a7bd6167e125ba9}{un\+\_\+time\+\_\+block\+\_\+workers} (self, workers=None)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1worker__manager_1_1WorkerManager_aac0a3b7f87f3f60035cbb35155ea480d}{load\+\_\+disconnects} (self)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1worker__manager_1_1WorkerManager_ad5ea6d1d764743de25c71d027d6f981c}{save\+\_\+disconnects} (self)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1worker__manager_1_1WorkerManager_a26f5469b17d425d52277f50b59e611f1}{handle\+\_\+agent\+\_\+disconnect} (self, worker\+\_\+id, assignment\+\_\+id, partner\+\_\+callback)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1worker__manager_1_1WorkerManager_ac75275d1b201b5bcbd8f23740b4e1080}{handle\+\_\+bad\+\_\+disconnect} (self, worker\+\_\+id)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1worker__manager_1_1WorkerManager_ae07d1e801e6436a33d2a19f32e41088a}{worker\+\_\+alive} (self, worker\+\_\+id)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1worker__manager_1_1WorkerManager_a1d5d674e56ea539d50051012780572b5}{assign\+\_\+task\+\_\+to\+\_\+worker} (self, hit\+\_\+id, assign\+\_\+id, worker\+\_\+id)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1worker__manager_1_1WorkerManager_a451312cbfad4b059777195ffcdbc0410}{get\+\_\+complete\+\_\+hits} (self)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1worker__manager_1_1WorkerManager_add7bab97c8116b679d516564c9cf0f6d}{get\+\_\+agent\+\_\+work\+\_\+status} (self, assignment\+\_\+id)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1worker__manager_1_1WorkerManager_aa140d322d7237605580f5162a437e0ba}{change\+\_\+agent\+\_\+conversation} (self, agent, conversation\+\_\+id, new\+\_\+agent\+\_\+id)
\item 
def \hyperlink{classparlai_1_1mturk_1_1core_1_1worker__manager_1_1WorkerManager_a814ac330b709eeef4abf4e4a73d71447}{shutdown} (self)
\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1worker__manager_1_1WorkerManager_a69b6fcf739bcdaf914fe524772738309}{opt}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1worker__manager_1_1WorkerManager_a90e4c41010915289fa5e8e1fb0572623}{mturk\+\_\+manager}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1worker__manager_1_1WorkerManager_a52976ae5dca085ae8398305c36e781b9}{mturk\+\_\+workers}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1worker__manager_1_1WorkerManager_a878a7bb6afd1530ecc8cc8852a8990a6}{conv\+\_\+to\+\_\+agent}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1worker__manager_1_1WorkerManager_ad3bec2328ee19706027d1279e5910a22}{assignment\+\_\+to\+\_\+worker\+\_\+id}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1worker__manager_1_1WorkerManager_abff39f43090e885a3c8b74f4fcc06d55}{hit\+\_\+id\+\_\+to\+\_\+agent}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1worker__manager_1_1WorkerManager_aa51476aab479eae8096ae6097a8571f8}{time\+\_\+blocked\+\_\+workers}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1worker__manager_1_1WorkerManager_abd069a274bd03b3aeab20c3f788cf127}{is\+\_\+sandbox}
\item 
\hyperlink{classparlai_1_1mturk_1_1core_1_1worker__manager_1_1WorkerManager_a1fcba62024d92a25d76e0f106d76fd81}{disconnects}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
\begin{DoxyVerb}Class used to keep track of workers state, as well as processing messages that come
from the web client.
\end{DoxyVerb}
 

Definition at line 100 of file worker\+\_\+manager.\+py.



\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1worker__manager_1_1WorkerManager_a3cb56395af2a5c89c048ee3f9b5b8f7a}\label{classparlai_1_1mturk_1_1core_1_1worker__manager_1_1WorkerManager_a3cb56395af2a5c89c048ee3f9b5b8f7a}} 
\index{parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager@{parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager}!\+\_\+\+\_\+init\+\_\+\+\_\+@{\+\_\+\+\_\+init\+\_\+\+\_\+}}
\index{\+\_\+\+\_\+init\+\_\+\+\_\+@{\+\_\+\+\_\+init\+\_\+\+\_\+}!parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager@{parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager}}
\subsubsection{\texorpdfstring{\+\_\+\+\_\+init\+\_\+\+\_\+()}{\_\_init\_\_()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+worker\+\_\+manager.\+Worker\+Manager.\+\_\+\+\_\+init\+\_\+\+\_\+ (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{mturk\+\_\+manager,  }\item[{}]{opt }\end{DoxyParamCaption})}



Definition at line 106 of file worker\+\_\+manager.\+py.


\begin{DoxyCode}
106     \textcolor{keyword}{def }\_\_init\_\_(self, mturk\_manager, opt):
107         self.opt = opt
108         self.mturk\_manager = mturk\_manager
109         self.mturk\_workers = \{\}
110         self.conv\_to\_agent = \{\}
111         self.assignment\_to\_worker\_id = \{\}
112         self.hit\_id\_to\_agent = \{\}
113         self.time\_blocked\_workers = []
114         self.load\_disconnects()
115         self.is\_sandbox = mturk\_manager.is\_sandbox
116 
\end{DoxyCode}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1worker__manager_1_1WorkerManager_a1d5d674e56ea539d50051012780572b5}\label{classparlai_1_1mturk_1_1core_1_1worker__manager_1_1WorkerManager_a1d5d674e56ea539d50051012780572b5}} 
\index{parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager@{parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager}!assign\+\_\+task\+\_\+to\+\_\+worker@{assign\+\_\+task\+\_\+to\+\_\+worker}}
\index{assign\+\_\+task\+\_\+to\+\_\+worker@{assign\+\_\+task\+\_\+to\+\_\+worker}!parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager@{parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager}}
\subsubsection{\texorpdfstring{assign\+\_\+task\+\_\+to\+\_\+worker()}{assign\_task\_to\_worker()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+worker\+\_\+manager.\+Worker\+Manager.\+assign\+\_\+task\+\_\+to\+\_\+worker (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{hit\+\_\+id,  }\item[{}]{assign\+\_\+id,  }\item[{}]{worker\+\_\+id }\end{DoxyParamCaption})}



Definition at line 309 of file worker\+\_\+manager.\+py.


\begin{DoxyCode}
309     \textcolor{keyword}{def }assign\_task\_to\_worker(self, hit\_id, assign\_id, worker\_id):
310         self.assignment\_to\_worker\_id[assign\_id] = worker\_id
311         agent = self.\_create\_agent(hit\_id, assign\_id, worker\_id)
312         self.hit\_id\_to\_agent[hit\_id] = agent
313         curr\_worker\_state = self.mturk\_workers[worker\_id]
314         curr\_worker\_state.add\_agent(agent)
315 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1worker__manager_1_1WorkerManager_aa140d322d7237605580f5162a437e0ba}\label{classparlai_1_1mturk_1_1core_1_1worker__manager_1_1WorkerManager_aa140d322d7237605580f5162a437e0ba}} 
\index{parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager@{parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager}!change\+\_\+agent\+\_\+conversation@{change\+\_\+agent\+\_\+conversation}}
\index{change\+\_\+agent\+\_\+conversation@{change\+\_\+agent\+\_\+conversation}!parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager@{parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager}}
\subsubsection{\texorpdfstring{change\+\_\+agent\+\_\+conversation()}{change\_agent\_conversation()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+worker\+\_\+manager.\+Worker\+Manager.\+change\+\_\+agent\+\_\+conversation (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{agent,  }\item[{}]{conversation\+\_\+id,  }\item[{}]{new\+\_\+agent\+\_\+id }\end{DoxyParamCaption})}

\begin{DoxyVerb}Handle changing a conversation for an agent, takes a callback for when the
command is acknowledged.
\end{DoxyVerb}
 

Definition at line 399 of file worker\+\_\+manager.\+py.


\begin{DoxyCode}
399     \textcolor{keyword}{def }change\_agent\_conversation(self, agent, conversation\_id, new\_agent\_id):
400         \textcolor{stringliteral}{"""}
401 \textcolor{stringliteral}{        Handle changing a conversation for an agent, takes a callback for when the}
402 \textcolor{stringliteral}{        command is acknowledged.}
403 \textcolor{stringliteral}{        """}
404         agent.id = new\_agent\_id
405         agent.conversation\_id = conversation\_id
406         data = \{
407             \textcolor{stringliteral}{'text'}: data\_model.COMMAND\_CHANGE\_CONVERSATION,
408             \textcolor{stringliteral}{'conversation\_id'}: conversation\_id,
409             \textcolor{stringliteral}{'agent\_id'}: new\_agent\_id,
410         \}
411         agent.flush\_msg\_queue()
412         self.mturk\_manager.send\_command(
413             agent.worker\_id,
414             agent.assignment\_id,
415             data,
416             ack\_func=self.\_change\_agent\_to\_conv,
417         )
418 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1worker__manager_1_1WorkerManager_aa60e04ed5327e2b3dc9f886a17352e72}\label{classparlai_1_1mturk_1_1core_1_1worker__manager_1_1WorkerManager_aa60e04ed5327e2b3dc9f886a17352e72}} 
\index{parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager@{parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager}!get\+\_\+agent\+\_\+for\+\_\+assignment@{get\+\_\+agent\+\_\+for\+\_\+assignment}}
\index{get\+\_\+agent\+\_\+for\+\_\+assignment@{get\+\_\+agent\+\_\+for\+\_\+assignment}!parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager@{parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager}}
\subsubsection{\texorpdfstring{get\+\_\+agent\+\_\+for\+\_\+assignment()}{get\_agent\_for\_assignment()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+worker\+\_\+manager.\+Worker\+Manager.\+get\+\_\+agent\+\_\+for\+\_\+assignment (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{assignment\+\_\+id }\end{DoxyParamCaption})}

\begin{DoxyVerb}Returns agent for the assignment, none if no agent assigned.
\end{DoxyVerb}
 

Definition at line 183 of file worker\+\_\+manager.\+py.


\begin{DoxyCode}
183     \textcolor{keyword}{def }get\_agent\_for\_assignment(self, assignment\_id):
184         \textcolor{stringliteral}{"""}
185 \textcolor{stringliteral}{        Returns agent for the assignment, none if no agent assigned.}
186 \textcolor{stringliteral}{        """}
187         \textcolor{keywordflow}{if} assignment\_id \textcolor{keywordflow}{not} \textcolor{keywordflow}{in} self.assignment\_to\_worker\_id:
188             \textcolor{keywordflow}{return} \textcolor{keywordtype}{None}
189         worker\_id = self.assignment\_to\_worker\_id[assignment\_id]
190         worker = self.mturk\_workers[worker\_id]
191         \textcolor{keywordflow}{return} worker.get\_agent\_for\_assignment(assignment\_id)
192 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1worker__manager_1_1WorkerManager_add7bab97c8116b679d516564c9cf0f6d}\label{classparlai_1_1mturk_1_1core_1_1worker__manager_1_1WorkerManager_add7bab97c8116b679d516564c9cf0f6d}} 
\index{parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager@{parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager}!get\+\_\+agent\+\_\+work\+\_\+status@{get\+\_\+agent\+\_\+work\+\_\+status}}
\index{get\+\_\+agent\+\_\+work\+\_\+status@{get\+\_\+agent\+\_\+work\+\_\+status}!parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager@{parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager}}
\subsubsection{\texorpdfstring{get\+\_\+agent\+\_\+work\+\_\+status()}{get\_agent\_work\_status()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+worker\+\_\+manager.\+Worker\+Manager.\+get\+\_\+agent\+\_\+work\+\_\+status (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{assignment\+\_\+id }\end{DoxyParamCaption})}

\begin{DoxyVerb}Get the current status of an assignment's work.
\end{DoxyVerb}
 

Definition at line 326 of file worker\+\_\+manager.\+py.


\begin{DoxyCode}
326     \textcolor{keyword}{def }get\_agent\_work\_status(self, assignment\_id):
327         \textcolor{stringliteral}{"""}
328 \textcolor{stringliteral}{        Get the current status of an assignment's work.}
329 \textcolor{stringliteral}{        """}
330         client = mturk\_utils.get\_mturk\_client(self.is\_sandbox)
331         \textcolor{keywordflow}{try}:
332             response = client.get\_assignment(AssignmentId=assignment\_id)
333             status = response[\textcolor{stringliteral}{'Assignment'}][\textcolor{stringliteral}{'AssignmentStatus'}]
334             worker\_id = self.assignment\_to\_worker\_id[assignment\_id]
335             agent = self.\_get\_agent(worker\_id, assignment\_id)
336             \textcolor{keywordflow}{if} agent \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None} \textcolor{keywordflow}{and} status == MTurkAgent.ASSIGNMENT\_DONE:
337                 agent.hit\_is\_complete = \textcolor{keyword}{True}
338             \textcolor{keywordflow}{return} status
339         \textcolor{keywordflow}{except} ClientError \textcolor{keyword}{as} e:
340             \textcolor{comment}{# If the assignment isn't done, asking for the assignment will fail}
341             not\_done\_message = (
342                 \textcolor{stringliteral}{'This operation can be called with a status '}
343                 \textcolor{stringliteral}{'of: Reviewable,Approved,Rejected'}
344             )
345             \textcolor{keywordflow}{if} not\_done\_message \textcolor{keywordflow}{in} e.response[\textcolor{stringliteral}{'Error'}][\textcolor{stringliteral}{'Message'}]:
346                 \textcolor{keywordflow}{return} MTurkAgent.ASSIGNMENT\_NOT\_DONE
347             \textcolor{keywordflow}{else}:
348                 shared\_utils.print\_and\_log(
349                     logging.WARN,
350                     \textcolor{stringliteral}{'Unanticipated error in `get\_agent\_work\_status`: '}
351                     + e.response[\textcolor{stringliteral}{'Error'}][\textcolor{stringliteral}{'Message'}],
352                     should\_print=\textcolor{keyword}{True},
353                 )
354                 \textcolor{comment}{# Assume not done if status check seems to be faulty.}
355                 \textcolor{keywordflow}{return} MTurkAgent.ASSIGNMENT\_NOT\_DONE
356 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1worker__manager_1_1WorkerManager_a451312cbfad4b059777195ffcdbc0410}\label{classparlai_1_1mturk_1_1core_1_1worker__manager_1_1WorkerManager_a451312cbfad4b059777195ffcdbc0410}} 
\index{parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager@{parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager}!get\+\_\+complete\+\_\+hits@{get\+\_\+complete\+\_\+hits}}
\index{get\+\_\+complete\+\_\+hits@{get\+\_\+complete\+\_\+hits}!parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager@{parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager}}
\subsubsection{\texorpdfstring{get\+\_\+complete\+\_\+hits()}{get\_complete\_hits()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+worker\+\_\+manager.\+Worker\+Manager.\+get\+\_\+complete\+\_\+hits (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}

\begin{DoxyVerb}Returns the list of all currently completed HITs.
\end{DoxyVerb}
 

Definition at line 316 of file worker\+\_\+manager.\+py.


\begin{DoxyCode}
316     \textcolor{keyword}{def }get\_complete\_hits(self):
317         \textcolor{stringliteral}{"""}
318 \textcolor{stringliteral}{        Returns the list of all currently completed HITs.}
319 \textcolor{stringliteral}{        """}
320         hit\_ids = []
321         \textcolor{keywordflow}{for} hit\_id, agent \textcolor{keywordflow}{in} self.hit\_id\_to\_agent.items():
322             \textcolor{keywordflow}{if} agent.hit\_is\_complete:
323                 hit\_ids.append(hit\_id)
324         \textcolor{keywordflow}{return} hit\_ids
325 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1worker__manager_1_1WorkerManager_ae583d18246beaa4e75c2d1d539fe77ad}\label{classparlai_1_1mturk_1_1core_1_1worker__manager_1_1WorkerManager_ae583d18246beaa4e75c2d1d539fe77ad}} 
\index{parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager@{parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager}!get\+\_\+worker\+\_\+data\+\_\+package@{get\+\_\+worker\+\_\+data\+\_\+package}}
\index{get\+\_\+worker\+\_\+data\+\_\+package@{get\+\_\+worker\+\_\+data\+\_\+package}!parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager@{parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager}}
\subsubsection{\texorpdfstring{get\+\_\+worker\+\_\+data\+\_\+package()}{get\_worker\_data\_package()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+worker\+\_\+manager.\+Worker\+Manager.\+get\+\_\+worker\+\_\+data\+\_\+package (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line 117 of file worker\+\_\+manager.\+py.


\begin{DoxyCode}
117     \textcolor{keyword}{def }get\_worker\_data\_package(self):
118         workers = []
119         \textcolor{keywordflow}{for} mturk\_worker \textcolor{keywordflow}{in} self.mturk\_workers.values():
120             worker = \{
121                 \textcolor{stringliteral}{'id'}: mturk\_worker.worker\_id,
122                 \textcolor{stringliteral}{'accepted'}: len(mturk\_worker.agents),
123                 \textcolor{stringliteral}{'completed'}: mturk\_worker.completed\_assignments(),
124                 \textcolor{stringliteral}{'disconnected'}: mturk\_worker.disconnected\_assignments(),
125             \}
126             workers.append(worker)
127         \textcolor{keywordflow}{return} workers
128 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1worker__manager_1_1WorkerManager_a26f5469b17d425d52277f50b59e611f1}\label{classparlai_1_1mturk_1_1core_1_1worker__manager_1_1WorkerManager_a26f5469b17d425d52277f50b59e611f1}} 
\index{parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager@{parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager}!handle\+\_\+agent\+\_\+disconnect@{handle\+\_\+agent\+\_\+disconnect}}
\index{handle\+\_\+agent\+\_\+disconnect@{handle\+\_\+agent\+\_\+disconnect}!parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager@{parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager}}
\subsubsection{\texorpdfstring{handle\+\_\+agent\+\_\+disconnect()}{handle\_agent\_disconnect()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+worker\+\_\+manager.\+Worker\+Manager.\+handle\+\_\+agent\+\_\+disconnect (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{worker\+\_\+id,  }\item[{}]{assignment\+\_\+id,  }\item[{}]{partner\+\_\+callback }\end{DoxyParamCaption})}

\begin{DoxyVerb}Handles a disconnect by the given worker, calls partner_callback on all of the
conversation partners of that worker.
\end{DoxyVerb}
 

Definition at line 242 of file worker\+\_\+manager.\+py.


\begin{DoxyCode}
242     \textcolor{keyword}{def }handle\_agent\_disconnect(self, worker\_id, assignment\_id, partner\_callback):
243         \textcolor{stringliteral}{"""}
244 \textcolor{stringliteral}{        Handles a disconnect by the given worker, calls partner\_callback on all of the}
245 \textcolor{stringliteral}{        conversation partners of that worker.}
246 \textcolor{stringliteral}{        """}
247         agent = self.\_get\_agent(worker\_id, assignment\_id)
248         \textcolor{keywordflow}{if} agent \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}:
249             \textcolor{comment}{# Disconnect in conversation is not workable}
250             agent.set\_status(AssignState.STATUS\_DISCONNECT)
251             \textcolor{comment}{# in conversation, inform others about disconnect}
252             conversation\_id = agent.conversation\_id
253             \textcolor{keywordflow}{if} conversation\_id \textcolor{keywordflow}{in} self.conv\_to\_agent:
254                 conv\_participants = self.conv\_to\_agent[conversation\_id]
255                 \textcolor{keywordflow}{if} agent \textcolor{keywordflow}{in} conv\_participants:
256                     \textcolor{keywordflow}{for} other\_agent \textcolor{keywordflow}{in} conv\_participants:
257                         \textcolor{keywordflow}{if} agent.assignment\_id != other\_agent.assignment\_id:
258                             partner\_callback(other\_agent)
259                 \textcolor{keywordflow}{if} len(conv\_participants) > 1:
260                     \textcolor{comment}{# The user disconnected from inside a conversation with}
261                     \textcolor{comment}{# another turker, record this as bad behavior}
262                     self.handle\_bad\_disconnect(worker\_id)
263 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1worker__manager_1_1WorkerManager_ac75275d1b201b5bcbd8f23740b4e1080}\label{classparlai_1_1mturk_1_1core_1_1worker__manager_1_1WorkerManager_ac75275d1b201b5bcbd8f23740b4e1080}} 
\index{parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager@{parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager}!handle\+\_\+bad\+\_\+disconnect@{handle\+\_\+bad\+\_\+disconnect}}
\index{handle\+\_\+bad\+\_\+disconnect@{handle\+\_\+bad\+\_\+disconnect}!parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager@{parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager}}
\subsubsection{\texorpdfstring{handle\+\_\+bad\+\_\+disconnect()}{handle\_bad\_disconnect()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+worker\+\_\+manager.\+Worker\+Manager.\+handle\+\_\+bad\+\_\+disconnect (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{worker\+\_\+id }\end{DoxyParamCaption})}

\begin{DoxyVerb}Update the number of bad disconnects for the given worker, block them if they've
exceeded the disconnect limit.
\end{DoxyVerb}
 

Definition at line 264 of file worker\+\_\+manager.\+py.


\begin{DoxyCode}
264     \textcolor{keyword}{def }handle\_bad\_disconnect(self, worker\_id):
265         \textcolor{stringliteral}{"""}
266 \textcolor{stringliteral}{        Update the number of bad disconnects for the given worker, block them if they've}
267 \textcolor{stringliteral}{        exceeded the disconnect limit.}
268 \textcolor{stringliteral}{        """}
269         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} self.is\_sandbox:
270             self.mturk\_workers[worker\_id].disconnects += 1
271             self.disconnects.append(\{\textcolor{stringliteral}{'time'}: time.time(), \textcolor{stringliteral}{'id'}: worker\_id\})
272             \textcolor{keywordflow}{if} self.mturk\_workers[worker\_id].disconnects > MAX\_DISCONNECTS:
273                 \textcolor{keywordflow}{if} self.opt[\textcolor{stringliteral}{'hard\_block'}]:
274                     text = (
275                         \textcolor{stringliteral}{'This worker has repeatedly disconnected from these '}
276                         \textcolor{stringliteral}{'tasks, which require constant connection to complete '}
277                         \textcolor{stringliteral}{'properly as they involve interaction with other '}
278                         \textcolor{stringliteral}{'Turkers. They have been blocked after being warned '}
279                         \textcolor{stringliteral}{'and failing to adhere. This was done in order to '}
280                         \textcolor{stringliteral}{'ensure a better experience for other '}
281                         \textcolor{stringliteral}{'workers who don\(\backslash\)'t disconnect.'}
282                     )
283                     self.mturk\_manager.block\_worker(worker\_id, text)
284                     shared\_utils.print\_and\_log(
285                         logging.INFO,
286                         \textcolor{stringliteral}{'Worker \{\} blocked - too many disconnects'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(worker\_id),
287                         \textcolor{keyword}{True},
288                     )
289                 \textcolor{keywordflow}{elif} self.opt[\textcolor{stringliteral}{'disconnect\_qualification'}] \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}:
290                     self.mturk\_manager.soft\_block\_worker(
291                         worker\_id, \textcolor{stringliteral}{'disconnect\_qualification'}
292                     )
293                     shared\_utils.print\_and\_log(
294                         logging.INFO,
295                         \textcolor{stringliteral}{'Worker \{\} soft blocked - too many disconnects'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(
296                             worker\_id
297                         ),
298                         \textcolor{keyword}{True},
299                     )
300 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1worker__manager_1_1WorkerManager_aac0a3b7f87f3f60035cbb35155ea480d}\label{classparlai_1_1mturk_1_1core_1_1worker__manager_1_1WorkerManager_aac0a3b7f87f3f60035cbb35155ea480d}} 
\index{parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager@{parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager}!load\+\_\+disconnects@{load\+\_\+disconnects}}
\index{load\+\_\+disconnects@{load\+\_\+disconnects}!parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager@{parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager}}
\subsubsection{\texorpdfstring{load\+\_\+disconnects()}{load\_disconnects()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+worker\+\_\+manager.\+Worker\+Manager.\+load\+\_\+disconnects (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}

\begin{DoxyVerb}Load disconnects from file, populate the disconnects field for any worker_id
that has disconnects in the list.

Any disconnect that occurred longer ago than the disconnect persist length is
ignored
\end{DoxyVerb}
 

Definition at line 204 of file worker\+\_\+manager.\+py.


\begin{DoxyCode}
204     \textcolor{keyword}{def }load\_disconnects(self):
205         \textcolor{stringliteral}{"""}
206 \textcolor{stringliteral}{        Load disconnects from file, populate the disconnects field for any worker\_id}
207 \textcolor{stringliteral}{        that has disconnects in the list.}
208 \textcolor{stringliteral}{}
209 \textcolor{stringliteral}{        Any disconnect that occurred longer ago than the disconnect persist length is}
210 \textcolor{stringliteral}{        ignored}
211 \textcolor{stringliteral}{        """}
212         self.disconnects = []
213         \textcolor{comment}{# Load disconnects from file}
214         file\_path = os.path.join(parent\_dir, DISCONNECT\_FILE\_NAME)
215         compare\_time = time.time()
216         \textcolor{keywordflow}{if} os.path.exists(file\_path):
217             with open(file\_path, \textcolor{stringliteral}{'rb'}) \textcolor{keyword}{as} f:
218                 old\_disconnects = pickle.load(f)
219                 self.disconnects = [
220                     d
221                     \textcolor{keywordflow}{for} d \textcolor{keywordflow}{in} old\_disconnects
222                     \textcolor{keywordflow}{if} (compare\_time - d[\textcolor{stringliteral}{'time'}]) < DISCONNECT\_PERSIST\_LENGTH
223                 ]
224         \textcolor{comment}{# Initialize worker states with proper number of disconnects}
225         \textcolor{keywordflow}{for} disconnect \textcolor{keywordflow}{in} self.disconnects:
226             worker\_id = disconnect[\textcolor{stringliteral}{'id'}]
227             \textcolor{keywordflow}{if} worker\_id \textcolor{keywordflow}{not} \textcolor{keywordflow}{in} self.mturk\_workers:
228                 \textcolor{comment}{# add this worker to the worker state}
229                 self.mturk\_workers[worker\_id] = WorkerState(worker\_id)
230             self.mturk\_workers[worker\_id].disconnects += 1
231 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1worker__manager_1_1WorkerManager_a252814b16fd59e725345146e6004e90a}\label{classparlai_1_1mturk_1_1core_1_1worker__manager_1_1WorkerManager_a252814b16fd59e725345146e6004e90a}} 
\index{parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager@{parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager}!map\+\_\+over\+\_\+agents@{map\+\_\+over\+\_\+agents}}
\index{map\+\_\+over\+\_\+agents@{map\+\_\+over\+\_\+agents}!parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager@{parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager}}
\subsubsection{\texorpdfstring{map\+\_\+over\+\_\+agents()}{map\_over\_agents()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+worker\+\_\+manager.\+Worker\+Manager.\+map\+\_\+over\+\_\+agents (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{map\+\_\+function,  }\item[{}]{filter\+\_\+func = {\ttfamily None} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Take an action over all the agents we have access to, filters if a filter_func
is given.
\end{DoxyVerb}
 

Definition at line 173 of file worker\+\_\+manager.\+py.


\begin{DoxyCode}
173     \textcolor{keyword}{def }map\_over\_agents(self, map\_function, filter\_func=None):
174         \textcolor{stringliteral}{"""}
175 \textcolor{stringliteral}{        Take an action over all the agents we have access to, filters if a filter\_func}
176 \textcolor{stringliteral}{        is given.}
177 \textcolor{stringliteral}{        """}
178         \textcolor{keywordflow}{for} worker \textcolor{keywordflow}{in} self.mturk\_workers.values():
179             \textcolor{keywordflow}{for} agent \textcolor{keywordflow}{in} worker.agents.values():
180                 \textcolor{keywordflow}{if} filter\_func \textcolor{keywordflow}{is} \textcolor{keywordtype}{None} \textcolor{keywordflow}{or} filter\_func(agent):
181                     map\_function(agent)
182 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1worker__manager_1_1WorkerManager_a829bf9d74d9afb0277c11347745ac6db}\label{classparlai_1_1mturk_1_1core_1_1worker__manager_1_1WorkerManager_a829bf9d74d9afb0277c11347745ac6db}} 
\index{parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager@{parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager}!route\+\_\+packet@{route\+\_\+packet}}
\index{route\+\_\+packet@{route\+\_\+packet}!parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager@{parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager}}
\subsubsection{\texorpdfstring{route\+\_\+packet()}{route\_packet()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+worker\+\_\+manager.\+Worker\+Manager.\+route\+\_\+packet (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{pkt }\end{DoxyParamCaption})}

\begin{DoxyVerb}Put an incoming message into the queue for the agent specified in the packet, as
they have sent a message from the web client.
\end{DoxyVerb}
 

Definition at line 152 of file worker\+\_\+manager.\+py.


\begin{DoxyCode}
152     \textcolor{keyword}{def }route\_packet(self, pkt):
153         \textcolor{stringliteral}{"""}
154 \textcolor{stringliteral}{        Put an incoming message into the queue for the agent specified in the packet, as}
155 \textcolor{stringliteral}{        they have sent a message from the web client.}
156 \textcolor{stringliteral}{        """}
157         worker\_id = pkt.sender\_id
158         assignment\_id = pkt.assignment\_id
159         agent = self.\_get\_agent(worker\_id, assignment\_id)
160         \textcolor{keywordflow}{if} agent \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}:
161             shared\_utils.print\_and\_log(
162                 logging.INFO,
163                 \textcolor{stringliteral}{'Manager received: \{\}'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(pkt),
164                 should\_print=self.opt[\textcolor{stringliteral}{'verbose'}],
165             )
166             \textcolor{comment}{# Push the message to the message thread to send on a reconnect}
167             agent.append\_message(pkt.data)
168 
169             \textcolor{comment}{# Clear the send message command, as a message was recieved}
170             agent.set\_last\_command(\textcolor{keywordtype}{None})
171             agent.put\_data(pkt.id, pkt.data)
172 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1worker__manager_1_1WorkerManager_ad5ea6d1d764743de25c71d027d6f981c}\label{classparlai_1_1mturk_1_1core_1_1worker__manager_1_1WorkerManager_ad5ea6d1d764743de25c71d027d6f981c}} 
\index{parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager@{parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager}!save\+\_\+disconnects@{save\+\_\+disconnects}}
\index{save\+\_\+disconnects@{save\+\_\+disconnects}!parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager@{parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager}}
\subsubsection{\texorpdfstring{save\+\_\+disconnects()}{save\_disconnects()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+worker\+\_\+manager.\+Worker\+Manager.\+save\+\_\+disconnects (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}

\begin{DoxyVerb}Saves the local list of disconnects to file.
\end{DoxyVerb}
 

Definition at line 232 of file worker\+\_\+manager.\+py.


\begin{DoxyCode}
232     \textcolor{keyword}{def }save\_disconnects(self):
233         \textcolor{stringliteral}{"""}
234 \textcolor{stringliteral}{        Saves the local list of disconnects to file.}
235 \textcolor{stringliteral}{        """}
236         file\_path = os.path.join(parent\_dir, DISCONNECT\_FILE\_NAME)
237         \textcolor{keywordflow}{if} os.path.exists(file\_path):
238             os.remove(file\_path)
239         with open(file\_path, \textcolor{stringliteral}{'wb'}) \textcolor{keyword}{as} f:
240             pickle.dump(self.disconnects, f, pickle.HIGHEST\_PROTOCOL)
241 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1worker__manager_1_1WorkerManager_a814ac330b709eeef4abf4e4a73d71447}\label{classparlai_1_1mturk_1_1core_1_1worker__manager_1_1WorkerManager_a814ac330b709eeef4abf4e4a73d71447}} 
\index{parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager@{parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager}!shutdown@{shutdown}}
\index{shutdown@{shutdown}!parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager@{parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager}}
\subsubsection{\texorpdfstring{shutdown()}{shutdown()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+worker\+\_\+manager.\+Worker\+Manager.\+shutdown (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}

\begin{DoxyVerb}Handles cleaning up and storing state related to workers.
\end{DoxyVerb}
 

Definition at line 419 of file worker\+\_\+manager.\+py.


\begin{DoxyCode}
419     \textcolor{keyword}{def }shutdown(self):
420         \textcolor{stringliteral}{"""}
421 \textcolor{stringliteral}{        Handles cleaning up and storing state related to workers.}
422 \textcolor{stringliteral}{        """}
423         self.un\_time\_block\_workers()
424         self.save\_disconnects()
425 \end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1worker__manager_1_1WorkerManager_a95b104ab69a0c75312657ce77842a690}\label{classparlai_1_1mturk_1_1core_1_1worker__manager_1_1WorkerManager_a95b104ab69a0c75312657ce77842a690}} 
\index{parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager@{parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager}!time\+\_\+block\+\_\+worker@{time\+\_\+block\+\_\+worker}}
\index{time\+\_\+block\+\_\+worker@{time\+\_\+block\+\_\+worker}!parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager@{parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager}}
\subsubsection{\texorpdfstring{time\+\_\+block\+\_\+worker()}{time\_block\_worker()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+worker\+\_\+manager.\+Worker\+Manager.\+time\+\_\+block\+\_\+worker (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{worker\+\_\+id }\end{DoxyParamCaption})}



Definition at line 193 of file worker\+\_\+manager.\+py.


\begin{DoxyCode}
193     \textcolor{keyword}{def }time\_block\_worker(self, worker\_id):
194         self.time\_blocked\_workers.append(worker\_id)
195         self.mturk\_manager.soft\_block\_worker(worker\_id, \textcolor{stringliteral}{'max\_time\_qual'})
196 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1worker__manager_1_1WorkerManager_af4c5d947d5477e2b5a7bd6167e125ba9}\label{classparlai_1_1mturk_1_1core_1_1worker__manager_1_1WorkerManager_af4c5d947d5477e2b5a7bd6167e125ba9}} 
\index{parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager@{parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager}!un\+\_\+time\+\_\+block\+\_\+workers@{un\+\_\+time\+\_\+block\+\_\+workers}}
\index{un\+\_\+time\+\_\+block\+\_\+workers@{un\+\_\+time\+\_\+block\+\_\+workers}!parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager@{parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager}}
\subsubsection{\texorpdfstring{un\+\_\+time\+\_\+block\+\_\+workers()}{un\_time\_block\_workers()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+worker\+\_\+manager.\+Worker\+Manager.\+un\+\_\+time\+\_\+block\+\_\+workers (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{workers = {\ttfamily None} }\end{DoxyParamCaption})}



Definition at line 197 of file worker\+\_\+manager.\+py.


\begin{DoxyCode}
197     \textcolor{keyword}{def }un\_time\_block\_workers(self, workers=None):
198         \textcolor{keywordflow}{if} workers \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
199             workers = self.time\_blocked\_workers
200             self.time\_blocked\_workers = []
201         \textcolor{keywordflow}{for} worker\_id \textcolor{keywordflow}{in} workers:
202             self.mturk\_manager.un\_soft\_block\_worker(worker\_id, \textcolor{stringliteral}{'max\_time\_qual'})
203 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1worker__manager_1_1WorkerManager_ae07d1e801e6436a33d2a19f32e41088a}\label{classparlai_1_1mturk_1_1core_1_1worker__manager_1_1WorkerManager_ae07d1e801e6436a33d2a19f32e41088a}} 
\index{parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager@{parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager}!worker\+\_\+alive@{worker\+\_\+alive}}
\index{worker\+\_\+alive@{worker\+\_\+alive}!parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager@{parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager}}
\subsubsection{\texorpdfstring{worker\+\_\+alive()}{worker\_alive()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+worker\+\_\+manager.\+Worker\+Manager.\+worker\+\_\+alive (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{worker\+\_\+id }\end{DoxyParamCaption})}

\begin{DoxyVerb}Creates a new worker record if it doesn't exist, returns state.
\end{DoxyVerb}
 

Definition at line 301 of file worker\+\_\+manager.\+py.


\begin{DoxyCode}
301     \textcolor{keyword}{def }worker\_alive(self, worker\_id):
302         \textcolor{stringliteral}{"""}
303 \textcolor{stringliteral}{        Creates a new worker record if it doesn't exist, returns state.}
304 \textcolor{stringliteral}{        """}
305         \textcolor{keywordflow}{if} worker\_id \textcolor{keywordflow}{not} \textcolor{keywordflow}{in} self.mturk\_workers:
306             self.mturk\_workers[worker\_id] = WorkerState(worker\_id)
307         \textcolor{keywordflow}{return} self.mturk\_workers[worker\_id]
308 
\end{DoxyCode}


\subsection{Member Data Documentation}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1worker__manager_1_1WorkerManager_ad3bec2328ee19706027d1279e5910a22}\label{classparlai_1_1mturk_1_1core_1_1worker__manager_1_1WorkerManager_ad3bec2328ee19706027d1279e5910a22}} 
\index{parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager@{parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager}!assignment\+\_\+to\+\_\+worker\+\_\+id@{assignment\+\_\+to\+\_\+worker\+\_\+id}}
\index{assignment\+\_\+to\+\_\+worker\+\_\+id@{assignment\+\_\+to\+\_\+worker\+\_\+id}!parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager@{parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager}}
\subsubsection{\texorpdfstring{assignment\+\_\+to\+\_\+worker\+\_\+id}{assignment\_to\_worker\_id}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+worker\+\_\+manager.\+Worker\+Manager.\+assignment\+\_\+to\+\_\+worker\+\_\+id}



Definition at line 111 of file worker\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1worker__manager_1_1WorkerManager_a878a7bb6afd1530ecc8cc8852a8990a6}\label{classparlai_1_1mturk_1_1core_1_1worker__manager_1_1WorkerManager_a878a7bb6afd1530ecc8cc8852a8990a6}} 
\index{parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager@{parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager}!conv\+\_\+to\+\_\+agent@{conv\+\_\+to\+\_\+agent}}
\index{conv\+\_\+to\+\_\+agent@{conv\+\_\+to\+\_\+agent}!parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager@{parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager}}
\subsubsection{\texorpdfstring{conv\+\_\+to\+\_\+agent}{conv\_to\_agent}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+worker\+\_\+manager.\+Worker\+Manager.\+conv\+\_\+to\+\_\+agent}



Definition at line 110 of file worker\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1worker__manager_1_1WorkerManager_a1fcba62024d92a25d76e0f106d76fd81}\label{classparlai_1_1mturk_1_1core_1_1worker__manager_1_1WorkerManager_a1fcba62024d92a25d76e0f106d76fd81}} 
\index{parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager@{parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager}!disconnects@{disconnects}}
\index{disconnects@{disconnects}!parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager@{parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager}}
\subsubsection{\texorpdfstring{disconnects}{disconnects}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+worker\+\_\+manager.\+Worker\+Manager.\+disconnects}



Definition at line 212 of file worker\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1worker__manager_1_1WorkerManager_abff39f43090e885a3c8b74f4fcc06d55}\label{classparlai_1_1mturk_1_1core_1_1worker__manager_1_1WorkerManager_abff39f43090e885a3c8b74f4fcc06d55}} 
\index{parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager@{parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager}!hit\+\_\+id\+\_\+to\+\_\+agent@{hit\+\_\+id\+\_\+to\+\_\+agent}}
\index{hit\+\_\+id\+\_\+to\+\_\+agent@{hit\+\_\+id\+\_\+to\+\_\+agent}!parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager@{parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager}}
\subsubsection{\texorpdfstring{hit\+\_\+id\+\_\+to\+\_\+agent}{hit\_id\_to\_agent}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+worker\+\_\+manager.\+Worker\+Manager.\+hit\+\_\+id\+\_\+to\+\_\+agent}



Definition at line 112 of file worker\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1worker__manager_1_1WorkerManager_abd069a274bd03b3aeab20c3f788cf127}\label{classparlai_1_1mturk_1_1core_1_1worker__manager_1_1WorkerManager_abd069a274bd03b3aeab20c3f788cf127}} 
\index{parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager@{parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager}!is\+\_\+sandbox@{is\+\_\+sandbox}}
\index{is\+\_\+sandbox@{is\+\_\+sandbox}!parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager@{parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager}}
\subsubsection{\texorpdfstring{is\+\_\+sandbox}{is\_sandbox}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+worker\+\_\+manager.\+Worker\+Manager.\+is\+\_\+sandbox}



Definition at line 115 of file worker\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1worker__manager_1_1WorkerManager_a90e4c41010915289fa5e8e1fb0572623}\label{classparlai_1_1mturk_1_1core_1_1worker__manager_1_1WorkerManager_a90e4c41010915289fa5e8e1fb0572623}} 
\index{parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager@{parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager}!mturk\+\_\+manager@{mturk\+\_\+manager}}
\index{mturk\+\_\+manager@{mturk\+\_\+manager}!parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager@{parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager}}
\subsubsection{\texorpdfstring{mturk\+\_\+manager}{mturk\_manager}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+worker\+\_\+manager.\+Worker\+Manager.\+mturk\+\_\+manager}



Definition at line 108 of file worker\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1worker__manager_1_1WorkerManager_a52976ae5dca085ae8398305c36e781b9}\label{classparlai_1_1mturk_1_1core_1_1worker__manager_1_1WorkerManager_a52976ae5dca085ae8398305c36e781b9}} 
\index{parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager@{parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager}!mturk\+\_\+workers@{mturk\+\_\+workers}}
\index{mturk\+\_\+workers@{mturk\+\_\+workers}!parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager@{parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager}}
\subsubsection{\texorpdfstring{mturk\+\_\+workers}{mturk\_workers}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+worker\+\_\+manager.\+Worker\+Manager.\+mturk\+\_\+workers}



Definition at line 109 of file worker\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1worker__manager_1_1WorkerManager_a69b6fcf739bcdaf914fe524772738309}\label{classparlai_1_1mturk_1_1core_1_1worker__manager_1_1WorkerManager_a69b6fcf739bcdaf914fe524772738309}} 
\index{parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager@{parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager}!opt@{opt}}
\index{opt@{opt}!parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager@{parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager}}
\subsubsection{\texorpdfstring{opt}{opt}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+worker\+\_\+manager.\+Worker\+Manager.\+opt}



Definition at line 107 of file worker\+\_\+manager.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1core_1_1worker__manager_1_1WorkerManager_aa51476aab479eae8096ae6097a8571f8}\label{classparlai_1_1mturk_1_1core_1_1worker__manager_1_1WorkerManager_aa51476aab479eae8096ae6097a8571f8}} 
\index{parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager@{parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager}!time\+\_\+blocked\+\_\+workers@{time\+\_\+blocked\+\_\+workers}}
\index{time\+\_\+blocked\+\_\+workers@{time\+\_\+blocked\+\_\+workers}!parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager@{parlai\+::mturk\+::core\+::worker\+\_\+manager\+::\+Worker\+Manager}}
\subsubsection{\texorpdfstring{time\+\_\+blocked\+\_\+workers}{time\_blocked\_workers}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+worker\+\_\+manager.\+Worker\+Manager.\+time\+\_\+blocked\+\_\+workers}



Definition at line 113 of file worker\+\_\+manager.\+py.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
parlai/mturk/core/\hyperlink{worker__manager_8py}{worker\+\_\+manager.\+py}\end{DoxyCompactItemize}
