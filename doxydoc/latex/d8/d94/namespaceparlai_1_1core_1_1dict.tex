\hypertarget{namespaceparlai_1_1core_1_1dict}{}\section{parlai.\+core.\+dict Namespace Reference}
\label{namespaceparlai_1_1core_1_1dict}\index{parlai.\+core.\+dict@{parlai.\+core.\+dict}}
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \hyperlink{classparlai_1_1core_1_1dict_1_1__BPEHelper}{\+\_\+\+B\+P\+E\+Helper}
\item 
class \hyperlink{classparlai_1_1core_1_1dict_1_1DictionaryAgent}{Dictionary\+Agent}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{namespaceparlai_1_1core_1_1dict_ae44fe4a2be005a4023a758a58f656495}{escape} (s)
\item 
def \hyperlink{namespaceparlai_1_1core_1_1dict_a4d8952ff127b540967c707a58e8ebb48}{unescape} (s)
\item 
def \hyperlink{namespaceparlai_1_1core_1_1dict_a5e9eb43b6c0dce0b3aab7f3ea3717de6}{find\+\_\+ngrams} (token\+\_\+dict, text, n)
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\hyperlink{namespaceparlai_1_1core_1_1dict_a55194215927ea8786279b5089781ce64}{B\+P\+E\+\_\+\+I\+N\+S\+T\+A\+L\+L\+ED}
\item 
\hyperlink{namespaceparlai_1_1core_1_1dict_acc80030514561837c1010293fd1010f4}{R\+E\+T\+OK}
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\mbox{\Hypertarget{namespaceparlai_1_1core_1_1dict_ae44fe4a2be005a4023a758a58f656495}\label{namespaceparlai_1_1core_1_1dict_ae44fe4a2be005a4023a758a58f656495}} 
\index{parlai\+::core\+::dict@{parlai\+::core\+::dict}!escape@{escape}}
\index{escape@{escape}!parlai\+::core\+::dict@{parlai\+::core\+::dict}}
\subsubsection{\texorpdfstring{escape()}{escape()}}
{\footnotesize\ttfamily def parlai.\+core.\+dict.\+escape (\begin{DoxyParamCaption}\item[{}]{s }\end{DoxyParamCaption})}

\begin{DoxyVerb}Replace potential special characters with escaped version.

For example, \n => \\n and \t => \\t

:param s:
    string to escape
\end{DoxyVerb}
 

Definition at line 34 of file dict.\+py.


\begin{DoxyCode}
34 \textcolor{keyword}{def }\hyperlink{namespaceparlai_1_1core_1_1dict_ae44fe4a2be005a4023a758a58f656495}{escape}(s):
35     \textcolor{stringliteral}{r"""}
36 \textcolor{stringliteral}{    Replace potential special characters with escaped version.}
37 \textcolor{stringliteral}{}
38 \textcolor{stringliteral}{    For example, \(\backslash\)n => \(\backslash\)\(\backslash\)n and \(\backslash\)t => \(\backslash\)\(\backslash\)t}
39 \textcolor{stringliteral}{}
40 \textcolor{stringliteral}{    :param s:}
41 \textcolor{stringliteral}{        string to escape}
42 \textcolor{stringliteral}{    """}
43     \textcolor{keywordflow}{return} s.replace(\textcolor{stringliteral}{'\(\backslash\)n'}, \textcolor{stringliteral}{'\(\backslash\)\(\backslash\)n'}).replace(\textcolor{stringliteral}{'\(\backslash\)t'}, \textcolor{stringliteral}{'\(\backslash\)\(\backslash\)t'}).replace(\textcolor{stringliteral}{'\(\backslash\)r'}, \textcolor{stringliteral}{'\(\backslash\)\(\backslash\)r')}
44 \textcolor{stringliteral}{}
45 \textcolor{stringliteral}{}
\textcolor{stringliteral}{\end{DoxyCode}
\mbox{\Hypertarget{namespaceparlai_1_1core_1_1dict_a5e9eb43b6c0dce0b3aab7f3ea3717de6}\label{namespaceparlai_1_1core_1_1dict_a5e9eb43b6c0dce0b3aab7f3ea3717de6}} 
\index{parlai\+::core\+::dict@{parlai\+::core\+::dict}!find\+\_\+ngrams@{find\+\_\+ngrams}}
\index{find\+\_\+ngrams@{find\+\_\+ngrams}!parlai\+::core\+::dict@{parlai\+::core\+::dict}}
\subsubsection{\texorpdfstring{find\+\_\+ngrams()}{find\_ngrams()}}
{\footnotesize\ttfamily def parlai.\+core.\+dict.\+find\+\_\+ngrams (\begin{DoxyParamCaption}\item[{}]{token\+\_\+dict,  }\item[{}]{text,  }\item[{}]{n }\end{DoxyParamCaption})}

\begin{DoxyVerb}Break text into ngrams that appear in ``token_dict``.

:param token_dict:
    ``dict`` to check for ngrams
:param text:
    ``str`` to look for ngrams in
:param n:
    ``int`` max size of ngrams
\end{DoxyVerb}
 

Definition at line 58 of file dict.\+py.


\begin{DoxyCode}
58 \textcolor{keyword}{def }\hyperlink{namespaceparlai_1_1core_1_1dict_a5e9eb43b6c0dce0b3aab7f3ea3717de6}{find\_ngrams}(token\_dict, text, n):
59     \textcolor{stringliteral}{"""}
60 \textcolor{stringliteral}{    Break text into ngrams that appear in ``token\_dict``.}
61 \textcolor{stringliteral}{}
62 \textcolor{stringliteral}{    :param token\_dict:}
63 \textcolor{stringliteral}{        ``dict`` to check for ngrams}
64 \textcolor{stringliteral}{    :param text:}
65 \textcolor{stringliteral}{        ``str`` to look for ngrams in}
66 \textcolor{stringliteral}{    :param n:}
67 \textcolor{stringliteral}{        ``int`` max size of ngrams}
68 \textcolor{stringliteral}{    """}
69     \textcolor{comment}{# base case}
70     \textcolor{keywordflow}{if} n <= 1:
71         \textcolor{keywordflow}{return} text
72     \textcolor{comment}{# tokens committed to output}
73     saved\_tokens = []
74     \textcolor{comment}{# tokens remaining to be searched in sentence}
75     search\_tokens = text[:]
76     \textcolor{comment}{# tokens stored until next ngram found}
77     next\_search = []
78     \textcolor{keywordflow}{while} len(search\_tokens) >= n:
79         ngram = \textcolor{stringliteral}{' '}.join(search\_tokens[:n])
80         \textcolor{keywordflow}{if} ngram \textcolor{keywordflow}{in} token\_dict:
81             \textcolor{comment}{# first, search previous unmatched words for smaller ngrams}
82             sub\_n = min(len(next\_search), n - 1)
83             saved\_tokens.extend(\hyperlink{namespaceparlai_1_1core_1_1dict_a5e9eb43b6c0dce0b3aab7f3ea3717de6}{find\_ngrams}(token\_dict, next\_search, sub\_n))
84             next\_search.clear()
85             \textcolor{comment}{# then add this ngram}
86             saved\_tokens.append(ngram)
87             \textcolor{comment}{# then pop this ngram from the remaining words to search}
88             search\_tokens = search\_tokens[n:]
89         \textcolor{keywordflow}{else}:
90             next\_search.append(search\_tokens.pop(0))
91     remainder = next\_search + search\_tokens
92     sub\_n = min(len(remainder), n - 1)
93     saved\_tokens.extend(\hyperlink{namespaceparlai_1_1core_1_1dict_a5e9eb43b6c0dce0b3aab7f3ea3717de6}{find\_ngrams}(token\_dict, remainder, sub\_n))
94     \textcolor{keywordflow}{return} saved\_tokens
95 
96 
\end{DoxyCode}
\mbox{\Hypertarget{namespaceparlai_1_1core_1_1dict_a4d8952ff127b540967c707a58e8ebb48}\label{namespaceparlai_1_1core_1_1dict_a4d8952ff127b540967c707a58e8ebb48}} 
\index{parlai\+::core\+::dict@{parlai\+::core\+::dict}!unescape@{unescape}}
\index{unescape@{unescape}!parlai\+::core\+::dict@{parlai\+::core\+::dict}}
\subsubsection{\texorpdfstring{unescape()}{unescape()}}
{\footnotesize\ttfamily def parlai.\+core.\+dict.\+unescape (\begin{DoxyParamCaption}\item[{}]{s }\end{DoxyParamCaption})}

\begin{DoxyVerb}Revert escaped characters back to their special version.

For example, \\n => \n and \\t => \t

:param s:
    string to unescape
\end{DoxyVerb}
 

Definition at line 46 of file dict.\+py.


\begin{DoxyCode}
46 \textcolor{keyword}{def }\hyperlink{namespaceparlai_1_1core_1_1dict_a4d8952ff127b540967c707a58e8ebb48}{unescape}(s):
47     \textcolor{stringliteral}{r"""}
48 \textcolor{stringliteral}{    Revert escaped characters back to their special version.}
49 \textcolor{stringliteral}{}
50 \textcolor{stringliteral}{    For example, \(\backslash\)\(\backslash\)n => \(\backslash\)n and \(\backslash\)\(\backslash\)t => \(\backslash\)t}
51 \textcolor{stringliteral}{}
52 \textcolor{stringliteral}{    :param s:}
53 \textcolor{stringliteral}{        string to unescape}
54 \textcolor{stringliteral}{    """}
55     \textcolor{keywordflow}{return} s.replace(\textcolor{stringliteral}{'\(\backslash\)\(\backslash\)n'}, \textcolor{stringliteral}{'\(\backslash\)n'}).replace(\textcolor{stringliteral}{'\(\backslash\)\(\backslash\)t'}, \textcolor{stringliteral}{'\(\backslash\)t'}).replace(\textcolor{stringliteral}{'\(\backslash\)\(\backslash\)r', '}\(\backslash\)r')
56 
57 
\end{DoxyCode}


\subsection{Variable Documentation}
\mbox{\Hypertarget{namespaceparlai_1_1core_1_1dict_a55194215927ea8786279b5089781ce64}\label{namespaceparlai_1_1core_1_1dict_a55194215927ea8786279b5089781ce64}} 
\index{parlai\+::core\+::dict@{parlai\+::core\+::dict}!B\+P\+E\+\_\+\+I\+N\+S\+T\+A\+L\+L\+ED@{B\+P\+E\+\_\+\+I\+N\+S\+T\+A\+L\+L\+ED}}
\index{B\+P\+E\+\_\+\+I\+N\+S\+T\+A\+L\+L\+ED@{B\+P\+E\+\_\+\+I\+N\+S\+T\+A\+L\+L\+ED}!parlai\+::core\+::dict@{parlai\+::core\+::dict}}
\subsubsection{\texorpdfstring{B\+P\+E\+\_\+\+I\+N\+S\+T\+A\+L\+L\+ED}{BPE\_INSTALLED}}
{\footnotesize\ttfamily parlai.\+core.\+dict.\+B\+P\+E\+\_\+\+I\+N\+S\+T\+A\+L\+L\+ED}



Definition at line 27 of file dict.\+py.

\mbox{\Hypertarget{namespaceparlai_1_1core_1_1dict_acc80030514561837c1010293fd1010f4}\label{namespaceparlai_1_1core_1_1dict_acc80030514561837c1010293fd1010f4}} 
\index{parlai\+::core\+::dict@{parlai\+::core\+::dict}!R\+E\+T\+OK@{R\+E\+T\+OK}}
\index{R\+E\+T\+OK@{R\+E\+T\+OK}!parlai\+::core\+::dict@{parlai\+::core\+::dict}}
\subsubsection{\texorpdfstring{R\+E\+T\+OK}{RETOK}}
{\footnotesize\ttfamily parlai.\+core.\+dict.\+R\+E\+T\+OK}



Definition at line 31 of file dict.\+py.

