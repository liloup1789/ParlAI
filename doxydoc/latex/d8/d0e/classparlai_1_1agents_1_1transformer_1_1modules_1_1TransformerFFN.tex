\hypertarget{classparlai_1_1agents_1_1transformer_1_1modules_1_1TransformerFFN}{}\section{parlai.\+agents.\+transformer.\+modules.\+Transformer\+F\+FN Class Reference}
\label{classparlai_1_1agents_1_1transformer_1_1modules_1_1TransformerFFN}\index{parlai.\+agents.\+transformer.\+modules.\+Transformer\+F\+FN@{parlai.\+agents.\+transformer.\+modules.\+Transformer\+F\+FN}}


Inheritance diagram for parlai.\+agents.\+transformer.\+modules.\+Transformer\+F\+FN\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=247pt]{d3/d68/classparlai_1_1agents_1_1transformer_1_1modules_1_1TransformerFFN__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for parlai.\+agents.\+transformer.\+modules.\+Transformer\+F\+FN\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=247pt]{d7/d66/classparlai_1_1agents_1_1transformer_1_1modules_1_1TransformerFFN__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{classparlai_1_1agents_1_1transformer_1_1modules_1_1TransformerFFN_a89cffa1831968953cdd7dfdfa7867944}{\+\_\+\+\_\+init\+\_\+\+\_\+} (self, dim, dim\+\_\+hidden, \hyperlink{classparlai_1_1agents_1_1transformer_1_1modules_1_1TransformerFFN_a22f7891e6b991a8ee6b58f08c12cf4ae}{relu\+\_\+dropout}=0, activation=\textquotesingle{}relu\textquotesingle{})
\item 
def \hyperlink{classparlai_1_1agents_1_1transformer_1_1modules_1_1TransformerFFN_a54f8d1ec7c0c4228f78a3be843ab3003}{forward} (self, x)
\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classparlai_1_1agents_1_1transformer_1_1modules_1_1TransformerFFN_a22f7891e6b991a8ee6b58f08c12cf4ae}{relu\+\_\+dropout}
\item 
\hyperlink{classparlai_1_1agents_1_1transformer_1_1modules_1_1TransformerFFN_a234566d2ffaffe67f04c4592cfc84265}{nonlinear}
\item 
\hyperlink{classparlai_1_1agents_1_1transformer_1_1modules_1_1TransformerFFN_addc959c81b7c0ba87a47415af7f07e16}{lin1}
\item 
\hyperlink{classparlai_1_1agents_1_1transformer_1_1modules_1_1TransformerFFN_ae0ee11939e782034e2d9809f18ed4708}{lin2}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
\begin{DoxyVerb}Implements the FFN part of the transformer.
\end{DoxyVerb}
 

Definition at line 1036 of file modules.\+py.



\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classparlai_1_1agents_1_1transformer_1_1modules_1_1TransformerFFN_a89cffa1831968953cdd7dfdfa7867944}\label{classparlai_1_1agents_1_1transformer_1_1modules_1_1TransformerFFN_a89cffa1831968953cdd7dfdfa7867944}} 
\index{parlai\+::agents\+::transformer\+::modules\+::\+Transformer\+F\+FN@{parlai\+::agents\+::transformer\+::modules\+::\+Transformer\+F\+FN}!\+\_\+\+\_\+init\+\_\+\+\_\+@{\+\_\+\+\_\+init\+\_\+\+\_\+}}
\index{\+\_\+\+\_\+init\+\_\+\+\_\+@{\+\_\+\+\_\+init\+\_\+\+\_\+}!parlai\+::agents\+::transformer\+::modules\+::\+Transformer\+F\+FN@{parlai\+::agents\+::transformer\+::modules\+::\+Transformer\+F\+FN}}
\subsubsection{\texorpdfstring{\+\_\+\+\_\+init\+\_\+\+\_\+()}{\_\_init\_\_()}}
{\footnotesize\ttfamily def parlai.\+agents.\+transformer.\+modules.\+Transformer\+F\+F\+N.\+\_\+\+\_\+init\+\_\+\+\_\+ (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{dim,  }\item[{}]{dim\+\_\+hidden,  }\item[{}]{relu\+\_\+dropout = {\ttfamily 0},  }\item[{}]{activation = {\ttfamily \textquotesingle{}relu\textquotesingle{}} }\end{DoxyParamCaption})}



Definition at line 1041 of file modules.\+py.


\begin{DoxyCode}
1041     \textcolor{keyword}{def }\_\_init\_\_(self, dim, dim\_hidden, relu\_dropout=0, activation='relu'):
1042         super(TransformerFFN, self).\_\_init\_\_()
1043         self.relu\_dropout = nn.Dropout(p=relu\_dropout)
1044         \textcolor{keywordflow}{if} activation == \textcolor{stringliteral}{'relu'}:
1045             self.nonlinear = F.relu
1046         \textcolor{keywordflow}{elif} activation == \textcolor{stringliteral}{'gelu'}:
1047             self.nonlinear = gelu
1048         \textcolor{keywordflow}{else}:
1049             \textcolor{keywordflow}{raise} ValueError(
1050                 \textcolor{stringliteral}{"Don't know how to handle --activation \{\}"}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(activation)
1051             )
1052         self.lin1 = nn.Linear(dim, dim\_hidden)
1053         self.lin2 = nn.Linear(dim\_hidden, dim)
1054         nn.init.xavier\_uniform\_(self.lin1.weight)
1055         nn.init.xavier\_uniform\_(self.lin2.weight)
1056         \textcolor{comment}{# TODO: initialize biases to 0}
1057 
\end{DoxyCode}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{classparlai_1_1agents_1_1transformer_1_1modules_1_1TransformerFFN_a54f8d1ec7c0c4228f78a3be843ab3003}\label{classparlai_1_1agents_1_1transformer_1_1modules_1_1TransformerFFN_a54f8d1ec7c0c4228f78a3be843ab3003}} 
\index{parlai\+::agents\+::transformer\+::modules\+::\+Transformer\+F\+FN@{parlai\+::agents\+::transformer\+::modules\+::\+Transformer\+F\+FN}!forward@{forward}}
\index{forward@{forward}!parlai\+::agents\+::transformer\+::modules\+::\+Transformer\+F\+FN@{parlai\+::agents\+::transformer\+::modules\+::\+Transformer\+F\+FN}}
\subsubsection{\texorpdfstring{forward()}{forward()}}
{\footnotesize\ttfamily def parlai.\+agents.\+transformer.\+modules.\+Transformer\+F\+F\+N.\+forward (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{x }\end{DoxyParamCaption})}

\begin{DoxyVerb}Forward pass.
\end{DoxyVerb}
 

Definition at line 1058 of file modules.\+py.


\begin{DoxyCode}
1058     \textcolor{keyword}{def }forward(self, x):
1059         \textcolor{stringliteral}{"""}
1060 \textcolor{stringliteral}{        Forward pass.}
1061 \textcolor{stringliteral}{        """}
1062         x = self.nonlinear(self.lin1(x))
1063         x = self.relu\_dropout(x)  \textcolor{comment}{# --relu-dropout}
1064         x = self.lin2(x)
1065         \textcolor{keywordflow}{return} x
1066 \end{DoxyCode}


\subsection{Member Data Documentation}
\mbox{\Hypertarget{classparlai_1_1agents_1_1transformer_1_1modules_1_1TransformerFFN_addc959c81b7c0ba87a47415af7f07e16}\label{classparlai_1_1agents_1_1transformer_1_1modules_1_1TransformerFFN_addc959c81b7c0ba87a47415af7f07e16}} 
\index{parlai\+::agents\+::transformer\+::modules\+::\+Transformer\+F\+FN@{parlai\+::agents\+::transformer\+::modules\+::\+Transformer\+F\+FN}!lin1@{lin1}}
\index{lin1@{lin1}!parlai\+::agents\+::transformer\+::modules\+::\+Transformer\+F\+FN@{parlai\+::agents\+::transformer\+::modules\+::\+Transformer\+F\+FN}}
\subsubsection{\texorpdfstring{lin1}{lin1}}
{\footnotesize\ttfamily parlai.\+agents.\+transformer.\+modules.\+Transformer\+F\+F\+N.\+lin1}



Definition at line 1052 of file modules.\+py.

\mbox{\Hypertarget{classparlai_1_1agents_1_1transformer_1_1modules_1_1TransformerFFN_ae0ee11939e782034e2d9809f18ed4708}\label{classparlai_1_1agents_1_1transformer_1_1modules_1_1TransformerFFN_ae0ee11939e782034e2d9809f18ed4708}} 
\index{parlai\+::agents\+::transformer\+::modules\+::\+Transformer\+F\+FN@{parlai\+::agents\+::transformer\+::modules\+::\+Transformer\+F\+FN}!lin2@{lin2}}
\index{lin2@{lin2}!parlai\+::agents\+::transformer\+::modules\+::\+Transformer\+F\+FN@{parlai\+::agents\+::transformer\+::modules\+::\+Transformer\+F\+FN}}
\subsubsection{\texorpdfstring{lin2}{lin2}}
{\footnotesize\ttfamily parlai.\+agents.\+transformer.\+modules.\+Transformer\+F\+F\+N.\+lin2}



Definition at line 1053 of file modules.\+py.

\mbox{\Hypertarget{classparlai_1_1agents_1_1transformer_1_1modules_1_1TransformerFFN_a234566d2ffaffe67f04c4592cfc84265}\label{classparlai_1_1agents_1_1transformer_1_1modules_1_1TransformerFFN_a234566d2ffaffe67f04c4592cfc84265}} 
\index{parlai\+::agents\+::transformer\+::modules\+::\+Transformer\+F\+FN@{parlai\+::agents\+::transformer\+::modules\+::\+Transformer\+F\+FN}!nonlinear@{nonlinear}}
\index{nonlinear@{nonlinear}!parlai\+::agents\+::transformer\+::modules\+::\+Transformer\+F\+FN@{parlai\+::agents\+::transformer\+::modules\+::\+Transformer\+F\+FN}}
\subsubsection{\texorpdfstring{nonlinear}{nonlinear}}
{\footnotesize\ttfamily parlai.\+agents.\+transformer.\+modules.\+Transformer\+F\+F\+N.\+nonlinear}



Definition at line 1045 of file modules.\+py.

\mbox{\Hypertarget{classparlai_1_1agents_1_1transformer_1_1modules_1_1TransformerFFN_a22f7891e6b991a8ee6b58f08c12cf4ae}\label{classparlai_1_1agents_1_1transformer_1_1modules_1_1TransformerFFN_a22f7891e6b991a8ee6b58f08c12cf4ae}} 
\index{parlai\+::agents\+::transformer\+::modules\+::\+Transformer\+F\+FN@{parlai\+::agents\+::transformer\+::modules\+::\+Transformer\+F\+FN}!relu\+\_\+dropout@{relu\+\_\+dropout}}
\index{relu\+\_\+dropout@{relu\+\_\+dropout}!parlai\+::agents\+::transformer\+::modules\+::\+Transformer\+F\+FN@{parlai\+::agents\+::transformer\+::modules\+::\+Transformer\+F\+FN}}
\subsubsection{\texorpdfstring{relu\+\_\+dropout}{relu\_dropout}}
{\footnotesize\ttfamily parlai.\+agents.\+transformer.\+modules.\+Transformer\+F\+F\+N.\+relu\+\_\+dropout}



Definition at line 1043 of file modules.\+py.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
parlai/agents/transformer/\hyperlink{parlai_2agents_2transformer_2modules_8py}{modules.\+py}\end{DoxyCompactItemize}
