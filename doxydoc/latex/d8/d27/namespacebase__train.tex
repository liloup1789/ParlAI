\hypertarget{namespacebase__train}{}\section{base\+\_\+train Namespace Reference}
\label{namespacebase__train}\index{base\+\_\+train@{base\+\_\+train}}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{namespacebase__train_afacf60925509c7e52f77f41e331261f3}{main} ()
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\mbox{\Hypertarget{namespacebase__train_afacf60925509c7e52f77f41e331261f3}\label{namespacebase__train_afacf60925509c7e52f77f41e331261f3}} 
\index{base\+\_\+train@{base\+\_\+train}!main@{main}}
\index{main@{main}!base\+\_\+train@{base\+\_\+train}}
\subsubsection{\texorpdfstring{main()}{main()}}
{\footnotesize\ttfamily def base\+\_\+train.\+main (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 26 of file base\+\_\+train.\+py.


\begin{DoxyCode}
26 \textcolor{keyword}{def }\hyperlink{namespacebase__train_afacf60925509c7e52f77f41e331261f3}{main}():
27     \textcolor{comment}{# Get command line arguments}
28     parser = ParlaiParser()
29     parser.add\_argument(\textcolor{stringliteral}{'-n'}, \textcolor{stringliteral}{'--num-iters'}, default=10, type=int)
30     parser.add\_argument(\textcolor{stringliteral}{'-a'}, \textcolor{stringliteral}{'--num-agents'}, default=1, type=int)
31     opt = parser.parse\_args()
32 
33     agents = []
34     \textcolor{keywordflow}{for} \_ \textcolor{keywordflow}{in} range(opt[\textcolor{stringliteral}{'num\_agents'}]):
35         agents.append(Agent(opt))
36 
37     opt[\textcolor{stringliteral}{'datatype'}] = \textcolor{stringliteral}{'train'}
38     world\_train = \hyperlink{namespaceparlai_1_1core_1_1worlds_a11923c10b545c7ecc1b08fe2242d9c2c}{create\_task}(opt, agents)
39 
40     opt[\textcolor{stringliteral}{'datatype'}] = \textcolor{stringliteral}{'valid'}
41     world\_valid = \hyperlink{namespaceparlai_1_1core_1_1worlds_a11923c10b545c7ecc1b08fe2242d9c2c}{create\_task}(opt, agents)
42 
43     start = time.time()
44     \textcolor{comment}{# train / valid loop}
45     \textcolor{keywordflow}{for} \_ \textcolor{keywordflow}{in} range(1):
46         logger.info(\textcolor{stringliteral}{'[ training ]'})
47         \textcolor{keywordflow}{for} \_ \textcolor{keywordflow}{in} range(opt[\textcolor{stringliteral}{'num\_iters'}]):  \textcolor{comment}{# train for a bit}
48             world\_train.parley()
49 
50         logger.info(\textcolor{stringliteral}{'[ training summary. ]'})
51         logger.info(world\_train.report())
52 
53         logger.info(\textcolor{stringliteral}{'[ validating ]'})
54         \textcolor{keywordflow}{for} \_ \textcolor{keywordflow}{in} range(1):  \textcolor{comment}{# check valid accuracy}
55             world\_valid.parley()
56 
57         logger.info(\textcolor{stringliteral}{'[ validation summary. ]'})
58         logger.info(world\_valid.report())
59 
60     logger.info(\textcolor{stringliteral}{'finished in \{\} s'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(round(time.time() - start, 2)))
61 
62 
\end{DoxyCode}
