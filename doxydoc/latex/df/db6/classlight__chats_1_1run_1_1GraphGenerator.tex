\hypertarget{classlight__chats_1_1run_1_1GraphGenerator}{}\section{light\+\_\+chats.\+run.\+Graph\+Generator Class Reference}
\label{classlight__chats_1_1run_1_1GraphGenerator}\index{light\+\_\+chats.\+run.\+Graph\+Generator@{light\+\_\+chats.\+run.\+Graph\+Generator}}


Inheritance diagram for light\+\_\+chats.\+run.\+Graph\+Generator\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=232pt]{db/d56/classlight__chats_1_1run_1_1GraphGenerator__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for light\+\_\+chats.\+run.\+Graph\+Generator\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=232pt]{db/d57/classlight__chats_1_1run_1_1GraphGenerator__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{classlight__chats_1_1run_1_1GraphGenerator_aac2b7559d6b74c923297239c810ed53f}{\+\_\+\+\_\+init\+\_\+\+\_\+} (self, \hyperlink{classlight__chats_1_1run_1_1GraphGenerator_a3060edf4bd46a5e1a78dbc48f539d341}{opt}, \hyperlink{classlight__chats_1_1run_1_1GraphGenerator_a81da652d9cbc091fba5d410630750c39}{use\+\_\+seen})
\item 
def \hyperlink{classlight__chats_1_1run_1_1GraphGenerator_a757544b95a6b132d89a0e27dc98511f4}{props\+\_\+from\+\_\+obj} (self, obj)
\item 
def \hyperlink{classlight__chats_1_1run_1_1GraphGenerator_a3b33b3e258b5d31a586a43b484bda91c}{props\+\_\+from\+\_\+char} (self, char)
\item 
def \hyperlink{classlight__chats_1_1run_1_1GraphGenerator_aa59d2f6eb662add984d10f89d25ccab4}{get\+\_\+room} (self)
\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classlight__chats_1_1run_1_1GraphGenerator_a3060edf4bd46a5e1a78dbc48f539d341}{opt}
\item 
\hyperlink{classlight__chats_1_1run_1_1GraphGenerator_a81da652d9cbc091fba5d410630750c39}{use\+\_\+seen}
\item 
\hyperlink{classlight__chats_1_1run_1_1GraphGenerator_a0c0a9acbec3d441069dc15d78ed357fc}{db}
\item 
\hyperlink{classlight__chats_1_1run_1_1GraphGenerator_aff14ffc413151e1665e23759d5f20667}{rooms}
\item 
\hyperlink{classlight__chats_1_1run_1_1GraphGenerator_a3a7d4254e7381805d70735c33110e488}{chars}
\item 
\hyperlink{classlight__chats_1_1run_1_1GraphGenerator_a8e98e856aa61d7d4a07ab4e212cec333}{rooms\+\_\+list}
\item 
\hyperlink{classlight__chats_1_1run_1_1GraphGenerator_adb64c1437325f8797b0d6a7cdd9d6692}{chars\+\_\+list}
\item 
\hyperlink{classlight__chats_1_1run_1_1GraphGenerator_aeaacf5bfa9cccecca2e21a91d5b3a9ce}{room\+\_\+idx}
\end{DoxyCompactItemize}


\subsection{Detailed Description}


Definition at line 21 of file run.\+py.



\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classlight__chats_1_1run_1_1GraphGenerator_aac2b7559d6b74c923297239c810ed53f}\label{classlight__chats_1_1run_1_1GraphGenerator_aac2b7559d6b74c923297239c810ed53f}} 
\index{light\+\_\+chats\+::run\+::\+Graph\+Generator@{light\+\_\+chats\+::run\+::\+Graph\+Generator}!\+\_\+\+\_\+init\+\_\+\+\_\+@{\+\_\+\+\_\+init\+\_\+\+\_\+}}
\index{\+\_\+\+\_\+init\+\_\+\+\_\+@{\+\_\+\+\_\+init\+\_\+\+\_\+}!light\+\_\+chats\+::run\+::\+Graph\+Generator@{light\+\_\+chats\+::run\+::\+Graph\+Generator}}
\subsubsection{\texorpdfstring{\+\_\+\+\_\+init\+\_\+\+\_\+()}{\_\_init\_\_()}}
{\footnotesize\ttfamily def light\+\_\+chats.\+run.\+Graph\+Generator.\+\_\+\+\_\+init\+\_\+\+\_\+ (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{opt,  }\item[{}]{use\+\_\+seen }\end{DoxyParamCaption})}



Definition at line 22 of file run.\+py.


\begin{DoxyCode}
22     \textcolor{keyword}{def }\_\_init\_\_(self, opt, use\_seen):
23         download\_light(opt)
24         self.opt = opt
25         self.use\_seen = use\_seen
26         dpath = os.path.join(opt[\textcolor{stringliteral}{'datapath'}], \textcolor{stringliteral}{'light\_dialogue'})
27         env\_file = os.path.join(dpath, \textcolor{stringliteral}{'light\_environment.pkl'})
28         with open(env\_file, \textcolor{stringliteral}{'rb'}) \textcolor{keyword}{as} picklefile:
29             self.db = pickle.load(picklefile)
30 
31         \textcolor{comment}{# Split rooms into seen and unseen}
32         seen\_rooms = \{
33             i: r \textcolor{keywordflow}{for} i, r \textcolor{keywordflow}{in} self.db[\textcolor{stringliteral}{'rooms'}].items() \textcolor{keywordflow}{if} \hyperlink{namespaceprojects_1_1mastering__the__dungeon_1_1mturk_1_1tasks_1_1MTD_1_1run_a693eb03afbb820bbfe8b47b12e69e519}{int}(r[\textcolor{stringliteral}{'room\_id'}]) < 703
34         \}
35         unseen\_rooms = \{
36             i: r \textcolor{keywordflow}{for} i, r \textcolor{keywordflow}{in} self.db[\textcolor{stringliteral}{'rooms'}].items() \textcolor{keywordflow}{if} \hyperlink{namespaceprojects_1_1mastering__the__dungeon_1_1mturk_1_1tasks_1_1MTD_1_1run_a693eb03afbb820bbfe8b47b12e69e519}{int}(r[\textcolor{stringliteral}{'room\_id'}]) >= 703
37         \}
38         \textcolor{keywordflow}{if} use\_seen:
39             self.rooms = seen\_rooms
40         \textcolor{keywordflow}{else}:
41             self.rooms = unseen\_rooms
42         \textcolor{keywordflow}{for} i, room \textcolor{keywordflow}{in} self.rooms.items():
43             room[\textcolor{stringliteral}{'id'}] = i
44 
45         \textcolor{comment}{# only use annotated characters}
46         self.chars = \{i: c \textcolor{keywordflow}{for} i, c \textcolor{keywordflow}{in} self.db[\textcolor{stringliteral}{'characters'}].items() \textcolor{keywordflow}{if} \textcolor{stringliteral}{'desc'} \textcolor{keywordflow}{in} c\}
47         \textcolor{keywordflow}{for} i, char \textcolor{keywordflow}{in} self.chars.items():
48             char[\textcolor{stringliteral}{'id'}] = i
49         self.rooms\_list = list(self.rooms.values())
50         self.chars\_list = list(self.chars.values())
51         self.room\_idx = 3  \textcolor{comment}{# Arbitrary start index for what room to load}
52 
\end{DoxyCode}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{classlight__chats_1_1run_1_1GraphGenerator_aa59d2f6eb662add984d10f89d25ccab4}\label{classlight__chats_1_1run_1_1GraphGenerator_aa59d2f6eb662add984d10f89d25ccab4}} 
\index{light\+\_\+chats\+::run\+::\+Graph\+Generator@{light\+\_\+chats\+::run\+::\+Graph\+Generator}!get\+\_\+room@{get\+\_\+room}}
\index{get\+\_\+room@{get\+\_\+room}!light\+\_\+chats\+::run\+::\+Graph\+Generator@{light\+\_\+chats\+::run\+::\+Graph\+Generator}}
\subsubsection{\texorpdfstring{get\+\_\+room()}{get\_room()}}
{\footnotesize\ttfamily def light\+\_\+chats.\+run.\+Graph\+Generator.\+get\+\_\+room (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line 111 of file run.\+py.


\begin{DoxyCode}
111     \textcolor{keyword}{def }get\_room(self):
112         room = self.rooms\_list[self.room\_idx % len(self.rooms\_list)]
113         self.room\_idx += 1
114 
115         g = graph.Graph(self.opt)
116 
117         room\_gid = g.add\_node(
118             room[\textcolor{stringliteral}{'setting'}],
119             \{
120                 \textcolor{stringliteral}{'room'}: \textcolor{keyword}{True},
121                 \textcolor{stringliteral}{'desc'}: room[\textcolor{stringliteral}{'description'}],
122                 \textcolor{stringliteral}{'extra\_desc'}: room[\textcolor{stringliteral}{'background'}],
123                 \textcolor{stringliteral}{'room'}: \textcolor{keyword}{True},
124                 \textcolor{stringliteral}{'contain\_size'}: 2000,  \textcolor{comment}{# TODO turk room sizes}
125                 \textcolor{stringliteral}{'name\_prefix'}: \textcolor{stringliteral}{"the"},
126                 \textcolor{stringliteral}{'surface\_type'}: \textcolor{stringliteral}{"in"},
127                 \textcolor{stringliteral}{'classes'}: \{\textcolor{stringliteral}{'room'}\},
128             \},
129         )
130 
131         \textcolor{comment}{# Add items to the graph}
132         added\_objs = []
133         \textcolor{keywordflow}{for} item\_id \textcolor{keywordflow}{in} room[\textcolor{stringliteral}{'ex\_objects'}]:
134             \textcolor{keywordflow}{if} random.random() > 0.5:
135                 \textcolor{keywordflow}{continue}
136             obj = self.db[\textcolor{stringliteral}{'objects'}][item\_id]
137             use\_desc = (
138                 obj[\textcolor{stringliteral}{'name'}]
139                 \textcolor{keywordflow}{if} obj[\textcolor{stringliteral}{'is\_plural'}] == 0
140                 \textcolor{keywordflow}{else} random.choice(obj[\textcolor{stringliteral}{'base\_form'}])
141             )
142             \textcolor{keywordflow}{if} len(use\_desc.split(\textcolor{stringliteral}{' '})) > 5:
143                 \textcolor{keywordflow}{continue}  \textcolor{comment}{# Skip really long objects}
144             \textcolor{keywordflow}{if} use\_desc.lower() \textcolor{keywordflow}{in} added\_objs:
145                 \textcolor{keywordflow}{continue}
146             added\_objs.append(use\_desc.lower())
147             obj\_id = g.add\_node(use\_desc, self.props\_from\_obj(obj))
148             g.move\_object(obj\_id, room\_gid)
149         \textcolor{keywordflow}{for} item\_id \textcolor{keywordflow}{in} room[\textcolor{stringliteral}{'in\_objects'}]:
150             obj = self.db[\textcolor{stringliteral}{'objects'}][item\_id]
151             use\_desc = (
152                 obj[\textcolor{stringliteral}{'name'}]
153                 \textcolor{keywordflow}{if} obj[\textcolor{stringliteral}{'is\_plural'}] == 0
154                 \textcolor{keywordflow}{else} random.choice(obj[\textcolor{stringliteral}{'base\_form'}])
155             )
156             \textcolor{keywordflow}{if} len(use\_desc.split(\textcolor{stringliteral}{' '})) > 8:
157                 \textcolor{keywordflow}{continue}  \textcolor{comment}{# Skip really long objects}
158             \textcolor{keywordflow}{if} use\_desc.lower() \textcolor{keywordflow}{in} added\_objs:
159                 \textcolor{keywordflow}{continue}
160             added\_objs.append(use\_desc.lower())
161             props = self.props\_from\_obj(obj)
162             obj\_id = g.add\_node(use\_desc, props)
163             g.move\_object(obj\_id, room\_gid)
164 
165         \textcolor{comment}{# Add characters to the graph}
166         create\_characters = []
167         in\_characters = []
168         used\_descs = []
169         \textcolor{keywordflow}{for} char\_id \textcolor{keywordflow}{in} room[\textcolor{stringliteral}{'ex\_characters'}]:
170             char = self.db[\textcolor{stringliteral}{'characters'}][char\_id]
171             \textcolor{keywordflow}{if} char.get(\textcolor{stringliteral}{'id'}) \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
172                 \textcolor{keywordflow}{continue}
173             ignore\_chance = 0.5
174             \textcolor{keywordflow}{if} char.get(\textcolor{stringliteral}{'char\_type'}) == \textcolor{stringliteral}{'object'}:
175                 \textcolor{comment}{# heavily downrank objects}
176                 ignore\_chance = 0.95
177             \textcolor{keywordflow}{if} random.random() < ignore\_chance:
178                 \textcolor{keywordflow}{continue}
179             use\_desc = (
180                 char[\textcolor{stringliteral}{'name'}]
181                 \textcolor{keywordflow}{if} char[\textcolor{stringliteral}{'is\_plural'}] == 0
182                 \textcolor{keywordflow}{else} random.choice(char[\textcolor{stringliteral}{'base\_form'}])
183             )
184             use\_desc = use\_desc.lower()
185             \textcolor{keywordflow}{if} use\_desc \textcolor{keywordflow}{in} used\_descs:
186                 \textcolor{keywordflow}{continue}
187             used\_descs.append(use\_desc)
188             create\_characters.append([use\_desc, char])
189         \textcolor{keywordflow}{for} char\_id \textcolor{keywordflow}{in} room[\textcolor{stringliteral}{'in\_characters'}]:
190             char = self.db[\textcolor{stringliteral}{'characters'}][char\_id]
191             \textcolor{keywordflow}{if} char.get(\textcolor{stringliteral}{'id'}) \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
192                 \textcolor{keywordflow}{continue}
193             \textcolor{keywordflow}{if} char.get(\textcolor{stringliteral}{'char\_type'}) == \textcolor{stringliteral}{'object'}:
194                 \textcolor{keywordflow}{if} random.random() < 0.95:
195                     \textcolor{keywordflow}{continue}  \textcolor{comment}{# highly downrank objects}
196             use\_desc = (
197                 char[\textcolor{stringliteral}{'name'}]
198                 \textcolor{keywordflow}{if} char[\textcolor{stringliteral}{'is\_plural'}] == 0
199                 \textcolor{keywordflow}{else} random.choice(char[\textcolor{stringliteral}{'base\_form'}])
200             )
201             use\_desc = use\_desc.lower()
202             \textcolor{keywordflow}{if} use\_desc \textcolor{keywordflow}{in} used\_descs:
203                 \textcolor{keywordflow}{continue}
204             used\_descs.append(use\_desc)
205             in\_characters.append(use\_desc)
206             create\_characters.append((use\_desc, char))
207         \textcolor{keywordflow}{while} len(create\_characters) < 2:
208             char = random.choice(self.chars\_list)
209             use\_desc = (
210                 char[\textcolor{stringliteral}{'name'}]
211                 \textcolor{keywordflow}{if} char[\textcolor{stringliteral}{'is\_plural'}] == 0
212                 \textcolor{keywordflow}{else} random.choice(char[\textcolor{stringliteral}{'base\_form'}])
213             )
214             use\_desc = use\_desc.lower()
215             \textcolor{keywordflow}{if} use\_desc \textcolor{keywordflow}{in} used\_descs:
216                 \textcolor{keywordflow}{continue}
217             used\_descs.append(use\_desc)
218             create\_characters.append((use\_desc, char))
219 
220         random.shuffle(create\_characters)
221         player\_characters = create\_characters[:2]
222         npc\_characters = create\_characters[2:]
223 
224         \textcolor{comment}{# Filter out characters that are in the room description}
225         \textcolor{comment}{# as they already exist in context}
226         npc\_characters = [
227             (ud, c) \textcolor{keywordflow}{for} (ud, c) \textcolor{keywordflow}{in} npc\_characters \textcolor{keywordflow}{if} ud \textcolor{keywordflow}{not} \textcolor{keywordflow}{in} in\_characters
228         ]
229 
230         \textcolor{comment}{# only leave one npc character at most}
231         npc\_characters = npc\_characters[:1]
232 
233         \textcolor{comment}{# Add player characters to the world}
234         \textcolor{keywordflow}{for} use\_desc, char \textcolor{keywordflow}{in} player\_characters:
235             g\_id = g.add\_node(
236                 use\_desc, self.props\_from\_char(char), is\_player=\textcolor{keyword}{True}, uid=use\_desc
237             )
238             g.move\_object(g\_id, room\_gid)
239             added\_objs = []
240             \textcolor{comment}{# add items to the player character}
241             \textcolor{keywordflow}{for} item\_id \textcolor{keywordflow}{in} char[\textcolor{stringliteral}{'carrying\_objects'}]:
242                 \textcolor{keywordflow}{if} random.random() > 0.5:
243                     \textcolor{keywordflow}{continue}
244                 obj = self.db[\textcolor{stringliteral}{'objects'}][item\_id]
245                 use\_desc = (
246                     obj[\textcolor{stringliteral}{'name'}]
247                     \textcolor{keywordflow}{if} obj[\textcolor{stringliteral}{'is\_plural'}] == 0
248                     \textcolor{keywordflow}{else} random.choice(obj[\textcolor{stringliteral}{'base\_form'}])
249                 )
250                 \textcolor{keywordflow}{if} len(use\_desc.split(\textcolor{stringliteral}{' '})) > 5:
251                     \textcolor{keywordflow}{continue}  \textcolor{comment}{# Skip really long objects}
252                 \textcolor{keywordflow}{if} use\_desc.lower() \textcolor{keywordflow}{in} added\_objs:
253                     \textcolor{keywordflow}{continue}
254                 added\_objs.append(use\_desc.lower())
255                 obj\_id = g.add\_node(use\_desc, self.props\_from\_obj(obj))
256                 g.move\_object(obj\_id, g\_id)
257             \textcolor{keywordflow}{for} item\_id \textcolor{keywordflow}{in} char[\textcolor{stringliteral}{'wearing\_objects'}]:
258                 \textcolor{keywordflow}{if} random.random() > 0.5:
259                     \textcolor{keywordflow}{continue}
260                 obj = self.db[\textcolor{stringliteral}{'objects'}][item\_id]
261                 use\_desc = (
262                     obj[\textcolor{stringliteral}{'name'}]
263                     \textcolor{keywordflow}{if} obj[\textcolor{stringliteral}{'is\_plural'}] == 0
264                     \textcolor{keywordflow}{else} random.choice(obj[\textcolor{stringliteral}{'base\_form'}])
265                 )
266                 \textcolor{keywordflow}{if} len(use\_desc.split(\textcolor{stringliteral}{' '})) > 5:
267                     \textcolor{keywordflow}{continue}  \textcolor{comment}{# Skip really long objects}
268                 \textcolor{keywordflow}{if} use\_desc.lower() \textcolor{keywordflow}{in} added\_objs:
269                     \textcolor{keywordflow}{continue}
270                 added\_objs.append(use\_desc.lower())
271                 obj\_id = g.add\_node(use\_desc, self.props\_from\_obj(obj))
272                 g.move\_object(obj\_id, g\_id)
273                 g.set\_prop(obj\_id, \textcolor{stringliteral}{'equipped'}, \textcolor{stringliteral}{'wear'})
274             \textcolor{keywordflow}{for} item\_id \textcolor{keywordflow}{in} char[\textcolor{stringliteral}{'wielding\_objects'}]:
275                 \textcolor{keywordflow}{if} random.random() > 0.5:
276                     \textcolor{keywordflow}{continue}
277                 obj = self.db[\textcolor{stringliteral}{'objects'}][item\_id]
278                 use\_desc = (
279                     obj[\textcolor{stringliteral}{'name'}]
280                     \textcolor{keywordflow}{if} obj[\textcolor{stringliteral}{'is\_plural'}] == 0
281                     \textcolor{keywordflow}{else} random.choice(obj[\textcolor{stringliteral}{'base\_form'}])
282                 )
283                 \textcolor{keywordflow}{if} len(use\_desc.split(\textcolor{stringliteral}{' '})) > 5:
284                     \textcolor{keywordflow}{continue}  \textcolor{comment}{# Skip really long objects}
285                 \textcolor{keywordflow}{if} use\_desc.lower() \textcolor{keywordflow}{in} added\_objs:
286                     \textcolor{keywordflow}{continue}
287                 added\_objs.append(use\_desc.lower())
288                 obj\_id = g.add\_node(use\_desc, self.props\_from\_obj(obj))
289                 g.move\_object(obj\_id, g\_id)
290                 g.set\_prop(obj\_id, \textcolor{stringliteral}{'equipped'}, \textcolor{stringliteral}{'wield'})
291 
292         \textcolor{comment}{# add non player characters to the world}
293         \textcolor{keywordflow}{for} use\_desc, char \textcolor{keywordflow}{in} npc\_characters:
294             g\_id = g.add\_node(use\_desc, self.props\_from\_char(char), uid=use\_desc)
295             g.move\_object(g\_id, room\_gid)
296 
297         \textcolor{keywordflow}{return} g, room, player\_characters
298 
299 
\end{DoxyCode}
\mbox{\Hypertarget{classlight__chats_1_1run_1_1GraphGenerator_a3b33b3e258b5d31a586a43b484bda91c}\label{classlight__chats_1_1run_1_1GraphGenerator_a3b33b3e258b5d31a586a43b484bda91c}} 
\index{light\+\_\+chats\+::run\+::\+Graph\+Generator@{light\+\_\+chats\+::run\+::\+Graph\+Generator}!props\+\_\+from\+\_\+char@{props\+\_\+from\+\_\+char}}
\index{props\+\_\+from\+\_\+char@{props\+\_\+from\+\_\+char}!light\+\_\+chats\+::run\+::\+Graph\+Generator@{light\+\_\+chats\+::run\+::\+Graph\+Generator}}
\subsubsection{\texorpdfstring{props\+\_\+from\+\_\+char()}{props\_from\_char()}}
{\footnotesize\ttfamily def light\+\_\+chats.\+run.\+Graph\+Generator.\+props\+\_\+from\+\_\+char (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{char }\end{DoxyParamCaption})}



Definition at line 93 of file run.\+py.


\begin{DoxyCode}
93     \textcolor{keyword}{def }props\_from\_char(self, char):
94         use\_classes = [\textcolor{stringliteral}{'agent'}]
95         props = \{
96             \textcolor{stringliteral}{'agent'}: \textcolor{keyword}{True},
97             \textcolor{stringliteral}{'size'}: 20,
98             \textcolor{stringliteral}{'contain\_size'}: 20,
99             \textcolor{stringliteral}{'health'}: 10,
100             \textcolor{stringliteral}{'food\_energy'}: 1,
101             \textcolor{stringliteral}{'aggression'}: 0,
102             \textcolor{stringliteral}{'speed'}: 5,
103             \textcolor{stringliteral}{'char\_type'}: char[\textcolor{stringliteral}{'char\_type'}],
104             \textcolor{stringliteral}{'desc'}: random.choice(char[\textcolor{stringliteral}{'personas'}]),
105         \}
106 
107         props[\textcolor{stringliteral}{'classes'}] = use\_classes
108 
109         \textcolor{keywordflow}{return} props
110 
\end{DoxyCode}
\mbox{\Hypertarget{classlight__chats_1_1run_1_1GraphGenerator_a757544b95a6b132d89a0e27dc98511f4}\label{classlight__chats_1_1run_1_1GraphGenerator_a757544b95a6b132d89a0e27dc98511f4}} 
\index{light\+\_\+chats\+::run\+::\+Graph\+Generator@{light\+\_\+chats\+::run\+::\+Graph\+Generator}!props\+\_\+from\+\_\+obj@{props\+\_\+from\+\_\+obj}}
\index{props\+\_\+from\+\_\+obj@{props\+\_\+from\+\_\+obj}!light\+\_\+chats\+::run\+::\+Graph\+Generator@{light\+\_\+chats\+::run\+::\+Graph\+Generator}}
\subsubsection{\texorpdfstring{props\+\_\+from\+\_\+obj()}{props\_from\_obj()}}
{\footnotesize\ttfamily def light\+\_\+chats.\+run.\+Graph\+Generator.\+props\+\_\+from\+\_\+obj (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{obj }\end{DoxyParamCaption})}



Definition at line 53 of file run.\+py.


\begin{DoxyCode}
53     \textcolor{keyword}{def }props\_from\_obj(self, obj):
54         use\_classes = [\textcolor{stringliteral}{'object'}]
55         props = \{
56             \textcolor{stringliteral}{'object'}: \textcolor{keyword}{True},
57             \textcolor{stringliteral}{'size'}: 1,
58             \textcolor{stringliteral}{'food\_energy'}: 0,
59             \textcolor{stringliteral}{'value'}: 1,
60             \textcolor{stringliteral}{'desc'}: random.choice(obj[\textcolor{stringliteral}{'descriptions'}]),
61         \}
62         \textcolor{keywordflow}{if} obj[\textcolor{stringliteral}{'is\_surface'}] > 0.5:
63             props[\textcolor{stringliteral}{'container'}] = \textcolor{keyword}{True}
64             props[\textcolor{stringliteral}{'contain\_size'}] = 3
65             props[\textcolor{stringliteral}{'surface\_type'}] = \textcolor{stringliteral}{'on'}
66             use\_classes.append(\textcolor{stringliteral}{'container'})
67         \textcolor{keywordflow}{if} obj[\textcolor{stringliteral}{'is\_container'}] > 0.5:
68             props[\textcolor{stringliteral}{'container'}] = \textcolor{keyword}{True}
69             props[\textcolor{stringliteral}{'contain\_size'}] = 3
70             props[\textcolor{stringliteral}{'surface\_type'}] = \textcolor{stringliteral}{'on'}
71             use\_classes.append(\textcolor{stringliteral}{'container'})
72         \textcolor{keywordflow}{if} obj[\textcolor{stringliteral}{'is\_drink'}] > 0.5:
73             props[\textcolor{stringliteral}{'drink'}] = \textcolor{keyword}{True}
74             use\_classes.append(\textcolor{stringliteral}{'drink'})
75         \textcolor{keywordflow}{if} obj[\textcolor{stringliteral}{'is\_food'}] > 0.5:
76             props[\textcolor{stringliteral}{'food'}] = \textcolor{keyword}{True}
77             use\_classes.append(\textcolor{stringliteral}{'food'})
78         \textcolor{keywordflow}{if} obj[\textcolor{stringliteral}{'is\_gettable'}] < 0.33:
79             use\_classes.append(\textcolor{stringliteral}{'not\_gettable'})
80         \textcolor{keywordflow}{if} obj[\textcolor{stringliteral}{'is\_wearable'}] > 0.5:
81             props[\textcolor{stringliteral}{'wearable'}] = \textcolor{keyword}{True}
82             props[\textcolor{stringliteral}{'stats'}] = \{\textcolor{stringliteral}{'attack'}: 1\}
83             use\_classes.append(\textcolor{stringliteral}{'wearable'})
84         \textcolor{keywordflow}{if} obj[\textcolor{stringliteral}{'is\_weapon'}] > 0.5:
85             props[\textcolor{stringliteral}{'weapon'}] = \textcolor{keyword}{True}
86             props[\textcolor{stringliteral}{'stats'}] = \{\textcolor{stringliteral}{'attack'}: 1\}
87             use\_classes.append(\textcolor{stringliteral}{'weapon'})
88 
89         props[\textcolor{stringliteral}{'classes'}] = use\_classes
90 
91         \textcolor{keywordflow}{return} props
92 
\end{DoxyCode}


\subsection{Member Data Documentation}
\mbox{\Hypertarget{classlight__chats_1_1run_1_1GraphGenerator_a3a7d4254e7381805d70735c33110e488}\label{classlight__chats_1_1run_1_1GraphGenerator_a3a7d4254e7381805d70735c33110e488}} 
\index{light\+\_\+chats\+::run\+::\+Graph\+Generator@{light\+\_\+chats\+::run\+::\+Graph\+Generator}!chars@{chars}}
\index{chars@{chars}!light\+\_\+chats\+::run\+::\+Graph\+Generator@{light\+\_\+chats\+::run\+::\+Graph\+Generator}}
\subsubsection{\texorpdfstring{chars}{chars}}
{\footnotesize\ttfamily light\+\_\+chats.\+run.\+Graph\+Generator.\+chars}



Definition at line 46 of file run.\+py.

\mbox{\Hypertarget{classlight__chats_1_1run_1_1GraphGenerator_adb64c1437325f8797b0d6a7cdd9d6692}\label{classlight__chats_1_1run_1_1GraphGenerator_adb64c1437325f8797b0d6a7cdd9d6692}} 
\index{light\+\_\+chats\+::run\+::\+Graph\+Generator@{light\+\_\+chats\+::run\+::\+Graph\+Generator}!chars\+\_\+list@{chars\+\_\+list}}
\index{chars\+\_\+list@{chars\+\_\+list}!light\+\_\+chats\+::run\+::\+Graph\+Generator@{light\+\_\+chats\+::run\+::\+Graph\+Generator}}
\subsubsection{\texorpdfstring{chars\+\_\+list}{chars\_list}}
{\footnotesize\ttfamily light\+\_\+chats.\+run.\+Graph\+Generator.\+chars\+\_\+list}



Definition at line 50 of file run.\+py.

\mbox{\Hypertarget{classlight__chats_1_1run_1_1GraphGenerator_a0c0a9acbec3d441069dc15d78ed357fc}\label{classlight__chats_1_1run_1_1GraphGenerator_a0c0a9acbec3d441069dc15d78ed357fc}} 
\index{light\+\_\+chats\+::run\+::\+Graph\+Generator@{light\+\_\+chats\+::run\+::\+Graph\+Generator}!db@{db}}
\index{db@{db}!light\+\_\+chats\+::run\+::\+Graph\+Generator@{light\+\_\+chats\+::run\+::\+Graph\+Generator}}
\subsubsection{\texorpdfstring{db}{db}}
{\footnotesize\ttfamily light\+\_\+chats.\+run.\+Graph\+Generator.\+db}



Definition at line 29 of file run.\+py.

\mbox{\Hypertarget{classlight__chats_1_1run_1_1GraphGenerator_a3060edf4bd46a5e1a78dbc48f539d341}\label{classlight__chats_1_1run_1_1GraphGenerator_a3060edf4bd46a5e1a78dbc48f539d341}} 
\index{light\+\_\+chats\+::run\+::\+Graph\+Generator@{light\+\_\+chats\+::run\+::\+Graph\+Generator}!opt@{opt}}
\index{opt@{opt}!light\+\_\+chats\+::run\+::\+Graph\+Generator@{light\+\_\+chats\+::run\+::\+Graph\+Generator}}
\subsubsection{\texorpdfstring{opt}{opt}}
{\footnotesize\ttfamily light\+\_\+chats.\+run.\+Graph\+Generator.\+opt}



Definition at line 24 of file run.\+py.

\mbox{\Hypertarget{classlight__chats_1_1run_1_1GraphGenerator_aeaacf5bfa9cccecca2e21a91d5b3a9ce}\label{classlight__chats_1_1run_1_1GraphGenerator_aeaacf5bfa9cccecca2e21a91d5b3a9ce}} 
\index{light\+\_\+chats\+::run\+::\+Graph\+Generator@{light\+\_\+chats\+::run\+::\+Graph\+Generator}!room\+\_\+idx@{room\+\_\+idx}}
\index{room\+\_\+idx@{room\+\_\+idx}!light\+\_\+chats\+::run\+::\+Graph\+Generator@{light\+\_\+chats\+::run\+::\+Graph\+Generator}}
\subsubsection{\texorpdfstring{room\+\_\+idx}{room\_idx}}
{\footnotesize\ttfamily light\+\_\+chats.\+run.\+Graph\+Generator.\+room\+\_\+idx}



Definition at line 51 of file run.\+py.

\mbox{\Hypertarget{classlight__chats_1_1run_1_1GraphGenerator_aff14ffc413151e1665e23759d5f20667}\label{classlight__chats_1_1run_1_1GraphGenerator_aff14ffc413151e1665e23759d5f20667}} 
\index{light\+\_\+chats\+::run\+::\+Graph\+Generator@{light\+\_\+chats\+::run\+::\+Graph\+Generator}!rooms@{rooms}}
\index{rooms@{rooms}!light\+\_\+chats\+::run\+::\+Graph\+Generator@{light\+\_\+chats\+::run\+::\+Graph\+Generator}}
\subsubsection{\texorpdfstring{rooms}{rooms}}
{\footnotesize\ttfamily light\+\_\+chats.\+run.\+Graph\+Generator.\+rooms}



Definition at line 39 of file run.\+py.

\mbox{\Hypertarget{classlight__chats_1_1run_1_1GraphGenerator_a8e98e856aa61d7d4a07ab4e212cec333}\label{classlight__chats_1_1run_1_1GraphGenerator_a8e98e856aa61d7d4a07ab4e212cec333}} 
\index{light\+\_\+chats\+::run\+::\+Graph\+Generator@{light\+\_\+chats\+::run\+::\+Graph\+Generator}!rooms\+\_\+list@{rooms\+\_\+list}}
\index{rooms\+\_\+list@{rooms\+\_\+list}!light\+\_\+chats\+::run\+::\+Graph\+Generator@{light\+\_\+chats\+::run\+::\+Graph\+Generator}}
\subsubsection{\texorpdfstring{rooms\+\_\+list}{rooms\_list}}
{\footnotesize\ttfamily light\+\_\+chats.\+run.\+Graph\+Generator.\+rooms\+\_\+list}



Definition at line 49 of file run.\+py.

\mbox{\Hypertarget{classlight__chats_1_1run_1_1GraphGenerator_a81da652d9cbc091fba5d410630750c39}\label{classlight__chats_1_1run_1_1GraphGenerator_a81da652d9cbc091fba5d410630750c39}} 
\index{light\+\_\+chats\+::run\+::\+Graph\+Generator@{light\+\_\+chats\+::run\+::\+Graph\+Generator}!use\+\_\+seen@{use\+\_\+seen}}
\index{use\+\_\+seen@{use\+\_\+seen}!light\+\_\+chats\+::run\+::\+Graph\+Generator@{light\+\_\+chats\+::run\+::\+Graph\+Generator}}
\subsubsection{\texorpdfstring{use\+\_\+seen}{use\_seen}}
{\footnotesize\ttfamily light\+\_\+chats.\+run.\+Graph\+Generator.\+use\+\_\+seen}



Definition at line 25 of file run.\+py.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
parlai/mturk/tasks/light/light\+\_\+chats/\hyperlink{parlai_2mturk_2tasks_2light_2light__chats_2run_8py}{run.\+py}\end{DoxyCompactItemize}
