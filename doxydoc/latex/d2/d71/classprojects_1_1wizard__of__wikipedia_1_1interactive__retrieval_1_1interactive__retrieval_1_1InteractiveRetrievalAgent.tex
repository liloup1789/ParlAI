\hypertarget{classprojects_1_1wizard__of__wikipedia_1_1interactive__retrieval_1_1interactive__retrieval_1_1InteractiveRetrievalAgent}{}\section{projects.\+wizard\+\_\+of\+\_\+wikipedia.\+interactive\+\_\+retrieval.\+interactive\+\_\+retrieval.\+Interactive\+Retrieval\+Agent Class Reference}
\label{classprojects_1_1wizard__of__wikipedia_1_1interactive__retrieval_1_1interactive__retrieval_1_1InteractiveRetrievalAgent}\index{projects.\+wizard\+\_\+of\+\_\+wikipedia.\+interactive\+\_\+retrieval.\+interactive\+\_\+retrieval.\+Interactive\+Retrieval\+Agent@{projects.\+wizard\+\_\+of\+\_\+wikipedia.\+interactive\+\_\+retrieval.\+interactive\+\_\+retrieval.\+Interactive\+Retrieval\+Agent}}


Inheritance diagram for projects.\+wizard\+\_\+of\+\_\+wikipedia.\+interactive\+\_\+retrieval.\+interactive\+\_\+retrieval.\+Interactive\+Retrieval\+Agent\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=250pt]{d9/d07/classprojects_1_1wizard__of__wikipedia_1_1interactive__retrieval_1_1interactive__retrieval_1_1Ine5f49c6d75338c69ea75c18db7949361}
\end{center}
\end{figure}


Collaboration diagram for projects.\+wizard\+\_\+of\+\_\+wikipedia.\+interactive\+\_\+retrieval.\+interactive\+\_\+retrieval.\+Interactive\+Retrieval\+Agent\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=250pt]{df/d9a/classprojects_1_1wizard__of__wikipedia_1_1interactive__retrieval_1_1interactive__retrieval_1_1In6e03392574af0d88610392e9d03e2b03}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{classprojects_1_1wizard__of__wikipedia_1_1interactive__retrieval_1_1interactive__retrieval_1_1InteractiveRetrievalAgent_ae3e7bcf5fc4acf4cc53cb189554636f1}{\+\_\+\+\_\+init\+\_\+\+\_\+} (self, \hyperlink{classprojects_1_1wizard__of__wikipedia_1_1interactive__retrieval_1_1interactive__retrieval_1_1InteractiveRetrievalAgent_aeddfbf61ebb79aa03c944fe46885fb19}{opt}, shared=None)
\item 
def \hyperlink{classprojects_1_1wizard__of__wikipedia_1_1interactive__retrieval_1_1interactive__retrieval_1_1InteractiveRetrievalAgent_a70bd3e89fcb7a8621a357e99b2291a41}{get\+\_\+chosen\+\_\+topic\+\_\+passages} (self, chosen\+\_\+topic)
\item 
def \hyperlink{classprojects_1_1wizard__of__wikipedia_1_1interactive__retrieval_1_1interactive__retrieval_1_1InteractiveRetrievalAgent_a45ed267eab50da34cd09e747e53584f6}{get\+\_\+passages} (self, \hyperlink{classprojects_1_1wizard__of__wikipedia_1_1interactive__retrieval_1_1interactive__retrieval_1_1InteractiveRetrievalAgent_a637d3bd64317b3ba691ab6eac90b4788}{act})
\item 
def \hyperlink{classprojects_1_1wizard__of__wikipedia_1_1interactive__retrieval_1_1interactive__retrieval_1_1InteractiveRetrievalAgent_a7af862aaf2f4a4805e44021fc1b693fa}{retriever\+\_\+act} (self, history)
\item 
def \hyperlink{classprojects_1_1wizard__of__wikipedia_1_1interactive__retrieval_1_1interactive__retrieval_1_1InteractiveRetrievalAgent_a5c8a1f72de1be0d9d6b906706040a3cd}{observe} (self, \hyperlink{classprojects_1_1wizard__of__wikipedia_1_1interactive__retrieval_1_1interactive__retrieval_1_1InteractiveRetrievalAgent_aa5c76d92b2c00386d6795b2d70da7fc5}{observation})
\item 
def \hyperlink{classprojects_1_1wizard__of__wikipedia_1_1interactive__retrieval_1_1interactive__retrieval_1_1InteractiveRetrievalAgent_ab919b6e7df181e5d64747cd11d45e085}{maintain\+\_\+retrieved\+\_\+texts} (self, history, \hyperlink{classprojects_1_1wizard__of__wikipedia_1_1interactive__retrieval_1_1interactive__retrieval_1_1InteractiveRetrievalAgent_aa5c76d92b2c00386d6795b2d70da7fc5}{observation})
\item 
def \hyperlink{classprojects_1_1wizard__of__wikipedia_1_1interactive__retrieval_1_1interactive__retrieval_1_1InteractiveRetrievalAgent_a39776ea33e094881ff621df9f0f69733}{get\+\_\+unique\+\_\+reply} (self, \hyperlink{classprojects_1_1wizard__of__wikipedia_1_1interactive__retrieval_1_1interactive__retrieval_1_1InteractiveRetrievalAgent_a637d3bd64317b3ba691ab6eac90b4788}{act})
\item 
def \hyperlink{classprojects_1_1wizard__of__wikipedia_1_1interactive__retrieval_1_1interactive__retrieval_1_1InteractiveRetrievalAgent_a637d3bd64317b3ba691ab6eac90b4788}{act} (self)
\item 
def \hyperlink{classprojects_1_1wizard__of__wikipedia_1_1interactive__retrieval_1_1interactive__retrieval_1_1InteractiveRetrievalAgent_a93125f9d9285d48730fda4545b642f00}{share} (self)
\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{classprojects_1_1wizard__of__wikipedia_1_1interactive__retrieval_1_1interactive__retrieval_1_1InteractiveRetrievalAgent_a76b3efdd3e25c94f9532fe4d67df66b3}{add\+\_\+cmdline\+\_\+args} (argparser)
\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classprojects_1_1wizard__of__wikipedia_1_1interactive__retrieval_1_1interactive__retrieval_1_1InteractiveRetrievalAgent_a49d17f61258385ee78e943dfa72bd5c9}{debug}
\item 
\hyperlink{classprojects_1_1wizard__of__wikipedia_1_1interactive__retrieval_1_1interactive__retrieval_1_1InteractiveRetrievalAgent_a67c9839f44f9b10347733f2bdae216f7}{get\+\_\+unique}
\item 
\hyperlink{classprojects_1_1wizard__of__wikipedia_1_1interactive__retrieval_1_1interactive__retrieval_1_1InteractiveRetrievalAgent_a63832cad53cad2358499eb3d09636877}{used\+\_\+messages}
\item 
\hyperlink{classprojects_1_1wizard__of__wikipedia_1_1interactive__retrieval_1_1interactive__retrieval_1_1InteractiveRetrievalAgent_a21b5d58b1029bcc5133c603cfee9b674}{model\+\_\+path}
\item 
\hyperlink{classprojects_1_1wizard__of__wikipedia_1_1interactive__retrieval_1_1interactive__retrieval_1_1InteractiveRetrievalAgent_aeddfbf61ebb79aa03c944fe46885fb19}{opt}
\item 
\hyperlink{classprojects_1_1wizard__of__wikipedia_1_1interactive__retrieval_1_1interactive__retrieval_1_1InteractiveRetrievalAgent_a9fbbfa3efc1bb5a871af12dbd8408b6b}{retriever}
\item 
\hyperlink{classprojects_1_1wizard__of__wikipedia_1_1interactive__retrieval_1_1interactive__retrieval_1_1InteractiveRetrievalAgent_ab56f2e04a16ee757afb025435eca2ff3}{responder}
\item 
\hyperlink{classprojects_1_1wizard__of__wikipedia_1_1interactive__retrieval_1_1interactive__retrieval_1_1InteractiveRetrievalAgent_a481a11fede490a8e05ff5e42286d1a8e}{sent\+\_\+tok}
\item 
\hyperlink{classprojects_1_1wizard__of__wikipedia_1_1interactive__retrieval_1_1interactive__retrieval_1_1InteractiveRetrievalAgent_a181eaf22e174a0f82cd7cf1d2834fbec}{wiki\+\_\+map}
\item 
\hyperlink{classprojects_1_1wizard__of__wikipedia_1_1interactive__retrieval_1_1interactive__retrieval_1_1InteractiveRetrievalAgent_a6ba1b1a85b9ab7742f1e0d768135f001}{id}
\item 
\hyperlink{classprojects_1_1wizard__of__wikipedia_1_1interactive__retrieval_1_1interactive__retrieval_1_1InteractiveRetrievalAgent_aca2f3b6e5620f438698eefe737f325f0}{ret\+\_\+history}
\item 
\hyperlink{classprojects_1_1wizard__of__wikipedia_1_1interactive__retrieval_1_1interactive__retrieval_1_1InteractiveRetrievalAgent_aa5c76d92b2c00386d6795b2d70da7fc5}{observation}
\end{DoxyCompactItemize}


\subsection{Detailed Description}


Definition at line 23 of file interactive\+\_\+retrieval.\+py.



\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classprojects_1_1wizard__of__wikipedia_1_1interactive__retrieval_1_1interactive__retrieval_1_1InteractiveRetrievalAgent_ae3e7bcf5fc4acf4cc53cb189554636f1}\label{classprojects_1_1wizard__of__wikipedia_1_1interactive__retrieval_1_1interactive__retrieval_1_1InteractiveRetrievalAgent_ae3e7bcf5fc4acf4cc53cb189554636f1}} 
\index{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent}!\+\_\+\+\_\+init\+\_\+\+\_\+@{\+\_\+\+\_\+init\+\_\+\+\_\+}}
\index{\+\_\+\+\_\+init\+\_\+\+\_\+@{\+\_\+\+\_\+init\+\_\+\+\_\+}!projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent}}
\subsubsection{\texorpdfstring{\+\_\+\+\_\+init\+\_\+\+\_\+()}{\_\_init\_\_()}}
{\footnotesize\ttfamily def projects.\+wizard\+\_\+of\+\_\+wikipedia.\+interactive\+\_\+retrieval.\+interactive\+\_\+retrieval.\+Interactive\+Retrieval\+Agent.\+\_\+\+\_\+init\+\_\+\+\_\+ (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{opt,  }\item[{}]{shared = {\ttfamily None} }\end{DoxyParamCaption})}



Definition at line 24 of file interactive\+\_\+retrieval.\+py.


\begin{DoxyCode}
24     \textcolor{keyword}{def }\_\_init\_\_(self, opt, shared=None):
25         super().\_\_init\_\_(opt, shared)
26         self.debug = opt[\textcolor{stringliteral}{'debug'}]
27         self.get\_unique = opt[\textcolor{stringliteral}{'get\_unique'}]
28         \textcolor{keywordflow}{if} self.get\_unique:
29             self.used\_messages = []
30         self.model\_path = os.path.join(
31             opt[\textcolor{stringliteral}{'datapath'}],
32             \textcolor{stringliteral}{'models'},
33             \textcolor{stringliteral}{'wizard\_of\_wikipedia'},
34             \textcolor{stringliteral}{'full\_dialogue\_retrieval\_model'},
35         )
36 
37         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} shared:
38             \textcolor{comment}{# Create responder}
39             self.\_set\_up\_responder(opt)
40             \textcolor{comment}{# Create retriever}
41             self.\_set\_up\_retriever(opt)
42         \textcolor{keywordflow}{else}:
43             self.opt = shared[\textcolor{stringliteral}{'opt'}]
44             self.retriever = shared[\textcolor{stringliteral}{'retriever'}]
45             self.responder = \hyperlink{namespaceparlai_1_1core_1_1agents_aa5af5dd1d2f9da491b60348d479b849f}{create\_agent\_from\_shared}(shared[\textcolor{stringliteral}{'responder\_shared\_opt'}
      ])
46             self.sent\_tok = shared[\textcolor{stringliteral}{'sent\_tok'}]
47             self.wiki\_map = shared[\textcolor{stringliteral}{'wiki\_map'}]
48 
49         self.id = \textcolor{stringliteral}{'WizardRetrievalInteractiveAgent'}
50         self.ret\_history = \{\}
51 
\end{DoxyCode}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{classprojects_1_1wizard__of__wikipedia_1_1interactive__retrieval_1_1interactive__retrieval_1_1InteractiveRetrievalAgent_a637d3bd64317b3ba691ab6eac90b4788}\label{classprojects_1_1wizard__of__wikipedia_1_1interactive__retrieval_1_1interactive__retrieval_1_1InteractiveRetrievalAgent_a637d3bd64317b3ba691ab6eac90b4788}} 
\index{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent}!act@{act}}
\index{act@{act}!projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent}}
\subsubsection{\texorpdfstring{act()}{act()}}
{\footnotesize\ttfamily def projects.\+wizard\+\_\+of\+\_\+wikipedia.\+interactive\+\_\+retrieval.\+interactive\+\_\+retrieval.\+Interactive\+Retrieval\+Agent.\+act (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line 277 of file interactive\+\_\+retrieval.\+py.


\begin{DoxyCode}
277     \textcolor{keyword}{def }act(self):
278         obs = self.observation
279         \textcolor{comment}{# choose a knowledge sentence}
280         responder\_obs = obs.copy()
281         \textcolor{keywordflow}{if} self.debug:
282             print(\textcolor{stringliteral}{'DEBUG: Responder is observing:\(\backslash\)n\{\}'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(responder\_obs))
283         self.responder.observe(responder\_obs)
284         responder\_act = self.responder.act()
285         \textcolor{keywordflow}{if} self.debug:
286             print(\textcolor{stringliteral}{'DEBUG: Responder is acting:\(\backslash\)n\{\}'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(responder\_act))
287         responder\_act.force\_set(\textcolor{stringliteral}{'id'}, \textcolor{stringliteral}{'WizardRetrievalInteractiveAgent'})
288         \textcolor{keywordflow}{if} self.get\_unique:
289             responder\_act.force\_set(\textcolor{stringliteral}{'text'}, self.get\_unique\_reply(responder\_act))
290         \textcolor{keywordflow}{return} responder\_act
291 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1wizard__of__wikipedia_1_1interactive__retrieval_1_1interactive__retrieval_1_1InteractiveRetrievalAgent_a76b3efdd3e25c94f9532fe4d67df66b3}\label{classprojects_1_1wizard__of__wikipedia_1_1interactive__retrieval_1_1interactive__retrieval_1_1InteractiveRetrievalAgent_a76b3efdd3e25c94f9532fe4d67df66b3}} 
\index{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent}!add\+\_\+cmdline\+\_\+args@{add\+\_\+cmdline\+\_\+args}}
\index{add\+\_\+cmdline\+\_\+args@{add\+\_\+cmdline\+\_\+args}!projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent}}
\subsubsection{\texorpdfstring{add\+\_\+cmdline\+\_\+args()}{add\_cmdline\_args()}}
{\footnotesize\ttfamily def projects.\+wizard\+\_\+of\+\_\+wikipedia.\+interactive\+\_\+retrieval.\+interactive\+\_\+retrieval.\+Interactive\+Retrieval\+Agent.\+add\+\_\+cmdline\+\_\+args (\begin{DoxyParamCaption}\item[{}]{argparser }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\begin{DoxyVerb}Add command-line arguments specifically for this agent.
\end{DoxyVerb}
 

Definition at line 53 of file interactive\+\_\+retrieval.\+py.


\begin{DoxyCode}
53     \textcolor{keyword}{def }\hyperlink{namespaceparlai_1_1agents_1_1drqa_1_1config_a62fdd5554f1da6be0cba185271058320}{add\_cmdline\_args}(argparser):
54         \textcolor{stringliteral}{"""}
55 \textcolor{stringliteral}{        Add command-line arguments specifically for this agent.}
56 \textcolor{stringliteral}{        """}
57         WizardTransformerRankerAgent.add\_cmdline\_args(argparser)
58         parser = argparser.add\_argument\_group(\textcolor{stringliteral}{'WizardRetrievalInteractive Arguments'})
59         parser.add\_argument(
60             \textcolor{stringliteral}{'--retriever-model-file'},
61             type=str,
62             default=\textcolor{stringliteral}{'models:wikipedia\_full/tfidf\_retriever/model'},
63         )
64         parser.add\_argument(
65             \textcolor{stringliteral}{'--responder-model-file'},
66             type=str,
67             default=\textcolor{stringliteral}{'models:wizard\_of\_wikipedia/full\_dialogue\_retrieval\_model/model'},
68         )
69         parser.add\_argument(
70             \textcolor{stringliteral}{'--get-unique'},
71             type=\textcolor{stringliteral}{'bool'},
72             default=\textcolor{keyword}{True},
73             help=\textcolor{stringliteral}{'get unique responses from the bot'},
74         )
75         parser.add\_argument(
76             \textcolor{stringliteral}{'--num-retrieved'},
77             type=int,
78             default=7,
79             help=\textcolor{stringliteral}{'how many passages to retrieve for each'} \textcolor{stringliteral}{'category'},
80         )
81         parser.add\_argument(\textcolor{stringliteral}{'--debug'}, type=\textcolor{stringliteral}{'bool'}, default=\textcolor{keyword}{False})
82         \textcolor{keywordflow}{return} parser
83 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1wizard__of__wikipedia_1_1interactive__retrieval_1_1interactive__retrieval_1_1InteractiveRetrievalAgent_a70bd3e89fcb7a8621a357e99b2291a41}\label{classprojects_1_1wizard__of__wikipedia_1_1interactive__retrieval_1_1interactive__retrieval_1_1InteractiveRetrievalAgent_a70bd3e89fcb7a8621a357e99b2291a41}} 
\index{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent}!get\+\_\+chosen\+\_\+topic\+\_\+passages@{get\+\_\+chosen\+\_\+topic\+\_\+passages}}
\index{get\+\_\+chosen\+\_\+topic\+\_\+passages@{get\+\_\+chosen\+\_\+topic\+\_\+passages}!projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent}}
\subsubsection{\texorpdfstring{get\+\_\+chosen\+\_\+topic\+\_\+passages()}{get\_chosen\_topic\_passages()}}
{\footnotesize\ttfamily def projects.\+wizard\+\_\+of\+\_\+wikipedia.\+interactive\+\_\+retrieval.\+interactive\+\_\+retrieval.\+Interactive\+Retrieval\+Agent.\+get\+\_\+chosen\+\_\+topic\+\_\+passages (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{chosen\+\_\+topic }\end{DoxyParamCaption})}



Definition at line 135 of file interactive\+\_\+retrieval.\+py.


\begin{DoxyCode}
135     \textcolor{keyword}{def }get\_chosen\_topic\_passages(self, chosen\_topic):
136         retrieved\_txt\_format = []
137         \textcolor{keywordflow}{if} chosen\_topic \textcolor{keywordflow}{in} self.wiki\_map:
138             retrieved\_txt = self.wiki\_map[chosen\_topic]
139             retrieved\_txts = retrieved\_txt.split(\textcolor{stringliteral}{'\(\backslash\)n'})
140 
141             \textcolor{keywordflow}{if} len(retrieved\_txts) > 1:
142                 combined = \textcolor{stringliteral}{' '}.join(retrieved\_txts[2:])
143                 sentences = self.sent\_tok.\hyperlink{namespaceparlai_1_1agents_1_1tfidf__retriever_1_1build__tfidf_a1fdb457e98eb4e4c26047e229686a616}{tokenize}(combined)
144                 total = 0
145                 \textcolor{keywordflow}{for} sent \textcolor{keywordflow}{in} sentences:
146                     \textcolor{keywordflow}{if} total >= 10:
147                         \textcolor{keywordflow}{break}
148                     \textcolor{keywordflow}{if} len(sent) > 0:
149                         retrieved\_txt\_format.append(\textcolor{stringliteral}{' '}.join([chosen\_topic, sent]))
150                         total += 1
151 
152         \textcolor{keywordflow}{if} len(retrieved\_txt\_format) > 0:
153             passages = \textcolor{stringliteral}{'\(\backslash\)n'}.join(retrieved\_txt\_format)
154         \textcolor{keywordflow}{else}:
155             passages = \textcolor{stringliteral}{''}
156 
157         \textcolor{keywordflow}{return} passages
158 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1wizard__of__wikipedia_1_1interactive__retrieval_1_1interactive__retrieval_1_1InteractiveRetrievalAgent_a45ed267eab50da34cd09e747e53584f6}\label{classprojects_1_1wizard__of__wikipedia_1_1interactive__retrieval_1_1interactive__retrieval_1_1InteractiveRetrievalAgent_a45ed267eab50da34cd09e747e53584f6}} 
\index{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent}!get\+\_\+passages@{get\+\_\+passages}}
\index{get\+\_\+passages@{get\+\_\+passages}!projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent}}
\subsubsection{\texorpdfstring{get\+\_\+passages()}{get\_passages()}}
{\footnotesize\ttfamily def projects.\+wizard\+\_\+of\+\_\+wikipedia.\+interactive\+\_\+retrieval.\+interactive\+\_\+retrieval.\+Interactive\+Retrieval\+Agent.\+get\+\_\+passages (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{act }\end{DoxyParamCaption})}

\begin{DoxyVerb}Format passages retrieved by taking the first paragraph of the top
`num_retrieved` passages.
\end{DoxyVerb}
 

Definition at line 159 of file interactive\+\_\+retrieval.\+py.


\begin{DoxyCode}
159     \textcolor{keyword}{def }get\_passages(self, act):
160         \textcolor{stringliteral}{"""}
161 \textcolor{stringliteral}{        Format passages retrieved by taking the first paragraph of the top}
162 \textcolor{stringliteral}{        `num\_retrieved` passages.}
163 \textcolor{stringliteral}{        """}
164         retrieved\_txt = act.get(\textcolor{stringliteral}{'text'}, \textcolor{stringliteral}{''})
165         cands = act.get(\textcolor{stringliteral}{'text\_candidates'}, [])
166         \textcolor{keywordflow}{if} len(cands) > 0:
167             retrieved\_txts = cands[: self.opt[\textcolor{stringliteral}{'num\_retrieved'}]]
168         \textcolor{keywordflow}{else}:
169             retrieved\_txts = [retrieved\_txt]
170 
171         retrieved\_txt\_format = []
172         \textcolor{keywordflow}{for} ret\_txt \textcolor{keywordflow}{in} retrieved\_txts:
173             paragraphs = ret\_txt.split(\textcolor{stringliteral}{'\(\backslash\)n'})
174             \textcolor{keywordflow}{if} len(paragraphs) > 2:
175                 sentences = self.sent\_tok.\hyperlink{namespaceparlai_1_1agents_1_1tfidf__retriever_1_1build__tfidf_a1fdb457e98eb4e4c26047e229686a616}{tokenize}(paragraphs[2])
176                 \textcolor{keywordflow}{for} sent \textcolor{keywordflow}{in} sentences:
177                     retrieved\_txt\_format.append(\textcolor{stringliteral}{' '}.join([paragraphs[0], sent]))
178 
179         \textcolor{keywordflow}{if} len(retrieved\_txt\_format) > 0:
180             passages = \textcolor{stringliteral}{'\(\backslash\)n'}.join(retrieved\_txt\_format)
181         \textcolor{keywordflow}{else}:
182             passages = \textcolor{stringliteral}{''}
183 
184         \textcolor{keywordflow}{return} passages
185 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1wizard__of__wikipedia_1_1interactive__retrieval_1_1interactive__retrieval_1_1InteractiveRetrievalAgent_a39776ea33e094881ff621df9f0f69733}\label{classprojects_1_1wizard__of__wikipedia_1_1interactive__retrieval_1_1interactive__retrieval_1_1InteractiveRetrievalAgent_a39776ea33e094881ff621df9f0f69733}} 
\index{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent}!get\+\_\+unique\+\_\+reply@{get\+\_\+unique\+\_\+reply}}
\index{get\+\_\+unique\+\_\+reply@{get\+\_\+unique\+\_\+reply}!projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent}}
\subsubsection{\texorpdfstring{get\+\_\+unique\+\_\+reply()}{get\_unique\_reply()}}
{\footnotesize\ttfamily def projects.\+wizard\+\_\+of\+\_\+wikipedia.\+interactive\+\_\+retrieval.\+interactive\+\_\+retrieval.\+Interactive\+Retrieval\+Agent.\+get\+\_\+unique\+\_\+reply (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{act }\end{DoxyParamCaption})}



Definition at line 269 of file interactive\+\_\+retrieval.\+py.


\begin{DoxyCode}
269     \textcolor{keyword}{def }get\_unique\_reply(self, act):
270         \textcolor{comment}{# iterate through text candidates until we find a reply that we}
271         \textcolor{comment}{# have not used yet}
272         \textcolor{keywordflow}{for} txt \textcolor{keywordflow}{in} act[\textcolor{stringliteral}{'text\_candidates'}]:
273             \textcolor{keywordflow}{if} txt \textcolor{keywordflow}{not} \textcolor{keywordflow}{in} self.used\_messages:
274                 self.used\_messages.append(txt)
275                 \textcolor{keywordflow}{return} txt
276 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1wizard__of__wikipedia_1_1interactive__retrieval_1_1interactive__retrieval_1_1InteractiveRetrievalAgent_ab919b6e7df181e5d64747cd11d45e085}\label{classprojects_1_1wizard__of__wikipedia_1_1interactive__retrieval_1_1interactive__retrieval_1_1InteractiveRetrievalAgent_ab919b6e7df181e5d64747cd11d45e085}} 
\index{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent}!maintain\+\_\+retrieved\+\_\+texts@{maintain\+\_\+retrieved\+\_\+texts}}
\index{maintain\+\_\+retrieved\+\_\+texts@{maintain\+\_\+retrieved\+\_\+texts}!projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent}}
\subsubsection{\texorpdfstring{maintain\+\_\+retrieved\+\_\+texts()}{maintain\_retrieved\_texts()}}
{\footnotesize\ttfamily def projects.\+wizard\+\_\+of\+\_\+wikipedia.\+interactive\+\_\+retrieval.\+interactive\+\_\+retrieval.\+Interactive\+Retrieval\+Agent.\+maintain\+\_\+retrieved\+\_\+texts (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{history,  }\item[{}]{observation }\end{DoxyParamCaption})}

\begin{DoxyVerb}Maintain texts retrieved by the retriever to mimic the set-up from the data
collection for the task.
\end{DoxyVerb}
 

Definition at line 235 of file interactive\+\_\+retrieval.\+py.


\begin{DoxyCode}
235     \textcolor{keyword}{def }maintain\_retrieved\_texts(self, history, observation):
236         \textcolor{stringliteral}{"""}
237 \textcolor{stringliteral}{        Maintain texts retrieved by the retriever to mimic the set-up from the data}
238 \textcolor{stringliteral}{        collection for the task.}
239 \textcolor{stringliteral}{        """}
240         \textcolor{keywordflow}{if} \textcolor{stringliteral}{'chosen\_topic'} \textcolor{keywordflow}{not} \textcolor{keywordflow}{in} history:
241             history[\textcolor{stringliteral}{'episode\_done'}] = \textcolor{keyword}{False}
242             history[\textcolor{stringliteral}{'chosen\_topic'}] = \textcolor{stringliteral}{''}
243             history[\textcolor{stringliteral}{'wizard'}] = \textcolor{stringliteral}{''}
244             history[\textcolor{stringliteral}{'apprentice'}] = \textcolor{stringliteral}{''}
245 
246         \textcolor{keywordflow}{if} history[\textcolor{stringliteral}{'episode\_done'}]:
247             history[\textcolor{stringliteral}{'chosen\_topic'}] = \textcolor{stringliteral}{''}
248             history[\textcolor{stringliteral}{'wizard'}] = \textcolor{stringliteral}{''}
249             history[\textcolor{stringliteral}{'apprentice'}] = \textcolor{stringliteral}{''}
250             \textcolor{keywordflow}{if} \textcolor{stringliteral}{'next\_wizard'} \textcolor{keywordflow}{in} history:
251                 del history[\textcolor{stringliteral}{'next\_wizard'}]
252             history[\textcolor{stringliteral}{'episode\_done'}] = \textcolor{keyword}{False}
253 
254         \textcolor{comment}{# save chosen topic}
255         \textcolor{keywordflow}{if} \textcolor{stringliteral}{'chosen\_topic'} \textcolor{keywordflow}{in} observation:
256             history[\textcolor{stringliteral}{'chosen\_topic'}] = observation[\textcolor{stringliteral}{'chosen\_topic'}]
257         \textcolor{keywordflow}{if} \textcolor{stringliteral}{'text'} \textcolor{keywordflow}{in} observation:
258             history[\textcolor{stringliteral}{'apprentice'}] = observation[\textcolor{stringliteral}{'text'}]
259         \textcolor{keywordflow}{if} \textcolor{stringliteral}{'next\_wizard'} \textcolor{keywordflow}{in} history:
260             history[\textcolor{stringliteral}{'wizard'}] = history[\textcolor{stringliteral}{'next\_wizard'}]
261         \textcolor{comment}{# save last thing wizard said (for next time)}
262         \textcolor{keywordflow}{if} \textcolor{stringliteral}{'labels'} \textcolor{keywordflow}{in} observation:
263             history[\textcolor{stringliteral}{'next\_wizard'}] = observation[\textcolor{stringliteral}{'labels'}][0]
264         \textcolor{keywordflow}{elif} \textcolor{stringliteral}{'eval\_labels'} \textcolor{keywordflow}{in} observation:
265             history[\textcolor{stringliteral}{'next\_wizard'}] = observation[\textcolor{stringliteral}{'eval\_labels'}][0]
266 
267         history[\textcolor{stringliteral}{'episode\_done'}] = observation[\textcolor{stringliteral}{'episode\_done'}]
268 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1wizard__of__wikipedia_1_1interactive__retrieval_1_1interactive__retrieval_1_1InteractiveRetrievalAgent_a5c8a1f72de1be0d9d6b906706040a3cd}\label{classprojects_1_1wizard__of__wikipedia_1_1interactive__retrieval_1_1interactive__retrieval_1_1InteractiveRetrievalAgent_a5c8a1f72de1be0d9d6b906706040a3cd}} 
\index{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent}!observe@{observe}}
\index{observe@{observe}!projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent}}
\subsubsection{\texorpdfstring{observe()}{observe()}}
{\footnotesize\ttfamily def projects.\+wizard\+\_\+of\+\_\+wikipedia.\+interactive\+\_\+retrieval.\+interactive\+\_\+retrieval.\+Interactive\+Retrieval\+Agent.\+observe (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{observation }\end{DoxyParamCaption})}



Definition at line 226 of file interactive\+\_\+retrieval.\+py.


\begin{DoxyCode}
226     \textcolor{keyword}{def }observe(self, observation):
227         obs = observation.copy()
228         self.maintain\_retrieved\_texts(self.ret\_history, obs)
229         \textcolor{keywordflow}{if} self.debug:
230             print(\textcolor{stringliteral}{'DEBUG: Retriever history:\(\backslash\)n\{\}'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(self.ret\_history))
231         responder\_knowledge = self.retriever\_act(self.ret\_history)
232         obs[\textcolor{stringliteral}{'knowledge'}] = responder\_knowledge
233         self.observation = obs
234 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1wizard__of__wikipedia_1_1interactive__retrieval_1_1interactive__retrieval_1_1InteractiveRetrievalAgent_a7af862aaf2f4a4805e44021fc1b693fa}\label{classprojects_1_1wizard__of__wikipedia_1_1interactive__retrieval_1_1interactive__retrieval_1_1InteractiveRetrievalAgent_a7af862aaf2f4a4805e44021fc1b693fa}} 
\index{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent}!retriever\+\_\+act@{retriever\+\_\+act}}
\index{retriever\+\_\+act@{retriever\+\_\+act}!projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent}}
\subsubsection{\texorpdfstring{retriever\+\_\+act()}{retriever\_act()}}
{\footnotesize\ttfamily def projects.\+wizard\+\_\+of\+\_\+wikipedia.\+interactive\+\_\+retrieval.\+interactive\+\_\+retrieval.\+Interactive\+Retrieval\+Agent.\+retriever\+\_\+act (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{history }\end{DoxyParamCaption})}

\begin{DoxyVerb}Combines and formats texts retrieved by the TFIDF retriever for the chosen
topic, the last thing the wizard said, and the last thing the apprentice said.
\end{DoxyVerb}
 

Definition at line 186 of file interactive\+\_\+retrieval.\+py.


\begin{DoxyCode}
186     \textcolor{keyword}{def }retriever\_act(self, history):
187         \textcolor{stringliteral}{"""}
188 \textcolor{stringliteral}{        Combines and formats texts retrieved by the TFIDF retriever for the chosen}
189 \textcolor{stringliteral}{        topic, the last thing the wizard said, and the last thing the apprentice said.}
190 \textcolor{stringliteral}{        """}
191         \textcolor{comment}{# retrieve on chosen topic}
192         chosen\_topic\_txts = \textcolor{keywordtype}{None}
193         \textcolor{keywordflow}{if} self.ret\_history.get(\textcolor{stringliteral}{'chosen\_topic'}):
194             chosen\_topic\_txts = self.get\_chosen\_topic\_passages(
195                 self.ret\_history[\textcolor{stringliteral}{'chosen\_topic'}]
196             )
197 
198         \textcolor{comment}{# retrieve on apprentice}
199         apprentice\_txts = \textcolor{keywordtype}{None}
200         \textcolor{keywordflow}{if} self.ret\_history.get(\textcolor{stringliteral}{'apprentice'}):
201             apprentice\_act = \{
202                 \textcolor{stringliteral}{'text'}: self.ret\_history[\textcolor{stringliteral}{'apprentice'}],
203                 \textcolor{stringliteral}{'episode\_done'}: \textcolor{keyword}{True},
204             \}
205             self.retriever.observe(apprentice\_act)
206             apprentice\_txts = self.get\_passages(self.retriever.act())
207 
208         \textcolor{comment}{# retrieve on wizard}
209         wizard\_txts = \textcolor{keywordtype}{None}
210         \textcolor{keywordflow}{if} self.ret\_history.get(\textcolor{stringliteral}{'wizard'}):
211             wizard\_act = \{\textcolor{stringliteral}{'text'}: self.ret\_history[\textcolor{stringliteral}{'wizard'}], \textcolor{stringliteral}{'episode\_done'}: \textcolor{keyword}{True}\}
212             self.retriever.observe(wizard\_act)
213             wizard\_txts = self.get\_passages(self.retriever.act())
214 
215         \textcolor{comment}{# combine everything}
216         combined\_txt = \textcolor{stringliteral}{''}
217         \textcolor{keywordflow}{if} chosen\_topic\_txts:
218             combined\_txt += chosen\_topic\_txts
219         \textcolor{keywordflow}{if} wizard\_txts:
220             combined\_txt += \textcolor{stringliteral}{'\(\backslash\)n'} + wizard\_txts
221         \textcolor{keywordflow}{if} apprentice\_txts:
222             combined\_txt += \textcolor{stringliteral}{'\(\backslash\)n'} + apprentice\_txts
223 
224         \textcolor{keywordflow}{return} combined\_txt
225 
\end{DoxyCode}
\mbox{\Hypertarget{classprojects_1_1wizard__of__wikipedia_1_1interactive__retrieval_1_1interactive__retrieval_1_1InteractiveRetrievalAgent_a93125f9d9285d48730fda4545b642f00}\label{classprojects_1_1wizard__of__wikipedia_1_1interactive__retrieval_1_1interactive__retrieval_1_1InteractiveRetrievalAgent_a93125f9d9285d48730fda4545b642f00}} 
\index{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent}!share@{share}}
\index{share@{share}!projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent}}
\subsubsection{\texorpdfstring{share()}{share()}}
{\footnotesize\ttfamily def projects.\+wizard\+\_\+of\+\_\+wikipedia.\+interactive\+\_\+retrieval.\+interactive\+\_\+retrieval.\+Interactive\+Retrieval\+Agent.\+share (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}

\begin{DoxyVerb}Share internal saved_model between parent and child instances.
\end{DoxyVerb}
 

Definition at line 292 of file interactive\+\_\+retrieval.\+py.


\begin{DoxyCode}
292     \textcolor{keyword}{def }share(self):
293         \textcolor{stringliteral}{"""}
294 \textcolor{stringliteral}{        Share internal saved\_model between parent and child instances.}
295 \textcolor{stringliteral}{        """}
296         shared = super().share()
297         shared[\textcolor{stringliteral}{'opt'}] = self.opt
298         shared[\textcolor{stringliteral}{'retriever'}] = self.retriever
299         shared[\textcolor{stringliteral}{'responder\_shared\_opt'}] = self.responder.share()
300         shared[\textcolor{stringliteral}{'sent\_tok'}] = self.sent\_tok
301         shared[\textcolor{stringliteral}{'wiki\_map'}] = self.wiki\_map
302 
303         \textcolor{keywordflow}{return} shared
304 \end{DoxyCode}


\subsection{Member Data Documentation}
\mbox{\Hypertarget{classprojects_1_1wizard__of__wikipedia_1_1interactive__retrieval_1_1interactive__retrieval_1_1InteractiveRetrievalAgent_a49d17f61258385ee78e943dfa72bd5c9}\label{classprojects_1_1wizard__of__wikipedia_1_1interactive__retrieval_1_1interactive__retrieval_1_1InteractiveRetrievalAgent_a49d17f61258385ee78e943dfa72bd5c9}} 
\index{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent}!debug@{debug}}
\index{debug@{debug}!projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent}}
\subsubsection{\texorpdfstring{debug}{debug}}
{\footnotesize\ttfamily projects.\+wizard\+\_\+of\+\_\+wikipedia.\+interactive\+\_\+retrieval.\+interactive\+\_\+retrieval.\+Interactive\+Retrieval\+Agent.\+debug}



Definition at line 26 of file interactive\+\_\+retrieval.\+py.

\mbox{\Hypertarget{classprojects_1_1wizard__of__wikipedia_1_1interactive__retrieval_1_1interactive__retrieval_1_1InteractiveRetrievalAgent_a67c9839f44f9b10347733f2bdae216f7}\label{classprojects_1_1wizard__of__wikipedia_1_1interactive__retrieval_1_1interactive__retrieval_1_1InteractiveRetrievalAgent_a67c9839f44f9b10347733f2bdae216f7}} 
\index{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent}!get\+\_\+unique@{get\+\_\+unique}}
\index{get\+\_\+unique@{get\+\_\+unique}!projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent}}
\subsubsection{\texorpdfstring{get\+\_\+unique}{get\_unique}}
{\footnotesize\ttfamily projects.\+wizard\+\_\+of\+\_\+wikipedia.\+interactive\+\_\+retrieval.\+interactive\+\_\+retrieval.\+Interactive\+Retrieval\+Agent.\+get\+\_\+unique}



Definition at line 27 of file interactive\+\_\+retrieval.\+py.

\mbox{\Hypertarget{classprojects_1_1wizard__of__wikipedia_1_1interactive__retrieval_1_1interactive__retrieval_1_1InteractiveRetrievalAgent_a6ba1b1a85b9ab7742f1e0d768135f001}\label{classprojects_1_1wizard__of__wikipedia_1_1interactive__retrieval_1_1interactive__retrieval_1_1InteractiveRetrievalAgent_a6ba1b1a85b9ab7742f1e0d768135f001}} 
\index{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent}!id@{id}}
\index{id@{id}!projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent}}
\subsubsection{\texorpdfstring{id}{id}}
{\footnotesize\ttfamily projects.\+wizard\+\_\+of\+\_\+wikipedia.\+interactive\+\_\+retrieval.\+interactive\+\_\+retrieval.\+Interactive\+Retrieval\+Agent.\+id}



Definition at line 49 of file interactive\+\_\+retrieval.\+py.

\mbox{\Hypertarget{classprojects_1_1wizard__of__wikipedia_1_1interactive__retrieval_1_1interactive__retrieval_1_1InteractiveRetrievalAgent_a21b5d58b1029bcc5133c603cfee9b674}\label{classprojects_1_1wizard__of__wikipedia_1_1interactive__retrieval_1_1interactive__retrieval_1_1InteractiveRetrievalAgent_a21b5d58b1029bcc5133c603cfee9b674}} 
\index{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent}!model\+\_\+path@{model\+\_\+path}}
\index{model\+\_\+path@{model\+\_\+path}!projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent}}
\subsubsection{\texorpdfstring{model\+\_\+path}{model\_path}}
{\footnotesize\ttfamily projects.\+wizard\+\_\+of\+\_\+wikipedia.\+interactive\+\_\+retrieval.\+interactive\+\_\+retrieval.\+Interactive\+Retrieval\+Agent.\+model\+\_\+path}



Definition at line 30 of file interactive\+\_\+retrieval.\+py.

\mbox{\Hypertarget{classprojects_1_1wizard__of__wikipedia_1_1interactive__retrieval_1_1interactive__retrieval_1_1InteractiveRetrievalAgent_aa5c76d92b2c00386d6795b2d70da7fc5}\label{classprojects_1_1wizard__of__wikipedia_1_1interactive__retrieval_1_1interactive__retrieval_1_1InteractiveRetrievalAgent_aa5c76d92b2c00386d6795b2d70da7fc5}} 
\index{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent}!observation@{observation}}
\index{observation@{observation}!projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent}}
\subsubsection{\texorpdfstring{observation}{observation}}
{\footnotesize\ttfamily projects.\+wizard\+\_\+of\+\_\+wikipedia.\+interactive\+\_\+retrieval.\+interactive\+\_\+retrieval.\+Interactive\+Retrieval\+Agent.\+observation}



Definition at line 233 of file interactive\+\_\+retrieval.\+py.

\mbox{\Hypertarget{classprojects_1_1wizard__of__wikipedia_1_1interactive__retrieval_1_1interactive__retrieval_1_1InteractiveRetrievalAgent_aeddfbf61ebb79aa03c944fe46885fb19}\label{classprojects_1_1wizard__of__wikipedia_1_1interactive__retrieval_1_1interactive__retrieval_1_1InteractiveRetrievalAgent_aeddfbf61ebb79aa03c944fe46885fb19}} 
\index{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent}!opt@{opt}}
\index{opt@{opt}!projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent}}
\subsubsection{\texorpdfstring{opt}{opt}}
{\footnotesize\ttfamily projects.\+wizard\+\_\+of\+\_\+wikipedia.\+interactive\+\_\+retrieval.\+interactive\+\_\+retrieval.\+Interactive\+Retrieval\+Agent.\+opt}



Definition at line 43 of file interactive\+\_\+retrieval.\+py.

\mbox{\Hypertarget{classprojects_1_1wizard__of__wikipedia_1_1interactive__retrieval_1_1interactive__retrieval_1_1InteractiveRetrievalAgent_ab56f2e04a16ee757afb025435eca2ff3}\label{classprojects_1_1wizard__of__wikipedia_1_1interactive__retrieval_1_1interactive__retrieval_1_1InteractiveRetrievalAgent_ab56f2e04a16ee757afb025435eca2ff3}} 
\index{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent}!responder@{responder}}
\index{responder@{responder}!projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent}}
\subsubsection{\texorpdfstring{responder}{responder}}
{\footnotesize\ttfamily projects.\+wizard\+\_\+of\+\_\+wikipedia.\+interactive\+\_\+retrieval.\+interactive\+\_\+retrieval.\+Interactive\+Retrieval\+Agent.\+responder}



Definition at line 45 of file interactive\+\_\+retrieval.\+py.

\mbox{\Hypertarget{classprojects_1_1wizard__of__wikipedia_1_1interactive__retrieval_1_1interactive__retrieval_1_1InteractiveRetrievalAgent_aca2f3b6e5620f438698eefe737f325f0}\label{classprojects_1_1wizard__of__wikipedia_1_1interactive__retrieval_1_1interactive__retrieval_1_1InteractiveRetrievalAgent_aca2f3b6e5620f438698eefe737f325f0}} 
\index{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent}!ret\+\_\+history@{ret\+\_\+history}}
\index{ret\+\_\+history@{ret\+\_\+history}!projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent}}
\subsubsection{\texorpdfstring{ret\+\_\+history}{ret\_history}}
{\footnotesize\ttfamily projects.\+wizard\+\_\+of\+\_\+wikipedia.\+interactive\+\_\+retrieval.\+interactive\+\_\+retrieval.\+Interactive\+Retrieval\+Agent.\+ret\+\_\+history}



Definition at line 50 of file interactive\+\_\+retrieval.\+py.

\mbox{\Hypertarget{classprojects_1_1wizard__of__wikipedia_1_1interactive__retrieval_1_1interactive__retrieval_1_1InteractiveRetrievalAgent_a9fbbfa3efc1bb5a871af12dbd8408b6b}\label{classprojects_1_1wizard__of__wikipedia_1_1interactive__retrieval_1_1interactive__retrieval_1_1InteractiveRetrievalAgent_a9fbbfa3efc1bb5a871af12dbd8408b6b}} 
\index{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent}!retriever@{retriever}}
\index{retriever@{retriever}!projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent}}
\subsubsection{\texorpdfstring{retriever}{retriever}}
{\footnotesize\ttfamily projects.\+wizard\+\_\+of\+\_\+wikipedia.\+interactive\+\_\+retrieval.\+interactive\+\_\+retrieval.\+Interactive\+Retrieval\+Agent.\+retriever}



Definition at line 44 of file interactive\+\_\+retrieval.\+py.

\mbox{\Hypertarget{classprojects_1_1wizard__of__wikipedia_1_1interactive__retrieval_1_1interactive__retrieval_1_1InteractiveRetrievalAgent_a481a11fede490a8e05ff5e42286d1a8e}\label{classprojects_1_1wizard__of__wikipedia_1_1interactive__retrieval_1_1interactive__retrieval_1_1InteractiveRetrievalAgent_a481a11fede490a8e05ff5e42286d1a8e}} 
\index{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent}!sent\+\_\+tok@{sent\+\_\+tok}}
\index{sent\+\_\+tok@{sent\+\_\+tok}!projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent}}
\subsubsection{\texorpdfstring{sent\+\_\+tok}{sent\_tok}}
{\footnotesize\ttfamily projects.\+wizard\+\_\+of\+\_\+wikipedia.\+interactive\+\_\+retrieval.\+interactive\+\_\+retrieval.\+Interactive\+Retrieval\+Agent.\+sent\+\_\+tok}



Definition at line 46 of file interactive\+\_\+retrieval.\+py.

\mbox{\Hypertarget{classprojects_1_1wizard__of__wikipedia_1_1interactive__retrieval_1_1interactive__retrieval_1_1InteractiveRetrievalAgent_a63832cad53cad2358499eb3d09636877}\label{classprojects_1_1wizard__of__wikipedia_1_1interactive__retrieval_1_1interactive__retrieval_1_1InteractiveRetrievalAgent_a63832cad53cad2358499eb3d09636877}} 
\index{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent}!used\+\_\+messages@{used\+\_\+messages}}
\index{used\+\_\+messages@{used\+\_\+messages}!projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent}}
\subsubsection{\texorpdfstring{used\+\_\+messages}{used\_messages}}
{\footnotesize\ttfamily projects.\+wizard\+\_\+of\+\_\+wikipedia.\+interactive\+\_\+retrieval.\+interactive\+\_\+retrieval.\+Interactive\+Retrieval\+Agent.\+used\+\_\+messages}



Definition at line 29 of file interactive\+\_\+retrieval.\+py.

\mbox{\Hypertarget{classprojects_1_1wizard__of__wikipedia_1_1interactive__retrieval_1_1interactive__retrieval_1_1InteractiveRetrievalAgent_a181eaf22e174a0f82cd7cf1d2834fbec}\label{classprojects_1_1wizard__of__wikipedia_1_1interactive__retrieval_1_1interactive__retrieval_1_1InteractiveRetrievalAgent_a181eaf22e174a0f82cd7cf1d2834fbec}} 
\index{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent}!wiki\+\_\+map@{wiki\+\_\+map}}
\index{wiki\+\_\+map@{wiki\+\_\+map}!projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent@{projects\+::wizard\+\_\+of\+\_\+wikipedia\+::interactive\+\_\+retrieval\+::interactive\+\_\+retrieval\+::\+Interactive\+Retrieval\+Agent}}
\subsubsection{\texorpdfstring{wiki\+\_\+map}{wiki\_map}}
{\footnotesize\ttfamily projects.\+wizard\+\_\+of\+\_\+wikipedia.\+interactive\+\_\+retrieval.\+interactive\+\_\+retrieval.\+Interactive\+Retrieval\+Agent.\+wiki\+\_\+map}



Definition at line 47 of file interactive\+\_\+retrieval.\+py.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
projects/wizard\+\_\+of\+\_\+wikipedia/interactive\+\_\+retrieval/\hyperlink{interactive__retrieval_8py}{interactive\+\_\+retrieval.\+py}\end{DoxyCompactItemize}
