\hypertarget{classtest__wizard_1_1TestWizardModel}{}\section{test\+\_\+wizard.\+Test\+Wizard\+Model Class Reference}
\label{classtest__wizard_1_1TestWizardModel}\index{test\+\_\+wizard.\+Test\+Wizard\+Model@{test\+\_\+wizard.\+Test\+Wizard\+Model}}


Inheritance diagram for test\+\_\+wizard.\+Test\+Wizard\+Model\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=226pt]{d9/d10/classtest__wizard_1_1TestWizardModel__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for test\+\_\+wizard.\+Test\+Wizard\+Model\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=226pt]{da/d03/classtest__wizard_1_1TestWizardModel__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{classtest__wizard_1_1TestWizardModel_a2b3661d3b4129ecb38ac3c5fe47232e1}{set\+Up\+Class} (cls)
\item 
def \hyperlink{classtest__wizard_1_1TestWizardModel_a25fdc3cdc736bc273eaeed0019dfaf5b}{test\+\_\+end2end} (self)
\item 
def \hyperlink{classtest__wizard_1_1TestWizardModel_a31b902bf6fff3ccfc8fe52228c2fc20f}{test\+\_\+retrieval} (self)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
\begin{DoxyVerb}Checks that pre-trained Wizard models give the correct results.
\end{DoxyVerb}
 

Definition at line 36 of file test\+\_\+wizard.\+py.



\subsection{Member Function Documentation}
\mbox{\Hypertarget{classtest__wizard_1_1TestWizardModel_a2b3661d3b4129ecb38ac3c5fe47232e1}\label{classtest__wizard_1_1TestWizardModel_a2b3661d3b4129ecb38ac3c5fe47232e1}} 
\index{test\+\_\+wizard\+::\+Test\+Wizard\+Model@{test\+\_\+wizard\+::\+Test\+Wizard\+Model}!set\+Up\+Class@{set\+Up\+Class}}
\index{set\+Up\+Class@{set\+Up\+Class}!test\+\_\+wizard\+::\+Test\+Wizard\+Model@{test\+\_\+wizard\+::\+Test\+Wizard\+Model}}
\subsubsection{\texorpdfstring{set\+Up\+Class()}{setUpClass()}}
{\footnotesize\ttfamily def test\+\_\+wizard.\+Test\+Wizard\+Model.\+set\+Up\+Class (\begin{DoxyParamCaption}\item[{}]{cls }\end{DoxyParamCaption})}



Definition at line 42 of file test\+\_\+wizard.\+py.


\begin{DoxyCode}
42     \textcolor{keyword}{def }setUpClass(cls):
43         \textcolor{comment}{# go ahead and download things here}
44         with testing\_utils.capture\_output():
45             parser = display\_data.setup\_args()
46             parser.set\_defaults(**END2END\_OPTIONS)
47             opt = parser.parse\_args(print\_args=\textcolor{keyword}{False})
48             opt[\textcolor{stringliteral}{'num\_examples'}] = 1
49             display\_data.display\_data(opt)
50 
\end{DoxyCode}
\mbox{\Hypertarget{classtest__wizard_1_1TestWizardModel_a25fdc3cdc736bc273eaeed0019dfaf5b}\label{classtest__wizard_1_1TestWizardModel_a25fdc3cdc736bc273eaeed0019dfaf5b}} 
\index{test\+\_\+wizard\+::\+Test\+Wizard\+Model@{test\+\_\+wizard\+::\+Test\+Wizard\+Model}!test\+\_\+end2end@{test\+\_\+end2end}}
\index{test\+\_\+end2end@{test\+\_\+end2end}!test\+\_\+wizard\+::\+Test\+Wizard\+Model@{test\+\_\+wizard\+::\+Test\+Wizard\+Model}}
\subsubsection{\texorpdfstring{test\+\_\+end2end()}{test\_end2end()}}
{\footnotesize\ttfamily def test\+\_\+wizard.\+Test\+Wizard\+Model.\+test\+\_\+end2end (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line 51 of file test\+\_\+wizard.\+py.


\begin{DoxyCode}
51     \textcolor{keyword}{def }test\_end2end(self):
52         stdout, valid, \_ = testing\_utils.eval\_model(END2END\_OPTIONS)
53         self.assertEqual(
54             valid[\textcolor{stringliteral}{'ppl'}], 61.21, \textcolor{stringliteral}{'valid ppl = \{\}\(\backslash\)nLOG:\(\backslash\)n\{\}'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(valid[\textcolor{stringliteral}{'ppl'}], stdout)
55         )
56         self.assertEqual(
57             valid[\textcolor{stringliteral}{'f1'}], 0.1717, \textcolor{stringliteral}{'valid f1 = \{\}\(\backslash\)nLOG:\(\backslash\)n\{\}'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(valid[\textcolor{stringliteral}{'f1'}], stdout)
58         )
59         self.assertGreaterEqual(
60             valid[\textcolor{stringliteral}{'know\_acc'}],
61             0.2201,
62             \textcolor{stringliteral}{'valid know\_acc = \{\}\(\backslash\)nLOG:\(\backslash\)n\{\}'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(valid[\textcolor{stringliteral}{'know\_acc'}], stdout),
63         )
64 
\end{DoxyCode}
\mbox{\Hypertarget{classtest__wizard_1_1TestWizardModel_a31b902bf6fff3ccfc8fe52228c2fc20f}\label{classtest__wizard_1_1TestWizardModel_a31b902bf6fff3ccfc8fe52228c2fc20f}} 
\index{test\+\_\+wizard\+::\+Test\+Wizard\+Model@{test\+\_\+wizard\+::\+Test\+Wizard\+Model}!test\+\_\+retrieval@{test\+\_\+retrieval}}
\index{test\+\_\+retrieval@{test\+\_\+retrieval}!test\+\_\+wizard\+::\+Test\+Wizard\+Model@{test\+\_\+wizard\+::\+Test\+Wizard\+Model}}
\subsubsection{\texorpdfstring{test\+\_\+retrieval()}{test\_retrieval()}}
{\footnotesize\ttfamily def test\+\_\+wizard.\+Test\+Wizard\+Model.\+test\+\_\+retrieval (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line 65 of file test\+\_\+wizard.\+py.


\begin{DoxyCode}
65     \textcolor{keyword}{def }test\_retrieval(self):
66         stdout, \_, test = testing\_utils.eval\_model(RETRIEVAL\_OPTIONS)
67         self.assertGreaterEqual(
68             test[\textcolor{stringliteral}{'accuracy'}],
69             0.86,
70             \textcolor{stringliteral}{'test acc = \{\}\(\backslash\)nLOG:\(\backslash\)n\{\}'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(test[\textcolor{stringliteral}{'accuracy'}], stdout),
71         )
72         self.assertGreaterEqual(
73             test[\textcolor{stringliteral}{'hits@5'}],
74             0.98,
75             \textcolor{stringliteral}{'test hits@5 = \{\}\(\backslash\)nLOG:\(\backslash\)n\{\}'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(test[\textcolor{stringliteral}{'hits@5'}], stdout),
76         )
77         self.assertGreaterEqual(
78             test[\textcolor{stringliteral}{'hits@10'}],
79             0.99,
80             \textcolor{stringliteral}{'test hits@10 = \{\}\(\backslash\)nLOG:\(\backslash\)n\{\}'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(test[\textcolor{stringliteral}{'hits@10'}], stdout),
81         )
82 
83 
\end{DoxyCode}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
tests/nightly/gpu/\hyperlink{test__wizard_8py}{test\+\_\+wizard.\+py}\end{DoxyCompactItemize}
