\hypertarget{classigc__evals_1_1worlds_1_1IGCExampleGenerator}{}\section{igc\+\_\+evals.\+worlds.\+I\+G\+C\+Example\+Generator Class Reference}
\label{classigc__evals_1_1worlds_1_1IGCExampleGenerator}\index{igc\+\_\+evals.\+worlds.\+I\+G\+C\+Example\+Generator@{igc\+\_\+evals.\+worlds.\+I\+G\+C\+Example\+Generator}}


Inheritance diagram for igc\+\_\+evals.\+worlds.\+I\+G\+C\+Example\+Generator\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=229pt]{d9/d37/classigc__evals_1_1worlds_1_1IGCExampleGenerator__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for igc\+\_\+evals.\+worlds.\+I\+G\+C\+Example\+Generator\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=229pt]{da/df6/classigc__evals_1_1worlds_1_1IGCExampleGenerator__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{classigc__evals_1_1worlds_1_1IGCExampleGenerator_a44d9772a080f6ec923cdd13392a47f5e}{\+\_\+\+\_\+init\+\_\+\+\_\+} (self, opt)
\item 
def \hyperlink{classigc__evals_1_1worlds_1_1IGCExampleGenerator_aa0801aa3a53c7fd57a759c2080936174}{add\+\_\+idx\+\_\+stack} (self)
\item 
def \hyperlink{classigc__evals_1_1worlds_1_1IGCExampleGenerator_a68420b6b80ae5d3a8825302359371ed5}{pop\+\_\+example} (self)
\item 
def \hyperlink{classigc__evals_1_1worlds_1_1IGCExampleGenerator_a34dc6ef46a9ba8a1c72c8b674ff444b9}{push\+\_\+example} (self, idx)
\item 
def \hyperlink{classigc__evals_1_1worlds_1_1IGCExampleGenerator_a3f787da040d9b83d9c857b8ef65d36eb}{save\+\_\+idx\+\_\+stack} (self)
\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classigc__evals_1_1worlds_1_1IGCExampleGenerator_aa309ee59a607d747c0f9868951ecba0a}{examples\+\_\+idx\+\_\+stack\+\_\+path}
\item 
\hyperlink{classigc__evals_1_1worlds_1_1IGCExampleGenerator_ab21dfe02e8b60d4e37e25b8d942c4b61}{data}
\item 
\hyperlink{classigc__evals_1_1worlds_1_1IGCExampleGenerator_ac091cb764c64196d922d65d030f6ec57}{idx\+\_\+stack}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
\begin{DoxyVerb}Retrieve Example from Comment Battle Dataset.
\end{DoxyVerb}
 

Definition at line 56 of file worlds.\+py.



\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classigc__evals_1_1worlds_1_1IGCExampleGenerator_a44d9772a080f6ec923cdd13392a47f5e}\label{classigc__evals_1_1worlds_1_1IGCExampleGenerator_a44d9772a080f6ec923cdd13392a47f5e}} 
\index{igc\+\_\+evals\+::worlds\+::\+I\+G\+C\+Example\+Generator@{igc\+\_\+evals\+::worlds\+::\+I\+G\+C\+Example\+Generator}!\+\_\+\+\_\+init\+\_\+\+\_\+@{\+\_\+\+\_\+init\+\_\+\+\_\+}}
\index{\+\_\+\+\_\+init\+\_\+\+\_\+@{\+\_\+\+\_\+init\+\_\+\+\_\+}!igc\+\_\+evals\+::worlds\+::\+I\+G\+C\+Example\+Generator@{igc\+\_\+evals\+::worlds\+::\+I\+G\+C\+Example\+Generator}}
\subsubsection{\texorpdfstring{\+\_\+\+\_\+init\+\_\+\+\_\+()}{\_\_init\_\_()}}
{\footnotesize\ttfamily def igc\+\_\+evals.\+worlds.\+I\+G\+C\+Example\+Generator.\+\_\+\+\_\+init\+\_\+\+\_\+ (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{opt }\end{DoxyParamCaption})}



Definition at line 61 of file worlds.\+py.


\begin{DoxyCode}
61     \textcolor{keyword}{def }\_\_init\_\_(self, opt):
62         handle = \textcolor{stringliteral}{'./examples\_stack\{\}\{\}.pkl'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(
63             \textcolor{stringliteral}{'\_sandbox'} \textcolor{keywordflow}{if} opt[\textcolor{stringliteral}{'is\_sandbox'}] \textcolor{keywordflow}{else} \textcolor{stringliteral}{'\_'}, opt[\textcolor{stringliteral}{'dialog\_round'}]
64         )
65         self.examples\_idx\_stack\_path = os.path.join(os.getcwd(), handle)
66         data\_path = opt.get(\textcolor{stringliteral}{'eval\_data\_path'})
67         \textcolor{keywordflow}{if} data\_path != \textcolor{stringliteral}{''}:
68             with open(data\_path) \textcolor{keyword}{as} f:
69                 self.data = json.load(f)
70         \textcolor{keywordflow}{else}:
71             self.data = \{123: demo\_example\}
72 
73         \textcolor{keywordflow}{if} os.path.exists(self.examples\_idx\_stack\_path):
74             with open(self.examples\_idx\_stack\_path, \textcolor{stringliteral}{'rb'}) \textcolor{keyword}{as} handle:
75                 self.idx\_stack = pickle.load(handle)
76         \textcolor{keywordflow}{else}:
77             self.idx\_stack = []
78             self.add\_idx\_stack()
79             self.save\_idx\_stack()
80 
\end{DoxyCode}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{classigc__evals_1_1worlds_1_1IGCExampleGenerator_aa0801aa3a53c7fd57a759c2080936174}\label{classigc__evals_1_1worlds_1_1IGCExampleGenerator_aa0801aa3a53c7fd57a759c2080936174}} 
\index{igc\+\_\+evals\+::worlds\+::\+I\+G\+C\+Example\+Generator@{igc\+\_\+evals\+::worlds\+::\+I\+G\+C\+Example\+Generator}!add\+\_\+idx\+\_\+stack@{add\+\_\+idx\+\_\+stack}}
\index{add\+\_\+idx\+\_\+stack@{add\+\_\+idx\+\_\+stack}!igc\+\_\+evals\+::worlds\+::\+I\+G\+C\+Example\+Generator@{igc\+\_\+evals\+::worlds\+::\+I\+G\+C\+Example\+Generator}}
\subsubsection{\texorpdfstring{add\+\_\+idx\+\_\+stack()}{add\_idx\_stack()}}
{\footnotesize\ttfamily def igc\+\_\+evals.\+worlds.\+I\+G\+C\+Example\+Generator.\+add\+\_\+idx\+\_\+stack (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line 81 of file worlds.\+py.


\begin{DoxyCode}
81     \textcolor{keyword}{def }add\_idx\_stack(self):
82         stack = list(self.data.keys())
83         random.seed()
84         random.shuffle(stack)
85         self.idx\_stack = stack + self.idx\_stack
86 
\end{DoxyCode}
\mbox{\Hypertarget{classigc__evals_1_1worlds_1_1IGCExampleGenerator_a68420b6b80ae5d3a8825302359371ed5}\label{classigc__evals_1_1worlds_1_1IGCExampleGenerator_a68420b6b80ae5d3a8825302359371ed5}} 
\index{igc\+\_\+evals\+::worlds\+::\+I\+G\+C\+Example\+Generator@{igc\+\_\+evals\+::worlds\+::\+I\+G\+C\+Example\+Generator}!pop\+\_\+example@{pop\+\_\+example}}
\index{pop\+\_\+example@{pop\+\_\+example}!igc\+\_\+evals\+::worlds\+::\+I\+G\+C\+Example\+Generator@{igc\+\_\+evals\+::worlds\+::\+I\+G\+C\+Example\+Generator}}
\subsubsection{\texorpdfstring{pop\+\_\+example()}{pop\_example()}}
{\footnotesize\ttfamily def igc\+\_\+evals.\+worlds.\+I\+G\+C\+Example\+Generator.\+pop\+\_\+example (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line 87 of file worlds.\+py.


\begin{DoxyCode}
87     \textcolor{keyword}{def }pop\_example(self):
88         \textcolor{keywordflow}{if} len(self.idx\_stack) == 0:
89             self.add\_idx\_stack()
90         idx = self.idx\_stack.pop()
91         ex = self.data[idx]
92         \textcolor{keywordflow}{return} (idx, ex)
93 
\end{DoxyCode}
\mbox{\Hypertarget{classigc__evals_1_1worlds_1_1IGCExampleGenerator_a34dc6ef46a9ba8a1c72c8b674ff444b9}\label{classigc__evals_1_1worlds_1_1IGCExampleGenerator_a34dc6ef46a9ba8a1c72c8b674ff444b9}} 
\index{igc\+\_\+evals\+::worlds\+::\+I\+G\+C\+Example\+Generator@{igc\+\_\+evals\+::worlds\+::\+I\+G\+C\+Example\+Generator}!push\+\_\+example@{push\+\_\+example}}
\index{push\+\_\+example@{push\+\_\+example}!igc\+\_\+evals\+::worlds\+::\+I\+G\+C\+Example\+Generator@{igc\+\_\+evals\+::worlds\+::\+I\+G\+C\+Example\+Generator}}
\subsubsection{\texorpdfstring{push\+\_\+example()}{push\_example()}}
{\footnotesize\ttfamily def igc\+\_\+evals.\+worlds.\+I\+G\+C\+Example\+Generator.\+push\+\_\+example (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{idx }\end{DoxyParamCaption})}



Definition at line 94 of file worlds.\+py.


\begin{DoxyCode}
94     \textcolor{keyword}{def }push\_example(self, idx):
95         self.idx\_stack.append(idx)
96 
\end{DoxyCode}
\mbox{\Hypertarget{classigc__evals_1_1worlds_1_1IGCExampleGenerator_a3f787da040d9b83d9c857b8ef65d36eb}\label{classigc__evals_1_1worlds_1_1IGCExampleGenerator_a3f787da040d9b83d9c857b8ef65d36eb}} 
\index{igc\+\_\+evals\+::worlds\+::\+I\+G\+C\+Example\+Generator@{igc\+\_\+evals\+::worlds\+::\+I\+G\+C\+Example\+Generator}!save\+\_\+idx\+\_\+stack@{save\+\_\+idx\+\_\+stack}}
\index{save\+\_\+idx\+\_\+stack@{save\+\_\+idx\+\_\+stack}!igc\+\_\+evals\+::worlds\+::\+I\+G\+C\+Example\+Generator@{igc\+\_\+evals\+::worlds\+::\+I\+G\+C\+Example\+Generator}}
\subsubsection{\texorpdfstring{save\+\_\+idx\+\_\+stack()}{save\_idx\_stack()}}
{\footnotesize\ttfamily def igc\+\_\+evals.\+worlds.\+I\+G\+C\+Example\+Generator.\+save\+\_\+idx\+\_\+stack (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line 97 of file worlds.\+py.


\begin{DoxyCode}
97     \textcolor{keyword}{def }save\_idx\_stack(self):
98         with open(self.examples\_idx\_stack\_path, \textcolor{stringliteral}{'wb'}) \textcolor{keyword}{as} handle:
99             pickle.dump(self.idx\_stack, handle)
100 
101 
\end{DoxyCode}


\subsection{Member Data Documentation}
\mbox{\Hypertarget{classigc__evals_1_1worlds_1_1IGCExampleGenerator_ab21dfe02e8b60d4e37e25b8d942c4b61}\label{classigc__evals_1_1worlds_1_1IGCExampleGenerator_ab21dfe02e8b60d4e37e25b8d942c4b61}} 
\index{igc\+\_\+evals\+::worlds\+::\+I\+G\+C\+Example\+Generator@{igc\+\_\+evals\+::worlds\+::\+I\+G\+C\+Example\+Generator}!data@{data}}
\index{data@{data}!igc\+\_\+evals\+::worlds\+::\+I\+G\+C\+Example\+Generator@{igc\+\_\+evals\+::worlds\+::\+I\+G\+C\+Example\+Generator}}
\subsubsection{\texorpdfstring{data}{data}}
{\footnotesize\ttfamily igc\+\_\+evals.\+worlds.\+I\+G\+C\+Example\+Generator.\+data}



Definition at line 69 of file worlds.\+py.

\mbox{\Hypertarget{classigc__evals_1_1worlds_1_1IGCExampleGenerator_aa309ee59a607d747c0f9868951ecba0a}\label{classigc__evals_1_1worlds_1_1IGCExampleGenerator_aa309ee59a607d747c0f9868951ecba0a}} 
\index{igc\+\_\+evals\+::worlds\+::\+I\+G\+C\+Example\+Generator@{igc\+\_\+evals\+::worlds\+::\+I\+G\+C\+Example\+Generator}!examples\+\_\+idx\+\_\+stack\+\_\+path@{examples\+\_\+idx\+\_\+stack\+\_\+path}}
\index{examples\+\_\+idx\+\_\+stack\+\_\+path@{examples\+\_\+idx\+\_\+stack\+\_\+path}!igc\+\_\+evals\+::worlds\+::\+I\+G\+C\+Example\+Generator@{igc\+\_\+evals\+::worlds\+::\+I\+G\+C\+Example\+Generator}}
\subsubsection{\texorpdfstring{examples\+\_\+idx\+\_\+stack\+\_\+path}{examples\_idx\_stack\_path}}
{\footnotesize\ttfamily igc\+\_\+evals.\+worlds.\+I\+G\+C\+Example\+Generator.\+examples\+\_\+idx\+\_\+stack\+\_\+path}



Definition at line 65 of file worlds.\+py.

\mbox{\Hypertarget{classigc__evals_1_1worlds_1_1IGCExampleGenerator_ac091cb764c64196d922d65d030f6ec57}\label{classigc__evals_1_1worlds_1_1IGCExampleGenerator_ac091cb764c64196d922d65d030f6ec57}} 
\index{igc\+\_\+evals\+::worlds\+::\+I\+G\+C\+Example\+Generator@{igc\+\_\+evals\+::worlds\+::\+I\+G\+C\+Example\+Generator}!idx\+\_\+stack@{idx\+\_\+stack}}
\index{idx\+\_\+stack@{idx\+\_\+stack}!igc\+\_\+evals\+::worlds\+::\+I\+G\+C\+Example\+Generator@{igc\+\_\+evals\+::worlds\+::\+I\+G\+C\+Example\+Generator}}
\subsubsection{\texorpdfstring{idx\+\_\+stack}{idx\_stack}}
{\footnotesize\ttfamily igc\+\_\+evals.\+worlds.\+I\+G\+C\+Example\+Generator.\+idx\+\_\+stack}



Definition at line 75 of file worlds.\+py.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
parlai/mturk/tasks/image\+\_\+chat/igc\+\_\+evals/\hyperlink{parlai_2mturk_2tasks_2image__chat_2igc__evals_2worlds_8py}{worlds.\+py}\end{DoxyCompactItemize}
