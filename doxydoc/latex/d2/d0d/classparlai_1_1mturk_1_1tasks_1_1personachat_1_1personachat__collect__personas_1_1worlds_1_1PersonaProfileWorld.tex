\hypertarget{classparlai_1_1mturk_1_1tasks_1_1personachat_1_1personachat__collect__personas_1_1worlds_1_1PersonaProfileWorld}{}\section{parlai.\+mturk.\+tasks.\+personachat.\+personachat\+\_\+collect\+\_\+personas.\+worlds.\+Persona\+Profile\+World Class Reference}
\label{classparlai_1_1mturk_1_1tasks_1_1personachat_1_1personachat__collect__personas_1_1worlds_1_1PersonaProfileWorld}\index{parlai.\+mturk.\+tasks.\+personachat.\+personachat\+\_\+collect\+\_\+personas.\+worlds.\+Persona\+Profile\+World@{parlai.\+mturk.\+tasks.\+personachat.\+personachat\+\_\+collect\+\_\+personas.\+worlds.\+Persona\+Profile\+World}}


Inheritance diagram for parlai.\+mturk.\+tasks.\+personachat.\+personachat\+\_\+collect\+\_\+personas.\+worlds.\+Persona\+Profile\+World\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=299pt]{de/d9d/classparlai_1_1mturk_1_1tasks_1_1personachat_1_1personachat__collect__personas_1_1worlds_1_1PersonaProfileWorld__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for parlai.\+mturk.\+tasks.\+personachat.\+personachat\+\_\+collect\+\_\+personas.\+worlds.\+Persona\+Profile\+World\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=299pt]{d9/dcb/classparlai_1_1mturk_1_1tasks_1_1personachat_1_1personachat__collect__personas_1_1worlds_1_1PersonaProfileWorld__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{classparlai_1_1mturk_1_1tasks_1_1personachat_1_1personachat__collect__personas_1_1worlds_1_1PersonaProfileWorld_a262880ba97e26a26e5c2e4e84267bc5c}{\+\_\+\+\_\+init\+\_\+\+\_\+} (self, \hyperlink{classparlai_1_1mturk_1_1tasks_1_1personachat_1_1personachat__collect__personas_1_1worlds_1_1PersonaProfileWorld_aacd506fe7f9a62c37a109a8896e6ddca}{opt}, \hyperlink{classparlai_1_1mturk_1_1core_1_1worlds_1_1MTurkOnboardWorld_a38d19c84f42e452f782df53df4fb9861}{mturk\+\_\+agent})
\item 
def \hyperlink{classparlai_1_1mturk_1_1tasks_1_1personachat_1_1personachat__collect__personas_1_1worlds_1_1PersonaProfileWorld_a8b22a981d91b85ea180cfe293200fe4d}{parley} (self)
\item 
def \hyperlink{classparlai_1_1mturk_1_1tasks_1_1personachat_1_1personachat__collect__personas_1_1worlds_1_1PersonaProfileWorld_afb7beff8437dadf18a1e39d16f21eec8}{save\+\_\+data} (self)
\item 
def \hyperlink{classparlai_1_1mturk_1_1tasks_1_1personachat_1_1personachat__collect__personas_1_1worlds_1_1PersonaProfileWorld_a525201b855f68d1bfa1823c7c81284ec}{shutdown} (self)
\item 
def \hyperlink{classparlai_1_1mturk_1_1tasks_1_1personachat_1_1personachat__collect__personas_1_1worlds_1_1PersonaProfileWorld_ad8c659c3d53a2b21877f4d16e6f33a1e}{review\+\_\+work} (self)
\item 
def \hyperlink{classparlai_1_1mturk_1_1tasks_1_1personachat_1_1personachat__collect__personas_1_1worlds_1_1PersonaProfileWorld_a51596c4bba63b176ab93629b6906f8ec}{episode\+\_\+done} (self)
\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classparlai_1_1mturk_1_1tasks_1_1personachat_1_1personachat__collect__personas_1_1worlds_1_1PersonaProfileWorld_aacd506fe7f9a62c37a109a8896e6ddca}{opt}
\item 
\hyperlink{classparlai_1_1mturk_1_1tasks_1_1personachat_1_1personachat__collect__personas_1_1worlds_1_1PersonaProfileWorld_a5d3fcb3260cb4234fead9654ab40f150}{task\+\_\+type}
\item 
\hyperlink{classparlai_1_1mturk_1_1tasks_1_1personachat_1_1personachat__collect__personas_1_1worlds_1_1PersonaProfileWorld_a5f66f5e14283cfc9109a2619b77f2db8}{max\+\_\+persona\+\_\+time}
\item 
\hyperlink{classparlai_1_1mturk_1_1tasks_1_1personachat_1_1personachat__collect__personas_1_1worlds_1_1PersonaProfileWorld_a07ffad4bebade8273b53f84c6bd22ccf}{range\+\_\+persona}
\item 
\hyperlink{classparlai_1_1mturk_1_1tasks_1_1personachat_1_1personachat__collect__personas_1_1worlds_1_1PersonaProfileWorld_ac84651f7191a3795d1b38ec079990e97}{n\+\_\+persona}
\item 
\hyperlink{classparlai_1_1mturk_1_1tasks_1_1personachat_1_1personachat__collect__personas_1_1worlds_1_1PersonaProfileWorld_a37e013e79d7dc8663813dc45340ea9a0}{episode\+Done}
\item 
\hyperlink{classparlai_1_1mturk_1_1tasks_1_1personachat_1_1personachat__collect__personas_1_1worlds_1_1PersonaProfileWorld_a72c1b807bd5675177bd2bbaaee26ca1f}{persona}
\item 
\hyperlink{classparlai_1_1mturk_1_1tasks_1_1personachat_1_1personachat__collect__personas_1_1worlds_1_1PersonaProfileWorld_a0182ad14116156b32f38ae4f4d3dff29}{persone\+\_\+done}
\item 
\hyperlink{classparlai_1_1mturk_1_1tasks_1_1personachat_1_1personachat__collect__personas_1_1worlds_1_1PersonaProfileWorld_a64146427708eb1b226fea0da11ab21e7}{persona\+\_\+done}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
\begin{DoxyVerb}A world that provides a persona to the MTurkAgent.
\end{DoxyVerb}
 

Definition at line 15 of file worlds.\+py.



\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1tasks_1_1personachat_1_1personachat__collect__personas_1_1worlds_1_1PersonaProfileWorld_a262880ba97e26a26e5c2e4e84267bc5c}\label{classparlai_1_1mturk_1_1tasks_1_1personachat_1_1personachat__collect__personas_1_1worlds_1_1PersonaProfileWorld_a262880ba97e26a26e5c2e4e84267bc5c}} 
\index{parlai\+::mturk\+::tasks\+::personachat\+::personachat\+\_\+collect\+\_\+personas\+::worlds\+::\+Persona\+Profile\+World@{parlai\+::mturk\+::tasks\+::personachat\+::personachat\+\_\+collect\+\_\+personas\+::worlds\+::\+Persona\+Profile\+World}!\+\_\+\+\_\+init\+\_\+\+\_\+@{\+\_\+\+\_\+init\+\_\+\+\_\+}}
\index{\+\_\+\+\_\+init\+\_\+\+\_\+@{\+\_\+\+\_\+init\+\_\+\+\_\+}!parlai\+::mturk\+::tasks\+::personachat\+::personachat\+\_\+collect\+\_\+personas\+::worlds\+::\+Persona\+Profile\+World@{parlai\+::mturk\+::tasks\+::personachat\+::personachat\+\_\+collect\+\_\+personas\+::worlds\+::\+Persona\+Profile\+World}}
\subsubsection{\texorpdfstring{\+\_\+\+\_\+init\+\_\+\+\_\+()}{\_\_init\_\_()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+tasks.\+personachat.\+personachat\+\_\+collect\+\_\+personas.\+worlds.\+Persona\+Profile\+World.\+\_\+\+\_\+init\+\_\+\+\_\+ (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{opt,  }\item[{}]{mturk\+\_\+agent }\end{DoxyParamCaption})}



Definition at line 20 of file worlds.\+py.


\begin{DoxyCode}
20     \textcolor{keyword}{def }\_\_init\_\_(self, opt, mturk\_agent):
21         self.opt = opt
22         self.task\_type = \textcolor{stringliteral}{'sandbox'} \textcolor{keywordflow}{if} opt[\textcolor{stringliteral}{'is\_sandbox'}] \textcolor{keywordflow}{else} \textcolor{stringliteral}{'live'}
23         self.max\_persona\_time = opt[\textcolor{stringliteral}{'max\_persona\_time'}]
24         self.range\_persona = [\hyperlink{namespacelanguage__model_1_1eval__ppl_a7d12ee00479673c5c8d1f6d01faa272a}{int}(s) \textcolor{keywordflow}{for} s \textcolor{keywordflow}{in} opt[\textcolor{stringliteral}{'range\_persona'}].split(\textcolor{stringliteral}{','})]
25         self.n\_persona = np.random.randint(
26             self.range\_persona[0], self.range\_persona[1] + 1
27         )
28         self.episodeDone = \textcolor{keyword}{False}
29         self.persona = []
30         self.persone\_done = \textcolor{keyword}{False}
31         super().\_\_init\_\_(opt, mturk\_agent)
32 
\end{DoxyCode}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1tasks_1_1personachat_1_1personachat__collect__personas_1_1worlds_1_1PersonaProfileWorld_a51596c4bba63b176ab93629b6906f8ec}\label{classparlai_1_1mturk_1_1tasks_1_1personachat_1_1personachat__collect__personas_1_1worlds_1_1PersonaProfileWorld_a51596c4bba63b176ab93629b6906f8ec}} 
\index{parlai\+::mturk\+::tasks\+::personachat\+::personachat\+\_\+collect\+\_\+personas\+::worlds\+::\+Persona\+Profile\+World@{parlai\+::mturk\+::tasks\+::personachat\+::personachat\+\_\+collect\+\_\+personas\+::worlds\+::\+Persona\+Profile\+World}!episode\+\_\+done@{episode\+\_\+done}}
\index{episode\+\_\+done@{episode\+\_\+done}!parlai\+::mturk\+::tasks\+::personachat\+::personachat\+\_\+collect\+\_\+personas\+::worlds\+::\+Persona\+Profile\+World@{parlai\+::mturk\+::tasks\+::personachat\+::personachat\+\_\+collect\+\_\+personas\+::worlds\+::\+Persona\+Profile\+World}}
\subsubsection{\texorpdfstring{episode\+\_\+done()}{episode\_done()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+tasks.\+personachat.\+personachat\+\_\+collect\+\_\+personas.\+worlds.\+Persona\+Profile\+World.\+episode\+\_\+done (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line 157 of file worlds.\+py.


\begin{DoxyCode}
157     \textcolor{keyword}{def }episode\_done(self):
158         \textcolor{keywordflow}{return} self.episodeDone
159 \end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1tasks_1_1personachat_1_1personachat__collect__personas_1_1worlds_1_1PersonaProfileWorld_a8b22a981d91b85ea180cfe293200fe4d}\label{classparlai_1_1mturk_1_1tasks_1_1personachat_1_1personachat__collect__personas_1_1worlds_1_1PersonaProfileWorld_a8b22a981d91b85ea180cfe293200fe4d}} 
\index{parlai\+::mturk\+::tasks\+::personachat\+::personachat\+\_\+collect\+\_\+personas\+::worlds\+::\+Persona\+Profile\+World@{parlai\+::mturk\+::tasks\+::personachat\+::personachat\+\_\+collect\+\_\+personas\+::worlds\+::\+Persona\+Profile\+World}!parley@{parley}}
\index{parley@{parley}!parlai\+::mturk\+::tasks\+::personachat\+::personachat\+\_\+collect\+\_\+personas\+::worlds\+::\+Persona\+Profile\+World@{parlai\+::mturk\+::tasks\+::personachat\+::personachat\+\_\+collect\+\_\+personas\+::worlds\+::\+Persona\+Profile\+World}}
\subsubsection{\texorpdfstring{parley()}{parley()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+tasks.\+personachat.\+personachat\+\_\+collect\+\_\+personas.\+worlds.\+Persona\+Profile\+World.\+parley (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line 33 of file worlds.\+py.


\begin{DoxyCode}
33     \textcolor{keyword}{def }parley(self):
34         \textcolor{comment}{# Persona creation instructions}
35         self.mturk\_agent.observe(
36             \{
37                 \textcolor{stringliteral}{'id'}: \textcolor{stringliteral}{'SYSTEM'},
38                 \textcolor{stringliteral}{'text'}: (
39                     \textcolor{stringliteral}{'Please create your character by entering'}
40                     \textcolor{stringliteral}{'<b><span style="color:blue">\{\} sentences</span></b> below in'}
41                     \textcolor{stringliteral}{'the input-box. \(\backslash\)nYou have <b><span style="color:blue">\{\} '}
42                     \textcolor{stringliteral}{'mins</span></b> to finish the persona creation.'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(
43                         self.n\_persona, \hyperlink{namespacelanguage__model_1_1eval__ppl_a7d12ee00479673c5c8d1f6d01faa272a}{int}(self.max\_persona\_time / 60)
44                     )
45                 ),
46             \}
47         )
48         \textcolor{keywordflow}{while} \textcolor{keywordflow}{not} self.persona\_done:
49             act = self.mturk\_agent.act(timeout=self.max\_persona\_time)
50             \textcolor{comment}{# Check timeout}
51             \textcolor{keywordflow}{if} act[\textcolor{stringliteral}{'episode\_done'}]:
52                 self.episodeDone = \textcolor{keyword}{True}
53                 \textcolor{keywordflow}{return}
54 
55             candidate\_persona = [
56                 x \textcolor{keywordflow}{for} x \textcolor{keywordflow}{in} act[\textcolor{stringliteral}{'text'}].split(\textcolor{stringliteral}{'.'}.strip()) \textcolor{keywordflow}{if} x != \textcolor{stringliteral}{''}  \textcolor{comment}{# sic.}
57             ]
58 
59             \textcolor{keywordflow}{for} cand \textcolor{keywordflow}{in} candidate\_persona:
60                 \textcolor{comment}{# Check if persona is too long}
61                 \textcolor{keywordflow}{if} len(cand.split(\textcolor{stringliteral}{' '})) > 16:
62                     control\_msg = \{
63                         \textcolor{stringliteral}{'id'}: \textcolor{stringliteral}{'SYSTEM'},
64                         \textcolor{stringliteral}{'text'}: (
65                             \textcolor{stringliteral}{'\(\backslash\)n A sentence you entered is too long:\(\backslash\)n \(\backslash\)}
66 \textcolor{stringliteral}{                            <b><span style="color:blue">'}
67                             + cand
68                             + \textcolor{stringliteral}{'</span></b>\(\backslash\)nPlease resend a sentence '}
69                             \textcolor{stringliteral}{'<b><span style="color:blue">less than 15 '}
70                             \textcolor{stringliteral}{'words</span></b>.'}
71                         ),
72                     \}
73                     self.mturk\_agent.observe(\hyperlink{namespaceparlai_1_1core_1_1worlds_afc3fad603b7bce41dbdc9cdc04a9c794}{validate}(control\_msg))
74                     candidate\_persona.remove(cand)
75                 \textcolor{comment}{# Check if persona is too short}
76                 \textcolor{keywordflow}{if} len(cand.split(\textcolor{stringliteral}{' '})) < 3:
77                     control\_msg = \{
78                         \textcolor{stringliteral}{'id'}: \textcolor{stringliteral}{'SYSTEM'},
79                         \textcolor{stringliteral}{'text'}: (
80                             \textcolor{stringliteral}{'\(\backslash\)n A sentence you entered is too short:\(\backslash\)n'}
81                             \textcolor{stringliteral}{'<b><span style="color:blue">'}
82                             + cand
83                             + \textcolor{stringliteral}{'</span></b>\(\backslash\)n Please resend a sentence '}
84                             \textcolor{stringliteral}{'<b><span style="color:blue">more than 3 '}
85                             \textcolor{stringliteral}{'words</span></b>.'}
86                         ),
87                     \}
88                     self.mturk\_agent.observe(\hyperlink{namespaceparlai_1_1core_1_1worlds_afc3fad603b7bce41dbdc9cdc04a9c794}{validate}(control\_msg))
89                     candidate\_persona.remove(cand)
90 
91             self.persona += candidate\_persona
92 
93             \textcolor{keywordflow}{if} len(self.persona) >= self.n\_persona:
94                 self.persona\_done = \textcolor{keyword}{True}
95                 control\_msg = \{
96                     \textcolor{stringliteral}{'id'}: \textcolor{stringliteral}{'SYSTEM'},
97                     \textcolor{stringliteral}{'text'}: (
98                         \textcolor{stringliteral}{'Thank you for creating the character! \(\backslash\)n '}
99                         \textcolor{stringliteral}{'<b><span style="color:blue">Please click '}
100                         \textcolor{stringliteral}{'"Done with this HIT" below to submit the HIT.'}
101                         \textcolor{stringliteral}{'</span></b>'}
102                     ),
103                     \textcolor{stringliteral}{'exceed\_min\_turns'}: \textcolor{keyword}{True},
104                 \}
105                 self.mturk\_agent.observe(\hyperlink{namespaceparlai_1_1core_1_1worlds_afc3fad603b7bce41dbdc9cdc04a9c794}{validate}(control\_msg))
106                 self.episodeDone = \textcolor{keyword}{True}
107 
108             \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} self.persona\_done:
109                 control\_msg = \{
110                     \textcolor{stringliteral}{'id'}: \textcolor{stringliteral}{'SYSTEM'},
111                     \textcolor{stringliteral}{'text'}: (
112                         \textcolor{stringliteral}{'Please enter at least *\{\}* more sentence(s) to finish. '}.
      \hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(
113                             \hyperlink{namespacegenerate__task__READMEs_a5b88452ffb87b78c8c85ececebafc09f}{str}(self.n\_persona - len(self.persona))
114                         )
115                     ),
116                 \}
117                 self.mturk\_agent.observe(\hyperlink{namespaceparlai_1_1core_1_1worlds_afc3fad603b7bce41dbdc9cdc04a9c794}{validate}(control\_msg))
118 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1tasks_1_1personachat_1_1personachat__collect__personas_1_1worlds_1_1PersonaProfileWorld_ad8c659c3d53a2b21877f4d16e6f33a1e}\label{classparlai_1_1mturk_1_1tasks_1_1personachat_1_1personachat__collect__personas_1_1worlds_1_1PersonaProfileWorld_ad8c659c3d53a2b21877f4d16e6f33a1e}} 
\index{parlai\+::mturk\+::tasks\+::personachat\+::personachat\+\_\+collect\+\_\+personas\+::worlds\+::\+Persona\+Profile\+World@{parlai\+::mturk\+::tasks\+::personachat\+::personachat\+\_\+collect\+\_\+personas\+::worlds\+::\+Persona\+Profile\+World}!review\+\_\+work@{review\+\_\+work}}
\index{review\+\_\+work@{review\+\_\+work}!parlai\+::mturk\+::tasks\+::personachat\+::personachat\+\_\+collect\+\_\+personas\+::worlds\+::\+Persona\+Profile\+World@{parlai\+::mturk\+::tasks\+::personachat\+::personachat\+\_\+collect\+\_\+personas\+::worlds\+::\+Persona\+Profile\+World}}
\subsubsection{\texorpdfstring{review\+\_\+work()}{review\_work()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+tasks.\+personachat.\+personachat\+\_\+collect\+\_\+personas.\+worlds.\+Persona\+Profile\+World.\+review\+\_\+work (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line 153 of file worlds.\+py.


\begin{DoxyCode}
153     \textcolor{keyword}{def }review\_work(self):
154         \textcolor{keywordflow}{if} self.persona\_done:
155             self.mturk\_agent.approve\_work()
156 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1tasks_1_1personachat_1_1personachat__collect__personas_1_1worlds_1_1PersonaProfileWorld_afb7beff8437dadf18a1e39d16f21eec8}\label{classparlai_1_1mturk_1_1tasks_1_1personachat_1_1personachat__collect__personas_1_1worlds_1_1PersonaProfileWorld_afb7beff8437dadf18a1e39d16f21eec8}} 
\index{parlai\+::mturk\+::tasks\+::personachat\+::personachat\+\_\+collect\+\_\+personas\+::worlds\+::\+Persona\+Profile\+World@{parlai\+::mturk\+::tasks\+::personachat\+::personachat\+\_\+collect\+\_\+personas\+::worlds\+::\+Persona\+Profile\+World}!save\+\_\+data@{save\+\_\+data}}
\index{save\+\_\+data@{save\+\_\+data}!parlai\+::mturk\+::tasks\+::personachat\+::personachat\+\_\+collect\+\_\+personas\+::worlds\+::\+Persona\+Profile\+World@{parlai\+::mturk\+::tasks\+::personachat\+::personachat\+\_\+collect\+\_\+personas\+::worlds\+::\+Persona\+Profile\+World}}
\subsubsection{\texorpdfstring{save\+\_\+data()}{save\_data()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+tasks.\+personachat.\+personachat\+\_\+collect\+\_\+personas.\+worlds.\+Persona\+Profile\+World.\+save\+\_\+data (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line 119 of file worlds.\+py.


\begin{DoxyCode}
119     \textcolor{keyword}{def }save\_data(self):
120         data\_path = self.opt[\textcolor{stringliteral}{'data\_path'}] + \textcolor{stringliteral}{'/personas'}
121         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} os.path.exists(data\_path):
122             os.makedirs(data\_path)
123         filename = os.path.join(
124             data\_path,
125             \textcolor{stringliteral}{'persona\_\{\}\_\{\}\_\{\}.pkl'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(
126                 time.strftime(\textcolor{stringliteral}{"%Y%m%d-%H%M%S"}),
127                 self.mturk\_agent.worker\_id,
128                 self.task\_type,
129             ),
130         )
131         print(\textcolor{stringliteral}{'Profile successfully saved at \{\}.'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(filename))
132         pickle.dump(
133             \{
134                 \textcolor{stringliteral}{'hit\_id'}: self.mturk\_agent.hit\_id,
135                 \textcolor{stringliteral}{'assignment\_id'}: self.mturk\_agent.assignment\_id,
136                 \textcolor{stringliteral}{'worker\_id'}: self.mturk\_agent.worker\_id,
137                 \textcolor{stringliteral}{'n\_persona'}: self.n\_persona,
138                 \textcolor{stringliteral}{'persona'}: self.persona,
139             \},
140             open(filename, \textcolor{stringliteral}{'wb'}),
141         )
142 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1tasks_1_1personachat_1_1personachat__collect__personas_1_1worlds_1_1PersonaProfileWorld_a525201b855f68d1bfa1823c7c81284ec}\label{classparlai_1_1mturk_1_1tasks_1_1personachat_1_1personachat__collect__personas_1_1worlds_1_1PersonaProfileWorld_a525201b855f68d1bfa1823c7c81284ec}} 
\index{parlai\+::mturk\+::tasks\+::personachat\+::personachat\+\_\+collect\+\_\+personas\+::worlds\+::\+Persona\+Profile\+World@{parlai\+::mturk\+::tasks\+::personachat\+::personachat\+\_\+collect\+\_\+personas\+::worlds\+::\+Persona\+Profile\+World}!shutdown@{shutdown}}
\index{shutdown@{shutdown}!parlai\+::mturk\+::tasks\+::personachat\+::personachat\+\_\+collect\+\_\+personas\+::worlds\+::\+Persona\+Profile\+World@{parlai\+::mturk\+::tasks\+::personachat\+::personachat\+\_\+collect\+\_\+personas\+::worlds\+::\+Persona\+Profile\+World}}
\subsubsection{\texorpdfstring{shutdown()}{shutdown()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+tasks.\+personachat.\+personachat\+\_\+collect\+\_\+personas.\+worlds.\+Persona\+Profile\+World.\+shutdown (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line 143 of file worlds.\+py.


\begin{DoxyCode}
143     \textcolor{keyword}{def }shutdown(self):
144         \textcolor{keyword}{global} shutdown\_agent
145 
146         \textcolor{keyword}{def }shutdown\_agent(mturk\_agent):
147             mturk\_agent.shutdown()
148 
149         Parallel(n\_jobs=1, backend=\textcolor{stringliteral}{'threading'})(
150             delayed(shutdown\_agent)(agent) \textcolor{keywordflow}{for} agent \textcolor{keywordflow}{in} [self.mturk\_agent]
151         )
152 
\end{DoxyCode}


\subsection{Member Data Documentation}
\mbox{\Hypertarget{classparlai_1_1mturk_1_1tasks_1_1personachat_1_1personachat__collect__personas_1_1worlds_1_1PersonaProfileWorld_a37e013e79d7dc8663813dc45340ea9a0}\label{classparlai_1_1mturk_1_1tasks_1_1personachat_1_1personachat__collect__personas_1_1worlds_1_1PersonaProfileWorld_a37e013e79d7dc8663813dc45340ea9a0}} 
\index{parlai\+::mturk\+::tasks\+::personachat\+::personachat\+\_\+collect\+\_\+personas\+::worlds\+::\+Persona\+Profile\+World@{parlai\+::mturk\+::tasks\+::personachat\+::personachat\+\_\+collect\+\_\+personas\+::worlds\+::\+Persona\+Profile\+World}!episode\+Done@{episode\+Done}}
\index{episode\+Done@{episode\+Done}!parlai\+::mturk\+::tasks\+::personachat\+::personachat\+\_\+collect\+\_\+personas\+::worlds\+::\+Persona\+Profile\+World@{parlai\+::mturk\+::tasks\+::personachat\+::personachat\+\_\+collect\+\_\+personas\+::worlds\+::\+Persona\+Profile\+World}}
\subsubsection{\texorpdfstring{episode\+Done}{episodeDone}}
{\footnotesize\ttfamily parlai.\+mturk.\+tasks.\+personachat.\+personachat\+\_\+collect\+\_\+personas.\+worlds.\+Persona\+Profile\+World.\+episode\+Done}



Definition at line 28 of file worlds.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1tasks_1_1personachat_1_1personachat__collect__personas_1_1worlds_1_1PersonaProfileWorld_a5f66f5e14283cfc9109a2619b77f2db8}\label{classparlai_1_1mturk_1_1tasks_1_1personachat_1_1personachat__collect__personas_1_1worlds_1_1PersonaProfileWorld_a5f66f5e14283cfc9109a2619b77f2db8}} 
\index{parlai\+::mturk\+::tasks\+::personachat\+::personachat\+\_\+collect\+\_\+personas\+::worlds\+::\+Persona\+Profile\+World@{parlai\+::mturk\+::tasks\+::personachat\+::personachat\+\_\+collect\+\_\+personas\+::worlds\+::\+Persona\+Profile\+World}!max\+\_\+persona\+\_\+time@{max\+\_\+persona\+\_\+time}}
\index{max\+\_\+persona\+\_\+time@{max\+\_\+persona\+\_\+time}!parlai\+::mturk\+::tasks\+::personachat\+::personachat\+\_\+collect\+\_\+personas\+::worlds\+::\+Persona\+Profile\+World@{parlai\+::mturk\+::tasks\+::personachat\+::personachat\+\_\+collect\+\_\+personas\+::worlds\+::\+Persona\+Profile\+World}}
\subsubsection{\texorpdfstring{max\+\_\+persona\+\_\+time}{max\_persona\_time}}
{\footnotesize\ttfamily parlai.\+mturk.\+tasks.\+personachat.\+personachat\+\_\+collect\+\_\+personas.\+worlds.\+Persona\+Profile\+World.\+max\+\_\+persona\+\_\+time}



Definition at line 23 of file worlds.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1tasks_1_1personachat_1_1personachat__collect__personas_1_1worlds_1_1PersonaProfileWorld_ac84651f7191a3795d1b38ec079990e97}\label{classparlai_1_1mturk_1_1tasks_1_1personachat_1_1personachat__collect__personas_1_1worlds_1_1PersonaProfileWorld_ac84651f7191a3795d1b38ec079990e97}} 
\index{parlai\+::mturk\+::tasks\+::personachat\+::personachat\+\_\+collect\+\_\+personas\+::worlds\+::\+Persona\+Profile\+World@{parlai\+::mturk\+::tasks\+::personachat\+::personachat\+\_\+collect\+\_\+personas\+::worlds\+::\+Persona\+Profile\+World}!n\+\_\+persona@{n\+\_\+persona}}
\index{n\+\_\+persona@{n\+\_\+persona}!parlai\+::mturk\+::tasks\+::personachat\+::personachat\+\_\+collect\+\_\+personas\+::worlds\+::\+Persona\+Profile\+World@{parlai\+::mturk\+::tasks\+::personachat\+::personachat\+\_\+collect\+\_\+personas\+::worlds\+::\+Persona\+Profile\+World}}
\subsubsection{\texorpdfstring{n\+\_\+persona}{n\_persona}}
{\footnotesize\ttfamily parlai.\+mturk.\+tasks.\+personachat.\+personachat\+\_\+collect\+\_\+personas.\+worlds.\+Persona\+Profile\+World.\+n\+\_\+persona}



Definition at line 25 of file worlds.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1tasks_1_1personachat_1_1personachat__collect__personas_1_1worlds_1_1PersonaProfileWorld_aacd506fe7f9a62c37a109a8896e6ddca}\label{classparlai_1_1mturk_1_1tasks_1_1personachat_1_1personachat__collect__personas_1_1worlds_1_1PersonaProfileWorld_aacd506fe7f9a62c37a109a8896e6ddca}} 
\index{parlai\+::mturk\+::tasks\+::personachat\+::personachat\+\_\+collect\+\_\+personas\+::worlds\+::\+Persona\+Profile\+World@{parlai\+::mturk\+::tasks\+::personachat\+::personachat\+\_\+collect\+\_\+personas\+::worlds\+::\+Persona\+Profile\+World}!opt@{opt}}
\index{opt@{opt}!parlai\+::mturk\+::tasks\+::personachat\+::personachat\+\_\+collect\+\_\+personas\+::worlds\+::\+Persona\+Profile\+World@{parlai\+::mturk\+::tasks\+::personachat\+::personachat\+\_\+collect\+\_\+personas\+::worlds\+::\+Persona\+Profile\+World}}
\subsubsection{\texorpdfstring{opt}{opt}}
{\footnotesize\ttfamily parlai.\+mturk.\+tasks.\+personachat.\+personachat\+\_\+collect\+\_\+personas.\+worlds.\+Persona\+Profile\+World.\+opt}



Definition at line 21 of file worlds.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1tasks_1_1personachat_1_1personachat__collect__personas_1_1worlds_1_1PersonaProfileWorld_a72c1b807bd5675177bd2bbaaee26ca1f}\label{classparlai_1_1mturk_1_1tasks_1_1personachat_1_1personachat__collect__personas_1_1worlds_1_1PersonaProfileWorld_a72c1b807bd5675177bd2bbaaee26ca1f}} 
\index{parlai\+::mturk\+::tasks\+::personachat\+::personachat\+\_\+collect\+\_\+personas\+::worlds\+::\+Persona\+Profile\+World@{parlai\+::mturk\+::tasks\+::personachat\+::personachat\+\_\+collect\+\_\+personas\+::worlds\+::\+Persona\+Profile\+World}!persona@{persona}}
\index{persona@{persona}!parlai\+::mturk\+::tasks\+::personachat\+::personachat\+\_\+collect\+\_\+personas\+::worlds\+::\+Persona\+Profile\+World@{parlai\+::mturk\+::tasks\+::personachat\+::personachat\+\_\+collect\+\_\+personas\+::worlds\+::\+Persona\+Profile\+World}}
\subsubsection{\texorpdfstring{persona}{persona}}
{\footnotesize\ttfamily parlai.\+mturk.\+tasks.\+personachat.\+personachat\+\_\+collect\+\_\+personas.\+worlds.\+Persona\+Profile\+World.\+persona}



Definition at line 29 of file worlds.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1tasks_1_1personachat_1_1personachat__collect__personas_1_1worlds_1_1PersonaProfileWorld_a64146427708eb1b226fea0da11ab21e7}\label{classparlai_1_1mturk_1_1tasks_1_1personachat_1_1personachat__collect__personas_1_1worlds_1_1PersonaProfileWorld_a64146427708eb1b226fea0da11ab21e7}} 
\index{parlai\+::mturk\+::tasks\+::personachat\+::personachat\+\_\+collect\+\_\+personas\+::worlds\+::\+Persona\+Profile\+World@{parlai\+::mturk\+::tasks\+::personachat\+::personachat\+\_\+collect\+\_\+personas\+::worlds\+::\+Persona\+Profile\+World}!persona\+\_\+done@{persona\+\_\+done}}
\index{persona\+\_\+done@{persona\+\_\+done}!parlai\+::mturk\+::tasks\+::personachat\+::personachat\+\_\+collect\+\_\+personas\+::worlds\+::\+Persona\+Profile\+World@{parlai\+::mturk\+::tasks\+::personachat\+::personachat\+\_\+collect\+\_\+personas\+::worlds\+::\+Persona\+Profile\+World}}
\subsubsection{\texorpdfstring{persona\+\_\+done}{persona\_done}}
{\footnotesize\ttfamily parlai.\+mturk.\+tasks.\+personachat.\+personachat\+\_\+collect\+\_\+personas.\+worlds.\+Persona\+Profile\+World.\+persona\+\_\+done}



Definition at line 94 of file worlds.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1tasks_1_1personachat_1_1personachat__collect__personas_1_1worlds_1_1PersonaProfileWorld_a0182ad14116156b32f38ae4f4d3dff29}\label{classparlai_1_1mturk_1_1tasks_1_1personachat_1_1personachat__collect__personas_1_1worlds_1_1PersonaProfileWorld_a0182ad14116156b32f38ae4f4d3dff29}} 
\index{parlai\+::mturk\+::tasks\+::personachat\+::personachat\+\_\+collect\+\_\+personas\+::worlds\+::\+Persona\+Profile\+World@{parlai\+::mturk\+::tasks\+::personachat\+::personachat\+\_\+collect\+\_\+personas\+::worlds\+::\+Persona\+Profile\+World}!persone\+\_\+done@{persone\+\_\+done}}
\index{persone\+\_\+done@{persone\+\_\+done}!parlai\+::mturk\+::tasks\+::personachat\+::personachat\+\_\+collect\+\_\+personas\+::worlds\+::\+Persona\+Profile\+World@{parlai\+::mturk\+::tasks\+::personachat\+::personachat\+\_\+collect\+\_\+personas\+::worlds\+::\+Persona\+Profile\+World}}
\subsubsection{\texorpdfstring{persone\+\_\+done}{persone\_done}}
{\footnotesize\ttfamily parlai.\+mturk.\+tasks.\+personachat.\+personachat\+\_\+collect\+\_\+personas.\+worlds.\+Persona\+Profile\+World.\+persone\+\_\+done}



Definition at line 30 of file worlds.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1tasks_1_1personachat_1_1personachat__collect__personas_1_1worlds_1_1PersonaProfileWorld_a07ffad4bebade8273b53f84c6bd22ccf}\label{classparlai_1_1mturk_1_1tasks_1_1personachat_1_1personachat__collect__personas_1_1worlds_1_1PersonaProfileWorld_a07ffad4bebade8273b53f84c6bd22ccf}} 
\index{parlai\+::mturk\+::tasks\+::personachat\+::personachat\+\_\+collect\+\_\+personas\+::worlds\+::\+Persona\+Profile\+World@{parlai\+::mturk\+::tasks\+::personachat\+::personachat\+\_\+collect\+\_\+personas\+::worlds\+::\+Persona\+Profile\+World}!range\+\_\+persona@{range\+\_\+persona}}
\index{range\+\_\+persona@{range\+\_\+persona}!parlai\+::mturk\+::tasks\+::personachat\+::personachat\+\_\+collect\+\_\+personas\+::worlds\+::\+Persona\+Profile\+World@{parlai\+::mturk\+::tasks\+::personachat\+::personachat\+\_\+collect\+\_\+personas\+::worlds\+::\+Persona\+Profile\+World}}
\subsubsection{\texorpdfstring{range\+\_\+persona}{range\_persona}}
{\footnotesize\ttfamily parlai.\+mturk.\+tasks.\+personachat.\+personachat\+\_\+collect\+\_\+personas.\+worlds.\+Persona\+Profile\+World.\+range\+\_\+persona}



Definition at line 24 of file worlds.\+py.

\mbox{\Hypertarget{classparlai_1_1mturk_1_1tasks_1_1personachat_1_1personachat__collect__personas_1_1worlds_1_1PersonaProfileWorld_a5d3fcb3260cb4234fead9654ab40f150}\label{classparlai_1_1mturk_1_1tasks_1_1personachat_1_1personachat__collect__personas_1_1worlds_1_1PersonaProfileWorld_a5d3fcb3260cb4234fead9654ab40f150}} 
\index{parlai\+::mturk\+::tasks\+::personachat\+::personachat\+\_\+collect\+\_\+personas\+::worlds\+::\+Persona\+Profile\+World@{parlai\+::mturk\+::tasks\+::personachat\+::personachat\+\_\+collect\+\_\+personas\+::worlds\+::\+Persona\+Profile\+World}!task\+\_\+type@{task\+\_\+type}}
\index{task\+\_\+type@{task\+\_\+type}!parlai\+::mturk\+::tasks\+::personachat\+::personachat\+\_\+collect\+\_\+personas\+::worlds\+::\+Persona\+Profile\+World@{parlai\+::mturk\+::tasks\+::personachat\+::personachat\+\_\+collect\+\_\+personas\+::worlds\+::\+Persona\+Profile\+World}}
\subsubsection{\texorpdfstring{task\+\_\+type}{task\_type}}
{\footnotesize\ttfamily parlai.\+mturk.\+tasks.\+personachat.\+personachat\+\_\+collect\+\_\+personas.\+worlds.\+Persona\+Profile\+World.\+task\+\_\+type}



Definition at line 22 of file worlds.\+py.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
parlai/mturk/tasks/personachat/personachat\+\_\+collect\+\_\+personas/\hyperlink{parlai_2mturk_2tasks_2personachat_2personachat__collect__personas_2worlds_8py}{worlds.\+py}\end{DoxyCompactItemize}
