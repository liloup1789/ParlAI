\hypertarget{namespaceprojects_1_1self__feeding_1_1interactive}{}\section{projects.\+self\+\_\+feeding.\+interactive Namespace Reference}
\label{namespaceprojects_1_1self__feeding_1_1interactive}\index{projects.\+self\+\_\+feeding.\+interactive@{projects.\+self\+\_\+feeding.\+interactive}}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{namespaceprojects_1_1self__feeding_1_1interactive_a2ad3b874d9caef6e76ea41e029b933f0}{setup\+\_\+args} (\hyperlink{namespaceprojects_1_1self__feeding_1_1interactive_a21a1ccd7eaed52bc0c86433980389559}{parser}=None)
\item 
def \hyperlink{namespaceprojects_1_1self__feeding_1_1interactive_aaebd4c577ab0371c73e8442be469ebab}{interactive} (opt, \hyperlink{namespaceprojects_1_1self__feeding_1_1interactive_a066fbd25c1838df96d5bd360e85cf30b}{print\+\_\+parser}=None)
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\hyperlink{namespaceprojects_1_1self__feeding_1_1interactive_a21a1ccd7eaed52bc0c86433980389559}{parser}
\item 
\hyperlink{namespaceprojects_1_1self__feeding_1_1interactive_abdce103624ad6f29cbdcbff75674ccfc}{print\+\_\+args}
\item 
\hyperlink{namespaceprojects_1_1self__feeding_1_1interactive_a066fbd25c1838df96d5bd360e85cf30b}{print\+\_\+parser}
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\mbox{\Hypertarget{namespaceprojects_1_1self__feeding_1_1interactive_aaebd4c577ab0371c73e8442be469ebab}\label{namespaceprojects_1_1self__feeding_1_1interactive_aaebd4c577ab0371c73e8442be469ebab}} 
\index{projects\+::self\+\_\+feeding\+::interactive@{projects\+::self\+\_\+feeding\+::interactive}!interactive@{interactive}}
\index{interactive@{interactive}!projects\+::self\+\_\+feeding\+::interactive@{projects\+::self\+\_\+feeding\+::interactive}}
\subsubsection{\texorpdfstring{interactive()}{interactive()}}
{\footnotesize\ttfamily def projects.\+self\+\_\+feeding.\+interactive.\+interactive (\begin{DoxyParamCaption}\item[{}]{opt,  }\item[{}]{print\+\_\+parser = {\ttfamily None} }\end{DoxyParamCaption})}



Definition at line 34 of file interactive.\+py.


\begin{DoxyCode}
34 \textcolor{keyword}{def }\hyperlink{namespaceprojects_1_1self__feeding_1_1interactive_aaebd4c577ab0371c73e8442be469ebab}{interactive}(opt, print\_parser=None):
35     \textcolor{keywordflow}{if} print\_parser \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}:
36         \textcolor{keywordflow}{if} print\_parser \textcolor{keywordflow}{is} \textcolor{keyword}{True} \textcolor{keywordflow}{and} isinstance(opt, ParlaiParser):
37             print\_parser = opt
38         \textcolor{keywordflow}{elif} print\_parser \textcolor{keywordflow}{is} \textcolor{keyword}{False}:
39             print\_parser = \textcolor{keywordtype}{None}
40     \textcolor{keywordflow}{if} isinstance(opt, ParlaiParser):
41         print(\textcolor{stringliteral}{'[ Deprecated Warning: interactive should be passed opt not Parser ]'})
42         opt = opt.parse\_args()
43 
44     opt[\textcolor{stringliteral}{'task'}] = \textcolor{stringliteral}{'self\_feeding'}
45     \hyperlink{namespaceparlai_1_1mturk_1_1tasks_1_1talkthewalk_1_1download_a8c0fbb9b6dfe127cb8c1bd6e7c4e33fd}{build}(opt)
46     opt[\textcolor{stringliteral}{'task'}] = \textcolor{stringliteral}{'parlai.agents.local\_human.local\_human:LocalHumanAgent'}
47     cand\_file = os.path.join(opt[\textcolor{stringliteral}{'datapath'}], \textcolor{stringliteral}{'self\_feeding/convai2\_cands.txt'})
48     \textcolor{comment}{# Set values to override when the opt dict for the saved model is loaded}
49     opt[\textcolor{stringliteral}{'override'}] = \{
50         \textcolor{stringliteral}{'subtasks'}: [\textcolor{stringliteral}{'dialog'}, \textcolor{stringliteral}{'satisfaction'}],
51         \textcolor{stringliteral}{'interactive'}: \textcolor{keyword}{True},
52         \textcolor{stringliteral}{'interactive\_task'}: \textcolor{keyword}{True},
53         \textcolor{stringliteral}{'prev\_response\_filter'}: \textcolor{keyword}{True},
54         \textcolor{stringliteral}{'person\_tokens'}: \textcolor{keyword}{False},  \textcolor{comment}{# SelfFeedingAgent adds person\_tokens on its own}
55         \textcolor{stringliteral}{'partial\_load'}: \textcolor{keyword}{True},
56         \textcolor{stringliteral}{'history\_size'}: 2,
57         \textcolor{stringliteral}{'eval\_candidates'}: \textcolor{stringliteral}{'fixed'},
58         \textcolor{stringliteral}{'encode\_candidate\_vecs'}: \textcolor{keyword}{True},
59         \textcolor{stringliteral}{'fixed\_candidates\_path'}: cand\_file,
60         \textcolor{comment}{# Pull these from current opt dictionary}
61         \textcolor{stringliteral}{'no\_cuda'}: opt[\textcolor{stringliteral}{"no\_cuda"}],
62         \textcolor{stringliteral}{'fixed\_candidate\_vecs'}: opt[\textcolor{stringliteral}{'fixed\_candidate\_vecs'}],
63         \textcolor{stringliteral}{'rating\_frequency'}: opt[\textcolor{stringliteral}{'rating\_frequency'}],
64         \textcolor{stringliteral}{'rating\_gap'}: opt[\textcolor{stringliteral}{'rating\_gap'}],
65         \textcolor{stringliteral}{'rating\_threshold'}: opt[\textcolor{stringliteral}{'rating\_threshold'}],
66         \textcolor{stringliteral}{'request\_feedback'}: opt[\textcolor{stringliteral}{'request\_feedback'}],
67         \textcolor{stringliteral}{'request\_rating'}: opt[\textcolor{stringliteral}{'request\_rating'}],
68     \}
69 
70     \textcolor{comment}{# Create model and assign it to the specified task}
71     agent = \hyperlink{namespaceparlai_1_1core_1_1agents_a00d77a7e26fb89e8bd900f7b2a02982a}{create\_agent}(opt, requireModelExists=\textcolor{keyword}{True})
72     world = \hyperlink{namespaceparlai_1_1core_1_1worlds_a79969c7ba76d4b3c500f5bb776444dc6}{create\_task}(opt, agent)
73 
74     \textcolor{keywordflow}{if} print\_parser:
75         \textcolor{comment}{# Show arguments after loading model}
76         print\_parser.opt = agent.opt
77         print\_parser.print\_args()
78 
79     \textcolor{comment}{# Show some example dialogs:}
80     \textcolor{keywordflow}{while} \textcolor{keyword}{True}:
81         world.parley()
82         \textcolor{keywordflow}{if} world.epoch\_done():
83             print(\textcolor{stringliteral}{"EPOCH DONE"})
84             \textcolor{keywordflow}{break}
85 
86 
\end{DoxyCode}
\mbox{\Hypertarget{namespaceprojects_1_1self__feeding_1_1interactive_a2ad3b874d9caef6e76ea41e029b933f0}\label{namespaceprojects_1_1self__feeding_1_1interactive_a2ad3b874d9caef6e76ea41e029b933f0}} 
\index{projects\+::self\+\_\+feeding\+::interactive@{projects\+::self\+\_\+feeding\+::interactive}!setup\+\_\+args@{setup\+\_\+args}}
\index{setup\+\_\+args@{setup\+\_\+args}!projects\+::self\+\_\+feeding\+::interactive@{projects\+::self\+\_\+feeding\+::interactive}}
\subsubsection{\texorpdfstring{setup\+\_\+args()}{setup\_args()}}
{\footnotesize\ttfamily def projects.\+self\+\_\+feeding.\+interactive.\+setup\+\_\+args (\begin{DoxyParamCaption}\item[{}]{parser = {\ttfamily None} }\end{DoxyParamCaption})}



Definition at line 24 of file interactive.\+py.


\begin{DoxyCode}
24 \textcolor{keyword}{def }\hyperlink{namespaceprojects_1_1self__feeding_1_1interactive_a2ad3b874d9caef6e76ea41e029b933f0}{setup\_args}(parser=None):
25     \textcolor{keywordflow}{if} parser \textcolor{keywordflow}{is} \textcolor{keywordtype}{None}:
26         parser = ParlaiParser(\textcolor{keyword}{True}, \textcolor{keyword}{True}, \textcolor{stringliteral}{'Interactive chat with a model'})
27     parser.set\_defaults(interactive\_mode=\textcolor{keyword}{True}, task=\textcolor{stringliteral}{'interactive'})
28     LocalHumanAgent.add\_cmdline\_args(parser)
29     SelfFeedingAgent.add\_cmdline\_args(parser)
30     parser.set\_defaults(history\_size=2)
31     \textcolor{keywordflow}{return} parser
32 
33 
\end{DoxyCode}


\subsection{Variable Documentation}
\mbox{\Hypertarget{namespaceprojects_1_1self__feeding_1_1interactive_a21a1ccd7eaed52bc0c86433980389559}\label{namespaceprojects_1_1self__feeding_1_1interactive_a21a1ccd7eaed52bc0c86433980389559}} 
\index{projects\+::self\+\_\+feeding\+::interactive@{projects\+::self\+\_\+feeding\+::interactive}!parser@{parser}}
\index{parser@{parser}!projects\+::self\+\_\+feeding\+::interactive@{projects\+::self\+\_\+feeding\+::interactive}}
\subsubsection{\texorpdfstring{parser}{parser}}
{\footnotesize\ttfamily projects.\+self\+\_\+feeding.\+interactive.\+parser}



Definition at line 89 of file interactive.\+py.

\mbox{\Hypertarget{namespaceprojects_1_1self__feeding_1_1interactive_abdce103624ad6f29cbdcbff75674ccfc}\label{namespaceprojects_1_1self__feeding_1_1interactive_abdce103624ad6f29cbdcbff75674ccfc}} 
\index{projects\+::self\+\_\+feeding\+::interactive@{projects\+::self\+\_\+feeding\+::interactive}!print\+\_\+args@{print\+\_\+args}}
\index{print\+\_\+args@{print\+\_\+args}!projects\+::self\+\_\+feeding\+::interactive@{projects\+::self\+\_\+feeding\+::interactive}}
\subsubsection{\texorpdfstring{print\+\_\+args}{print\_args}}
{\footnotesize\ttfamily projects.\+self\+\_\+feeding.\+interactive.\+print\+\_\+args}



Definition at line 90 of file interactive.\+py.

\mbox{\Hypertarget{namespaceprojects_1_1self__feeding_1_1interactive_a066fbd25c1838df96d5bd360e85cf30b}\label{namespaceprojects_1_1self__feeding_1_1interactive_a066fbd25c1838df96d5bd360e85cf30b}} 
\index{projects\+::self\+\_\+feeding\+::interactive@{projects\+::self\+\_\+feeding\+::interactive}!print\+\_\+parser@{print\+\_\+parser}}
\index{print\+\_\+parser@{print\+\_\+parser}!projects\+::self\+\_\+feeding\+::interactive@{projects\+::self\+\_\+feeding\+::interactive}}
\subsubsection{\texorpdfstring{print\+\_\+parser}{print\_parser}}
{\footnotesize\ttfamily projects.\+self\+\_\+feeding.\+interactive.\+print\+\_\+parser}



Definition at line 90 of file interactive.\+py.

