\hypertarget{namespaceprojects_1_1personality__captions_1_1transresnet_1_1modules}{}\section{projects.\+personality\+\_\+captions.\+transresnet.\+modules Namespace Reference}
\label{namespaceprojects_1_1personality__captions_1_1transresnet_1_1modules}\index{projects.\+personality\+\_\+captions.\+transresnet.\+modules@{projects.\+personality\+\_\+captions.\+transresnet.\+modules}}
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \hyperlink{classprojects_1_1personality__captions_1_1transresnet_1_1modules_1_1LinearWrapper}{Linear\+Wrapper}
\item 
class \hyperlink{classprojects_1_1personality__captions_1_1transresnet_1_1modules_1_1TransresnetModel}{Transresnet\+Model}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{namespaceprojects_1_1personality__captions_1_1transresnet_1_1modules_a96bada548530832446cf3ca02442b9d4}{load\+\_\+fasttext\+\_\+embeddings} (dic, embedding\+\_\+dim, datapath)
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\mbox{\Hypertarget{namespaceprojects_1_1personality__captions_1_1transresnet_1_1modules_a96bada548530832446cf3ca02442b9d4}\label{namespaceprojects_1_1personality__captions_1_1transresnet_1_1modules_a96bada548530832446cf3ca02442b9d4}} 
\index{projects\+::personality\+\_\+captions\+::transresnet\+::modules@{projects\+::personality\+\_\+captions\+::transresnet\+::modules}!load\+\_\+fasttext\+\_\+embeddings@{load\+\_\+fasttext\+\_\+embeddings}}
\index{load\+\_\+fasttext\+\_\+embeddings@{load\+\_\+fasttext\+\_\+embeddings}!projects\+::personality\+\_\+captions\+::transresnet\+::modules@{projects\+::personality\+\_\+captions\+::transresnet\+::modules}}
\subsubsection{\texorpdfstring{load\+\_\+fasttext\+\_\+embeddings()}{load\_fasttext\_embeddings()}}
{\footnotesize\ttfamily def projects.\+personality\+\_\+captions.\+transresnet.\+modules.\+load\+\_\+fasttext\+\_\+embeddings (\begin{DoxyParamCaption}\item[{}]{dic,  }\item[{}]{embedding\+\_\+dim,  }\item[{}]{datapath }\end{DoxyParamCaption})}

\begin{DoxyVerb}Load weights from fasttext_cc and put them in embeddings.weights.
\end{DoxyVerb}
 

Definition at line 564 of file modules.\+py.


\begin{DoxyCode}
564 \textcolor{keyword}{def }\hyperlink{namespaceprojects_1_1personality__captions_1_1transresnet_1_1modules_a96bada548530832446cf3ca02442b9d4}{load\_fasttext\_embeddings}(dic, embedding\_dim, datapath):
565     \textcolor{stringliteral}{"""}
566 \textcolor{stringliteral}{    Load weights from fasttext\_cc and put them in embeddings.weights.}
567 \textcolor{stringliteral}{    """}
568     print(\textcolor{stringliteral}{'Initializing embeddings from fasttext\_cc'})
569     \textcolor{keyword}{from} \hyperlink{namespaceparlai_1_1zoo_1_1fasttext__cc__vectors_1_1build}{parlai.zoo.fasttext\_cc\_vectors.build} \textcolor{keyword}{import} download
570 
571     pretrained = \hyperlink{namespaceparlai_1_1core_1_1build__data_ab74f0e428f05e5d91fa93c8afb367622}{download}(datapath)
572     print(
573         \textcolor{stringliteral}{'Done Loading vectors from fasttext. \{\} embeddings loaded.'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(
574             len(pretrained)
575         )
576     )
577     used = 0
578     res = nn.Embedding(len(dic), embedding\_dim)
579     \textcolor{keywordflow}{for} word \textcolor{keywordflow}{in} dic.tok2ind.keys():
580         index = dic.tok2ind[word]
581         \textcolor{keywordflow}{if} word \textcolor{keywordflow}{in} pretrained \textcolor{keywordflow}{and} res.weight.data.shape[0] > index:
582             res.weight.data[index] = pretrained[word]
583             used += 1
584     print(\textcolor{stringliteral}{'\{\} have been initialized on pretrained over \{\} words'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(used, len(dic)))
585     \textcolor{keywordflow}{return} res
586 
587 
\end{DoxyCode}
