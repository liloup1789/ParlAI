\hypertarget{classparlai_1_1agents_1_1transformer_1_1biencoder_1_1AddLabelFixedCandsTRA}{}\section{parlai.\+agents.\+transformer.\+biencoder.\+Add\+Label\+Fixed\+Cands\+T\+RA Class Reference}
\label{classparlai_1_1agents_1_1transformer_1_1biencoder_1_1AddLabelFixedCandsTRA}\index{parlai.\+agents.\+transformer.\+biencoder.\+Add\+Label\+Fixed\+Cands\+T\+RA@{parlai.\+agents.\+transformer.\+biencoder.\+Add\+Label\+Fixed\+Cands\+T\+RA}}


Inheritance diagram for parlai.\+agents.\+transformer.\+biencoder.\+Add\+Label\+Fixed\+Cands\+T\+RA\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/ddc/classparlai_1_1agents_1_1transformer_1_1biencoder_1_1AddLabelFixedCandsTRA__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for parlai.\+agents.\+transformer.\+biencoder.\+Add\+Label\+Fixed\+Cands\+T\+RA\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=318pt]{de/d98/classparlai_1_1agents_1_1transformer_1_1biencoder_1_1AddLabelFixedCandsTRA__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{classparlai_1_1agents_1_1transformer_1_1biencoder_1_1AddLabelFixedCandsTRA_a591f1ad203927b07db58520a7295132c}{\+\_\+\+\_\+init\+\_\+\+\_\+} (self, \hyperlink{classparlai_1_1core_1_1torch__agent_1_1TorchAgent_a785bb920cf8c8afc3e9bf6a8b77e335a}{opt}, shared=None)
\item 
def \hyperlink{classparlai_1_1agents_1_1transformer_1_1biencoder_1_1AddLabelFixedCandsTRA_aa3b5febae0153e89349becb922758d0c}{add\+\_\+cmdline\+\_\+args} (cls, argparser)
\item 
def \hyperlink{classparlai_1_1agents_1_1transformer_1_1biencoder_1_1AddLabelFixedCandsTRA_ae051c7783bdd5e8b9ddc920059409b5d}{train\+\_\+step} (self, batch)
\item 
def \hyperlink{classparlai_1_1agents_1_1transformer_1_1biencoder_1_1AddLabelFixedCandsTRA_ae05059428f346f00e73289120ffb6c1e}{eval\+\_\+step} (self, batch)
\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classparlai_1_1agents_1_1transformer_1_1biencoder_1_1AddLabelFixedCandsTRA_a40cd2d8f3de8d9a749e0d79d8b1b6cd2}{add\+\_\+label\+\_\+to\+\_\+fixed\+\_\+cands}
\item 
\hyperlink{classparlai_1_1agents_1_1transformer_1_1biencoder_1_1AddLabelFixedCandsTRA_a65c3b776ca3b44522e25996123b9e603}{ignore\+\_\+bad\+\_\+candidates}
\item 
\hyperlink{classparlai_1_1agents_1_1transformer_1_1biencoder_1_1AddLabelFixedCandsTRA_a2a5ee2df4eec5a251ae914e29ec61915}{candidates}
\item 
\hyperlink{classparlai_1_1agents_1_1transformer_1_1biencoder_1_1AddLabelFixedCandsTRA_aac3972508d5b388456ee4945817cd48b}{fixed\+\_\+candidates}
\item 
\hyperlink{classparlai_1_1agents_1_1transformer_1_1biencoder_1_1AddLabelFixedCandsTRA_a099bbf8752cf33e6acbbb4c64edb4903}{eval\+\_\+candidates}
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
\begin{DoxyVerb}Override TorchRankerAgent to include label in fixed cands set.

Necessary for certain IR tasks where given candidate set does not contain example
labels.
\end{DoxyVerb}
 

Definition at line 12 of file biencoder.\+py.



\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classparlai_1_1agents_1_1transformer_1_1biencoder_1_1AddLabelFixedCandsTRA_a591f1ad203927b07db58520a7295132c}\label{classparlai_1_1agents_1_1transformer_1_1biencoder_1_1AddLabelFixedCandsTRA_a591f1ad203927b07db58520a7295132c}} 
\index{parlai\+::agents\+::transformer\+::biencoder\+::\+Add\+Label\+Fixed\+Cands\+T\+RA@{parlai\+::agents\+::transformer\+::biencoder\+::\+Add\+Label\+Fixed\+Cands\+T\+RA}!\+\_\+\+\_\+init\+\_\+\+\_\+@{\+\_\+\+\_\+init\+\_\+\+\_\+}}
\index{\+\_\+\+\_\+init\+\_\+\+\_\+@{\+\_\+\+\_\+init\+\_\+\+\_\+}!parlai\+::agents\+::transformer\+::biencoder\+::\+Add\+Label\+Fixed\+Cands\+T\+RA@{parlai\+::agents\+::transformer\+::biencoder\+::\+Add\+Label\+Fixed\+Cands\+T\+RA}}
\subsubsection{\texorpdfstring{\+\_\+\+\_\+init\+\_\+\+\_\+()}{\_\_init\_\_()}}
{\footnotesize\ttfamily def parlai.\+agents.\+transformer.\+biencoder.\+Add\+Label\+Fixed\+Cands\+T\+R\+A.\+\_\+\+\_\+init\+\_\+\+\_\+ (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{opt,  }\item[{}]{shared = {\ttfamily None} }\end{DoxyParamCaption})}



Definition at line 20 of file biencoder.\+py.


\begin{DoxyCode}
20     \textcolor{keyword}{def }\_\_init\_\_(self, opt, shared=None):
21         super().\_\_init\_\_(opt, shared)
22         self.add\_label\_to\_fixed\_cands = opt.get(\textcolor{stringliteral}{'add\_label\_to\_fixed\_cands'})
23         \textcolor{keywordflow}{if} self.add\_label\_to\_fixed\_cands:
24             self.ignore\_bad\_candidates = \textcolor{keyword}{True}
25 
\end{DoxyCode}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{classparlai_1_1agents_1_1transformer_1_1biencoder_1_1AddLabelFixedCandsTRA_aa3b5febae0153e89349becb922758d0c}\label{classparlai_1_1agents_1_1transformer_1_1biencoder_1_1AddLabelFixedCandsTRA_aa3b5febae0153e89349becb922758d0c}} 
\index{parlai\+::agents\+::transformer\+::biencoder\+::\+Add\+Label\+Fixed\+Cands\+T\+RA@{parlai\+::agents\+::transformer\+::biencoder\+::\+Add\+Label\+Fixed\+Cands\+T\+RA}!add\+\_\+cmdline\+\_\+args@{add\+\_\+cmdline\+\_\+args}}
\index{add\+\_\+cmdline\+\_\+args@{add\+\_\+cmdline\+\_\+args}!parlai\+::agents\+::transformer\+::biencoder\+::\+Add\+Label\+Fixed\+Cands\+T\+RA@{parlai\+::agents\+::transformer\+::biencoder\+::\+Add\+Label\+Fixed\+Cands\+T\+RA}}
\subsubsection{\texorpdfstring{add\+\_\+cmdline\+\_\+args()}{add\_cmdline\_args()}}
{\footnotesize\ttfamily def parlai.\+agents.\+transformer.\+biencoder.\+Add\+Label\+Fixed\+Cands\+T\+R\+A.\+add\+\_\+cmdline\+\_\+args (\begin{DoxyParamCaption}\item[{}]{cls,  }\item[{}]{argparser }\end{DoxyParamCaption})}

\begin{DoxyVerb}Override to include new arg.
\end{DoxyVerb}
 

Definition at line 27 of file biencoder.\+py.


\begin{DoxyCode}
27     \textcolor{keyword}{def }\hyperlink{namespaceparlai_1_1agents_1_1drqa_1_1config_a62fdd5554f1da6be0cba185271058320}{add\_cmdline\_args}(cls, argparser):
28         \textcolor{stringliteral}{"""}
29 \textcolor{stringliteral}{        Override to include new arg.}
30 \textcolor{stringliteral}{        """}
31         super(TorchRankerAgent, cls).\hyperlink{namespaceparlai_1_1agents_1_1drqa_1_1config_a62fdd5554f1da6be0cba185271058320}{add\_cmdline\_args}(argparser)
32         agent = argparser.add\_argument\_group(\textcolor{stringliteral}{'AddLabelFixedCandsTRA'})
33         agent.add\_argument(
34             \textcolor{stringliteral}{'--add-label-to-fixed-cands'},
35             type=\textcolor{stringliteral}{'bool'},
36             default=\textcolor{keyword}{True},
37             hidden=\textcolor{keyword}{True},
38             help=\textcolor{stringliteral}{'When true, adds an example label to the fixed candidate set '}
39             \textcolor{stringliteral}{'if not already present'},
40         )
41 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1agents_1_1transformer_1_1biencoder_1_1AddLabelFixedCandsTRA_ae05059428f346f00e73289120ffb6c1e}\label{classparlai_1_1agents_1_1transformer_1_1biencoder_1_1AddLabelFixedCandsTRA_ae05059428f346f00e73289120ffb6c1e}} 
\index{parlai\+::agents\+::transformer\+::biencoder\+::\+Add\+Label\+Fixed\+Cands\+T\+RA@{parlai\+::agents\+::transformer\+::biencoder\+::\+Add\+Label\+Fixed\+Cands\+T\+RA}!eval\+\_\+step@{eval\+\_\+step}}
\index{eval\+\_\+step@{eval\+\_\+step}!parlai\+::agents\+::transformer\+::biencoder\+::\+Add\+Label\+Fixed\+Cands\+T\+RA@{parlai\+::agents\+::transformer\+::biencoder\+::\+Add\+Label\+Fixed\+Cands\+T\+RA}}
\subsubsection{\texorpdfstring{eval\+\_\+step()}{eval\_step()}}
{\footnotesize\ttfamily def parlai.\+agents.\+transformer.\+biencoder.\+Add\+Label\+Fixed\+Cands\+T\+R\+A.\+eval\+\_\+step (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{batch }\end{DoxyParamCaption})}

\begin{DoxyVerb}Override to clean up candidates.
\end{DoxyVerb}
 

Definition at line 78 of file biencoder.\+py.


\begin{DoxyCode}
78     \textcolor{keyword}{def }eval\_step(self, batch):
79         \textcolor{stringliteral}{"""}
80 \textcolor{stringliteral}{        Override to clean up candidates.}
81 \textcolor{stringliteral}{        """}
82         output = super().eval\_step(batch)
83         \textcolor{keywordflow}{if} self.eval\_candidates == \textcolor{stringliteral}{'fixed'}:
84             self.fixed\_candidates = self.fixed\_candidates[: self.num\_fixed\_candidates]
85         \textcolor{keywordflow}{return} output
86 
87 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1agents_1_1transformer_1_1biencoder_1_1AddLabelFixedCandsTRA_ae051c7783bdd5e8b9ddc920059409b5d}\label{classparlai_1_1agents_1_1transformer_1_1biencoder_1_1AddLabelFixedCandsTRA_ae051c7783bdd5e8b9ddc920059409b5d}} 
\index{parlai\+::agents\+::transformer\+::biencoder\+::\+Add\+Label\+Fixed\+Cands\+T\+RA@{parlai\+::agents\+::transformer\+::biencoder\+::\+Add\+Label\+Fixed\+Cands\+T\+RA}!train\+\_\+step@{train\+\_\+step}}
\index{train\+\_\+step@{train\+\_\+step}!parlai\+::agents\+::transformer\+::biencoder\+::\+Add\+Label\+Fixed\+Cands\+T\+RA@{parlai\+::agents\+::transformer\+::biencoder\+::\+Add\+Label\+Fixed\+Cands\+T\+RA}}
\subsubsection{\texorpdfstring{train\+\_\+step()}{train\_step()}}
{\footnotesize\ttfamily def parlai.\+agents.\+transformer.\+biencoder.\+Add\+Label\+Fixed\+Cands\+T\+R\+A.\+train\+\_\+step (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{batch }\end{DoxyParamCaption})}

\begin{DoxyVerb}Override to clean up candidates.
\end{DoxyVerb}
 

Definition at line 69 of file biencoder.\+py.


\begin{DoxyCode}
69     \textcolor{keyword}{def }train\_step(self, batch):
70         \textcolor{stringliteral}{"""}
71 \textcolor{stringliteral}{        Override to clean up candidates.}
72 \textcolor{stringliteral}{        """}
73         output = super().train\_step(batch)
74         \textcolor{keywordflow}{if} self.candidates == \textcolor{stringliteral}{'fixed'}:
75             self.fixed\_candidates = self.fixed\_candidates[: self.num\_fixed\_candidates]
76         \textcolor{keywordflow}{return} output
77 
\end{DoxyCode}


\subsection{Member Data Documentation}
\mbox{\Hypertarget{classparlai_1_1agents_1_1transformer_1_1biencoder_1_1AddLabelFixedCandsTRA_a40cd2d8f3de8d9a749e0d79d8b1b6cd2}\label{classparlai_1_1agents_1_1transformer_1_1biencoder_1_1AddLabelFixedCandsTRA_a40cd2d8f3de8d9a749e0d79d8b1b6cd2}} 
\index{parlai\+::agents\+::transformer\+::biencoder\+::\+Add\+Label\+Fixed\+Cands\+T\+RA@{parlai\+::agents\+::transformer\+::biencoder\+::\+Add\+Label\+Fixed\+Cands\+T\+RA}!add\+\_\+label\+\_\+to\+\_\+fixed\+\_\+cands@{add\+\_\+label\+\_\+to\+\_\+fixed\+\_\+cands}}
\index{add\+\_\+label\+\_\+to\+\_\+fixed\+\_\+cands@{add\+\_\+label\+\_\+to\+\_\+fixed\+\_\+cands}!parlai\+::agents\+::transformer\+::biencoder\+::\+Add\+Label\+Fixed\+Cands\+T\+RA@{parlai\+::agents\+::transformer\+::biencoder\+::\+Add\+Label\+Fixed\+Cands\+T\+RA}}
\subsubsection{\texorpdfstring{add\+\_\+label\+\_\+to\+\_\+fixed\+\_\+cands}{add\_label\_to\_fixed\_cands}}
{\footnotesize\ttfamily parlai.\+agents.\+transformer.\+biencoder.\+Add\+Label\+Fixed\+Cands\+T\+R\+A.\+add\+\_\+label\+\_\+to\+\_\+fixed\+\_\+cands}



Definition at line 22 of file biencoder.\+py.

\mbox{\Hypertarget{classparlai_1_1agents_1_1transformer_1_1biencoder_1_1AddLabelFixedCandsTRA_a2a5ee2df4eec5a251ae914e29ec61915}\label{classparlai_1_1agents_1_1transformer_1_1biencoder_1_1AddLabelFixedCandsTRA_a2a5ee2df4eec5a251ae914e29ec61915}} 
\index{parlai\+::agents\+::transformer\+::biencoder\+::\+Add\+Label\+Fixed\+Cands\+T\+RA@{parlai\+::agents\+::transformer\+::biencoder\+::\+Add\+Label\+Fixed\+Cands\+T\+RA}!candidates@{candidates}}
\index{candidates@{candidates}!parlai\+::agents\+::transformer\+::biencoder\+::\+Add\+Label\+Fixed\+Cands\+T\+RA@{parlai\+::agents\+::transformer\+::biencoder\+::\+Add\+Label\+Fixed\+Cands\+T\+RA}}
\subsubsection{\texorpdfstring{candidates}{candidates}}
{\footnotesize\ttfamily parlai.\+agents.\+transformer.\+biencoder.\+Add\+Label\+Fixed\+Cands\+T\+R\+A.\+candidates}



Definition at line 74 of file biencoder.\+py.

\mbox{\Hypertarget{classparlai_1_1agents_1_1transformer_1_1biencoder_1_1AddLabelFixedCandsTRA_a099bbf8752cf33e6acbbb4c64edb4903}\label{classparlai_1_1agents_1_1transformer_1_1biencoder_1_1AddLabelFixedCandsTRA_a099bbf8752cf33e6acbbb4c64edb4903}} 
\index{parlai\+::agents\+::transformer\+::biencoder\+::\+Add\+Label\+Fixed\+Cands\+T\+RA@{parlai\+::agents\+::transformer\+::biencoder\+::\+Add\+Label\+Fixed\+Cands\+T\+RA}!eval\+\_\+candidates@{eval\+\_\+candidates}}
\index{eval\+\_\+candidates@{eval\+\_\+candidates}!parlai\+::agents\+::transformer\+::biencoder\+::\+Add\+Label\+Fixed\+Cands\+T\+RA@{parlai\+::agents\+::transformer\+::biencoder\+::\+Add\+Label\+Fixed\+Cands\+T\+RA}}
\subsubsection{\texorpdfstring{eval\+\_\+candidates}{eval\_candidates}}
{\footnotesize\ttfamily parlai.\+agents.\+transformer.\+biencoder.\+Add\+Label\+Fixed\+Cands\+T\+R\+A.\+eval\+\_\+candidates}



Definition at line 83 of file biencoder.\+py.

\mbox{\Hypertarget{classparlai_1_1agents_1_1transformer_1_1biencoder_1_1AddLabelFixedCandsTRA_aac3972508d5b388456ee4945817cd48b}\label{classparlai_1_1agents_1_1transformer_1_1biencoder_1_1AddLabelFixedCandsTRA_aac3972508d5b388456ee4945817cd48b}} 
\index{parlai\+::agents\+::transformer\+::biencoder\+::\+Add\+Label\+Fixed\+Cands\+T\+RA@{parlai\+::agents\+::transformer\+::biencoder\+::\+Add\+Label\+Fixed\+Cands\+T\+RA}!fixed\+\_\+candidates@{fixed\+\_\+candidates}}
\index{fixed\+\_\+candidates@{fixed\+\_\+candidates}!parlai\+::agents\+::transformer\+::biencoder\+::\+Add\+Label\+Fixed\+Cands\+T\+RA@{parlai\+::agents\+::transformer\+::biencoder\+::\+Add\+Label\+Fixed\+Cands\+T\+RA}}
\subsubsection{\texorpdfstring{fixed\+\_\+candidates}{fixed\_candidates}}
{\footnotesize\ttfamily parlai.\+agents.\+transformer.\+biencoder.\+Add\+Label\+Fixed\+Cands\+T\+R\+A.\+fixed\+\_\+candidates}



Definition at line 75 of file biencoder.\+py.

\mbox{\Hypertarget{classparlai_1_1agents_1_1transformer_1_1biencoder_1_1AddLabelFixedCandsTRA_a65c3b776ca3b44522e25996123b9e603}\label{classparlai_1_1agents_1_1transformer_1_1biencoder_1_1AddLabelFixedCandsTRA_a65c3b776ca3b44522e25996123b9e603}} 
\index{parlai\+::agents\+::transformer\+::biencoder\+::\+Add\+Label\+Fixed\+Cands\+T\+RA@{parlai\+::agents\+::transformer\+::biencoder\+::\+Add\+Label\+Fixed\+Cands\+T\+RA}!ignore\+\_\+bad\+\_\+candidates@{ignore\+\_\+bad\+\_\+candidates}}
\index{ignore\+\_\+bad\+\_\+candidates@{ignore\+\_\+bad\+\_\+candidates}!parlai\+::agents\+::transformer\+::biencoder\+::\+Add\+Label\+Fixed\+Cands\+T\+RA@{parlai\+::agents\+::transformer\+::biencoder\+::\+Add\+Label\+Fixed\+Cands\+T\+RA}}
\subsubsection{\texorpdfstring{ignore\+\_\+bad\+\_\+candidates}{ignore\_bad\_candidates}}
{\footnotesize\ttfamily parlai.\+agents.\+transformer.\+biencoder.\+Add\+Label\+Fixed\+Cands\+T\+R\+A.\+ignore\+\_\+bad\+\_\+candidates}



Definition at line 24 of file biencoder.\+py.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
parlai/agents/transformer/\hyperlink{biencoder_8py}{biencoder.\+py}\end{DoxyCompactItemize}
