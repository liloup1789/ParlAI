\hypertarget{namespaceparlai_1_1mturk_1_1core_1_1dev_1_1server__utils}{}\section{parlai.\+mturk.\+core.\+dev.\+server\+\_\+utils Namespace Reference}
\label{namespaceparlai_1_1mturk_1_1core_1_1dev_1_1server__utils}\index{parlai.\+mturk.\+core.\+dev.\+server\+\_\+utils@{parlai.\+mturk.\+core.\+dev.\+server\+\_\+utils}}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{namespaceparlai_1_1mturk_1_1core_1_1dev_1_1server__utils_ab2ee72bd56197de749229032b05254da}{compile\+\_\+server} (task\+\_\+files\+\_\+to\+\_\+copy, task\+\_\+name, tmp\+\_\+dir)
\item 
def \hyperlink{namespaceparlai_1_1mturk_1_1core_1_1dev_1_1server__utils_a138743e96f495bce1535782ffa0f38bf}{setup\+\_\+heroku\+\_\+server} (task\+\_\+name, task\+\_\+files\+\_\+to\+\_\+copy=None, heroku\+\_\+team=None, use\+\_\+hobby=False, tmp\+\_\+dir=\hyperlink{namespaceparlai_1_1mturk_1_1core_1_1dev_1_1server__utils_a432ae14c0d872fbfebe4d9b7d73d13b9}{parent\+\_\+dir})
\item 
def \hyperlink{namespaceparlai_1_1mturk_1_1core_1_1dev_1_1server__utils_a876e990f1f5e670ff9c89869bdd1f1f6}{delete\+\_\+heroku\+\_\+server} (task\+\_\+name, tmp\+\_\+dir=\hyperlink{namespaceparlai_1_1mturk_1_1core_1_1dev_1_1server__utils_a432ae14c0d872fbfebe4d9b7d73d13b9}{parent\+\_\+dir})
\item 
def \hyperlink{namespaceparlai_1_1mturk_1_1core_1_1dev_1_1server__utils_a914cced79fceeef08836d69d91e2d683}{setup\+\_\+local\+\_\+server} (task\+\_\+name, task\+\_\+files\+\_\+to\+\_\+copy=None, tmp\+\_\+dir=\hyperlink{namespaceparlai_1_1mturk_1_1core_1_1dev_1_1server__utils_a432ae14c0d872fbfebe4d9b7d73d13b9}{parent\+\_\+dir})
\item 
def \hyperlink{namespaceparlai_1_1mturk_1_1core_1_1dev_1_1server__utils_aa5556bd5a5a417d78b4142e697e9a6be}{delete\+\_\+local\+\_\+server} (task\+\_\+name)
\item 
def \hyperlink{namespaceparlai_1_1mturk_1_1core_1_1dev_1_1server__utils_a13d7101c43eceb479444919d4e5f49fe}{setup\+\_\+server} (task\+\_\+name, task\+\_\+files\+\_\+to\+\_\+copy, local=False, heroku\+\_\+team=None, use\+\_\+hobby=False, legacy=True, tmp\+\_\+dir=\hyperlink{namespaceparlai_1_1mturk_1_1core_1_1dev_1_1server__utils_a432ae14c0d872fbfebe4d9b7d73d13b9}{parent\+\_\+dir})
\item 
def \hyperlink{namespaceparlai_1_1mturk_1_1core_1_1dev_1_1server__utils_a3e5b4105c54a289108a8a240aa9b9043}{delete\+\_\+server} (task\+\_\+name, local=False, tmp\+\_\+dir=\hyperlink{namespaceparlai_1_1mturk_1_1core_1_1dev_1_1server__utils_a432ae14c0d872fbfebe4d9b7d73d13b9}{parent\+\_\+dir})
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\hyperlink{namespaceparlai_1_1mturk_1_1core_1_1dev_1_1server__utils_a1296f9955931a495c136b4e5adc55ef4}{region\+\_\+name}
\item 
\hyperlink{namespaceparlai_1_1mturk_1_1core_1_1dev_1_1server__utils_aa1c891d191a109c1941a85bf62bd4888}{user\+\_\+name}
\item 
\hyperlink{namespaceparlai_1_1mturk_1_1core_1_1dev_1_1server__utils_a432ae14c0d872fbfebe4d9b7d73d13b9}{parent\+\_\+dir}
\item 
\hyperlink{namespaceparlai_1_1mturk_1_1core_1_1dev_1_1server__utils_a46ccde750e304e482adb853bd5c8a852}{server\+\_\+source\+\_\+directory\+\_\+name}
\item 
\hyperlink{namespaceparlai_1_1mturk_1_1core_1_1dev_1_1server__utils_aba21b4850601de4b9921fbf9c5203f92}{heroku\+\_\+server\+\_\+directory\+\_\+name}
\item 
\hyperlink{namespaceparlai_1_1mturk_1_1core_1_1dev_1_1server__utils_a4d18f7fe8131d14e8f0435255b8268a4}{local\+\_\+server\+\_\+directory\+\_\+name}
\item 
\hyperlink{namespaceparlai_1_1mturk_1_1core_1_1dev_1_1server__utils_ae71b53e922b563ae56983df0dd2585e8}{task\+\_\+directory\+\_\+name}
\item 
\hyperlink{namespaceparlai_1_1mturk_1_1core_1_1dev_1_1server__utils_a493aaab7f9dc87be1fc68c9f35bf71fd}{server\+\_\+process}
\item 
\hyperlink{namespaceparlai_1_1mturk_1_1core_1_1dev_1_1server__utils_aff181eda81e07ca80bfee2581a16a016}{heroku\+\_\+url}
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\mbox{\Hypertarget{namespaceparlai_1_1mturk_1_1core_1_1dev_1_1server__utils_ab2ee72bd56197de749229032b05254da}\label{namespaceparlai_1_1mturk_1_1core_1_1dev_1_1server__utils_ab2ee72bd56197de749229032b05254da}} 
\index{parlai\+::mturk\+::core\+::dev\+::server\+\_\+utils@{parlai\+::mturk\+::core\+::dev\+::server\+\_\+utils}!compile\+\_\+server@{compile\+\_\+server}}
\index{compile\+\_\+server@{compile\+\_\+server}!parlai\+::mturk\+::core\+::dev\+::server\+\_\+utils@{parlai\+::mturk\+::core\+::dev\+::server\+\_\+utils}}
\subsubsection{\texorpdfstring{compile\+\_\+server()}{compile\_server()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+dev.\+server\+\_\+utils.\+compile\+\_\+server (\begin{DoxyParamCaption}\item[{}]{task\+\_\+files\+\_\+to\+\_\+copy,  }\item[{}]{task\+\_\+name,  }\item[{}]{tmp\+\_\+dir }\end{DoxyParamCaption})}



Definition at line 34 of file server\+\_\+utils.\+py.


\begin{DoxyCode}
34 \textcolor{keyword}{def }\hyperlink{namespaceparlai_1_1mturk_1_1core_1_1dev_1_1server__utils_ab2ee72bd56197de749229032b05254da}{compile\_server}(task\_files\_to\_copy, task\_name, tmp\_dir):
35     print(\textcolor{stringliteral}{'Building server files...'})
36     server\_source\_directory\_path = os.path.join(
37         parent\_dir, server\_source\_directory\_name
38     )
39     heroku\_server\_development\_path = os.path.join(
40         tmp\_dir, \textcolor{stringliteral}{'\{\}\_\{\}'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(heroku\_server\_directory\_name, task\_name)
41     )
42 
43     \textcolor{comment}{# Delete old server files}
44     sh.rm(shlex.split(\textcolor{stringliteral}{'-rf '} + heroku\_server\_development\_path))
45 
46     \textcolor{comment}{# Copy over a clean copy into the server directory}
47     shutil.copytree(server\_source\_directory\_path, heroku\_server\_development\_path)
48 
49     \textcolor{comment}{# Check to see if we need to build}
50     custom\_component\_dir = os.path.join(
51         heroku\_server\_development\_path, \textcolor{stringliteral}{'dev'}, \textcolor{stringliteral}{'components'}, \textcolor{stringliteral}{'built\_custom\_components'}
52     )
53     \textcolor{keywordflow}{if} task\_files\_to\_copy[\textcolor{stringliteral}{'needs\_build'}] \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}:
54         \textcolor{comment}{# Build the directory, then pull the custom component out.}
55         print(\textcolor{stringliteral}{'Build: Detected custom package.json, prepping build'})
56         task\_files\_to\_copy[\textcolor{stringliteral}{'components'}] = []
57 
58         frontend\_dir = task\_files\_to\_copy[\textcolor{stringliteral}{'needs\_build'}]
59 
60         sh.rm(shlex.split(\textcolor{stringliteral}{'-rf '} + custom\_component\_dir))
61         shutil.copytree(frontend\_dir, custom\_component\_dir)
62 
63         os.chdir(heroku\_server\_development\_path)
64         packages\_installed = subprocess.call([\textcolor{stringliteral}{'npm'}, \textcolor{stringliteral}{'install'}, custom\_component\_dir])
65         \textcolor{keywordflow}{if} packages\_installed != 0:
66             \textcolor{keywordflow}{raise} Exception(
67                 \textcolor{stringliteral}{'please make sure npm is installed, otherwise view'}
68                 \textcolor{stringliteral}{' the above error for more info.'}
69             )
70 
71         os.chdir(custom\_component\_dir)
72 
73         webpack\_complete = subprocess.call([\textcolor{stringliteral}{'npm'}, \textcolor{stringliteral}{'run'}, \textcolor{stringliteral}{'dev'}])
74         \textcolor{keywordflow}{if} webpack\_complete != 0:
75             \textcolor{keywordflow}{raise} Exception(
76                 \textcolor{stringliteral}{'Webpack appears to have failed to build your '}
77                 \textcolor{stringliteral}{'custom components. See the above for more info.'}
78             )
79     \textcolor{keywordflow}{else}:
80         os.chdir(heroku\_server\_development\_path)
81         packages\_installed = subprocess.call([\textcolor{stringliteral}{'npm'}, \textcolor{stringliteral}{'install'}, custom\_component\_dir])
82         \textcolor{keywordflow}{if} packages\_installed != 0:
83             \textcolor{keywordflow}{raise} Exception(
84                 \textcolor{stringliteral}{'please make sure npm is installed, otherwise view'}
85                 \textcolor{stringliteral}{' the above error for more info.'}
86             )
87 
88     \textcolor{comment}{# Move dev resource files to their correct places}
89     \textcolor{keywordflow}{for} resource\_type \textcolor{keywordflow}{in} [\textcolor{stringliteral}{'css'}, \textcolor{stringliteral}{'components'}]:
90         target\_resource\_dir = os.path.join(
91             heroku\_server\_development\_path, \textcolor{stringliteral}{'dev'}, resource\_type
92         )
93         \textcolor{keywordflow}{for} file\_path \textcolor{keywordflow}{in} task\_files\_to\_copy[resource\_type]:
94             \textcolor{keywordflow}{try}:
95                 file\_name = os.path.basename(file\_path)
96                 target\_path = os.path.join(target\_resource\_dir, file\_name)
97                 print(\textcolor{stringliteral}{'copying \{\} to \{\}'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(file\_path, target\_path))
98                 shutil.copy2(file\_path, target\_path)
99             \textcolor{keywordflow}{except} IsADirectoryError:  \textcolor{comment}{# noqa: F821}
100                 dir\_name = os.path.basename(os.path.normpath(file\_path))
101                 shutil.copytree(file\_path, os.path.join(target\_resource\_dir, dir\_name))
102             \textcolor{keywordflow}{except} FileNotFoundError:  \textcolor{comment}{# noqa: F821}
103                 \textcolor{keywordflow}{pass}
104 
105     \textcolor{comment}{# Compile the frontend}
106     os.chdir(heroku\_server\_development\_path)
107 
108     packages\_installed = subprocess.call([\textcolor{stringliteral}{'npm'}, \textcolor{stringliteral}{'install'}])
109     \textcolor{keywordflow}{if} packages\_installed != 0:
110         \textcolor{keywordflow}{raise} Exception(
111             \textcolor{stringliteral}{'please make sure npm is installed, otherwise view '}
112             \textcolor{stringliteral}{'the above error for more info.'}
113         )
114 
115     webpack\_complete = subprocess.call([\textcolor{stringliteral}{'npm'}, \textcolor{stringliteral}{'run'}, \textcolor{stringliteral}{'dev'}])
116     \textcolor{keywordflow}{if} webpack\_complete != 0:
117         \textcolor{keywordflow}{raise} Exception(
118             \textcolor{stringliteral}{'Webpack appears to have failed to build your '}
119             \textcolor{stringliteral}{'frontend. See the above error for more information.'}
120         )
121 
122     \textcolor{comment}{# all the important files should've been moved to bundle.js in}
123     \textcolor{comment}{# server/static, now copy the rest into static}
124     target\_resource\_dir = os.path.join(
125         heroku\_server\_development\_path, \textcolor{stringliteral}{'server'}, \textcolor{stringliteral}{'static'}
126     )
127     \textcolor{keywordflow}{for} file\_path \textcolor{keywordflow}{in} task\_files\_to\_copy[\textcolor{stringliteral}{'static'}]:
128         \textcolor{keywordflow}{try}:
129             file\_name = os.path.basename(file\_path)
130             target\_path = os.path.join(target\_resource\_dir, file\_name)
131             shutil.copy2(file\_path, target\_path)
132         \textcolor{keywordflow}{except} IsADirectoryError:  \textcolor{comment}{# noqa: F821 we don't support python2}
133             dir\_name = os.path.basename(os.path.normpath(file\_path))
134             shutil.copytree(file\_path, os.path.join(target\_resource\_dir, dir\_name))
135         \textcolor{keywordflow}{except} FileNotFoundError:  \textcolor{comment}{# noqa: F821 we don't support python2}
136             \textcolor{keywordflow}{pass}
137 
138     hit\_config\_file\_path = os.path.join(tmp\_dir, \textcolor{stringliteral}{'hit\_config.json'})
139     sh.mv(hit\_config\_file\_path, target\_resource\_dir)
140     \textcolor{keywordflow}{return} heroku\_server\_development\_path
141 
142 
\end{DoxyCode}
\mbox{\Hypertarget{namespaceparlai_1_1mturk_1_1core_1_1dev_1_1server__utils_a876e990f1f5e670ff9c89869bdd1f1f6}\label{namespaceparlai_1_1mturk_1_1core_1_1dev_1_1server__utils_a876e990f1f5e670ff9c89869bdd1f1f6}} 
\index{parlai\+::mturk\+::core\+::dev\+::server\+\_\+utils@{parlai\+::mturk\+::core\+::dev\+::server\+\_\+utils}!delete\+\_\+heroku\+\_\+server@{delete\+\_\+heroku\+\_\+server}}
\index{delete\+\_\+heroku\+\_\+server@{delete\+\_\+heroku\+\_\+server}!parlai\+::mturk\+::core\+::dev\+::server\+\_\+utils@{parlai\+::mturk\+::core\+::dev\+::server\+\_\+utils}}
\subsubsection{\texorpdfstring{delete\+\_\+heroku\+\_\+server()}{delete\_heroku\_server()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+dev.\+server\+\_\+utils.\+delete\+\_\+heroku\+\_\+server (\begin{DoxyParamCaption}\item[{}]{task\+\_\+name,  }\item[{}]{tmp\+\_\+dir = {\ttfamily \hyperlink{namespaceparlai_1_1mturk_1_1core_1_1dev_1_1server__utils_a432ae14c0d872fbfebe4d9b7d73d13b9}{parent\+\_\+dir}} }\end{DoxyParamCaption})}



Definition at line 300 of file server\+\_\+utils.\+py.


\begin{DoxyCode}
300 \textcolor{keyword}{def }\hyperlink{namespaceparlai_1_1mturk_1_1core_1_1server__utils_a8dfde882f9d6ff492ca565ae2334fc70}{delete\_heroku\_server}(task\_name, tmp\_dir=parent\_dir):
301     heroku\_directory\_name = glob.glob(os.path.join(tmp\_dir, \textcolor{stringliteral}{'heroku-cli-*'}))[0]
302     heroku\_directory\_path = os.path.join(tmp\_dir, heroku\_directory\_name)
303     heroku\_executable\_path = os.path.join(heroku\_directory\_path, \textcolor{stringliteral}{'bin'}, \textcolor{stringliteral}{'heroku'})
304 
305     heroku\_user\_identifier = netrc.netrc(
306         os.path.join(os.path.expanduser(\textcolor{stringliteral}{"~"}), \textcolor{stringliteral}{'.netrc'})
307     ).hosts[\textcolor{stringliteral}{'api.heroku.com'}][0]
308 
309     heroku\_app\_name = (
310         \textcolor{stringliteral}{'\{\}-\{\}-\{\}'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(
311             user\_name,
312             task\_name,
313             hashlib.md5(heroku\_user\_identifier.encode(\textcolor{stringliteral}{'utf-8'})).hexdigest(),
314         )
315     )[:30]
316     \textcolor{keywordflow}{while} heroku\_app\_name[-1] == \textcolor{stringliteral}{'-'}:
317         heroku\_app\_name = heroku\_app\_name[:-1]
318     print(\textcolor{stringliteral}{"Heroku: Deleting server: \{\}"}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(heroku\_app\_name))
319     subprocess.check\_output(
320         shlex.split(
321             \textcolor{stringliteral}{'\{\} destroy \{\} --confirm \{\}'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(
322                 heroku\_executable\_path, heroku\_app\_name, heroku\_app\_name
323             )
324         )
325     )
326 
327 
\end{DoxyCode}
\mbox{\Hypertarget{namespaceparlai_1_1mturk_1_1core_1_1dev_1_1server__utils_aa5556bd5a5a417d78b4142e697e9a6be}\label{namespaceparlai_1_1mturk_1_1core_1_1dev_1_1server__utils_aa5556bd5a5a417d78b4142e697e9a6be}} 
\index{parlai\+::mturk\+::core\+::dev\+::server\+\_\+utils@{parlai\+::mturk\+::core\+::dev\+::server\+\_\+utils}!delete\+\_\+local\+\_\+server@{delete\+\_\+local\+\_\+server}}
\index{delete\+\_\+local\+\_\+server@{delete\+\_\+local\+\_\+server}!parlai\+::mturk\+::core\+::dev\+::server\+\_\+utils@{parlai\+::mturk\+::core\+::dev\+::server\+\_\+utils}}
\subsubsection{\texorpdfstring{delete\+\_\+local\+\_\+server()}{delete\_local\_server()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+dev.\+server\+\_\+utils.\+delete\+\_\+local\+\_\+server (\begin{DoxyParamCaption}\item[{}]{task\+\_\+name }\end{DoxyParamCaption})}



Definition at line 353 of file server\+\_\+utils.\+py.


\begin{DoxyCode}
353 \textcolor{keyword}{def }\hyperlink{namespaceparlai_1_1mturk_1_1core_1_1server__utils_a9b4f4c3f696be001c2fa96b3690af83c}{delete\_local\_server}(task\_name):
354     \textcolor{keyword}{global} server\_process
355     print(\textcolor{stringliteral}{'Terminating server'})
356     server\_process.terminate()
357     server\_process.wait()
358     print(\textcolor{stringliteral}{'Cleaning temp directory'})
359 
360     local\_server\_directory\_path = os.path.join(
361         parent\_dir, \textcolor{stringliteral}{'\{\}\_\{\}'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(local\_server\_directory\_name, task\_name)
362     )
363     sh.rm(shlex.split(\textcolor{stringliteral}{'-rf \{\}'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(local\_server\_directory\_path)))
364 
365 
\end{DoxyCode}
\mbox{\Hypertarget{namespaceparlai_1_1mturk_1_1core_1_1dev_1_1server__utils_a3e5b4105c54a289108a8a240aa9b9043}\label{namespaceparlai_1_1mturk_1_1core_1_1dev_1_1server__utils_a3e5b4105c54a289108a8a240aa9b9043}} 
\index{parlai\+::mturk\+::core\+::dev\+::server\+\_\+utils@{parlai\+::mturk\+::core\+::dev\+::server\+\_\+utils}!delete\+\_\+server@{delete\+\_\+server}}
\index{delete\+\_\+server@{delete\+\_\+server}!parlai\+::mturk\+::core\+::dev\+::server\+\_\+utils@{parlai\+::mturk\+::core\+::dev\+::server\+\_\+utils}}
\subsubsection{\texorpdfstring{delete\+\_\+server()}{delete\_server()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+dev.\+server\+\_\+utils.\+delete\+\_\+server (\begin{DoxyParamCaption}\item[{}]{task\+\_\+name,  }\item[{}]{local = {\ttfamily False},  }\item[{}]{tmp\+\_\+dir = {\ttfamily \hyperlink{namespaceparlai_1_1mturk_1_1core_1_1dev_1_1server__utils_a432ae14c0d872fbfebe4d9b7d73d13b9}{parent\+\_\+dir}} }\end{DoxyParamCaption})}



Definition at line 388 of file server\+\_\+utils.\+py.


\begin{DoxyCode}
388 \textcolor{keyword}{def }\hyperlink{namespaceparlai_1_1mturk_1_1core_1_1server__utils_a3c7c1d82bd4d26eb98ce9711de3cca7c}{delete\_server}(task\_name, local=False, tmp\_dir=parent\_dir):
389     \textcolor{keywordflow}{if} local:
390         \hyperlink{namespaceparlai_1_1mturk_1_1core_1_1server__utils_a9b4f4c3f696be001c2fa96b3690af83c}{delete\_local\_server}(task\_name)
391     \textcolor{keywordflow}{else}:
392         \hyperlink{namespaceparlai_1_1mturk_1_1core_1_1server__utils_a8dfde882f9d6ff492ca565ae2334fc70}{delete\_heroku\_server}(task\_name, tmp\_dir)
393 \end{DoxyCode}
\mbox{\Hypertarget{namespaceparlai_1_1mturk_1_1core_1_1dev_1_1server__utils_a138743e96f495bce1535782ffa0f38bf}\label{namespaceparlai_1_1mturk_1_1core_1_1dev_1_1server__utils_a138743e96f495bce1535782ffa0f38bf}} 
\index{parlai\+::mturk\+::core\+::dev\+::server\+\_\+utils@{parlai\+::mturk\+::core\+::dev\+::server\+\_\+utils}!setup\+\_\+heroku\+\_\+server@{setup\+\_\+heroku\+\_\+server}}
\index{setup\+\_\+heroku\+\_\+server@{setup\+\_\+heroku\+\_\+server}!parlai\+::mturk\+::core\+::dev\+::server\+\_\+utils@{parlai\+::mturk\+::core\+::dev\+::server\+\_\+utils}}
\subsubsection{\texorpdfstring{setup\+\_\+heroku\+\_\+server()}{setup\_heroku\_server()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+dev.\+server\+\_\+utils.\+setup\+\_\+heroku\+\_\+server (\begin{DoxyParamCaption}\item[{}]{task\+\_\+name,  }\item[{}]{task\+\_\+files\+\_\+to\+\_\+copy = {\ttfamily None},  }\item[{}]{heroku\+\_\+team = {\ttfamily None},  }\item[{}]{use\+\_\+hobby = {\ttfamily False},  }\item[{}]{tmp\+\_\+dir = {\ttfamily \hyperlink{namespaceparlai_1_1mturk_1_1core_1_1dev_1_1server__utils_a432ae14c0d872fbfebe4d9b7d73d13b9}{parent\+\_\+dir}} }\end{DoxyParamCaption})}



Definition at line 149 of file server\+\_\+utils.\+py.


\begin{DoxyCode}
149 ):
150 
151     print(\textcolor{stringliteral}{"Locating heroku..."})
152     \textcolor{comment}{# Install Heroku CLI}
153     os\_name = \textcolor{keywordtype}{None}
154     bit\_architecture = \textcolor{keywordtype}{None}
155 
156     \textcolor{comment}{# Get the platform we are working on}
157     platform\_info = platform.platform()
158     \textcolor{keywordflow}{if} \textcolor{stringliteral}{'Darwin'} \textcolor{keywordflow}{in} platform\_info:  \textcolor{comment}{# Mac OS X}
159         os\_name = \textcolor{stringliteral}{'darwin'}
160     \textcolor{keywordflow}{elif} \textcolor{stringliteral}{'Linux'} \textcolor{keywordflow}{in} platform\_info:  \textcolor{comment}{# Linux}
161         os\_name = \textcolor{stringliteral}{'linux'}
162     \textcolor{keywordflow}{else}:
163         os\_name = \textcolor{stringliteral}{'windows'}
164 
165     \textcolor{comment}{# Find our architecture}
166     bit\_architecture\_info = platform.architecture()[0]
167     \textcolor{keywordflow}{if} \textcolor{stringliteral}{'64bit'} \textcolor{keywordflow}{in} bit\_architecture\_info:
168         bit\_architecture = \textcolor{stringliteral}{'x64'}
169     \textcolor{keywordflow}{else}:
170         bit\_architecture = \textcolor{stringliteral}{'x86'}
171 
172     \textcolor{comment}{# Remove existing heroku client files}
173     existing\_heroku\_directory\_names = glob.glob(os.path.join(tmp\_dir, \textcolor{stringliteral}{'heroku-cli-*'}))
174     \textcolor{keywordflow}{if} len(existing\_heroku\_directory\_names) == 0:
175         print(\textcolor{stringliteral}{'Getting heroku'})
176         \textcolor{keywordflow}{if} os.path.exists(os.path.join(tmp\_dir, \textcolor{stringliteral}{'heroku.tar.gz'})):
177             os.remove(os.path.join(tmp\_dir, \textcolor{stringliteral}{'heroku.tar.gz'}))
178 
179         \textcolor{comment}{# Get the heroku client and unzip}
180         os.chdir(tmp\_dir)
181         sh.wget(
182             shlex.split(
183                 \textcolor{stringliteral}{'\{\}-\{\}-\{\}.tar.gz -O heroku.tar.gz'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(
184                     heroku\_url, os\_name, bit\_architecture
185                 )
186             )
187         )
188         sh.tar(shlex.split(\textcolor{stringliteral}{'-xvzf heroku.tar.gz'}))
189 
190     heroku\_directory\_name = glob.glob(os.path.join(tmp\_dir, \textcolor{stringliteral}{'heroku-cli-*'}))[0]
191     heroku\_directory\_path = os.path.join(tmp\_dir, heroku\_directory\_name)
192     heroku\_executable\_path = os.path.join(heroku\_directory\_path, \textcolor{stringliteral}{'bin'}, \textcolor{stringliteral}{'heroku'})
193 
194     server\_dir = \hyperlink{namespaceparlai_1_1mturk_1_1core_1_1dev_1_1server__utils_ab2ee72bd56197de749229032b05254da}{compile\_server}(task\_files\_to\_copy, task\_name, tmp\_dir)
195 
196     print(\textcolor{stringliteral}{"Heroku: Starting server..."})
197 
198     heroku\_server\_directory\_path = os.path.join(server\_dir, \textcolor{stringliteral}{'server'})
199     os.chdir(heroku\_server\_directory\_path)
200     sh.git(\textcolor{stringliteral}{'init'})
201 
202     \textcolor{comment}{# get heroku credentials}
203     heroku\_user\_identifier = \textcolor{keywordtype}{None}
204     \textcolor{keywordflow}{while} \textcolor{keywordflow}{not} heroku\_user\_identifier:
205         \textcolor{keywordflow}{try}:
206             subprocess.check\_output(shlex.split(heroku\_executable\_path + \textcolor{stringliteral}{' auth:token'}))
207             heroku\_user\_identifier = netrc.netrc(
208                 os.path.join(os.path.expanduser(\textcolor{stringliteral}{"~"}), \textcolor{stringliteral}{'.netrc'})
209             ).hosts[\textcolor{stringliteral}{'api.heroku.com'}][0]
210         \textcolor{keywordflow}{except} subprocess.CalledProcessError:
211             \textcolor{keywordflow}{raise} SystemExit(
212                 \textcolor{stringliteral}{'A free Heroku account is required for launching MTurk tasks. '}
213                 \textcolor{stringliteral}{'Please register at https://signup.heroku.com/ and run `\{\} '}
214                 \textcolor{stringliteral}{'login` at the terminal to login to Heroku, and then run this '}
215                 \textcolor{stringliteral}{'program again.'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(heroku\_executable\_path)
216             )
217 
218     heroku\_app\_name = (
219         \textcolor{stringliteral}{'\{\}-\{\}-\{\}'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(
220             user\_name,
221             task\_name,
222             hashlib.md5(heroku\_user\_identifier.encode(\textcolor{stringliteral}{'utf-8'})).hexdigest(),
223         )
224     )[:30]
225 
226     \textcolor{keywordflow}{while} heroku\_app\_name[-1] == \textcolor{stringliteral}{'-'}:
227         heroku\_app\_name = heroku\_app\_name[:-1]
228 
229     \textcolor{comment}{# Create or attach to the server}
230     \textcolor{keywordflow}{try}:
231         \textcolor{keywordflow}{if} heroku\_team \textcolor{keywordflow}{is} \textcolor{keywordflow}{not} \textcolor{keywordtype}{None}:
232             subprocess.check\_output(
233                 shlex.split(
234                     \textcolor{stringliteral}{'\{\} create \{\} --team \{\}'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(
235                         heroku\_executable\_path, heroku\_app\_name, heroku\_team
236                     )
237                 )
238             )
239         \textcolor{keywordflow}{else}:
240             subprocess.check\_output(
241                 shlex.split(
242                     \textcolor{stringliteral}{'\{\} create \{\}'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(heroku\_executable\_path, heroku\_app\_name)
243                 )
244             )
245     \textcolor{keywordflow}{except} subprocess.CalledProcessError:  \textcolor{comment}{# User has too many apps}
246         sh.rm(shlex.split(\textcolor{stringliteral}{'-rf \{\}'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(heroku\_server\_directory\_path)))
247         \textcolor{keywordflow}{raise} SystemExit(
248             \textcolor{stringliteral}{'You have hit your limit on concurrent apps with heroku, which are'}
249             \textcolor{stringliteral}{' required to run multiple concurrent tasks.\(\backslash\)nPlease wait for some'}
250             \textcolor{stringliteral}{' of your existing tasks to complete. If you have no tasks '}
251             \textcolor{stringliteral}{'running, login to heroku and delete some of the running apps or '}
252             \textcolor{stringliteral}{'verify your account to allow more concurrent apps'}
253         )
254 
255     \textcolor{comment}{# Enable WebSockets}
256     \textcolor{keywordflow}{try}:
257         subprocess.check\_output(
258             shlex.split(
259                 \textcolor{stringliteral}{'\{\} features:enable http-session-affinity'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(
260                     heroku\_executable\_path
261                 )
262             )
263         )
264     \textcolor{keywordflow}{except} subprocess.CalledProcessError:  \textcolor{comment}{# Already enabled WebSockets}
265         \textcolor{keywordflow}{pass}
266 
267     \textcolor{comment}{# commit and push to the heroku server}
268     os.chdir(heroku\_server\_directory\_path)
269     sh.git(shlex.split(\textcolor{stringliteral}{'add -A'}))
270     sh.git(shlex.split(\textcolor{stringliteral}{'commit -m "app"'}))
271     sh.git(shlex.split(\textcolor{stringliteral}{'push -f heroku master'}))
272 
273     subprocess.check\_output(
274         shlex.split(\textcolor{stringliteral}{'\{\} ps:scale web=1'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(heroku\_executable\_path))
275     )
276 
277     \textcolor{keywordflow}{if} use\_hobby:
278         \textcolor{keywordflow}{try}:
279             subprocess.check\_output(
280                 shlex.split(\textcolor{stringliteral}{'\{\} dyno:type Hobby'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(heroku\_executable\_path))
281             )
282         \textcolor{keywordflow}{except} subprocess.CalledProcessError:  \textcolor{comment}{# User doesn't have hobby access}
283             \hyperlink{namespaceparlai_1_1mturk_1_1core_1_1server__utils_a8dfde882f9d6ff492ca565ae2334fc70}{delete\_heroku\_server}(task\_name)
284             sh.rm(shlex.split(\textcolor{stringliteral}{'-rf \{\}'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(heroku\_server\_directory\_path)))
285             \textcolor{keywordflow}{raise} SystemExit(
286                 \textcolor{stringliteral}{'Server launched with hobby flag but account cannot create '}
287                 \textcolor{stringliteral}{'hobby servers.'}
288             )
289     os.chdir(parent\_dir)
290 
291     \textcolor{comment}{# Clean up heroku files}
292     \textcolor{keywordflow}{if} os.path.exists(os.path.join(tmp\_dir, \textcolor{stringliteral}{'heroku.tar.gz'})):
293         os.remove(os.path.join(tmp\_dir, \textcolor{stringliteral}{'heroku.tar.gz'}))
294 
295     sh.rm(shlex.split(\textcolor{stringliteral}{'-rf \{\}'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(server\_dir)))
296 
297     \textcolor{keywordflow}{return} \textcolor{stringliteral}{'https://\{\}.herokuapp.com'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(heroku\_app\_name)
298 
299 
\end{DoxyCode}
\mbox{\Hypertarget{namespaceparlai_1_1mturk_1_1core_1_1dev_1_1server__utils_a914cced79fceeef08836d69d91e2d683}\label{namespaceparlai_1_1mturk_1_1core_1_1dev_1_1server__utils_a914cced79fceeef08836d69d91e2d683}} 
\index{parlai\+::mturk\+::core\+::dev\+::server\+\_\+utils@{parlai\+::mturk\+::core\+::dev\+::server\+\_\+utils}!setup\+\_\+local\+\_\+server@{setup\+\_\+local\+\_\+server}}
\index{setup\+\_\+local\+\_\+server@{setup\+\_\+local\+\_\+server}!parlai\+::mturk\+::core\+::dev\+::server\+\_\+utils@{parlai\+::mturk\+::core\+::dev\+::server\+\_\+utils}}
\subsubsection{\texorpdfstring{setup\+\_\+local\+\_\+server()}{setup\_local\_server()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+dev.\+server\+\_\+utils.\+setup\+\_\+local\+\_\+server (\begin{DoxyParamCaption}\item[{}]{task\+\_\+name,  }\item[{}]{task\+\_\+files\+\_\+to\+\_\+copy = {\ttfamily None},  }\item[{}]{tmp\+\_\+dir = {\ttfamily \hyperlink{namespaceparlai_1_1mturk_1_1core_1_1dev_1_1server__utils_a432ae14c0d872fbfebe4d9b7d73d13b9}{parent\+\_\+dir}} }\end{DoxyParamCaption})}



Definition at line 328 of file server\+\_\+utils.\+py.


\begin{DoxyCode}
328 \textcolor{keyword}{def }\hyperlink{namespaceparlai_1_1mturk_1_1core_1_1server__utils_a9d4c4937ea60bd74630a44739e825ebf}{setup\_local\_server}(task\_name, task\_files\_to\_copy=None, tmp\_dir=parent\_dir):
329     \textcolor{keyword}{global} server\_process
330 
331     server\_dir = \hyperlink{namespaceparlai_1_1mturk_1_1core_1_1dev_1_1server__utils_ab2ee72bd56197de749229032b05254da}{compile\_server}(task\_files\_to\_copy, task\_name, tmp\_dir)
332 
333     print(\textcolor{stringliteral}{"Local: Starting server..."})
334 
335     os.chdir(os.path.join(server\_dir, \textcolor{stringliteral}{'server'}))
336 
337     packages\_installed = subprocess.call([\textcolor{stringliteral}{'npm'}, \textcolor{stringliteral}{'install'}])
338     \textcolor{keywordflow}{if} packages\_installed != 0:
339         \textcolor{keywordflow}{raise} Exception(
340             \textcolor{stringliteral}{'please make sure npm is installed, otherwise view '}
341             \textcolor{stringliteral}{'the above error for more info.'}
342         )
343 
344     server\_process = subprocess.Popen([\textcolor{stringliteral}{'node'}, \textcolor{stringliteral}{'server.js'}])
345 
346     time.sleep(1)
347     print(\textcolor{stringliteral}{'Server running locally with pid \{\}.'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(server\_process.pid))
348     host = input(\textcolor{stringliteral}{'Please enter the public server address, like https://hostname.com: '})
349     port = input(\textcolor{stringliteral}{'Please enter the port given above, likely 3000: '})
350     \textcolor{keywordflow}{return} \textcolor{stringliteral}{'\{\}:\{\}'}.\hyperlink{namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_a32e2e2022b824fbaf80c747160b52a76}{format}(host, port)
351 
352 
\end{DoxyCode}
\mbox{\Hypertarget{namespaceparlai_1_1mturk_1_1core_1_1dev_1_1server__utils_a13d7101c43eceb479444919d4e5f49fe}\label{namespaceparlai_1_1mturk_1_1core_1_1dev_1_1server__utils_a13d7101c43eceb479444919d4e5f49fe}} 
\index{parlai\+::mturk\+::core\+::dev\+::server\+\_\+utils@{parlai\+::mturk\+::core\+::dev\+::server\+\_\+utils}!setup\+\_\+server@{setup\+\_\+server}}
\index{setup\+\_\+server@{setup\+\_\+server}!parlai\+::mturk\+::core\+::dev\+::server\+\_\+utils@{parlai\+::mturk\+::core\+::dev\+::server\+\_\+utils}}
\subsubsection{\texorpdfstring{setup\+\_\+server()}{setup\_server()}}
{\footnotesize\ttfamily def parlai.\+mturk.\+core.\+dev.\+server\+\_\+utils.\+setup\+\_\+server (\begin{DoxyParamCaption}\item[{}]{task\+\_\+name,  }\item[{}]{task\+\_\+files\+\_\+to\+\_\+copy,  }\item[{}]{local = {\ttfamily False},  }\item[{}]{heroku\+\_\+team = {\ttfamily None},  }\item[{}]{use\+\_\+hobby = {\ttfamily False},  }\item[{}]{legacy = {\ttfamily True},  }\item[{}]{tmp\+\_\+dir = {\ttfamily \hyperlink{namespaceparlai_1_1mturk_1_1core_1_1dev_1_1server__utils_a432ae14c0d872fbfebe4d9b7d73d13b9}{parent\+\_\+dir}} }\end{DoxyParamCaption})}



Definition at line 374 of file server\+\_\+utils.\+py.


\begin{DoxyCode}
374 ):
375     \textcolor{keywordflow}{if} local:
376         \textcolor{keywordflow}{return} \hyperlink{namespaceparlai_1_1mturk_1_1core_1_1server__utils_a9d4c4937ea60bd74630a44739e825ebf}{setup\_local\_server}(
377             task\_name, task\_files\_to\_copy=task\_files\_to\_copy, tmp\_dir=tmp\_dir
378         )
379     \textcolor{keywordflow}{return} \hyperlink{namespaceparlai_1_1mturk_1_1core_1_1server__utils_af1c97e9b93a403e200ac75b87a51c3c1}{setup\_heroku\_server}(
380         task\_name,
381         task\_files\_to\_copy=task\_files\_to\_copy,
382         heroku\_team=heroku\_team,
383         use\_hobby=use\_hobby,
384         tmp\_dir=tmp\_dir,
385     )
386 
387 
\end{DoxyCode}


\subsection{Variable Documentation}
\mbox{\Hypertarget{namespaceparlai_1_1mturk_1_1core_1_1dev_1_1server__utils_aba21b4850601de4b9921fbf9c5203f92}\label{namespaceparlai_1_1mturk_1_1core_1_1dev_1_1server__utils_aba21b4850601de4b9921fbf9c5203f92}} 
\index{parlai\+::mturk\+::core\+::dev\+::server\+\_\+utils@{parlai\+::mturk\+::core\+::dev\+::server\+\_\+utils}!heroku\+\_\+server\+\_\+directory\+\_\+name@{heroku\+\_\+server\+\_\+directory\+\_\+name}}
\index{heroku\+\_\+server\+\_\+directory\+\_\+name@{heroku\+\_\+server\+\_\+directory\+\_\+name}!parlai\+::mturk\+::core\+::dev\+::server\+\_\+utils@{parlai\+::mturk\+::core\+::dev\+::server\+\_\+utils}}
\subsubsection{\texorpdfstring{heroku\+\_\+server\+\_\+directory\+\_\+name}{heroku\_server\_directory\_name}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+dev.\+server\+\_\+utils.\+heroku\+\_\+server\+\_\+directory\+\_\+name}



Definition at line 25 of file server\+\_\+utils.\+py.

\mbox{\Hypertarget{namespaceparlai_1_1mturk_1_1core_1_1dev_1_1server__utils_aff181eda81e07ca80bfee2581a16a016}\label{namespaceparlai_1_1mturk_1_1core_1_1dev_1_1server__utils_aff181eda81e07ca80bfee2581a16a016}} 
\index{parlai\+::mturk\+::core\+::dev\+::server\+\_\+utils@{parlai\+::mturk\+::core\+::dev\+::server\+\_\+utils}!heroku\+\_\+url@{heroku\+\_\+url}}
\index{heroku\+\_\+url@{heroku\+\_\+url}!parlai\+::mturk\+::core\+::dev\+::server\+\_\+utils@{parlai\+::mturk\+::core\+::dev\+::server\+\_\+utils}}
\subsubsection{\texorpdfstring{heroku\+\_\+url}{heroku\_url}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+dev.\+server\+\_\+utils.\+heroku\+\_\+url}



Definition at line 31 of file server\+\_\+utils.\+py.

\mbox{\Hypertarget{namespaceparlai_1_1mturk_1_1core_1_1dev_1_1server__utils_a4d18f7fe8131d14e8f0435255b8268a4}\label{namespaceparlai_1_1mturk_1_1core_1_1dev_1_1server__utils_a4d18f7fe8131d14e8f0435255b8268a4}} 
\index{parlai\+::mturk\+::core\+::dev\+::server\+\_\+utils@{parlai\+::mturk\+::core\+::dev\+::server\+\_\+utils}!local\+\_\+server\+\_\+directory\+\_\+name@{local\+\_\+server\+\_\+directory\+\_\+name}}
\index{local\+\_\+server\+\_\+directory\+\_\+name@{local\+\_\+server\+\_\+directory\+\_\+name}!parlai\+::mturk\+::core\+::dev\+::server\+\_\+utils@{parlai\+::mturk\+::core\+::dev\+::server\+\_\+utils}}
\subsubsection{\texorpdfstring{local\+\_\+server\+\_\+directory\+\_\+name}{local\_server\_directory\_name}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+dev.\+server\+\_\+utils.\+local\+\_\+server\+\_\+directory\+\_\+name}



Definition at line 26 of file server\+\_\+utils.\+py.

\mbox{\Hypertarget{namespaceparlai_1_1mturk_1_1core_1_1dev_1_1server__utils_a432ae14c0d872fbfebe4d9b7d73d13b9}\label{namespaceparlai_1_1mturk_1_1core_1_1dev_1_1server__utils_a432ae14c0d872fbfebe4d9b7d73d13b9}} 
\index{parlai\+::mturk\+::core\+::dev\+::server\+\_\+utils@{parlai\+::mturk\+::core\+::dev\+::server\+\_\+utils}!parent\+\_\+dir@{parent\+\_\+dir}}
\index{parent\+\_\+dir@{parent\+\_\+dir}!parlai\+::mturk\+::core\+::dev\+::server\+\_\+utils@{parlai\+::mturk\+::core\+::dev\+::server\+\_\+utils}}
\subsubsection{\texorpdfstring{parent\+\_\+dir}{parent\_dir}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+dev.\+server\+\_\+utils.\+parent\+\_\+dir}



Definition at line 23 of file server\+\_\+utils.\+py.

\mbox{\Hypertarget{namespaceparlai_1_1mturk_1_1core_1_1dev_1_1server__utils_a1296f9955931a495c136b4e5adc55ef4}\label{namespaceparlai_1_1mturk_1_1core_1_1dev_1_1server__utils_a1296f9955931a495c136b4e5adc55ef4}} 
\index{parlai\+::mturk\+::core\+::dev\+::server\+\_\+utils@{parlai\+::mturk\+::core\+::dev\+::server\+\_\+utils}!region\+\_\+name@{region\+\_\+name}}
\index{region\+\_\+name@{region\+\_\+name}!parlai\+::mturk\+::core\+::dev\+::server\+\_\+utils@{parlai\+::mturk\+::core\+::dev\+::server\+\_\+utils}}
\subsubsection{\texorpdfstring{region\+\_\+name}{region\_name}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+dev.\+server\+\_\+utils.\+region\+\_\+name}



Definition at line 20 of file server\+\_\+utils.\+py.

\mbox{\Hypertarget{namespaceparlai_1_1mturk_1_1core_1_1dev_1_1server__utils_a493aaab7f9dc87be1fc68c9f35bf71fd}\label{namespaceparlai_1_1mturk_1_1core_1_1dev_1_1server__utils_a493aaab7f9dc87be1fc68c9f35bf71fd}} 
\index{parlai\+::mturk\+::core\+::dev\+::server\+\_\+utils@{parlai\+::mturk\+::core\+::dev\+::server\+\_\+utils}!server\+\_\+process@{server\+\_\+process}}
\index{server\+\_\+process@{server\+\_\+process}!parlai\+::mturk\+::core\+::dev\+::server\+\_\+utils@{parlai\+::mturk\+::core\+::dev\+::server\+\_\+utils}}
\subsubsection{\texorpdfstring{server\+\_\+process}{server\_process}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+dev.\+server\+\_\+utils.\+server\+\_\+process}



Definition at line 29 of file server\+\_\+utils.\+py.

\mbox{\Hypertarget{namespaceparlai_1_1mturk_1_1core_1_1dev_1_1server__utils_a46ccde750e304e482adb853bd5c8a852}\label{namespaceparlai_1_1mturk_1_1core_1_1dev_1_1server__utils_a46ccde750e304e482adb853bd5c8a852}} 
\index{parlai\+::mturk\+::core\+::dev\+::server\+\_\+utils@{parlai\+::mturk\+::core\+::dev\+::server\+\_\+utils}!server\+\_\+source\+\_\+directory\+\_\+name@{server\+\_\+source\+\_\+directory\+\_\+name}}
\index{server\+\_\+source\+\_\+directory\+\_\+name@{server\+\_\+source\+\_\+directory\+\_\+name}!parlai\+::mturk\+::core\+::dev\+::server\+\_\+utils@{parlai\+::mturk\+::core\+::dev\+::server\+\_\+utils}}
\subsubsection{\texorpdfstring{server\+\_\+source\+\_\+directory\+\_\+name}{server\_source\_directory\_name}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+dev.\+server\+\_\+utils.\+server\+\_\+source\+\_\+directory\+\_\+name}



Definition at line 24 of file server\+\_\+utils.\+py.

\mbox{\Hypertarget{namespaceparlai_1_1mturk_1_1core_1_1dev_1_1server__utils_ae71b53e922b563ae56983df0dd2585e8}\label{namespaceparlai_1_1mturk_1_1core_1_1dev_1_1server__utils_ae71b53e922b563ae56983df0dd2585e8}} 
\index{parlai\+::mturk\+::core\+::dev\+::server\+\_\+utils@{parlai\+::mturk\+::core\+::dev\+::server\+\_\+utils}!task\+\_\+directory\+\_\+name@{task\+\_\+directory\+\_\+name}}
\index{task\+\_\+directory\+\_\+name@{task\+\_\+directory\+\_\+name}!parlai\+::mturk\+::core\+::dev\+::server\+\_\+utils@{parlai\+::mturk\+::core\+::dev\+::server\+\_\+utils}}
\subsubsection{\texorpdfstring{task\+\_\+directory\+\_\+name}{task\_directory\_name}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+dev.\+server\+\_\+utils.\+task\+\_\+directory\+\_\+name}



Definition at line 27 of file server\+\_\+utils.\+py.

\mbox{\Hypertarget{namespaceparlai_1_1mturk_1_1core_1_1dev_1_1server__utils_aa1c891d191a109c1941a85bf62bd4888}\label{namespaceparlai_1_1mturk_1_1core_1_1dev_1_1server__utils_aa1c891d191a109c1941a85bf62bd4888}} 
\index{parlai\+::mturk\+::core\+::dev\+::server\+\_\+utils@{parlai\+::mturk\+::core\+::dev\+::server\+\_\+utils}!user\+\_\+name@{user\+\_\+name}}
\index{user\+\_\+name@{user\+\_\+name}!parlai\+::mturk\+::core\+::dev\+::server\+\_\+utils@{parlai\+::mturk\+::core\+::dev\+::server\+\_\+utils}}
\subsubsection{\texorpdfstring{user\+\_\+name}{user\_name}}
{\footnotesize\ttfamily parlai.\+mturk.\+core.\+dev.\+server\+\_\+utils.\+user\+\_\+name}



Definition at line 21 of file server\+\_\+utils.\+py.

