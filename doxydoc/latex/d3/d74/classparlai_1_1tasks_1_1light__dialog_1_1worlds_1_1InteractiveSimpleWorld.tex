\hypertarget{classparlai_1_1tasks_1_1light__dialog_1_1worlds_1_1InteractiveSimpleWorld}{}\section{parlai.\+tasks.\+light\+\_\+dialog.\+worlds.\+Interactive\+Simple\+World Class Reference}
\label{classparlai_1_1tasks_1_1light__dialog_1_1worlds_1_1InteractiveSimpleWorld}\index{parlai.\+tasks.\+light\+\_\+dialog.\+worlds.\+Interactive\+Simple\+World@{parlai.\+tasks.\+light\+\_\+dialog.\+worlds.\+Interactive\+Simple\+World}}


Inheritance diagram for parlai.\+tasks.\+light\+\_\+dialog.\+worlds.\+Interactive\+Simple\+World\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=208pt]{d4/d0b/classparlai_1_1tasks_1_1light__dialog_1_1worlds_1_1InteractiveSimpleWorld__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for parlai.\+tasks.\+light\+\_\+dialog.\+worlds.\+Interactive\+Simple\+World\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=208pt]{d8/d11/classparlai_1_1tasks_1_1light__dialog_1_1worlds_1_1InteractiveSimpleWorld__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{classparlai_1_1tasks_1_1light__dialog_1_1worlds_1_1InteractiveSimpleWorld_a4fdcb579f2f36ccbfc11118ce857b2e4}{\+\_\+\+\_\+init\+\_\+\+\_\+} (self, \hyperlink{classparlai_1_1core_1_1worlds_1_1World_a3640d92718acd3e6942a28c1ab3678bd}{opt}, \hyperlink{classparlai_1_1core_1_1worlds_1_1DialogPartnerWorld_a04185d1d55ca86c96c796f12f2226fc9}{agents}, shared=None)
\item 
def \hyperlink{classparlai_1_1tasks_1_1light__dialog_1_1worlds_1_1InteractiveSimpleWorld_a80912ce3904fd06850c824311c7d2731}{load\+\_\+personas} (self)
\item 
def \hyperlink{classparlai_1_1tasks_1_1light__dialog_1_1worlds_1_1InteractiveSimpleWorld_a41e6b37a44268fcaf08057d48d318be6}{get\+\_\+new\+\_\+personas} (self)
\item 
def \hyperlink{classparlai_1_1tasks_1_1light__dialog_1_1worlds_1_1InteractiveSimpleWorld_a7c10da25fd2d140416bb915b95ff603e}{parley} (self)
\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classparlai_1_1tasks_1_1light__dialog_1_1worlds_1_1InteractiveSimpleWorld_ac921ca4e82abbe89d74bac1647c81709}{light\+\_\+world}
\item 
\hyperlink{classparlai_1_1tasks_1_1light__dialog_1_1worlds_1_1InteractiveSimpleWorld_a5d42d18cbe9f2e6d632b4d1f9419ab1e}{cnt}
\item 
\hyperlink{classparlai_1_1tasks_1_1light__dialog_1_1worlds_1_1InteractiveSimpleWorld_a3eff26ccc2fcf05aefd085fcc32337d8}{p2}
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}


Definition at line 14 of file worlds.\+py.



\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classparlai_1_1tasks_1_1light__dialog_1_1worlds_1_1InteractiveSimpleWorld_a4fdcb579f2f36ccbfc11118ce857b2e4}\label{classparlai_1_1tasks_1_1light__dialog_1_1worlds_1_1InteractiveSimpleWorld_a4fdcb579f2f36ccbfc11118ce857b2e4}} 
\index{parlai\+::tasks\+::light\+\_\+dialog\+::worlds\+::\+Interactive\+Simple\+World@{parlai\+::tasks\+::light\+\_\+dialog\+::worlds\+::\+Interactive\+Simple\+World}!\+\_\+\+\_\+init\+\_\+\+\_\+@{\+\_\+\+\_\+init\+\_\+\+\_\+}}
\index{\+\_\+\+\_\+init\+\_\+\+\_\+@{\+\_\+\+\_\+init\+\_\+\+\_\+}!parlai\+::tasks\+::light\+\_\+dialog\+::worlds\+::\+Interactive\+Simple\+World@{parlai\+::tasks\+::light\+\_\+dialog\+::worlds\+::\+Interactive\+Simple\+World}}
\subsubsection{\texorpdfstring{\+\_\+\+\_\+init\+\_\+\+\_\+()}{\_\_init\_\_()}}
{\footnotesize\ttfamily def parlai.\+tasks.\+light\+\_\+dialog.\+worlds.\+Interactive\+Simple\+World.\+\_\+\+\_\+init\+\_\+\+\_\+ (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{opt,  }\item[{}]{agents,  }\item[{}]{shared = {\ttfamily None} }\end{DoxyParamCaption})}



Definition at line 15 of file worlds.\+py.


\begin{DoxyCode}
15     \textcolor{keyword}{def }\_\_init\_\_(self, opt, agents, shared=None):
16         super().\_\_init\_\_(opt, agents, shared)
17         print(\textcolor{stringliteral}{"[ loading personas.. ]"})
18         self.load\_personas()
19 
\end{DoxyCode}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{classparlai_1_1tasks_1_1light__dialog_1_1worlds_1_1InteractiveSimpleWorld_a41e6b37a44268fcaf08057d48d318be6}\label{classparlai_1_1tasks_1_1light__dialog_1_1worlds_1_1InteractiveSimpleWorld_a41e6b37a44268fcaf08057d48d318be6}} 
\index{parlai\+::tasks\+::light\+\_\+dialog\+::worlds\+::\+Interactive\+Simple\+World@{parlai\+::tasks\+::light\+\_\+dialog\+::worlds\+::\+Interactive\+Simple\+World}!get\+\_\+new\+\_\+personas@{get\+\_\+new\+\_\+personas}}
\index{get\+\_\+new\+\_\+personas@{get\+\_\+new\+\_\+personas}!parlai\+::tasks\+::light\+\_\+dialog\+::worlds\+::\+Interactive\+Simple\+World@{parlai\+::tasks\+::light\+\_\+dialog\+::worlds\+::\+Interactive\+Simple\+World}}
\subsubsection{\texorpdfstring{get\+\_\+new\+\_\+personas()}{get\_new\_personas()}}
{\footnotesize\ttfamily def parlai.\+tasks.\+light\+\_\+dialog.\+worlds.\+Interactive\+Simple\+World.\+get\+\_\+new\+\_\+personas (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line 29 of file worlds.\+py.


\begin{DoxyCode}
29     \textcolor{keyword}{def }get\_new\_personas(self):
30         \textcolor{comment}{# Find a new episode}
31         \textcolor{keywordflow}{while} \textcolor{keyword}{True}:
32             self.light\_world.parley()
33             msg = self.light\_world.get\_acts()[0]
34             \textcolor{keywordflow}{if} msg.get(\textcolor{stringliteral}{'episode\_done'}, \textcolor{keyword}{False}):
35                 self.light\_world.parley()
36                 msg = self.light\_world.get\_acts()[0]
37                 \textcolor{keywordflow}{break}
38         txt = msg.get(\textcolor{stringliteral}{'text'}, \textcolor{stringliteral}{''}).split(\textcolor{stringliteral}{'\(\backslash\)n'})
39         a1\_persona = \textcolor{stringliteral}{""}  \textcolor{comment}{# (typically human in interactive)}
40         a2\_persona = \textcolor{stringliteral}{""}
41         p = \{\}
42         \textcolor{keywordflow}{for} t \textcolor{keywordflow}{in} txt:
43             p[t.split(\textcolor{stringliteral}{' '})[0]] = t
44 
45         a1\_persona = (
46             p[\textcolor{stringliteral}{'\_setting\_name'}]
47             + \textcolor{stringliteral}{'\(\backslash\)n'}
48             + p[\textcolor{stringliteral}{'\_setting\_desc'}]
49             + \textcolor{stringliteral}{'\(\backslash\)n'}
50             + p[\textcolor{stringliteral}{'\_self\_name'}].replace(\textcolor{stringliteral}{"\_self\_name"}, \textcolor{stringliteral}{'\_partner\_name'})
51             + \textcolor{stringliteral}{'\(\backslash\)n'}
52             + p[\textcolor{stringliteral}{'\_partner\_name'}].replace(\textcolor{stringliteral}{"\_partner\_name"}, \textcolor{stringliteral}{'\_self\_name'})
53             + \textcolor{stringliteral}{'\(\backslash\)n'}
54             + \textcolor{stringliteral}{'\_self\_persona I am a '}
55             + \textcolor{stringliteral}{' '}.join(p[\textcolor{stringliteral}{'\_partner\_name'}].split(\textcolor{stringliteral}{' '})[1:])
56             + \textcolor{stringliteral}{'.\(\backslash\)n'}
57         )
58 
59         a2\_persona = (
60             p[\textcolor{stringliteral}{'\_setting\_name'}]
61             + \textcolor{stringliteral}{'\(\backslash\)n'}
62             + p[\textcolor{stringliteral}{'\_setting\_desc'}]
63             + p[\textcolor{stringliteral}{'\_partner\_name'}]
64             + \textcolor{stringliteral}{'\(\backslash\)n'}
65             + p[\textcolor{stringliteral}{'\_self\_name'}]
66             + \textcolor{stringliteral}{'\(\backslash\)n'}
67             + p[\textcolor{stringliteral}{'\_self\_persona'}]
68             + \textcolor{stringliteral}{'\(\backslash\)n'}
69         )
70         \textcolor{keywordflow}{return} a1\_persona, a2\_persona
71 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1tasks_1_1light__dialog_1_1worlds_1_1InteractiveSimpleWorld_a80912ce3904fd06850c824311c7d2731}\label{classparlai_1_1tasks_1_1light__dialog_1_1worlds_1_1InteractiveSimpleWorld_a80912ce3904fd06850c824311c7d2731}} 
\index{parlai\+::tasks\+::light\+\_\+dialog\+::worlds\+::\+Interactive\+Simple\+World@{parlai\+::tasks\+::light\+\_\+dialog\+::worlds\+::\+Interactive\+Simple\+World}!load\+\_\+personas@{load\+\_\+personas}}
\index{load\+\_\+personas@{load\+\_\+personas}!parlai\+::tasks\+::light\+\_\+dialog\+::worlds\+::\+Interactive\+Simple\+World@{parlai\+::tasks\+::light\+\_\+dialog\+::worlds\+::\+Interactive\+Simple\+World}}
\subsubsection{\texorpdfstring{load\+\_\+personas()}{load\_personas()}}
{\footnotesize\ttfamily def parlai.\+tasks.\+light\+\_\+dialog.\+worlds.\+Interactive\+Simple\+World.\+load\+\_\+personas (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line 20 of file worlds.\+py.


\begin{DoxyCode}
20     \textcolor{keyword}{def }\hyperlink{namespaceparlai_1_1tasks_1_1convai2_1_1worlds_a61a758b7cb43183397d002f7f203f586}{load\_personas}(self):
21         \textcolor{comment}{# Create Light data so we can assign personas.}
22         light\_opt = self.opt.copy()
23         light\_opt[\textcolor{stringliteral}{'task'}] = \textcolor{stringliteral}{'light\_dialog'}
24         light\_opt[\textcolor{stringliteral}{'interactive\_task'}] = \textcolor{keyword}{False}
25         light\_agent = RepeatLabelAgent(light\_opt)
26         self.light\_world = \hyperlink{namespaceparlai_1_1core_1_1worlds_a11923c10b545c7ecc1b08fe2242d9c2c}{create\_task}(light\_opt, light\_agent)
27         self.cnt = 0
28 
\end{DoxyCode}
\mbox{\Hypertarget{classparlai_1_1tasks_1_1light__dialog_1_1worlds_1_1InteractiveSimpleWorld_a7c10da25fd2d140416bb915b95ff603e}\label{classparlai_1_1tasks_1_1light__dialog_1_1worlds_1_1InteractiveSimpleWorld_a7c10da25fd2d140416bb915b95ff603e}} 
\index{parlai\+::tasks\+::light\+\_\+dialog\+::worlds\+::\+Interactive\+Simple\+World@{parlai\+::tasks\+::light\+\_\+dialog\+::worlds\+::\+Interactive\+Simple\+World}!parley@{parley}}
\index{parley@{parley}!parlai\+::tasks\+::light\+\_\+dialog\+::worlds\+::\+Interactive\+Simple\+World@{parlai\+::tasks\+::light\+\_\+dialog\+::worlds\+::\+Interactive\+Simple\+World}}
\subsubsection{\texorpdfstring{parley()}{parley()}}
{\footnotesize\ttfamily def parlai.\+tasks.\+light\+\_\+dialog.\+worlds.\+Interactive\+Simple\+World.\+parley (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}

\begin{DoxyVerb}Agent 0 goes first.

Alternate between the two agents.
\end{DoxyVerb}
 

Definition at line 72 of file worlds.\+py.


\begin{DoxyCode}
72     \textcolor{keyword}{def }parley(self):
73         \textcolor{stringliteral}{"""}
74 \textcolor{stringliteral}{        Agent 0 goes first.}
75 \textcolor{stringliteral}{}
76 \textcolor{stringliteral}{        Alternate between the two agents.}
77 \textcolor{stringliteral}{        """}
78         \textcolor{keywordflow}{if} self.cnt == 0:
79             self.p1, self.p2 = self.get\_new\_personas()
80 
81         acts = self.acts
82         agents = self.agents
83         \textcolor{keywordflow}{if} self.cnt == 0:
84             \textcolor{comment}{# add the persona on to the first message to agent 0}
85             act = \{\}
86             act[\textcolor{stringliteral}{'text'}] = self.p1
87             act[\textcolor{stringliteral}{'episode\_done'}] = \textcolor{keyword}{False}
88             act[\textcolor{stringliteral}{'id'}] = \textcolor{stringliteral}{'persona'}
89             agents[0].observe(\hyperlink{namespaceparlai_1_1core_1_1worlds_afc3fad603b7bce41dbdc9cdc04a9c794}{validate}(act))
90         act = deepcopy(agents[0].act())
91         \textcolor{keywordflow}{if} self.cnt == 0:
92             \textcolor{comment}{# add the persona on to the first message to agent 1}
93             act.force\_set(\textcolor{stringliteral}{'text'}, self.p2 + act.get(\textcolor{stringliteral}{'text'}, \textcolor{stringliteral}{'hi'}))
94             agents[1].observe(\hyperlink{namespaceparlai_1_1core_1_1worlds_afc3fad603b7bce41dbdc9cdc04a9c794}{validate}(act))
95         \textcolor{keywordflow}{else}:
96             agents[1].observe(\hyperlink{namespaceparlai_1_1core_1_1worlds_afc3fad603b7bce41dbdc9cdc04a9c794}{validate}(act))
97         acts[1] = agents[1].act()
98         agents[0].observe(\hyperlink{namespaceparlai_1_1core_1_1worlds_afc3fad603b7bce41dbdc9cdc04a9c794}{validate}(acts[1]))
99         self.update\_counters()
100         self.cnt += 1
101 
102         \textcolor{keywordflow}{if} act[\textcolor{stringliteral}{'episode\_done'}]:
103             print(\textcolor{stringliteral}{"CHAT DONE "})
104             print(\textcolor{stringliteral}{"\(\backslash\)n... preparing new chat... \(\backslash\)n"})
105             self.cnt = 0
106 \end{DoxyCode}


\subsection{Member Data Documentation}
\mbox{\Hypertarget{classparlai_1_1tasks_1_1light__dialog_1_1worlds_1_1InteractiveSimpleWorld_a5d42d18cbe9f2e6d632b4d1f9419ab1e}\label{classparlai_1_1tasks_1_1light__dialog_1_1worlds_1_1InteractiveSimpleWorld_a5d42d18cbe9f2e6d632b4d1f9419ab1e}} 
\index{parlai\+::tasks\+::light\+\_\+dialog\+::worlds\+::\+Interactive\+Simple\+World@{parlai\+::tasks\+::light\+\_\+dialog\+::worlds\+::\+Interactive\+Simple\+World}!cnt@{cnt}}
\index{cnt@{cnt}!parlai\+::tasks\+::light\+\_\+dialog\+::worlds\+::\+Interactive\+Simple\+World@{parlai\+::tasks\+::light\+\_\+dialog\+::worlds\+::\+Interactive\+Simple\+World}}
\subsubsection{\texorpdfstring{cnt}{cnt}}
{\footnotesize\ttfamily parlai.\+tasks.\+light\+\_\+dialog.\+worlds.\+Interactive\+Simple\+World.\+cnt}



Definition at line 27 of file worlds.\+py.

\mbox{\Hypertarget{classparlai_1_1tasks_1_1light__dialog_1_1worlds_1_1InteractiveSimpleWorld_ac921ca4e82abbe89d74bac1647c81709}\label{classparlai_1_1tasks_1_1light__dialog_1_1worlds_1_1InteractiveSimpleWorld_ac921ca4e82abbe89d74bac1647c81709}} 
\index{parlai\+::tasks\+::light\+\_\+dialog\+::worlds\+::\+Interactive\+Simple\+World@{parlai\+::tasks\+::light\+\_\+dialog\+::worlds\+::\+Interactive\+Simple\+World}!light\+\_\+world@{light\+\_\+world}}
\index{light\+\_\+world@{light\+\_\+world}!parlai\+::tasks\+::light\+\_\+dialog\+::worlds\+::\+Interactive\+Simple\+World@{parlai\+::tasks\+::light\+\_\+dialog\+::worlds\+::\+Interactive\+Simple\+World}}
\subsubsection{\texorpdfstring{light\+\_\+world}{light\_world}}
{\footnotesize\ttfamily parlai.\+tasks.\+light\+\_\+dialog.\+worlds.\+Interactive\+Simple\+World.\+light\+\_\+world}



Definition at line 26 of file worlds.\+py.

\mbox{\Hypertarget{classparlai_1_1tasks_1_1light__dialog_1_1worlds_1_1InteractiveSimpleWorld_a3eff26ccc2fcf05aefd085fcc32337d8}\label{classparlai_1_1tasks_1_1light__dialog_1_1worlds_1_1InteractiveSimpleWorld_a3eff26ccc2fcf05aefd085fcc32337d8}} 
\index{parlai\+::tasks\+::light\+\_\+dialog\+::worlds\+::\+Interactive\+Simple\+World@{parlai\+::tasks\+::light\+\_\+dialog\+::worlds\+::\+Interactive\+Simple\+World}!p2@{p2}}
\index{p2@{p2}!parlai\+::tasks\+::light\+\_\+dialog\+::worlds\+::\+Interactive\+Simple\+World@{parlai\+::tasks\+::light\+\_\+dialog\+::worlds\+::\+Interactive\+Simple\+World}}
\subsubsection{\texorpdfstring{p2}{p2}}
{\footnotesize\ttfamily parlai.\+tasks.\+light\+\_\+dialog.\+worlds.\+Interactive\+Simple\+World.\+p2}



Definition at line 79 of file worlds.\+py.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
parlai/tasks/light\+\_\+dialog/\hyperlink{parlai_2tasks_2light__dialog_2worlds_8py}{worlds.\+py}\end{DoxyCompactItemize}
