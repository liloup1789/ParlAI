<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ParlAI: parlai.agents.bert_ranker.both_encoder_ranker.BothEncoderRankerAgent Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ParlAI
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../d5/d22/namespaceparlai.html">parlai</a></li><li class="navelem"><a class="el" href="../../dd/d61/namespaceparlai_1_1agents.html">agents</a></li><li class="navelem"><a class="el" href="../../d0/dd5/namespaceparlai_1_1agents_1_1bert__ranker.html">bert_ranker</a></li><li class="navelem"><a class="el" href="../../dd/d00/namespaceparlai_1_1agents_1_1bert__ranker_1_1both__encoder__ranker.html">both_encoder_ranker</a></li><li class="navelem"><a class="el" href="../../db/d93/classparlai_1_1agents_1_1bert__ranker_1_1both__encoder__ranker_1_1BothEncoderRankerAgent.html">BothEncoderRankerAgent</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="../../d3/dbb/classparlai_1_1agents_1_1bert__ranker_1_1both__encoder__ranker_1_1BothEncoderRankerAgent-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">parlai.agents.bert_ranker.both_encoder_ranker.BothEncoderRankerAgent Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for parlai.agents.bert_ranker.both_encoder_ranker.BothEncoderRankerAgent:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/dee/classparlai_1_1agents_1_1bert__ranker_1_1both__encoder__ranker_1_1BothEncoderRankerAgent__inherit__graph.png" border="0" usemap="#parlai_8agents_8bert__ranker_8both__encoder__ranker_8BothEncoderRankerAgent_inherit__map" alt="Inheritance graph"/></div>
<map name="parlai_8agents_8bert__ranker_8both__encoder__ranker_8BothEncoderRankerAgent_inherit__map" id="parlai_8agents_8bert__ranker_8both__encoder__ranker_8BothEncoderRankerAgent_inherit__map">
<area shape="rect" id="node2" href="../../df/df5/classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html" title="parlai.core.torch_agent.\lTorchAgent" alt="" coords="36,155,195,196"/>
<area shape="rect" id="node4" href="../../dc/d4b/classparlai_1_1core_1_1agents_1_1Agent.html" title="parlai.core.agents.Agent" alt="" coords="99,80,262,107"/>
</map>
<center><span class="legend">[<a href="../../graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for parlai.agents.bert_ranker.both_encoder_ranker.BothEncoderRankerAgent:</div>
<div class="dyncontent">
<div class="center"><img src="../../db/d0b/classparlai_1_1agents_1_1bert__ranker_1_1both__encoder__ranker_1_1BothEncoderRankerAgent__coll__graph.png" border="0" usemap="#parlai_8agents_8bert__ranker_8both__encoder__ranker_8BothEncoderRankerAgent_coll__map" alt="Collaboration graph"/></div>
<map name="parlai_8agents_8bert__ranker_8both__encoder__ranker_8BothEncoderRankerAgent_coll__map" id="parlai_8agents_8bert__ranker_8both__encoder__ranker_8BothEncoderRankerAgent_coll__map">
<area shape="rect" id="node2" href="../../df/df5/classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html" title="parlai.core.torch_agent.\lTorchAgent" alt="" coords="82,185,241,227"/>
<area shape="rect" id="node4" href="../../dc/d4b/classparlai_1_1core_1_1agents_1_1Agent.html" title="parlai.core.agents.Agent" alt="" coords="80,81,243,108"/>
</map>
<center><span class="legend">[<a href="../../graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a96d864d610277625195f71a615c0f585"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d93/classparlai_1_1agents_1_1bert__ranker_1_1both__encoder__ranker_1_1BothEncoderRankerAgent.html#a96d864d610277625195f71a615c0f585">__init__</a> (self, <a class="el" href="../../df/df5/classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a785bb920cf8c8afc3e9bf6a8b77e335a">opt</a>, shared=None)</td></tr>
<tr class="separator:a96d864d610277625195f71a615c0f585"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49ef7547db36c1570b8c10d0c8bee42e"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d93/classparlai_1_1agents_1_1bert__ranker_1_1both__encoder__ranker_1_1BothEncoderRankerAgent.html#a49ef7547db36c1570b8c10d0c8bee42e">train_step</a> (self, batch)</td></tr>
<tr class="separator:a49ef7547db36c1570b8c10d0c8bee42e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d189366af4a1264770d59e4b114967a"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d93/classparlai_1_1agents_1_1bert__ranker_1_1both__encoder__ranker_1_1BothEncoderRankerAgent.html#a6d189366af4a1264770d59e4b114967a">eval_step</a> (self, batch)</td></tr>
<tr class="separator:a6d189366af4a1264770d59e4b114967a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e8419dfd48e5a9b0a999058a9537831"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d93/classparlai_1_1agents_1_1bert__ranker_1_1both__encoder__ranker_1_1BothEncoderRankerAgent.html#a5e8419dfd48e5a9b0a999058a9537831">save</a> (self, path=None)</td></tr>
<tr class="separator:a5e8419dfd48e5a9b0a999058a9537831"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3900966ef98a770cf6e871bb7de67907"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d93/classparlai_1_1agents_1_1bert__ranker_1_1both__encoder__ranker_1_1BothEncoderRankerAgent.html#a3900966ef98a770cf6e871bb7de67907">load</a> (self, path)</td></tr>
<tr class="separator:a3900966ef98a770cf6e871bb7de67907"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classparlai_1_1core_1_1torch__agent_1_1TorchAgent')"><img src="../../closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="../../df/df5/classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html">parlai.core.torch_agent.TorchAgent</a></td></tr>
<tr class="memitem:a9c622b8ed5a811841f30fe98cc297cde inherit pub_methods_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/df5/classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a9c622b8ed5a811841f30fe98cc297cde">optim_opts</a> (self)</td></tr>
<tr class="separator:a9c622b8ed5a811841f30fe98cc297cde inherit pub_methods_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bd9118252c602bb9d5a596ecae16717 inherit pub_methods_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/df5/classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a0bd9118252c602bb9d5a596ecae16717">history_class</a> (cls)</td></tr>
<tr class="separator:a0bd9118252c602bb9d5a596ecae16717 inherit pub_methods_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a72bdd07d2cb5ce402d0058140cad0d inherit pub_methods_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/df5/classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a4a72bdd07d2cb5ce402d0058140cad0d">add_cmdline_args</a> (cls, argparser)</td></tr>
<tr class="separator:a4a72bdd07d2cb5ce402d0058140cad0d inherit pub_methods_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0a00ada1fcd5b7ceec27b1a6cbdc281 inherit pub_methods_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/df5/classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#ad0a00ada1fcd5b7ceec27b1a6cbdc281">__init__</a> (self, <a class="el" href="../../df/df5/classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a785bb920cf8c8afc3e9bf6a8b77e335a">opt</a>, shared=None)</td></tr>
<tr class="separator:ad0a00ada1fcd5b7ceec27b1a6cbdc281 inherit pub_methods_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab22f61f153b522f429210c61eed2d5af inherit pub_methods_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/df5/classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#ab22f61f153b522f429210c61eed2d5af">build_history</a> (self)</td></tr>
<tr class="separator:ab22f61f153b522f429210c61eed2d5af inherit pub_methods_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a233316f9ec2805dd6a08fbf07f3a078a inherit pub_methods_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/df5/classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a233316f9ec2805dd6a08fbf07f3a078a">build_dictionary</a> (self)</td></tr>
<tr class="separator:a233316f9ec2805dd6a08fbf07f3a078a inherit pub_methods_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a21fa33fa5b2b928024fbc67826f233 inherit pub_methods_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/df5/classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a9a21fa33fa5b2b928024fbc67826f233">build_model</a> (self)</td></tr>
<tr class="separator:a9a21fa33fa5b2b928024fbc67826f233 inherit pub_methods_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3784f1ddaa6ffad009716910f3f36dd4 inherit pub_methods_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/df5/classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a3784f1ddaa6ffad009716910f3f36dd4">init_optim</a> (self, params, optim_states=None, saved_optim_type=None)</td></tr>
<tr class="separator:a3784f1ddaa6ffad009716910f3f36dd4 inherit pub_methods_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa51ac42dc34e3d2281a01cba78a96151 inherit pub_methods_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/df5/classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#aa51ac42dc34e3d2281a01cba78a96151">build_lr_scheduler</a> (self, states=None, hard_reset=False)</td></tr>
<tr class="separator:aa51ac42dc34e3d2281a01cba78a96151 inherit pub_methods_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac694770cd4022eb047bf6fbb8f46035c inherit pub_methods_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/df5/classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#ac694770cd4022eb047bf6fbb8f46035c">report</a> (self)</td></tr>
<tr class="separator:ac694770cd4022eb047bf6fbb8f46035c inherit pub_methods_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02beaaedfa30463f9d0a97ea590b516f inherit pub_methods_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/df5/classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a02beaaedfa30463f9d0a97ea590b516f">receive_metrics</a> (self, metrics_dict)</td></tr>
<tr class="separator:a02beaaedfa30463f9d0a97ea590b516f inherit pub_methods_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a373f0e276bf7c9d914a4e3363e9c2712 inherit pub_methods_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/df5/classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a373f0e276bf7c9d914a4e3363e9c2712">share</a> (self)</td></tr>
<tr class="separator:a373f0e276bf7c9d914a4e3363e9c2712 inherit pub_methods_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48bb9b153353a0565ab7253dc1daef99 inherit pub_methods_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/df5/classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a48bb9b153353a0565ab7253dc1daef99">vectorize</a> (self, obs, <a class="el" href="../../df/df5/classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a0484b0246f0a930adc575899cdef033c">history</a>, add_start=True, add_end=True, <a class="el" href="../../df/df5/classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#ae3a69ecb5f20ce4f8a09c05c5f6f4376">text_truncate</a>=None, <a class="el" href="../../df/df5/classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#adbdd7cf2deb2c43d982c57852b83e685">label_truncate</a>=None)</td></tr>
<tr class="separator:a48bb9b153353a0565ab7253dc1daef99 inherit pub_methods_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa491bf2384b017711ad722b5341b405 inherit pub_methods_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/df5/classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#afa491bf2384b017711ad722b5341b405">is_valid</a> (self, obs)</td></tr>
<tr class="separator:afa491bf2384b017711ad722b5341b405 inherit pub_methods_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c5824776df0c6cf995984a5e7a3f433 inherit pub_methods_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/df5/classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a4c5824776df0c6cf995984a5e7a3f433">batchify</a> (self, obs_batch, sort=False)</td></tr>
<tr class="separator:a4c5824776df0c6cf995984a5e7a3f433 inherit pub_methods_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba56b961d929e5c5b5da9cf8bd331502 inherit pub_methods_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/df5/classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#aba56b961d929e5c5b5da9cf8bd331502">match_batch</a> (self, batch_reply, valid_inds, output=None)</td></tr>
<tr class="separator:aba56b961d929e5c5b5da9cf8bd331502 inherit pub_methods_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32921aa09a682ee752d4822a5f5ebbb4 inherit pub_methods_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/df5/classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a32921aa09a682ee752d4822a5f5ebbb4">last_reply</a> (self, use_reply='label')</td></tr>
<tr class="separator:a32921aa09a682ee752d4822a5f5ebbb4 inherit pub_methods_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87b18f0d6ab11be3c49375af072d0d33 inherit pub_methods_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/df5/classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a87b18f0d6ab11be3c49375af072d0d33">observe</a> (self, <a class="el" href="../../df/df5/classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a4bc525b20568822a042b3bbfa3da3a69">observation</a>)</td></tr>
<tr class="separator:a87b18f0d6ab11be3c49375af072d0d33 inherit pub_methods_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f89e606931a4622a5c6a6f6b832235c inherit pub_methods_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/df5/classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a9f89e606931a4622a5c6a6f6b832235c">state_dict</a> (self)</td></tr>
<tr class="separator:a9f89e606931a4622a5c6a6f6b832235c inherit pub_methods_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adac7ee3db855786e8414e9f35fcb6e46 inherit pub_methods_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/df5/classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#adac7ee3db855786e8414e9f35fcb6e46">save</a> (self, path=None)</td></tr>
<tr class="separator:adac7ee3db855786e8414e9f35fcb6e46 inherit pub_methods_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5dcfca62a677f8de97f09ce993258f84 inherit pub_methods_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/df5/classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a5dcfca62a677f8de97f09ce993258f84">load_state_dict</a> (self, <a class="el" href="../../df/df5/classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a9f89e606931a4622a5c6a6f6b832235c">state_dict</a>)</td></tr>
<tr class="separator:a5dcfca62a677f8de97f09ce993258f84 inherit pub_methods_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af626fc7d32fc9b0dfeec167a52353baf inherit pub_methods_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/df5/classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#af626fc7d32fc9b0dfeec167a52353baf">load</a> (self, path)</td></tr>
<tr class="separator:af626fc7d32fc9b0dfeec167a52353baf inherit pub_methods_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f568650dd8e245a274671680ebb7587 inherit pub_methods_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/df5/classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a6f568650dd8e245a274671680ebb7587">reset</a> (self)</td></tr>
<tr class="separator:a6f568650dd8e245a274671680ebb7587 inherit pub_methods_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03e18955cfd44dd019d0847bc7a46893 inherit pub_methods_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/df5/classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a03e18955cfd44dd019d0847bc7a46893">reset_metrics</a> (self)</td></tr>
<tr class="separator:a03e18955cfd44dd019d0847bc7a46893 inherit pub_methods_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51174dfa508970e3392246b02d0d94b5 inherit pub_methods_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/df5/classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a51174dfa508970e3392246b02d0d94b5">act</a> (self)</td></tr>
<tr class="separator:a51174dfa508970e3392246b02d0d94b5 inherit pub_methods_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7754a74d6c87590f46e71ec486c285a8 inherit pub_methods_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/df5/classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a7754a74d6c87590f46e71ec486c285a8">batch_act</a> (self, observations)</td></tr>
<tr class="separator:a7754a74d6c87590f46e71ec486c285a8 inherit pub_methods_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ba9d535736c0af100d00c5e7b02b61b inherit pub_methods_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/df5/classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a8ba9d535736c0af100d00c5e7b02b61b">train_step</a> (self, batch)</td></tr>
<tr class="separator:a8ba9d535736c0af100d00c5e7b02b61b inherit pub_methods_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18de0a52aeec4ef721aedbdd6ac06cad inherit pub_methods_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/df5/classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a18de0a52aeec4ef721aedbdd6ac06cad">eval_step</a> (self, batch)</td></tr>
<tr class="separator:a18de0a52aeec4ef721aedbdd6ac06cad inherit pub_methods_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a7aff29231816a0f3cade9c72409dfc inherit pub_methods_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/df5/classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a6a7aff29231816a0f3cade9c72409dfc">set_interactive_mode</a> (self, mode, shared)</td></tr>
<tr class="separator:a6a7aff29231816a0f3cade9c72409dfc inherit pub_methods_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8df662b1258ec67752b4fc0ad45733f9 inherit pub_methods_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/df5/classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a8df662b1258ec67752b4fc0ad45733f9">backward</a> (self, loss)</td></tr>
<tr class="separator:a8df662b1258ec67752b4fc0ad45733f9 inherit pub_methods_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e2c9e180887397daa6229a0f9700b1c inherit pub_methods_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/df5/classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a7e2c9e180887397daa6229a0f9700b1c">update_params</a> (self)</td></tr>
<tr class="separator:a7e2c9e180887397daa6229a0f9700b1c inherit pub_methods_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91c163f3e2d39b380095b7083f673b6e inherit pub_methods_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/df5/classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a91c163f3e2d39b380095b7083f673b6e">zero_grad</a> (self)</td></tr>
<tr class="separator:a91c163f3e2d39b380095b7083f673b6e inherit pub_methods_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classparlai_1_1core_1_1agents_1_1Agent"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classparlai_1_1core_1_1agents_1_1Agent')"><img src="../../closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="../../dc/d4b/classparlai_1_1core_1_1agents_1_1Agent.html">parlai.core.agents.Agent</a></td></tr>
<tr class="memitem:aa7992ab392e2803607937e805ceb176f inherit pub_methods_classparlai_1_1core_1_1agents_1_1Agent"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d4b/classparlai_1_1core_1_1agents_1_1Agent.html#aa7992ab392e2803607937e805ceb176f">__init__</a> (self, <a class="el" href="../../dc/d4b/classparlai_1_1core_1_1agents_1_1Agent.html#ab3b45d2754244608c75d4068b90cd051">opt</a>, shared=None)</td></tr>
<tr class="separator:aa7992ab392e2803607937e805ceb176f inherit pub_methods_classparlai_1_1core_1_1agents_1_1Agent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98041e2d186aa81bd5e1649a91f623bc inherit pub_methods_classparlai_1_1core_1_1agents_1_1Agent"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d4b/classparlai_1_1core_1_1agents_1_1Agent.html#a98041e2d186aa81bd5e1649a91f623bc">observe</a> (self, <a class="el" href="../../dc/d4b/classparlai_1_1core_1_1agents_1_1Agent.html#aedbecc4b4aa7af7413882a0429e0f1db">observation</a>)</td></tr>
<tr class="separator:a98041e2d186aa81bd5e1649a91f623bc inherit pub_methods_classparlai_1_1core_1_1agents_1_1Agent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a8abe0a98dd59bc39c9f12b163072db inherit pub_methods_classparlai_1_1core_1_1agents_1_1Agent"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d4b/classparlai_1_1core_1_1agents_1_1Agent.html#a6a8abe0a98dd59bc39c9f12b163072db">act</a> (self)</td></tr>
<tr class="separator:a6a8abe0a98dd59bc39c9f12b163072db inherit pub_methods_classparlai_1_1core_1_1agents_1_1Agent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29e1cdd729ac4236f8bae90b2e66fa04 inherit pub_methods_classparlai_1_1core_1_1agents_1_1Agent"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d4b/classparlai_1_1core_1_1agents_1_1Agent.html#a29e1cdd729ac4236f8bae90b2e66fa04">getID</a> (self)</td></tr>
<tr class="separator:a29e1cdd729ac4236f8bae90b2e66fa04 inherit pub_methods_classparlai_1_1core_1_1agents_1_1Agent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40157e237ea85d75ebc3fd248c7a1a1b inherit pub_methods_classparlai_1_1core_1_1agents_1_1Agent"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d4b/classparlai_1_1core_1_1agents_1_1Agent.html#a40157e237ea85d75ebc3fd248c7a1a1b">epoch_done</a> (self)</td></tr>
<tr class="separator:a40157e237ea85d75ebc3fd248c7a1a1b inherit pub_methods_classparlai_1_1core_1_1agents_1_1Agent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27cb8206372681605b00dc28b81a7c39 inherit pub_methods_classparlai_1_1core_1_1agents_1_1Agent"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d4b/classparlai_1_1core_1_1agents_1_1Agent.html#a27cb8206372681605b00dc28b81a7c39">reset</a> (self)</td></tr>
<tr class="separator:a27cb8206372681605b00dc28b81a7c39 inherit pub_methods_classparlai_1_1core_1_1agents_1_1Agent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaefcbd7c61d319b368b3ee13997c8c99 inherit pub_methods_classparlai_1_1core_1_1agents_1_1Agent"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d4b/classparlai_1_1core_1_1agents_1_1Agent.html#aaefcbd7c61d319b368b3ee13997c8c99">reset_metrics</a> (self)</td></tr>
<tr class="separator:aaefcbd7c61d319b368b3ee13997c8c99 inherit pub_methods_classparlai_1_1core_1_1agents_1_1Agent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51e706e3e5389c9b48c7a1589d97ec99 inherit pub_methods_classparlai_1_1core_1_1agents_1_1Agent"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d4b/classparlai_1_1core_1_1agents_1_1Agent.html#a51e706e3e5389c9b48c7a1589d97ec99">save</a> (self, path=None)</td></tr>
<tr class="separator:a51e706e3e5389c9b48c7a1589d97ec99 inherit pub_methods_classparlai_1_1core_1_1agents_1_1Agent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2525db5bdd19a3bf5b0669bfa158f9ff inherit pub_methods_classparlai_1_1core_1_1agents_1_1Agent"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d4b/classparlai_1_1core_1_1agents_1_1Agent.html#a2525db5bdd19a3bf5b0669bfa158f9ff">clone</a> (self)</td></tr>
<tr class="separator:a2525db5bdd19a3bf5b0669bfa158f9ff inherit pub_methods_classparlai_1_1core_1_1agents_1_1Agent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbbb06bf0f46ff927c8b186726a68b47 inherit pub_methods_classparlai_1_1core_1_1agents_1_1Agent"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d4b/classparlai_1_1core_1_1agents_1_1Agent.html#afbbb06bf0f46ff927c8b186726a68b47">share</a> (self)</td></tr>
<tr class="separator:afbbb06bf0f46ff927c8b186726a68b47 inherit pub_methods_classparlai_1_1core_1_1agents_1_1Agent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a801e5ca2a5e8e96a72f0c04549008e8f inherit pub_methods_classparlai_1_1core_1_1agents_1_1Agent"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d4b/classparlai_1_1core_1_1agents_1_1Agent.html#a801e5ca2a5e8e96a72f0c04549008e8f">shutdown</a> (self)</td></tr>
<tr class="separator:a801e5ca2a5e8e96a72f0c04549008e8f inherit pub_methods_classparlai_1_1core_1_1agents_1_1Agent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a005f62f977e8a7ebf91b9646307153bc inherit pub_methods_classparlai_1_1core_1_1agents_1_1Agent"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d4b/classparlai_1_1core_1_1agents_1_1Agent.html#a005f62f977e8a7ebf91b9646307153bc">upgrade_opt</a> (cls, opt_from_disk)</td></tr>
<tr class="separator:a005f62f977e8a7ebf91b9646307153bc inherit pub_methods_classparlai_1_1core_1_1agents_1_1Agent"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a763f87c99544b29a0f8fae2c6019e2f8"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d93/classparlai_1_1agents_1_1bert__ranker_1_1both__encoder__ranker_1_1BothEncoderRankerAgent.html#a763f87c99544b29a0f8fae2c6019e2f8">add_cmdline_args</a> (parser)</td></tr>
<tr class="separator:a763f87c99544b29a0f8fae2c6019e2f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fd71b73fc926491aedc3da5921f62ca"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d93/classparlai_1_1agents_1_1bert__ranker_1_1both__encoder__ranker_1_1BothEncoderRankerAgent.html#a4fd71b73fc926491aedc3da5921f62ca">dictionary_class</a> ()</td></tr>
<tr class="separator:a4fd71b73fc926491aedc3da5921f62ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_static_methods_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td colspan="2" onclick="javascript:toggleInherit('pub_static_methods_classparlai_1_1core_1_1torch__agent_1_1TorchAgent')"><img src="../../closed.png" alt="-"/>&#160;Static Public Member Functions inherited from <a class="el" href="../../df/df5/classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html">parlai.core.torch_agent.TorchAgent</a></td></tr>
<tr class="memitem:aea8849fa69a3f5dbd3216c8b06f180ea inherit pub_static_methods_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/df5/classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#aea8849fa69a3f5dbd3216c8b06f180ea">dictionary_class</a> ()</td></tr>
<tr class="separator:aea8849fa69a3f5dbd3216c8b06f180ea inherit pub_static_methods_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a09440365a6c5a85c438f1a2bda393fff"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d93/classparlai_1_1agents_1_1bert__ranker_1_1both__encoder__ranker_1_1BothEncoderRankerAgent.html#a09440365a6c5a85c438f1a2bda393fff">path_biencoder</a></td></tr>
<tr class="separator:a09440365a6c5a85c438f1a2bda393fff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5042e527dfb849630b553b3d06388764"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d93/classparlai_1_1agents_1_1bert__ranker_1_1both__encoder__ranker_1_1BothEncoderRankerAgent.html#a5042e527dfb849630b553b3d06388764">path_crossencoder</a></td></tr>
<tr class="separator:a5042e527dfb849630b553b3d06388764"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4f692882d020eb3fced04859bd6f3ff"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d93/classparlai_1_1agents_1_1bert__ranker_1_1both__encoder__ranker_1_1BothEncoderRankerAgent.html#ac4f692882d020eb3fced04859bd6f3ff">top_n_bi</a></td></tr>
<tr class="separator:ac4f692882d020eb3fced04859bd6f3ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ab75f0b7e32e139b933b13b588917c4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d93/classparlai_1_1agents_1_1bert__ranker_1_1both__encoder__ranker_1_1BothEncoderRankerAgent.html#a3ab75f0b7e32e139b933b13b588917c4">NULL_IDX</a></td></tr>
<tr class="separator:a3ab75f0b7e32e139b933b13b588917c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cde2fe30b33c41771c0747ceed6ad56"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d93/classparlai_1_1agents_1_1bert__ranker_1_1both__encoder__ranker_1_1BothEncoderRankerAgent.html#a4cde2fe30b33c41771c0747ceed6ad56">START_IDX</a></td></tr>
<tr class="separator:a4cde2fe30b33c41771c0747ceed6ad56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa82e3a58e40ee874568e3ecd7bf1ec8f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d93/classparlai_1_1agents_1_1bert__ranker_1_1both__encoder__ranker_1_1BothEncoderRankerAgent.html#aa82e3a58e40ee874568e3ecd7bf1ec8f">END_IDX</a></td></tr>
<tr class="separator:aa82e3a58e40ee874568e3ecd7bf1ec8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a314d86777e26f7f1ab9a7b96bbaf1398"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d93/classparlai_1_1agents_1_1bert__ranker_1_1both__encoder__ranker_1_1BothEncoderRankerAgent.html#a314d86777e26f7f1ab9a7b96bbaf1398">biencoder</a></td></tr>
<tr class="separator:a314d86777e26f7f1ab9a7b96bbaf1398"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adcc57077c1fa3c461fecca24720f73bf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d93/classparlai_1_1agents_1_1bert__ranker_1_1both__encoder__ranker_1_1BothEncoderRankerAgent.html#adcc57077c1fa3c461fecca24720f73bf">crossencoder_batchsize</a></td></tr>
<tr class="separator:adcc57077c1fa3c461fecca24720f73bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ad0e098a0dd8278caa7ed77e147bfb1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d93/classparlai_1_1agents_1_1bert__ranker_1_1both__encoder__ranker_1_1BothEncoderRankerAgent.html#a7ad0e098a0dd8278caa7ed77e147bfb1">crossencoder</a></td></tr>
<tr class="separator:a7ad0e098a0dd8278caa7ed77e147bfb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_attribs_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td colspan="2" onclick="javascript:toggleInherit('pub_attribs_classparlai_1_1core_1_1torch__agent_1_1TorchAgent')"><img src="../../closed.png" alt="-"/>&#160;Public Attributes inherited from <a class="el" href="../../df/df5/classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html">parlai.core.torch_agent.TorchAgent</a></td></tr>
<tr class="memitem:a10b8d2605e619d5d3dc9f67777cb190a inherit pub_attribs_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/df5/classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a10b8d2605e619d5d3dc9f67777cb190a">use_cuda</a></td></tr>
<tr class="separator:a10b8d2605e619d5d3dc9f67777cb190a inherit pub_attribs_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6f916e01d876679b529a893ad4f52f6 inherit pub_attribs_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/df5/classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#aa6f916e01d876679b529a893ad4f52f6">fp16</a></td></tr>
<tr class="separator:aa6f916e01d876679b529a893ad4f52f6 inherit pub_attribs_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5dd17721e788aafd51cd5af7bf7fc967 inherit pub_attribs_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/df5/classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a5dd17721e788aafd51cd5af7bf7fc967">replies</a></td></tr>
<tr class="separator:a5dd17721e788aafd51cd5af7bf7fc967 inherit pub_attribs_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abebf29c0bb956bbc5ccc02777d2af3dd inherit pub_attribs_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/df5/classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#abebf29c0bb956bbc5ccc02777d2af3dd">dict</a></td></tr>
<tr class="separator:abebf29c0bb956bbc5ccc02777d2af3dd inherit pub_attribs_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a392ed66573001dfa2846d5042e8fc5a5 inherit pub_attribs_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/df5/classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a392ed66573001dfa2846d5042e8fc5a5">metrics</a></td></tr>
<tr class="separator:a392ed66573001dfa2846d5042e8fc5a5 inherit pub_attribs_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a785bb920cf8c8afc3e9bf6a8b77e335a inherit pub_attribs_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/df5/classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a785bb920cf8c8afc3e9bf6a8b77e335a">opt</a></td></tr>
<tr class="separator:a785bb920cf8c8afc3e9bf6a8b77e335a inherit pub_attribs_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe40410d2e3b2565ecd27441266011fc inherit pub_attribs_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/df5/classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#afe40410d2e3b2565ecd27441266011fc">model</a></td></tr>
<tr class="separator:afe40410d2e3b2565ecd27441266011fc inherit pub_attribs_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13d46ae8aed6052679b62c3961a4de62 inherit pub_attribs_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/df5/classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a13d46ae8aed6052679b62c3961a4de62">criterion</a></td></tr>
<tr class="separator:a13d46ae8aed6052679b62c3961a4de62 inherit pub_attribs_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ac66a09c1c164ea08f4b257c61c38a0 inherit pub_attribs_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/df5/classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a4ac66a09c1c164ea08f4b257c61c38a0">id</a></td></tr>
<tr class="separator:a4ac66a09c1c164ea08f4b257c61c38a0 inherit pub_attribs_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a80083f0e34d8abc15b50123efec884 inherit pub_attribs_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/df5/classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a3a80083f0e34d8abc15b50123efec884">EMPTY</a></td></tr>
<tr class="separator:a3a80083f0e34d8abc15b50123efec884 inherit pub_attribs_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95cedd561757c9fc10dbf3a956e7f912 inherit pub_attribs_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/df5/classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a95cedd561757c9fc10dbf3a956e7f912">NULL_IDX</a></td></tr>
<tr class="separator:a95cedd561757c9fc10dbf3a956e7f912 inherit pub_attribs_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2018afae9938937f80b61475314012cd inherit pub_attribs_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/df5/classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a2018afae9938937f80b61475314012cd">START_IDX</a></td></tr>
<tr class="separator:a2018afae9938937f80b61475314012cd inherit pub_attribs_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31bb7c8bf380660ee4e3822756563599 inherit pub_attribs_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/df5/classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a31bb7c8bf380660ee4e3822756563599">END_IDX</a></td></tr>
<tr class="separator:a31bb7c8bf380660ee4e3822756563599 inherit pub_attribs_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ca476189900643fab04d1ac0ebfc719 inherit pub_attribs_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/df5/classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a1ca476189900643fab04d1ac0ebfc719">random</a></td></tr>
<tr class="separator:a1ca476189900643fab04d1ac0ebfc719 inherit pub_attribs_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae67e7dc97dff3c46522712945ca23f50 inherit pub_attribs_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/df5/classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#ae67e7dc97dff3c46522712945ca23f50">batch_idx</a></td></tr>
<tr class="separator:ae67e7dc97dff3c46522712945ca23f50 inherit pub_attribs_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15cbb1f743c1d341d914ade47e49071b inherit pub_attribs_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/df5/classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a15cbb1f743c1d341d914ade47e49071b">histsz</a></td></tr>
<tr class="separator:a15cbb1f743c1d341d914ade47e49071b inherit pub_attribs_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ae27e9fe68d255a960bcb5180f48a65 inherit pub_attribs_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/df5/classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a3ae27e9fe68d255a960bcb5180f48a65">truncate</a></td></tr>
<tr class="separator:a3ae27e9fe68d255a960bcb5180f48a65 inherit pub_attribs_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3a69ecb5f20ce4f8a09c05c5f6f4376 inherit pub_attribs_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/df5/classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#ae3a69ecb5f20ce4f8a09c05c5f6f4376">text_truncate</a></td></tr>
<tr class="separator:ae3a69ecb5f20ce4f8a09c05c5f6f4376 inherit pub_attribs_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbdd7cf2deb2c43d982c57852b83e685 inherit pub_attribs_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/df5/classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#adbdd7cf2deb2c43d982c57852b83e685">label_truncate</a></td></tr>
<tr class="separator:adbdd7cf2deb2c43d982c57852b83e685 inherit pub_attribs_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0484b0246f0a930adc575899cdef033c inherit pub_attribs_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/df5/classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a0484b0246f0a930adc575899cdef033c">history</a></td></tr>
<tr class="separator:a0484b0246f0a930adc575899cdef033c inherit pub_attribs_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0bd6456c94dfd9afae73b86f05016cf inherit pub_attribs_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/df5/classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#ab0bd6456c94dfd9afae73b86f05016cf">is_training</a></td></tr>
<tr class="separator:ab0bd6456c94dfd9afae73b86f05016cf inherit pub_attribs_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6355b9b0c0ccb24ffe1b5e3d89903cc3 inherit pub_attribs_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/df5/classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a6355b9b0c0ccb24ffe1b5e3d89903cc3">rank_candidates</a></td></tr>
<tr class="separator:a6355b9b0c0ccb24ffe1b5e3d89903cc3 inherit pub_attribs_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63011fa9bd927de8acc9ffa676caa73a inherit pub_attribs_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/df5/classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a63011fa9bd927de8acc9ffa676caa73a">add_person_tokens</a></td></tr>
<tr class="separator:a63011fa9bd927de8acc9ffa676caa73a inherit pub_attribs_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9533344de40049bf13209739bc92199d inherit pub_attribs_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/df5/classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a9533344de40049bf13209739bc92199d">optimizer</a></td></tr>
<tr class="separator:a9533344de40049bf13209739bc92199d inherit pub_attribs_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54d8632c546ab621c93c34f13c964726 inherit pub_attribs_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/df5/classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a54d8632c546ab621c93c34f13c964726">warmup_scheduler</a></td></tr>
<tr class="separator:a54d8632c546ab621c93c34f13c964726 inherit pub_attribs_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0affe6b199275c182a27c9aa07393347 inherit pub_attribs_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/df5/classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a0affe6b199275c182a27c9aa07393347">scheduler</a></td></tr>
<tr class="separator:a0affe6b199275c182a27c9aa07393347 inherit pub_attribs_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a805a9e47552d54d56f5b232ab4d5121f inherit pub_attribs_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/df5/classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a805a9e47552d54d56f5b232ab4d5121f">proj_rp</a></td></tr>
<tr class="separator:a805a9e47552d54d56f5b232ab4d5121f inherit pub_attribs_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bc525b20568822a042b3bbfa3da3a69 inherit pub_attribs_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/df5/classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#a4bc525b20568822a042b3bbfa3da3a69">observation</a></td></tr>
<tr class="separator:a4bc525b20568822a042b3bbfa3da3a69 inherit pub_attribs_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_attribs_classparlai_1_1core_1_1agents_1_1Agent"><td colspan="2" onclick="javascript:toggleInherit('pub_attribs_classparlai_1_1core_1_1agents_1_1Agent')"><img src="../../closed.png" alt="-"/>&#160;Public Attributes inherited from <a class="el" href="../../dc/d4b/classparlai_1_1core_1_1agents_1_1Agent.html">parlai.core.agents.Agent</a></td></tr>
<tr class="memitem:ac00c13f4c7dd1263bf9203fa96dd2366 inherit pub_attribs_classparlai_1_1core_1_1agents_1_1Agent"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d4b/classparlai_1_1core_1_1agents_1_1Agent.html#ac00c13f4c7dd1263bf9203fa96dd2366">id</a></td></tr>
<tr class="separator:ac00c13f4c7dd1263bf9203fa96dd2366 inherit pub_attribs_classparlai_1_1core_1_1agents_1_1Agent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3b45d2754244608c75d4068b90cd051 inherit pub_attribs_classparlai_1_1core_1_1agents_1_1Agent"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d4b/classparlai_1_1core_1_1agents_1_1Agent.html#ab3b45d2754244608c75d4068b90cd051">opt</a></td></tr>
<tr class="separator:ab3b45d2754244608c75d4068b90cd051 inherit pub_attribs_classparlai_1_1core_1_1agents_1_1Agent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedbecc4b4aa7af7413882a0429e0f1db inherit pub_attribs_classparlai_1_1core_1_1agents_1_1Agent"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d4b/classparlai_1_1core_1_1agents_1_1Agent.html#aedbecc4b4aa7af7413882a0429e0f1db">observation</a></td></tr>
<tr class="separator:aedbecc4b4aa7af7413882a0429e0f1db inherit pub_attribs_classparlai_1_1core_1_1agents_1_1Agent"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_static_attribs_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td colspan="2" onclick="javascript:toggleInherit('pub_static_attribs_classparlai_1_1core_1_1torch__agent_1_1TorchAgent')"><img src="../../closed.png" alt="-"/>&#160;Static Public Attributes inherited from <a class="el" href="../../df/df5/classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html">parlai.core.torch_agent.TorchAgent</a></td></tr>
<tr class="memitem:ac946030b54cc854162e8bc6b7aad7272 inherit pub_static_attribs_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/df5/classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#ac946030b54cc854162e8bc6b7aad7272">P1_TOKEN</a> = '__p1__'</td></tr>
<tr class="separator:ac946030b54cc854162e8bc6b7aad7272 inherit pub_static_attribs_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6e16e0532e71b06328e078cb3c9324c inherit pub_static_attribs_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/df5/classparlai_1_1core_1_1torch__agent_1_1TorchAgent.html#af6e16e0532e71b06328e078cb3c9324c">P2_TOKEN</a> = '__p2__'</td></tr>
<tr class="separator:af6e16e0532e71b06328e078cb3c9324c inherit pub_static_attribs_classparlai_1_1core_1_1torch__agent_1_1TorchAgent"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">A Bi Encoder followed by a Cross Encoder.

Although it's trainable by itself, I'd recommend training the crossencoder and the
biencoder separately which can be done in parallel or sequentially and thus
requiring less memory on the GPU.
</pre> 
<p class="definition">Definition at line <a class="el" href="../../d3/df7/both__encoder__ranker_8py_source.html#l00014">14</a> of file <a class="el" href="../../d3/df7/both__encoder__ranker_8py_source.html">both_encoder_ranker.py</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a96d864d610277625195f71a615c0f585"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96d864d610277625195f71a615c0f585">&#9670;&nbsp;</a></span>__init__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.agents.bert_ranker.both_encoder_ranker.BothEncoderRankerAgent.__init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>opt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>shared</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/df7/both__encoder__ranker_8py_source.html#l00053">53</a> of file <a class="el" href="../../d3/df7/both__encoder__ranker_8py_source.html">both_encoder_ranker.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <span class="keyword">def </span>__init__(self, opt, shared=None):</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;        opt[<span class="stringliteral">&#39;lr_scheduler&#39;</span>] = <span class="stringliteral">&#39;none&#39;</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        self.path_biencoder = opt.get(<span class="stringliteral">&#39;biencoder_model_file&#39;</span>, <span class="keywordtype">None</span>)</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;        <span class="keywordflow">if</span> self.path_biencoder <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;            self.path_biencoder = opt[<span class="stringliteral">&#39;model_file&#39;</span>] + <span class="stringliteral">&#39;_bi&#39;</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        self.path_crossencoder = opt.get(<span class="stringliteral">&#39;crossencoder_model_file&#39;</span>, <span class="keywordtype">None</span>)</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        <span class="keywordflow">if</span> self.path_crossencoder <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;            self.path_crossencoder = opt[<span class="stringliteral">&#39;model_file&#39;</span>] + <span class="stringliteral">&#39;_cross&#39;</span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        self.top_n_bi = opt[<span class="stringliteral">&#39;biencoder_top_n&#39;</span>]</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        super().__init__(opt, shared)</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        self.NULL_IDX = self.dict.pad_idx</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;        self.START_IDX = self.dict.start_idx</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        self.END_IDX = self.dict.end_idx</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        <span class="keywordflow">if</span> shared <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;            opt_biencoder = dict(opt)</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;            opt_biencoder[<span class="stringliteral">&#39;model_file&#39;</span>] = self.path_biencoder</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;            self.biencoder = BiEncoderRankerAgent(opt_biencoder)</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;            opt_crossencoder = dict(opt)</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;            opt_crossencoder[<span class="stringliteral">&#39;model_file&#39;</span>] = self.path_crossencoder</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;            opt_crossencoder[<span class="stringliteral">&#39;batchsize&#39;</span>] = opt[<span class="stringliteral">&#39;batchsize&#39;</span>]</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;            opt_crossencoder[<span class="stringliteral">&#39;eval_candidates&#39;</span>] = <span class="stringliteral">&#39;inline&#39;</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;            <span class="keywordflow">if</span> opt[<span class="stringliteral">&#39;crossencoder_batchsize&#39;</span>] != -1:</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;                opt_crossencoder[<span class="stringliteral">&#39;batchsize&#39;</span>] = opt[<span class="stringliteral">&#39;crossencoder_batchsize&#39;</span>]</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;            self.crossencoder_batchsize = opt_crossencoder[<span class="stringliteral">&#39;batchsize&#39;</span>]</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;            self.crossencoder = CrossEncoderRankerAgent(opt_crossencoder)</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a763f87c99544b29a0f8fae2c6019e2f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a763f87c99544b29a0f8fae2c6019e2f8">&#9670;&nbsp;</a></span>add_cmdline_args()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.agents.bert_ranker.both_encoder_ranker.BothEncoderRankerAgent.add_cmdline_args </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>parser</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/df7/both__encoder__ranker_8py_source.html#l00024">24</a> of file <a class="el" href="../../d3/df7/both__encoder__ranker_8py_source.html">both_encoder_ranker.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;    <span class="keyword">def </span><a class="code" href="../../d3/d7d/namespaceparlai_1_1agents_1_1drqa_1_1config.html#a62fdd5554f1da6be0cba185271058320">add_cmdline_args</a>(parser):</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;        <a class="code" href="../../d4/db9/namespaceparlai_1_1agents_1_1bert__ranker_1_1helpers.html#ac2e926c3aba3a62be09e2c37dffcaee2">add_common_args</a>(parser)</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;        parser = parser.add_argument_group(<span class="stringliteral">&#39;Bert Ranker Arguments&#39;</span>)</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;        parser.add_argument(</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;            <span class="stringliteral">&#39;--biencoder-model-file&#39;</span>,</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;            type=str,</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;            default=<span class="keywordtype">None</span>,</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;            help=<span class="stringliteral">&#39;path to biencoder model. Default to model-file_bi&#39;</span>,</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;        )</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;        parser.add_argument(</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;            <span class="stringliteral">&#39;--biencoder-top-n&#39;</span>,</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;            type=int,</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;            default=10,</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;            help=<span class="stringliteral">&#39;default number of elements to keep from the biencoder response&#39;</span>,</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;        )</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;        parser.add_argument(</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;            <span class="stringliteral">&#39;--crossencoder-model-file&#39;</span>,</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;            type=str,</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;            default=<span class="keywordtype">None</span>,</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;            help=<span class="stringliteral">&#39;path to crossencoder model. Default to model-file_cross&#39;</span>,</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;        )</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;        parser.add_argument(</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;            <span class="stringliteral">&#39;--crossencoder-batchsize&#39;</span>,</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;            type=int,</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;            default=-1,</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;            help=<span class="stringliteral">&#39;crossencoder will be fed those many elements at train or eval time.&#39;</span>,</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;        )</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;        parser.set_defaults(encode_candidate_vecs=<span class="keyword">True</span>)</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div><div class="ttc" id="namespaceparlai_1_1agents_1_1drqa_1_1config_html_a62fdd5554f1da6be0cba185271058320"><div class="ttname"><a href="../../d3/d7d/namespaceparlai_1_1agents_1_1drqa_1_1config.html#a62fdd5554f1da6be0cba185271058320">parlai.agents.drqa.config.add_cmdline_args</a></div><div class="ttdeci">def add_cmdline_args(parser)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/deb/config_8py_source.html#l00010">config.py:10</a></div></div>
<div class="ttc" id="namespaceparlai_1_1agents_1_1bert__ranker_1_1helpers_html_ac2e926c3aba3a62be09e2c37dffcaee2"><div class="ttname"><a href="../../d4/db9/namespaceparlai_1_1agents_1_1bert__ranker_1_1helpers.html#ac2e926c3aba3a62be09e2c37dffcaee2">parlai.agents.bert_ranker.helpers.add_common_args</a></div><div class="ttdeci">def add_common_args(parser)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/deb/helpers_8py_source.html#l00034">helpers.py:34</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4fd71b73fc926491aedc3da5921f62ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fd71b73fc926491aedc3da5921f62ca">&#9670;&nbsp;</a></span>dictionary_class()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.agents.bert_ranker.both_encoder_ranker.BothEncoderRankerAgent.dictionary_class </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/df7/both__encoder__ranker_8py_source.html#l00081">81</a> of file <a class="el" href="../../d3/df7/both__encoder__ranker_8py_source.html">both_encoder_ranker.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <span class="keyword">def </span>dictionary_class():</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        <span class="keywordflow">return</span> BertDictionaryAgent</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a id="a6d189366af4a1264770d59e4b114967a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d189366af4a1264770d59e4b114967a">&#9670;&nbsp;</a></span>eval_step()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.agents.bert_ranker.both_encoder_ranker.BothEncoderRankerAgent.eval_step </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>batch</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">We pass the batch first in the biencoder, then filter with crossencoder.
</pre> 
<p class="definition">Definition at line <a class="el" href="../../d3/df7/both__encoder__ranker_8py_source.html#l00100">100</a> of file <a class="el" href="../../d3/df7/both__encoder__ranker_8py_source.html">both_encoder_ranker.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <span class="keyword">def </span>eval_step(self, batch):</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;</span></div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="stringliteral">        We pass the batch first in the biencoder, then filter with crossencoder.</span></div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="stringliteral">        &quot;&quot;&quot;</span></div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        output_biencoder = self.biencoder.eval_step(batch)</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        <span class="keywordflow">if</span> output_biencoder <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;            <span class="keywordflow">return</span> <span class="keywordtype">None</span></div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        new_candidate_vecs = [</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;            self.biencoder.vectorize_fixed_candidates(cands[0 : self.top_n_bi])</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;            <span class="keywordflow">for</span> cands <span class="keywordflow">in</span> output_biencoder.text_candidates</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        ]</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        new_candidates = [</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;            [c <span class="keywordflow">for</span> c <span class="keywordflow">in</span> cands[0 : self.top_n_bi]]</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;            <span class="keywordflow">for</span> cands <span class="keywordflow">in</span> output_biencoder.text_candidates</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;            <span class="keywordflow">if</span> cands <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span></div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        ]</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        copy_batch = <a class="code" href="../../db/d30/namespaceparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1.html#a74cfde390a2b9861179ac0fcd59da28c">Batch</a>(</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;            text_vec=batch.text_vec,</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;            candidate_vecs=new_candidate_vecs,</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;            candidates=new_candidates,</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        )</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        <span class="keywordflow">return</span> self.crossencoder.eval_step(copy_batch)</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;</div><div class="ttc" id="namespaceparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_html_a74cfde390a2b9861179ac0fcd59da28c"><div class="ttname"><a href="../../db/d30/namespaceparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1.html#a74cfde390a2b9861179ac0fcd59da28c">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.Batch</a></div><div class="ttdeci">Batch</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/ddc/torch__agent__v1_8py_source.html#l00077">torch_agent_v1.py:77</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3900966ef98a770cf6e871bb7de67907"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3900966ef98a770cf6e871bb7de67907">&#9670;&nbsp;</a></span>load()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.agents.bert_ranker.both_encoder_ranker.BothEncoderRankerAgent.load </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>path</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/df7/both__encoder__ranker_8py_source.html#l00127">127</a> of file <a class="el" href="../../d3/df7/both__encoder__ranker_8py_source.html">both_encoder_ranker.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <span class="keyword">def </span>load(self, path):</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        self.biencoder.load(self.path_biencoder)</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        self.crossencoder.load(self.path_crossencoder)</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;</div><!-- fragment -->
</div>
</div>
<a id="a5e8419dfd48e5a9b0a999058a9537831"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e8419dfd48e5a9b0a999058a9537831">&#9670;&nbsp;</a></span>save()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.agents.bert_ranker.both_encoder_ranker.BothEncoderRankerAgent.save </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>path</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/df7/both__encoder__ranker_8py_source.html#l00123">123</a> of file <a class="el" href="../../d3/df7/both__encoder__ranker_8py_source.html">both_encoder_ranker.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <span class="keyword">def </span>save(self, path=None):</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        self.biencoder.save(self.path_biencoder)</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        self.crossencoder.save(self.path_crossencoder)</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a id="a49ef7547db36c1570b8c10d0c8bee42e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49ef7547db36c1570b8c10d0c8bee42e">&#9670;&nbsp;</a></span>train_step()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.agents.bert_ranker.both_encoder_ranker.BothEncoderRankerAgent.train_step </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>batch</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/df7/both__encoder__ranker_8py_source.html#l00084">84</a> of file <a class="el" href="../../d3/df7/both__encoder__ranker_8py_source.html">both_encoder_ranker.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="keyword">def </span>train_step(self, batch):</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        self.biencoder.train_step(batch)</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        <span class="comment"># the crossencoder requires batches that are smaller.</span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;        <span class="comment"># split the batch into smaller pieces</span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        outc = []</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        step = self.crossencoder_batchsize</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;        <span class="keywordflow">for</span> start <span class="keywordflow">in</span> range(0, len(batch.text_vec), step):</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;            mbatch = <a class="code" href="../../db/d30/namespaceparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1.html#a74cfde390a2b9861179ac0fcd59da28c">Batch</a>(</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;                text_vec=batch.text_vec[start : start + step],</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;                label_vec=batch.label_vec[start : start + step],</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;                candidate_vecs=batch.candidate_vecs[start : start + step],</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;                candidates=batch.candidates[start : start + step],</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;            )</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;            outc.append(self.crossencoder.train_step(mbatch))</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../db/d30/namespaceparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1.html#a2689006ea97d09413fb242f984bd8016">Output</a>(text=[text <span class="keywordflow">for</span> out <span class="keywordflow">in</span> outc <span class="keywordflow">for</span> text <span class="keywordflow">in</span> out.text])</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div><div class="ttc" id="namespaceparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_html_a74cfde390a2b9861179ac0fcd59da28c"><div class="ttname"><a href="../../db/d30/namespaceparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1.html#a74cfde390a2b9861179ac0fcd59da28c">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.Batch</a></div><div class="ttdeci">Batch</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/ddc/torch__agent__v1_8py_source.html#l00077">torch_agent_v1.py:77</a></div></div>
<div class="ttc" id="namespaceparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1_html_a2689006ea97d09413fb242f984bd8016"><div class="ttname"><a href="../../db/d30/namespaceparlai_1_1agents_1_1legacy__agents_1_1seq2seq_1_1torch__agent__v1.html#a2689006ea97d09413fb242f984bd8016">parlai.agents.legacy_agents.seq2seq.torch_agent_v1.Output</a></div><div class="ttdeci">Output</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/ddc/torch__agent__v1_8py_source.html#l00107">torch_agent_v1.py:107</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a314d86777e26f7f1ab9a7b96bbaf1398"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a314d86777e26f7f1ab9a7b96bbaf1398">&#9670;&nbsp;</a></span>biencoder</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">parlai.agents.bert_ranker.both_encoder_ranker.BothEncoderRankerAgent.biencoder</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/df7/both__encoder__ranker_8py_source.html#l00070">70</a> of file <a class="el" href="../../d3/df7/both__encoder__ranker_8py_source.html">both_encoder_ranker.py</a>.</p>

</div>
</div>
<a id="a7ad0e098a0dd8278caa7ed77e147bfb1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ad0e098a0dd8278caa7ed77e147bfb1">&#9670;&nbsp;</a></span>crossencoder</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">parlai.agents.bert_ranker.both_encoder_ranker.BothEncoderRankerAgent.crossencoder</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/df7/both__encoder__ranker_8py_source.html#l00078">78</a> of file <a class="el" href="../../d3/df7/both__encoder__ranker_8py_source.html">both_encoder_ranker.py</a>.</p>

</div>
</div>
<a id="adcc57077c1fa3c461fecca24720f73bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adcc57077c1fa3c461fecca24720f73bf">&#9670;&nbsp;</a></span>crossencoder_batchsize</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">parlai.agents.bert_ranker.both_encoder_ranker.BothEncoderRankerAgent.crossencoder_batchsize</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/df7/both__encoder__ranker_8py_source.html#l00077">77</a> of file <a class="el" href="../../d3/df7/both__encoder__ranker_8py_source.html">both_encoder_ranker.py</a>.</p>

</div>
</div>
<a id="aa82e3a58e40ee874568e3ecd7bf1ec8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa82e3a58e40ee874568e3ecd7bf1ec8f">&#9670;&nbsp;</a></span>END_IDX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">parlai.agents.bert_ranker.both_encoder_ranker.BothEncoderRankerAgent.END_IDX</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/df7/both__encoder__ranker_8py_source.html#l00066">66</a> of file <a class="el" href="../../d3/df7/both__encoder__ranker_8py_source.html">both_encoder_ranker.py</a>.</p>

</div>
</div>
<a id="a3ab75f0b7e32e139b933b13b588917c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ab75f0b7e32e139b933b13b588917c4">&#9670;&nbsp;</a></span>NULL_IDX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">parlai.agents.bert_ranker.both_encoder_ranker.BothEncoderRankerAgent.NULL_IDX</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/df7/both__encoder__ranker_8py_source.html#l00064">64</a> of file <a class="el" href="../../d3/df7/both__encoder__ranker_8py_source.html">both_encoder_ranker.py</a>.</p>

</div>
</div>
<a id="a09440365a6c5a85c438f1a2bda393fff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09440365a6c5a85c438f1a2bda393fff">&#9670;&nbsp;</a></span>path_biencoder</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">parlai.agents.bert_ranker.both_encoder_ranker.BothEncoderRankerAgent.path_biencoder</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/df7/both__encoder__ranker_8py_source.html#l00055">55</a> of file <a class="el" href="../../d3/df7/both__encoder__ranker_8py_source.html">both_encoder_ranker.py</a>.</p>

</div>
</div>
<a id="a5042e527dfb849630b553b3d06388764"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5042e527dfb849630b553b3d06388764">&#9670;&nbsp;</a></span>path_crossencoder</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">parlai.agents.bert_ranker.both_encoder_ranker.BothEncoderRankerAgent.path_crossencoder</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/df7/both__encoder__ranker_8py_source.html#l00058">58</a> of file <a class="el" href="../../d3/df7/both__encoder__ranker_8py_source.html">both_encoder_ranker.py</a>.</p>

</div>
</div>
<a id="a4cde2fe30b33c41771c0747ceed6ad56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4cde2fe30b33c41771c0747ceed6ad56">&#9670;&nbsp;</a></span>START_IDX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">parlai.agents.bert_ranker.both_encoder_ranker.BothEncoderRankerAgent.START_IDX</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/df7/both__encoder__ranker_8py_source.html#l00065">65</a> of file <a class="el" href="../../d3/df7/both__encoder__ranker_8py_source.html">both_encoder_ranker.py</a>.</p>

</div>
</div>
<a id="ac4f692882d020eb3fced04859bd6f3ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4f692882d020eb3fced04859bd6f3ff">&#9670;&nbsp;</a></span>top_n_bi</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">parlai.agents.bert_ranker.both_encoder_ranker.BothEncoderRankerAgent.top_n_bi</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/df7/both__encoder__ranker_8py_source.html#l00061">61</a> of file <a class="el" href="../../d3/df7/both__encoder__ranker_8py_source.html">both_encoder_ranker.py</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>parlai/agents/bert_ranker/<a class="el" href="../../d3/df7/both__encoder__ranker_8py_source.html">both_encoder_ranker.py</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
