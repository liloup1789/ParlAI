<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ParlAI: parlai.utils.thread.SharedTable Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ParlAI
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../d5/d22/namespaceparlai.html">parlai</a></li><li class="navelem"><a class="el" href="../../d2/d79/namespaceparlai_1_1utils.html">utils</a></li><li class="navelem"><a class="el" href="../../d5/de7/namespaceparlai_1_1utils_1_1thread.html">thread</a></li><li class="navelem"><a class="el" href="../../d9/d1f/classparlai_1_1utils_1_1thread_1_1SharedTable.html">SharedTable</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="../../d5/db4/classparlai_1_1utils_1_1thread_1_1SharedTable-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">parlai.utils.thread.SharedTable Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for parlai.utils.thread.SharedTable:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/deb/classparlai_1_1utils_1_1thread_1_1SharedTable__inherit__graph.png" border="0" usemap="#parlai_8utils_8thread_8SharedTable_inherit__map" alt="Inheritance graph"/></div>
<map name="parlai_8utils_8thread_8SharedTable_inherit__map" id="parlai_8utils_8thread_8SharedTable_inherit__map">
</map>
<center><span class="legend">[<a href="../../graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for parlai.utils.thread.SharedTable:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/df7/classparlai_1_1utils_1_1thread_1_1SharedTable__coll__graph.png" border="0" usemap="#parlai_8utils_8thread_8SharedTable_coll__map" alt="Collaboration graph"/></div>
<map name="parlai_8utils_8thread_8SharedTable_coll__map" id="parlai_8utils_8thread_8SharedTable_coll__map">
</map>
<center><span class="legend">[<a href="../../graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a52b58b8d6ad0ba31cf2e3236afe970a5"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d1f/classparlai_1_1utils_1_1thread_1_1SharedTable.html#a52b58b8d6ad0ba31cf2e3236afe970a5">__init__</a> (self, init_dict=None)</td></tr>
<tr class="separator:a52b58b8d6ad0ba31cf2e3236afe970a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b6c4f7fb5887de4e2c82b0c11b6d680"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d1f/classparlai_1_1utils_1_1thread_1_1SharedTable.html#a6b6c4f7fb5887de4e2c82b0c11b6d680">__len__</a> (self)</td></tr>
<tr class="separator:a6b6c4f7fb5887de4e2c82b0c11b6d680"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c386b5fba3bd7ff0715c808decbaa54"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d1f/classparlai_1_1utils_1_1thread_1_1SharedTable.html#a6c386b5fba3bd7ff0715c808decbaa54">__iter__</a> (self)</td></tr>
<tr class="separator:a6c386b5fba3bd7ff0715c808decbaa54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afac82c3717ad0344c5bdfc7b8913d796"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d1f/classparlai_1_1utils_1_1thread_1_1SharedTable.html#afac82c3717ad0344c5bdfc7b8913d796">__contains__</a> (self, key)</td></tr>
<tr class="separator:afac82c3717ad0344c5bdfc7b8913d796"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a624b898ff3294a8be69ad796640cc7ee"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d1f/classparlai_1_1utils_1_1thread_1_1SharedTable.html#a624b898ff3294a8be69ad796640cc7ee">__getitem__</a> (self, key)</td></tr>
<tr class="separator:a624b898ff3294a8be69ad796640cc7ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43bc2c55c2125ce9c4848933fadeef5c"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d1f/classparlai_1_1utils_1_1thread_1_1SharedTable.html#a43bc2c55c2125ce9c4848933fadeef5c">__setitem__</a> (self, key, value)</td></tr>
<tr class="separator:a43bc2c55c2125ce9c4848933fadeef5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a567947ad20bdc1ad18815fc1883ea247"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d1f/classparlai_1_1utils_1_1thread_1_1SharedTable.html#a567947ad20bdc1ad18815fc1883ea247">__delitem__</a> (self, key)</td></tr>
<tr class="separator:a567947ad20bdc1ad18815fc1883ea247"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa18f723bbdfce0ab50d9c36b20cec2c7"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d1f/classparlai_1_1utils_1_1thread_1_1SharedTable.html#aa18f723bbdfce0ab50d9c36b20cec2c7">__str__</a> (self)</td></tr>
<tr class="separator:aa18f723bbdfce0ab50d9c36b20cec2c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4577c8c954666ac3905a6215835bbd0"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d1f/classparlai_1_1utils_1_1thread_1_1SharedTable.html#af4577c8c954666ac3905a6215835bbd0">__repr__</a> (self)</td></tr>
<tr class="separator:af4577c8c954666ac3905a6215835bbd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9acef58b28d0c992c841a4cc11a5df2"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d1f/classparlai_1_1utils_1_1thread_1_1SharedTable.html#ab9acef58b28d0c992c841a4cc11a5df2">get_lock</a> (self)</td></tr>
<tr class="separator:ab9acef58b28d0c992c841a4cc11a5df2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:aec0fa85ca2544dd6220db34c7da01a08"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d1f/classparlai_1_1utils_1_1thread_1_1SharedTable.html#aec0fa85ca2544dd6220db34c7da01a08">idx</a></td></tr>
<tr class="separator:aec0fa85ca2544dd6220db34c7da01a08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a722e0cb6428af2282f4a2697c2c86d01"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d1f/classparlai_1_1utils_1_1thread_1_1SharedTable.html#a722e0cb6428af2282f4a2697c2c86d01">arrays</a></td></tr>
<tr class="separator:a722e0cb6428af2282f4a2697c2c86d01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1a6839c09b909c73c7b57ece300d4d4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d1f/classparlai_1_1utils_1_1thread_1_1SharedTable.html#ad1a6839c09b909c73c7b57ece300d4d4">tensors</a></td></tr>
<tr class="separator:ad1a6839c09b909c73c7b57ece300d4d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9c342b24e24a93c40950671a326d014"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d1f/classparlai_1_1utils_1_1thread_1_1SharedTable.html#aa9c342b24e24a93c40950671a326d014">lock</a></td></tr>
<tr class="separator:aa9c342b24e24a93c40950671a326d014"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:afd2aec148b1e66d0496f137749862e58"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d1f/classparlai_1_1utils_1_1thread_1_1SharedTable.html#afd2aec148b1e66d0496f137749862e58">types</a></td></tr>
<tr class="separator:afd2aec148b1e66d0496f137749862e58"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Provides a simple shared-memory table of integers, floats, or strings.

Use this class as follows:

.. code-block:: python

    tbl = SharedTable({'cnt': 0})
    with tbl.get_lock():
        tbl['startTime'] = time.time()
    for i in range(10):
        with tbl.get_lock():
            tbl['cnt'] += 1
</pre> 
<p class="definition">Definition at line <a class="el" href="../../d0/de4/thread_8py_source.html#l00018">18</a> of file <a class="el" href="../../d0/de4/thread_8py_source.html">thread.py</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a52b58b8d6ad0ba31cf2e3236afe970a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52b58b8d6ad0ba31cf2e3236afe970a5">&#9670;&nbsp;</a></span>__init__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.utils.thread.SharedTable.__init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>init_dict</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Create a shared memory version of each element of the initial dictionary.

Creates an empty array otherwise, which will extend
automatically when keys are added.

Each different type (all supported types listed in the ``types`` array
above) has its own array. For each key we store an index into the
appropriate array as well as the type of value stored for that key.
</pre> 
<p class="definition">Definition at line <a class="el" href="../../d0/de4/thread_8py_source.html#l00036">36</a> of file <a class="el" href="../../d0/de4/thread_8py_source.html">thread.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    <span class="keyword">def </span>__init__(self, init_dict=None):</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="stringliteral">        Create a shared memory version of each element of the initial dictionary.</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="stringliteral">        Creates an empty array otherwise, which will extend</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="stringliteral">        automatically when keys are added.</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="stringliteral">        Each different type (all supported types listed in the ``types`` array</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="stringliteral">        above) has its own array. For each key we store an index into the</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="stringliteral">        appropriate array as well as the type of value stored for that key.</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="stringliteral">        &quot;&quot;&quot;</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;        <span class="comment"># idx is dict of {key: (array_idx, value_type)}</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        self.idx = {}</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        <span class="comment"># arrays is dict of {value_type: array_of_ctype}</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;        self.arrays = {}</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;        self.tensors = {}</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;        <span class="keywordflow">if</span> init_dict:</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;            sizes = {typ: 0 <span class="keywordflow">for</span> typ <span class="keywordflow">in</span> self.types.keys()}</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;            <span class="keywordflow">for</span> k, v <span class="keywordflow">in</span> init_dict.items():</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;                <span class="keywordflow">if</span> <a class="code" href="../../d5/de7/namespaceparlai_1_1utils_1_1thread.html#ad2b01da95ecdc33d8dce76a79f48137f">is_tensor</a>(v):</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;                    <span class="comment"># add tensor to tensor dict--don&#39;t try to put in rawarray</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;                    self.tensors[k] = v</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;                    <span class="keywordflow">continue</span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;                <span class="keywordflow">elif</span> <a class="code" href="../../d4/da3/namespaceparlai_1_1agents_1_1tfidf__retriever_1_1build__tfidf.html#ad5dfae268e23f506da084a9efb72f619">type</a>(v) <span class="keywordflow">not</span> <span class="keywordflow">in</span> sizes:</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;                    <span class="keywordflow">raise</span> TypeError(</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;                        <span class="stringliteral">&#39;SharedTable does not support values of &#39;</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;                        + <span class="stringliteral">&#39;type &#39;</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;                        + <a class="code" href="../../df/d5f/namespacegenerate__task__READMEs.html#a5b88452ffb87b78c8c85ececebafc09f">str</a>(<a class="code" href="../../d4/da3/namespaceparlai_1_1agents_1_1tfidf__retriever_1_1build__tfidf.html#ad5dfae268e23f506da084a9efb72f619">type</a>(v))</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;                    )</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;                sizes[<a class="code" href="../../d4/da3/namespaceparlai_1_1agents_1_1tfidf__retriever_1_1build__tfidf.html#ad5dfae268e23f506da084a9efb72f619">type</a>(v)] += 1</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;            <span class="comment"># pop tensors from init_dict</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;            <span class="keywordflow">for</span> k <span class="keywordflow">in</span> self.tensors.keys():</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;                init_dict.pop(k)</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;            <span class="comment"># create raw arrays for each type</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;            <span class="keywordflow">for</span> typ, sz <span class="keywordflow">in</span> sizes.items():</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;                self.arrays[typ] = RawArray(self.types[typ], sz)</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;            <span class="comment"># track indices for each key, assign them to their typed rawarray</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;            idxs = {typ: 0 <span class="keywordflow">for</span> typ <span class="keywordflow">in</span> self.types.keys()}</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;            <span class="keywordflow">for</span> k, v <span class="keywordflow">in</span> init_dict.items():</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;                val_type = <a class="code" href="../../d4/da3/namespaceparlai_1_1agents_1_1tfidf__retriever_1_1build__tfidf.html#ad5dfae268e23f506da084a9efb72f619">type</a>(v)</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;                self.idx[k] = (idxs[val_type], val_type)</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;                <span class="keywordflow">if</span> val_type == str:</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;                    v = sys.intern(v)</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;                self.arrays[val_type][idxs[val_type]] = v</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;                idxs[val_type] += 1</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        <span class="comment"># initialize any needed empty arrays</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        <span class="keywordflow">for</span> typ, ctyp <span class="keywordflow">in</span> self.types.items():</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;            <span class="keywordflow">if</span> typ <span class="keywordflow">not</span> <span class="keywordflow">in</span> self.arrays:</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;                self.arrays[typ] = RawArray(ctyp, 0)</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        self.lock = Lock()</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div><div class="ttc" id="namespacegenerate__task__READMEs_html_a5b88452ffb87b78c8c85ececebafc09f"><div class="ttname"><a href="../../df/d5f/namespacegenerate__task__READMEs.html#a5b88452ffb87b78c8c85ececebafc09f">generate_task_READMEs.str</a></div><div class="ttdeci">string str</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d04/generate__task__READMEs_8py_source.html#l00022">generate_task_READMEs.py:22</a></div></div>
<div class="ttc" id="namespaceparlai_1_1utils_1_1thread_html_ad2b01da95ecdc33d8dce76a79f48137f"><div class="ttname"><a href="../../d5/de7/namespaceparlai_1_1utils_1_1thread.html#ad2b01da95ecdc33d8dce76a79f48137f">parlai.utils.thread.is_tensor</a></div><div class="ttdeci">def is_tensor(v)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/de4/thread_8py_source.html#l00178">thread.py:178</a></div></div>
<div class="ttc" id="namespaceparlai_1_1agents_1_1tfidf__retriever_1_1build__tfidf_html_ad5dfae268e23f506da084a9efb72f619"><div class="ttname"><a href="../../d4/da3/namespaceparlai_1_1agents_1_1tfidf__retriever_1_1build__tfidf.html#ad5dfae268e23f506da084a9efb72f619">parlai.agents.tfidf_retriever.build_tfidf.type</a></div><div class="ttdeci">type</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de8/build__tfidf_8py_source.html#l00339">build_tfidf.py:339</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="afac82c3717ad0344c5bdfc7b8913d796"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afac82c3717ad0344c5bdfc7b8913d796">&#9670;&nbsp;</a></span>__contains__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.utils.thread.SharedTable.__contains__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d0/de4/thread_8py_source.html#l00094">94</a> of file <a class="el" href="../../d0/de4/thread_8py_source.html">thread.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <span class="keyword">def </span>__contains__(self, key):</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        <span class="keywordflow">return</span> key <span class="keywordflow">in</span> self.idx <span class="keywordflow">or</span> key <span class="keywordflow">in</span> self.tensors</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a id="a567947ad20bdc1ad18815fc1883ea247"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a567947ad20bdc1ad18815fc1883ea247">&#9670;&nbsp;</a></span>__delitem__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.utils.thread.SharedTable.__delitem__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d0/de4/thread_8py_source.html#l00145">145</a> of file <a class="el" href="../../d0/de4/thread_8py_source.html">thread.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <span class="keyword">def </span>__delitem__(self, key):</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        <span class="keywordflow">if</span> key <span class="keywordflow">in</span> self.tensors:</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;            del self.tensors[key]</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        <span class="keywordflow">elif</span> key <span class="keywordflow">in</span> self.idx:</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;            del self.idx[key]</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;            <span class="keywordflow">raise</span> KeyError(<span class="stringliteral">&#39;Key &quot;{}&quot; not found in SharedTable&#39;</span>.<a class="code" href="../../d4/d94/namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils.html#a32e2e2022b824fbaf80c747160b52a76">format</a>(key))</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;</div><div class="ttc" id="namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_html_a32e2e2022b824fbaf80c747160b52a76"><div class="ttname"><a href="../../d4/d94/namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils.html#a32e2e2022b824fbaf80c747160b52a76">parlai.chat_service.services.messenger.shared_utils.format</a></div><div class="ttdeci">format</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da3/chat__service_2services_2messenger_2shared__utils_8py_source.html#l00029">shared_utils.py:29</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a624b898ff3294a8be69ad796640cc7ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a624b898ff3294a8be69ad796640cc7ee">&#9670;&nbsp;</a></span>__getitem__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.utils.thread.SharedTable.__getitem__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Return shared value if key is available.
</pre> 
<p class="definition">Definition at line <a class="el" href="../../d0/de4/thread_8py_source.html#l00097">97</a> of file <a class="el" href="../../d0/de4/thread_8py_source.html">thread.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="keyword">def </span>__getitem__(self, key):</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;</span></div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="stringliteral">        Return shared value if key is available.</span></div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="stringliteral">        &quot;&quot;&quot;</span></div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        <span class="keywordflow">if</span> key <span class="keywordflow">in</span> self.tensors:</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;            <span class="keywordflow">return</span> self.tensors[key]</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        <span class="keywordflow">elif</span> key <span class="keywordflow">in</span> self.idx:</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;            idx, typ = self.idx[key]</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;            <span class="keywordflow">return</span> self.arrays[typ][idx]</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;            <span class="keywordflow">raise</span> KeyError(<span class="stringliteral">&#39;Key &quot;{}&quot; not found in SharedTable&#39;</span>.<a class="code" href="../../d4/d94/namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils.html#a32e2e2022b824fbaf80c747160b52a76">format</a>(key))</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;</div><div class="ttc" id="namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_html_a32e2e2022b824fbaf80c747160b52a76"><div class="ttname"><a href="../../d4/d94/namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils.html#a32e2e2022b824fbaf80c747160b52a76">parlai.chat_service.services.messenger.shared_utils.format</a></div><div class="ttdeci">format</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da3/chat__service_2services_2messenger_2shared__utils_8py_source.html#l00029">shared_utils.py:29</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6c386b5fba3bd7ff0715c808decbaa54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c386b5fba3bd7ff0715c808decbaa54">&#9670;&nbsp;</a></span>__iter__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.utils.thread.SharedTable.__iter__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d0/de4/thread_8py_source.html#l00091">91</a> of file <a class="el" href="../../d0/de4/thread_8py_source.html">thread.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <span class="keyword">def </span>__iter__(self):</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        <span class="keywordflow">return</span> iter([k <span class="keywordflow">for</span> k <span class="keywordflow">in</span> self.idx] + [k <span class="keywordflow">for</span> k <span class="keywordflow">in</span> self.tensors])</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a id="a6b6c4f7fb5887de4e2c82b0c11b6d680"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b6c4f7fb5887de4e2c82b0c11b6d680">&#9670;&nbsp;</a></span>__len__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.utils.thread.SharedTable.__len__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d0/de4/thread_8py_source.html#l00088">88</a> of file <a class="el" href="../../d0/de4/thread_8py_source.html">thread.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <span class="keyword">def </span>__len__(self):</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        <span class="keywordflow">return</span> len(self.idx) + len(self.tensors)</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a id="af4577c8c954666ac3905a6215835bbd0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4577c8c954666ac3905a6215835bbd0">&#9670;&nbsp;</a></span>__repr__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.utils.thread.SharedTable.__repr__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Return the object type and memory location with the mapping.
</pre> 
<p class="definition">Definition at line <a class="el" href="../../d0/de4/thread_8py_source.html#l00164">164</a> of file <a class="el" href="../../d0/de4/thread_8py_source.html">thread.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <span class="keyword">def </span>__repr__(self):</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;</span></div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="stringliteral">        Return the object type and memory location with the mapping.</span></div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;<span class="stringliteral">        &quot;&quot;&quot;</span></div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        representation = super().__repr__()</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        <span class="keywordflow">return</span> representation.replace(<span class="stringliteral">&#39;&gt;&#39;</span>, <span class="stringliteral">&#39;: {}&gt;&#39;</span>.<a class="code" href="../../d4/d94/namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils.html#a32e2e2022b824fbaf80c747160b52a76">format</a>(<a class="code" href="../../df/d5f/namespacegenerate__task__READMEs.html#a5b88452ffb87b78c8c85ececebafc09f">str</a>(self)))</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;</div><div class="ttc" id="namespacegenerate__task__READMEs_html_a5b88452ffb87b78c8c85ececebafc09f"><div class="ttname"><a href="../../df/d5f/namespacegenerate__task__READMEs.html#a5b88452ffb87b78c8c85ececebafc09f">generate_task_READMEs.str</a></div><div class="ttdeci">string str</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d04/generate__task__READMEs_8py_source.html#l00022">generate_task_READMEs.py:22</a></div></div>
<div class="ttc" id="namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_html_a32e2e2022b824fbaf80c747160b52a76"><div class="ttname"><a href="../../d4/d94/namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils.html#a32e2e2022b824fbaf80c747160b52a76">parlai.chat_service.services.messenger.shared_utils.format</a></div><div class="ttdeci">format</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da3/chat__service_2services_2messenger_2shared__utils_8py_source.html#l00029">shared_utils.py:29</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a43bc2c55c2125ce9c4848933fadeef5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43bc2c55c2125ce9c4848933fadeef5c">&#9670;&nbsp;</a></span>__setitem__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.utils.thread.SharedTable.__setitem__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">If key is in table, update it. Otherwise, extend the array to make room.

This uses additive resizing not multiplicative, since the number
of keys is not likely to change frequently during a run, so do not
abuse it.

Raises an error if you try to change the type of the value stored for
that key -- if you need to do this, you must delete the key first.
</pre> 
<p class="definition">Definition at line <a class="el" href="../../d0/de4/thread_8py_source.html#l00109">109</a> of file <a class="el" href="../../d0/de4/thread_8py_source.html">thread.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="keyword">def </span>__setitem__(self, key, value):</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;</span></div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="stringliteral">        If key is in table, update it. Otherwise, extend the array to make room.</span></div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="stringliteral">        This uses additive resizing not multiplicative, since the number</span></div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="stringliteral">        of keys is not likely to change frequently during a run, so do not</span></div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="stringliteral">        abuse it.</span></div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="stringliteral">        Raises an error if you try to change the type of the value stored for</span></div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="stringliteral">        that key -- if you need to do this, you must delete the key first.</span></div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="stringliteral">        &quot;&quot;&quot;</span></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        val_type = <a class="code" href="../../d4/da3/namespaceparlai_1_1agents_1_1tfidf__retriever_1_1build__tfidf.html#ad5dfae268e23f506da084a9efb72f619">type</a>(value)</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        <span class="keywordflow">if</span> <span class="stringliteral">&#39;Tensor&#39;</span> <span class="keywordflow">in</span> <a class="code" href="../../df/d5f/namespacegenerate__task__READMEs.html#a5b88452ffb87b78c8c85ececebafc09f">str</a>(val_type):</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;            self.tensors[key] = value</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;            <span class="keywordflow">return</span></div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        <span class="keywordflow">if</span> val_type <span class="keywordflow">not</span> <span class="keywordflow">in</span> self.types:</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;            <span class="keywordflow">raise</span> TypeError(<span class="stringliteral">&#39;SharedTable does not support type &#39;</span> + <a class="code" href="../../df/d5f/namespacegenerate__task__READMEs.html#a5b88452ffb87b78c8c85ececebafc09f">str</a>(<a class="code" href="../../d4/da3/namespaceparlai_1_1agents_1_1tfidf__retriever_1_1build__tfidf.html#ad5dfae268e23f506da084a9efb72f619">type</a>(value)))</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        <span class="keywordflow">if</span> val_type == str:</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;            value = sys.intern(value)</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        <span class="keywordflow">if</span> key <span class="keywordflow">in</span> self.idx:</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;            idx, typ = self.idx[key]</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;            <span class="keywordflow">if</span> typ != val_type:</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;                <span class="keywordflow">raise</span> TypeError(</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;                    (</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;                        <span class="stringliteral">&#39;Cannot change stored type for {key} from &#39;</span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;                        + <span class="stringliteral">&#39;{v1} to {v2}. You need to del the key first&#39;</span></div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;                        + <span class="stringliteral">&#39; if you need to change value types.&#39;</span></div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;                    ).<a class="code" href="../../d4/d94/namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils.html#a32e2e2022b824fbaf80c747160b52a76">format</a>(key=key, v1=typ, v2=val_type)</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;                )</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;            self.arrays[typ][idx] = value</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;            <span class="keywordflow">raise</span> KeyError(</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;                <span class="stringliteral">&#39;Cannot add more keys to the shared table as &#39;</span></div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;                <span class="stringliteral">&#39;they will not be synced across processes.&#39;</span></div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;            )</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;</div><div class="ttc" id="namespacegenerate__task__READMEs_html_a5b88452ffb87b78c8c85ececebafc09f"><div class="ttname"><a href="../../df/d5f/namespacegenerate__task__READMEs.html#a5b88452ffb87b78c8c85ececebafc09f">generate_task_READMEs.str</a></div><div class="ttdeci">string str</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d04/generate__task__READMEs_8py_source.html#l00022">generate_task_READMEs.py:22</a></div></div>
<div class="ttc" id="namespaceparlai_1_1agents_1_1tfidf__retriever_1_1build__tfidf_html_ad5dfae268e23f506da084a9efb72f619"><div class="ttname"><a href="../../d4/da3/namespaceparlai_1_1agents_1_1tfidf__retriever_1_1build__tfidf.html#ad5dfae268e23f506da084a9efb72f619">parlai.agents.tfidf_retriever.build_tfidf.type</a></div><div class="ttdeci">type</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de8/build__tfidf_8py_source.html#l00339">build_tfidf.py:339</a></div></div>
<div class="ttc" id="namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_html_a32e2e2022b824fbaf80c747160b52a76"><div class="ttname"><a href="../../d4/d94/namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils.html#a32e2e2022b824fbaf80c747160b52a76">parlai.chat_service.services.messenger.shared_utils.format</a></div><div class="ttdeci">format</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da3/chat__service_2services_2messenger_2shared__utils_8py_source.html#l00029">shared_utils.py:29</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa18f723bbdfce0ab50d9c36b20cec2c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa18f723bbdfce0ab50d9c36b20cec2c7">&#9670;&nbsp;</a></span>__str__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.utils.thread.SharedTable.__str__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Return simple dict representation of the mapping.
</pre> 
<p class="definition">Definition at line <a class="el" href="../../d0/de4/thread_8py_source.html#l00153">153</a> of file <a class="el" href="../../d0/de4/thread_8py_source.html">thread.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <span class="keyword">def </span>__str__(self):</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;</span></div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="stringliteral">        Return simple dict representation of the mapping.</span></div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="stringliteral">        &quot;&quot;&quot;</span></div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        lhs = [</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;            <span class="stringliteral">&#39;{k}: {v}&#39;</span>.<a class="code" href="../../d4/d94/namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils.html#a32e2e2022b824fbaf80c747160b52a76">format</a>(k=key, v=self.arrays[typ][idx])</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;            <span class="keywordflow">for</span> key, (idx, typ) <span class="keywordflow">in</span> self.idx.items()</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        ]</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        rhs = [<span class="stringliteral">&#39;{k}: {v}&#39;</span>.<a class="code" href="../../d4/d94/namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils.html#a32e2e2022b824fbaf80c747160b52a76">format</a>(k=k, v=v) <span class="keywordflow">for</span> k, v <span class="keywordflow">in</span> self.tensors.items()]</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        <span class="keywordflow">return</span> <span class="stringliteral">&#39;{{{}}}&#39;</span>.<a class="code" href="../../d4/d94/namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils.html#a32e2e2022b824fbaf80c747160b52a76">format</a>(<span class="stringliteral">&#39;, &#39;</span>.join(lhs + rhs))</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;</div><div class="ttc" id="namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_html_a32e2e2022b824fbaf80c747160b52a76"><div class="ttname"><a href="../../d4/d94/namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils.html#a32e2e2022b824fbaf80c747160b52a76">parlai.chat_service.services.messenger.shared_utils.format</a></div><div class="ttdeci">format</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da3/chat__service_2services_2messenger_2shared__utils_8py_source.html#l00029">shared_utils.py:29</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab9acef58b28d0c992c841a4cc11a5df2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9acef58b28d0c992c841a4cc11a5df2">&#9670;&nbsp;</a></span>get_lock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.utils.thread.SharedTable.get_lock </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Return the lock.
</pre> 
<p class="definition">Definition at line <a class="el" href="../../d0/de4/thread_8py_source.html#l00171">171</a> of file <a class="el" href="../../d0/de4/thread_8py_source.html">thread.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <span class="keyword">def </span>get_lock(self):</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;</span></div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="stringliteral">        Return the lock.</span></div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="stringliteral">        &quot;&quot;&quot;</span></div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        <span class="keywordflow">return</span> self.lock</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a722e0cb6428af2282f4a2697c2c86d01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a722e0cb6428af2282f4a2697c2c86d01">&#9670;&nbsp;</a></span>arrays</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">parlai.utils.thread.SharedTable.arrays</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d0/de4/thread_8py_source.html#l00050">50</a> of file <a class="el" href="../../d0/de4/thread_8py_source.html">thread.py</a>.</p>

</div>
</div>
<a id="aec0fa85ca2544dd6220db34c7da01a08"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec0fa85ca2544dd6220db34c7da01a08">&#9670;&nbsp;</a></span>idx</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">parlai.utils.thread.SharedTable.idx</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d0/de4/thread_8py_source.html#l00048">48</a> of file <a class="el" href="../../d0/de4/thread_8py_source.html">thread.py</a>.</p>

</div>
</div>
<a id="aa9c342b24e24a93c40950671a326d014"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9c342b24e24a93c40950671a326d014">&#9670;&nbsp;</a></span>lock</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">parlai.utils.thread.SharedTable.lock</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d0/de4/thread_8py_source.html#l00086">86</a> of file <a class="el" href="../../d0/de4/thread_8py_source.html">thread.py</a>.</p>

</div>
</div>
<a id="ad1a6839c09b909c73c7b57ece300d4d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1a6839c09b909c73c7b57ece300d4d4">&#9670;&nbsp;</a></span>tensors</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">parlai.utils.thread.SharedTable.tensors</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d0/de4/thread_8py_source.html#l00051">51</a> of file <a class="el" href="../../d0/de4/thread_8py_source.html">thread.py</a>.</p>

</div>
</div>
<a id="afd2aec148b1e66d0496f137749862e58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd2aec148b1e66d0496f137749862e58">&#9670;&nbsp;</a></span>types</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">parlai.utils.thread.SharedTable.types</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d0/de4/thread_8py_source.html#l00034">34</a> of file <a class="el" href="../../d0/de4/thread_8py_source.html">thread.py</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>parlai/utils/<a class="el" href="../../d0/de4/thread_8py_source.html">thread.py</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
