<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ParlAI: parlai.mturk.scripts.bonus_workers Namespace Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ParlAI
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../d5/d22/namespaceparlai.html">parlai</a></li><li class="navelem"><a class="el" href="../../df/de1/namespaceparlai_1_1mturk.html">mturk</a></li><li class="navelem"><a class="el" href="../../d8/de7/namespaceparlai_1_1mturk_1_1scripts.html">scripts</a></li><li class="navelem"><a class="el" href="../../d1/d23/namespaceparlai_1_1mturk_1_1scripts_1_1bonus__workers.html">bonus_workers</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">parlai.mturk.scripts.bonus_workers Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aafc7a350f4abb5524c1b7477b3fc2bda"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d23/namespaceparlai_1_1mturk_1_1scripts_1_1bonus__workers.html#aafc7a350f4abb5524c1b7477b3fc2bda">main</a> ()</td></tr>
<tr class="separator:aafc7a350f4abb5524c1b7477b3fc2bda"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="aafc7a350f4abb5524c1b7477b3fc2bda"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aafc7a350f4abb5524c1b7477b3fc2bda">&#9670;&nbsp;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.mturk.scripts.bonus_workers.main </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">This script should be used to compensate workers that have not recieved proper
payment for the completion of tasks due to issues on our end.

It's important to make sure you keep a requester reputation up.
</pre> 
<p class="definition">Definition at line <a class="el" href="../../da/daa/bonus__workers_8py_source.html#l00011">11</a> of file <a class="el" href="../../da/daa/bonus__workers_8py_source.html">bonus_workers.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="keyword">def </span><a class="code" href="../../d1/d23/namespaceparlai_1_1mturk_1_1scripts_1_1bonus__workers.html#aafc7a350f4abb5524c1b7477b3fc2bda">main</a>():</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;    <span class="stringliteral">&quot;&quot;&quot;</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="stringliteral">    This script should be used to compensate workers that have not recieved proper</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="stringliteral">    payment for the completion of tasks due to issues on our end.</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="stringliteral">    It&#39;s important to make sure you keep a requester reputation up.</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="stringliteral">    &quot;&quot;&quot;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;    parser = argparse.ArgumentParser(description=<span class="stringliteral">&#39;Bonus workers directly&#39;</span>)</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;    parser.add_argument(</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;        <span class="stringliteral">&#39;--sandbox&#39;</span>,</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;        dest=<span class="stringliteral">&#39;sandbox&#39;</span>,</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;        default=<span class="keyword">False</span>,</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;        action=<span class="stringliteral">&#39;store_true&#39;</span>,</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;        help=<span class="stringliteral">&#39;Test bonus in sandbox&#39;</span>,</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;    )</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    parser.add_argument(</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;        <span class="stringliteral">&#39;--hit-id&#39;</span>,</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;        dest=<span class="stringliteral">&#39;use_hit_id&#39;</span>,</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;        default=<span class="keyword">False</span>,</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;        action=<span class="stringliteral">&#39;store_true&#39;</span>,</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;        help=<span class="stringliteral">&#39;Use HIT id instead of assignment id&#39;</span>,</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    )</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    opt = parser.parse_args()</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    sandbox = opt.sandbox</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    <span class="keywordflow">if</span> sandbox:</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;        print(</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;            <span class="stringliteral">&#39;About to connect to the SANDBOX server. These bonuses will not &#39;</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;            <span class="stringliteral">&#39;actually be paid out.&#39;</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;        )</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    <span class="keywordflow">else</span>:</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;        print(</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;            <span class="stringliteral">&#39;About to connect to the LIVE server. These bonuses will be &#39;</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;            <span class="stringliteral">&#39;deducted from your account balance.&#39;</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;        )</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    mturk_utils.setup_aws_credentials()</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    client = mturk_utils.get_mturk_client(sandbox)</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <span class="keywordflow">while</span> <span class="keyword">True</span>:</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;        worker_id = input(<span class="stringliteral">&quot;Enter worker id: &quot;</span>)</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;        <span class="keywordflow">if</span> len(worker_id) == 0:</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;            <span class="keywordflow">break</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;        bonus_amount = input(<span class="stringliteral">&quot;Enter bonus amount: &quot;</span>)</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        <span class="keywordflow">if</span> opt.use_hit_id:</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;            hit_id = input(<span class="stringliteral">&quot;Enter HIT id: &quot;</span>)</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;            listed = client.list_assignments_for_hit(HITId=hit_id)</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;            assignment_id = listed[<span class="stringliteral">&#39;Assignments&#39;</span>][0][<span class="stringliteral">&#39;AssignmentId&#39;</span>]</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;            assignment_id = input(<span class="stringliteral">&quot;Enter assignment id: &quot;</span>)</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        reason = input(<span class="stringliteral">&quot;Enter reason: &quot;</span>)</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        input(</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;            <span class="stringliteral">&quot;Press enter to bonus {} to worker {} for reason &#39;{}&#39; on &quot;</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;            <span class="stringliteral">&quot;assignment {}.&quot;</span>.<a class="code" href="../../d4/d94/namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils.html#a32e2e2022b824fbaf80c747160b52a76">format</a>(bonus_amount, worker_id, reason, assignment_id)</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;        )</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        resp = client.send_bonus(</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;            WorkerId=worker_id,</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;            BonusAmount=<a class="code" href="../../df/d5f/namespacegenerate__task__READMEs.html#a5b88452ffb87b78c8c85ececebafc09f">str</a>(bonus_amount),</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;            AssignmentId=assignment_id,</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;            Reason=reason,</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        )</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        print(resp)</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;</div><div class="ttc" id="namespacegenerate__task__READMEs_html_a5b88452ffb87b78c8c85ececebafc09f"><div class="ttname"><a href="../../df/d5f/namespacegenerate__task__READMEs.html#a5b88452ffb87b78c8c85ececebafc09f">generate_task_READMEs.str</a></div><div class="ttdeci">string str</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d04/generate__task__READMEs_8py_source.html#l00023">generate_task_READMEs.py:23</a></div></div>
<div class="ttc" id="namespaceparlai_1_1mturk_1_1scripts_1_1bonus__workers_html_aafc7a350f4abb5524c1b7477b3fc2bda"><div class="ttname"><a href="../../d1/d23/namespaceparlai_1_1mturk_1_1scripts_1_1bonus__workers.html#aafc7a350f4abb5524c1b7477b3fc2bda">parlai.mturk.scripts.bonus_workers.main</a></div><div class="ttdeci">def main()</div><div class="ttdef"><b>Definition:</b> <a href="../../da/daa/bonus__workers_8py_source.html#l00011">bonus_workers.py:11</a></div></div>
<div class="ttc" id="namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_html_a32e2e2022b824fbaf80c747160b52a76"><div class="ttname"><a href="../../d4/d94/namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils.html#a32e2e2022b824fbaf80c747160b52a76">parlai.chat_service.services.messenger.shared_utils.format</a></div><div class="ttdeci">format</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da3/chat__service_2services_2messenger_2shared__utils_8py_source.html#l00029">shared_utils.py:29</a></div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
