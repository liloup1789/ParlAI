<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ParlAI: parlai.agents.tfidf_retriever.tfidf_retriever.TfidfRetrieverAgent Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ParlAI
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../d5/d22/namespaceparlai.html">parlai</a></li><li class="navelem"><a class="el" href="../../dd/d61/namespaceparlai_1_1agents.html">agents</a></li><li class="navelem"><a class="el" href="../../db/d36/namespaceparlai_1_1agents_1_1tfidf__retriever.html">tfidf_retriever</a></li><li class="navelem"><a class="el" href="../../d9/d00/namespaceparlai_1_1agents_1_1tfidf__retriever_1_1tfidf__retriever.html">tfidf_retriever</a></li><li class="navelem"><a class="el" href="../../dc/d14/classparlai_1_1agents_1_1tfidf__retriever_1_1tfidf__retriever_1_1TfidfRetrieverAgent.html">TfidfRetrieverAgent</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="../../df/dd4/classparlai_1_1agents_1_1tfidf__retriever_1_1tfidf__retriever_1_1TfidfRetrieverAgent-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">parlai.agents.tfidf_retriever.tfidf_retriever.TfidfRetrieverAgent Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for parlai.agents.tfidf_retriever.tfidf_retriever.TfidfRetrieverAgent:</div>
<div class="dyncontent">
<div class="center"><img src="../../d0/d17/classparlai_1_1agents_1_1tfidf__retriever_1_1tfidf__retriever_1_1TfidfRetrieverAgent__inherit__graph.png" border="0" usemap="#parlai_8agents_8tfidf__retriever_8tfidf__retriever_8TfidfRetrieverAgent_inherit__map" alt="Inheritance graph"/></div>
<map name="parlai_8agents_8tfidf__retriever_8tfidf__retriever_8TfidfRetrieverAgent_inherit__map" id="parlai_8agents_8tfidf__retriever_8tfidf__retriever_8TfidfRetrieverAgent_inherit__map">
<area shape="rect" id="node2" href="../../dc/d4b/classparlai_1_1core_1_1agents_1_1Agent.html" title="parlai.core.agents.Agent" alt="" coords="5,80,168,107"/>
</map>
<center><span class="legend">[<a href="../../graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for parlai.agents.tfidf_retriever.tfidf_retriever.TfidfRetrieverAgent:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/da4/classparlai_1_1agents_1_1tfidf__retriever_1_1tfidf__retriever_1_1TfidfRetrieverAgent__coll__graph.png" border="0" usemap="#parlai_8agents_8tfidf__retriever_8tfidf__retriever_8TfidfRetrieverAgent_coll__map" alt="Collaboration graph"/></div>
<map name="parlai_8agents_8tfidf__retriever_8tfidf__retriever_8TfidfRetrieverAgent_coll__map" id="parlai_8agents_8tfidf__retriever_8tfidf__retriever_8TfidfRetrieverAgent_coll__map">
<area shape="rect" id="node2" href="../../dc/d4b/classparlai_1_1core_1_1agents_1_1Agent.html" title="parlai.core.agents.Agent" alt="" coords="5,80,168,107"/>
</map>
<center><span class="legend">[<a href="../../graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a41828d27aad3bd78da51c74d24350f46"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d14/classparlai_1_1agents_1_1tfidf__retriever_1_1tfidf__retriever_1_1TfidfRetrieverAgent.html#a41828d27aad3bd78da51c74d24350f46">__init__</a> (self, <a class="el" href="../../dc/d4b/classparlai_1_1core_1_1agents_1_1Agent.html#ab3b45d2754244608c75d4068b90cd051">opt</a>, shared=None)</td></tr>
<tr class="separator:a41828d27aad3bd78da51c74d24350f46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb395d155be90f557a1e8fc0cb38e94e"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d14/classparlai_1_1agents_1_1tfidf__retriever_1_1tfidf__retriever_1_1TfidfRetrieverAgent.html#afb395d155be90f557a1e8fc0cb38e94e">share</a> (self)</td></tr>
<tr class="separator:afb395d155be90f557a1e8fc0cb38e94e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d9e8962cb44451758ea13b09b8dbd86"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d14/classparlai_1_1agents_1_1tfidf__retriever_1_1tfidf__retriever_1_1TfidfRetrieverAgent.html#a4d9e8962cb44451758ea13b09b8dbd86">reset</a> (self)</td></tr>
<tr class="separator:a4d9e8962cb44451758ea13b09b8dbd86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc3ce26084466682f25980e176d3ce38"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d14/classparlai_1_1agents_1_1tfidf__retriever_1_1tfidf__retriever_1_1TfidfRetrieverAgent.html#abc3ce26084466682f25980e176d3ce38">train</a> (self, mode=True)</td></tr>
<tr class="separator:abc3ce26084466682f25980e176d3ce38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97a3e0824539ff7df230ccaee5cdda20"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d14/classparlai_1_1agents_1_1tfidf__retriever_1_1tfidf__retriever_1_1TfidfRetrieverAgent.html#a97a3e0824539ff7df230ccaee5cdda20">eval</a> (self)</td></tr>
<tr class="separator:a97a3e0824539ff7df230ccaee5cdda20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3dec5fd8d3fb89229f00d919bfcd565"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d14/classparlai_1_1agents_1_1tfidf__retriever_1_1tfidf__retriever_1_1TfidfRetrieverAgent.html#af3dec5fd8d3fb89229f00d919bfcd565">doc2txt</a> (self, docid)</td></tr>
<tr class="separator:af3dec5fd8d3fb89229f00d919bfcd565"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a434a29fe242e98aef091ec1e277d420f"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d14/classparlai_1_1agents_1_1tfidf__retriever_1_1tfidf__retriever_1_1TfidfRetrieverAgent.html#a434a29fe242e98aef091ec1e277d420f">rebuild</a> (self)</td></tr>
<tr class="separator:a434a29fe242e98aef091ec1e277d420f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af740335de006f8ead33b632afa1c4dcd"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d14/classparlai_1_1agents_1_1tfidf__retriever_1_1tfidf__retriever_1_1TfidfRetrieverAgent.html#af740335de006f8ead33b632afa1c4dcd">save</a> (self, path=None)</td></tr>
<tr class="separator:af740335de006f8ead33b632afa1c4dcd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a424c899b5755606c32c7d6a85989ce92"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d14/classparlai_1_1agents_1_1tfidf__retriever_1_1tfidf__retriever_1_1TfidfRetrieverAgent.html#a424c899b5755606c32c7d6a85989ce92">train_act</a> (self)</td></tr>
<tr class="separator:a424c899b5755606c32c7d6a85989ce92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6113bcdd2792d70156ca64cc57187692"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d14/classparlai_1_1agents_1_1tfidf__retriever_1_1tfidf__retriever_1_1TfidfRetrieverAgent.html#a6113bcdd2792d70156ca64cc57187692">act</a> (self)</td></tr>
<tr class="separator:a6113bcdd2792d70156ca64cc57187692"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classparlai_1_1core_1_1agents_1_1Agent"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classparlai_1_1core_1_1agents_1_1Agent')"><img src="../../closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="../../dc/d4b/classparlai_1_1core_1_1agents_1_1Agent.html">parlai.core.agents.Agent</a></td></tr>
<tr class="memitem:ade454c86dc623c46d218ca5544d49596 inherit pub_methods_classparlai_1_1core_1_1agents_1_1Agent"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d4b/classparlai_1_1core_1_1agents_1_1Agent.html#ade454c86dc623c46d218ca5544d49596">__init__</a></td></tr>
<tr class="separator:ade454c86dc623c46d218ca5544d49596 inherit pub_methods_classparlai_1_1core_1_1agents_1_1Agent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98041e2d186aa81bd5e1649a91f623bc inherit pub_methods_classparlai_1_1core_1_1agents_1_1Agent"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d4b/classparlai_1_1core_1_1agents_1_1Agent.html#a98041e2d186aa81bd5e1649a91f623bc">observe</a> (self, <a class="el" href="../../dc/d4b/classparlai_1_1core_1_1agents_1_1Agent.html#aedbecc4b4aa7af7413882a0429e0f1db">observation</a>)</td></tr>
<tr class="separator:a98041e2d186aa81bd5e1649a91f623bc inherit pub_methods_classparlai_1_1core_1_1agents_1_1Agent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a8abe0a98dd59bc39c9f12b163072db inherit pub_methods_classparlai_1_1core_1_1agents_1_1Agent"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d4b/classparlai_1_1core_1_1agents_1_1Agent.html#a6a8abe0a98dd59bc39c9f12b163072db">act</a> (self)</td></tr>
<tr class="separator:a6a8abe0a98dd59bc39c9f12b163072db inherit pub_methods_classparlai_1_1core_1_1agents_1_1Agent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29e1cdd729ac4236f8bae90b2e66fa04 inherit pub_methods_classparlai_1_1core_1_1agents_1_1Agent"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d4b/classparlai_1_1core_1_1agents_1_1Agent.html#a29e1cdd729ac4236f8bae90b2e66fa04">getID</a> (self)</td></tr>
<tr class="separator:a29e1cdd729ac4236f8bae90b2e66fa04 inherit pub_methods_classparlai_1_1core_1_1agents_1_1Agent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40157e237ea85d75ebc3fd248c7a1a1b inherit pub_methods_classparlai_1_1core_1_1agents_1_1Agent"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d4b/classparlai_1_1core_1_1agents_1_1Agent.html#a40157e237ea85d75ebc3fd248c7a1a1b">epoch_done</a> (self)</td></tr>
<tr class="separator:a40157e237ea85d75ebc3fd248c7a1a1b inherit pub_methods_classparlai_1_1core_1_1agents_1_1Agent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27cb8206372681605b00dc28b81a7c39 inherit pub_methods_classparlai_1_1core_1_1agents_1_1Agent"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d4b/classparlai_1_1core_1_1agents_1_1Agent.html#a27cb8206372681605b00dc28b81a7c39">reset</a> (self)</td></tr>
<tr class="separator:a27cb8206372681605b00dc28b81a7c39 inherit pub_methods_classparlai_1_1core_1_1agents_1_1Agent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaefcbd7c61d319b368b3ee13997c8c99 inherit pub_methods_classparlai_1_1core_1_1agents_1_1Agent"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d4b/classparlai_1_1core_1_1agents_1_1Agent.html#aaefcbd7c61d319b368b3ee13997c8c99">reset_metrics</a> (self)</td></tr>
<tr class="separator:aaefcbd7c61d319b368b3ee13997c8c99 inherit pub_methods_classparlai_1_1core_1_1agents_1_1Agent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51e706e3e5389c9b48c7a1589d97ec99 inherit pub_methods_classparlai_1_1core_1_1agents_1_1Agent"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d4b/classparlai_1_1core_1_1agents_1_1Agent.html#a51e706e3e5389c9b48c7a1589d97ec99">save</a> (self, path=None)</td></tr>
<tr class="separator:a51e706e3e5389c9b48c7a1589d97ec99 inherit pub_methods_classparlai_1_1core_1_1agents_1_1Agent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2525db5bdd19a3bf5b0669bfa158f9ff inherit pub_methods_classparlai_1_1core_1_1agents_1_1Agent"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d4b/classparlai_1_1core_1_1agents_1_1Agent.html#a2525db5bdd19a3bf5b0669bfa158f9ff">clone</a> (self)</td></tr>
<tr class="separator:a2525db5bdd19a3bf5b0669bfa158f9ff inherit pub_methods_classparlai_1_1core_1_1agents_1_1Agent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbbb06bf0f46ff927c8b186726a68b47 inherit pub_methods_classparlai_1_1core_1_1agents_1_1Agent"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d4b/classparlai_1_1core_1_1agents_1_1Agent.html#afbbb06bf0f46ff927c8b186726a68b47">share</a> (self)</td></tr>
<tr class="separator:afbbb06bf0f46ff927c8b186726a68b47 inherit pub_methods_classparlai_1_1core_1_1agents_1_1Agent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a801e5ca2a5e8e96a72f0c04549008e8f inherit pub_methods_classparlai_1_1core_1_1agents_1_1Agent"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d4b/classparlai_1_1core_1_1agents_1_1Agent.html#a801e5ca2a5e8e96a72f0c04549008e8f">shutdown</a> (self)</td></tr>
<tr class="separator:a801e5ca2a5e8e96a72f0c04549008e8f inherit pub_methods_classparlai_1_1core_1_1agents_1_1Agent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6e5ea0357c43169d97b329566a33ee5 inherit pub_methods_classparlai_1_1core_1_1agents_1_1Agent"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d4b/classparlai_1_1core_1_1agents_1_1Agent.html#ad6e5ea0357c43169d97b329566a33ee5">upgrade_opt</a></td></tr>
<tr class="separator:ad6e5ea0357c43169d97b329566a33ee5 inherit pub_methods_classparlai_1_1core_1_1agents_1_1Agent"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a3d8b2fdf6981564efc1a4db42029b4f0"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d14/classparlai_1_1agents_1_1tfidf__retriever_1_1tfidf__retriever_1_1TfidfRetrieverAgent.html#a3d8b2fdf6981564efc1a4db42029b4f0">add_cmdline_args</a> (parser)</td></tr>
<tr class="separator:a3d8b2fdf6981564efc1a4db42029b4f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:aed60a70d24ee40222693ee15f3bb7400"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d14/classparlai_1_1agents_1_1tfidf__retriever_1_1tfidf__retriever_1_1TfidfRetrieverAgent.html#aed60a70d24ee40222693ee15f3bb7400">id</a></td></tr>
<tr class="separator:aed60a70d24ee40222693ee15f3bb7400"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ef924a4c453d858e3f219ec9b3b5ccf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d14/classparlai_1_1agents_1_1tfidf__retriever_1_1tfidf__retriever_1_1TfidfRetrieverAgent.html#a2ef924a4c453d858e3f219ec9b3b5ccf">db_path</a></td></tr>
<tr class="separator:a2ef924a4c453d858e3f219ec9b3b5ccf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a505cd0341627439a8648726aa122e02c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d14/classparlai_1_1agents_1_1tfidf__retriever_1_1tfidf__retriever_1_1TfidfRetrieverAgent.html#a505cd0341627439a8648726aa122e02c">tfidf_path</a></td></tr>
<tr class="separator:a505cd0341627439a8648726aa122e02c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a531f5122614612a3b386926632f1ae32"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d14/classparlai_1_1agents_1_1tfidf__retriever_1_1tfidf__retriever_1_1TfidfRetrieverAgent.html#a531f5122614612a3b386926632f1ae32">tfidf_args</a></td></tr>
<tr class="separator:a531f5122614612a3b386926632f1ae32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd5c27e6f3d7456f3e1c3f86e150b623"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d14/classparlai_1_1agents_1_1tfidf__retriever_1_1tfidf__retriever_1_1TfidfRetrieverAgent.html#abd5c27e6f3d7456f3e1c3f86e150b623">db</a></td></tr>
<tr class="separator:abd5c27e6f3d7456f3e1c3f86e150b623"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef0b3013cea8b9f2b1564a350a2d5ce2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d14/classparlai_1_1agents_1_1tfidf__retriever_1_1tfidf__retriever_1_1TfidfRetrieverAgent.html#aef0b3013cea8b9f2b1564a350a2d5ce2">ranker</a></td></tr>
<tr class="separator:aef0b3013cea8b9f2b1564a350a2d5ce2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab32af649d68ec82588e0b200f8ff11ac"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d14/classparlai_1_1agents_1_1tfidf__retriever_1_1tfidf__retriever_1_1TfidfRetrieverAgent.html#ab32af649d68ec82588e0b200f8ff11ac">ret_mode</a></td></tr>
<tr class="separator:ab32af649d68ec82588e0b200f8ff11ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a452d71ce3d6e2a52d37d8f305c6ffc2a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d14/classparlai_1_1agents_1_1tfidf__retriever_1_1tfidf__retriever_1_1TfidfRetrieverAgent.html#a452d71ce3d6e2a52d37d8f305c6ffc2a">cands_hash</a></td></tr>
<tr class="separator:a452d71ce3d6e2a52d37d8f305c6ffc2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f513dbbd924cff1eb534294e59cec75"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d14/classparlai_1_1agents_1_1tfidf__retriever_1_1tfidf__retriever_1_1TfidfRetrieverAgent.html#a7f513dbbd924cff1eb534294e59cec75">triples_to_add</a></td></tr>
<tr class="separator:a7f513dbbd924cff1eb534294e59cec75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7578f4be8dd7922d5fbf7ca3148066f3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d14/classparlai_1_1agents_1_1tfidf__retriever_1_1tfidf__retriever_1_1TfidfRetrieverAgent.html#a7578f4be8dd7922d5fbf7ca3148066f3">context_length</a></td></tr>
<tr class="separator:a7578f4be8dd7922d5fbf7ca3148066f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af88bd8f286096dfa2da00ac418ddba60"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d14/classparlai_1_1agents_1_1tfidf__retriever_1_1tfidf__retriever_1_1TfidfRetrieverAgent.html#af88bd8f286096dfa2da00ac418ddba60">include_labels</a></td></tr>
<tr class="separator:af88bd8f286096dfa2da00ac418ddba60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47f6aa16c2ed129ea197b1a6c2094f1c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d14/classparlai_1_1agents_1_1tfidf__retriever_1_1tfidf__retriever_1_1TfidfRetrieverAgent.html#a47f6aa16c2ed129ea197b1a6c2094f1c">episode_done</a></td></tr>
<tr class="separator:a47f6aa16c2ed129ea197b1a6c2094f1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31354a5f1b5f330864fd4dc89d24a858"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d14/classparlai_1_1agents_1_1tfidf__retriever_1_1tfidf__retriever_1_1TfidfRetrieverAgent.html#a31354a5f1b5f330864fd4dc89d24a858">current</a></td></tr>
<tr class="separator:a31354a5f1b5f330864fd4dc89d24a858"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae783880e187479263a6c70a9aa5e4192"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d14/classparlai_1_1agents_1_1tfidf__retriever_1_1tfidf__retriever_1_1TfidfRetrieverAgent.html#ae783880e187479263a6c70a9aa5e4192">context</a></td></tr>
<tr class="separator:ae783880e187479263a6c70a9aa5e4192"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45b473e654ccb533f900903e154430fd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d14/classparlai_1_1agents_1_1tfidf__retriever_1_1tfidf__retriever_1_1TfidfRetrieverAgent.html#a45b473e654ccb533f900903e154430fd">training</a></td></tr>
<tr class="separator:a45b473e654ccb533f900903e154430fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_attribs_classparlai_1_1core_1_1agents_1_1Agent"><td colspan="2" onclick="javascript:toggleInherit('pub_attribs_classparlai_1_1core_1_1agents_1_1Agent')"><img src="../../closed.png" alt="-"/>&#160;Public Attributes inherited from <a class="el" href="../../dc/d4b/classparlai_1_1core_1_1agents_1_1Agent.html">parlai.core.agents.Agent</a></td></tr>
<tr class="memitem:ac00c13f4c7dd1263bf9203fa96dd2366 inherit pub_attribs_classparlai_1_1core_1_1agents_1_1Agent"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d4b/classparlai_1_1core_1_1agents_1_1Agent.html#ac00c13f4c7dd1263bf9203fa96dd2366">id</a></td></tr>
<tr class="separator:ac00c13f4c7dd1263bf9203fa96dd2366 inherit pub_attribs_classparlai_1_1core_1_1agents_1_1Agent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3b45d2754244608c75d4068b90cd051 inherit pub_attribs_classparlai_1_1core_1_1agents_1_1Agent"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d4b/classparlai_1_1core_1_1agents_1_1Agent.html#ab3b45d2754244608c75d4068b90cd051">opt</a></td></tr>
<tr class="separator:ab3b45d2754244608c75d4068b90cd051 inherit pub_attribs_classparlai_1_1core_1_1agents_1_1Agent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedbecc4b4aa7af7413882a0429e0f1db inherit pub_attribs_classparlai_1_1core_1_1agents_1_1Agent"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d4b/classparlai_1_1core_1_1agents_1_1Agent.html#aedbecc4b4aa7af7413882a0429e0f1db">observation</a></td></tr>
<tr class="separator:aedbecc4b4aa7af7413882a0429e0f1db inherit pub_attribs_classparlai_1_1core_1_1agents_1_1Agent"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">TFIDF-based retriever agent.

If given a task to specify, will first store entries of that task into
a SQLite database and then build a sparse tfidf matrix of those entries.
If not, will build it on-the-fly whenever it sees observations with labels.

This agent generates responses by building a sparse entry of the incoming
text observation, and then returning the highest-scoring documents
(calculated via sparse matrix multiplication) from the tfidf matrix.

By default, this will return the "value" (the response) of the closest
entries. For example, saying "What is your favorite movie?" will not return
the text "Which movie is your favorite?" (high match) but rather the reply
to that (e.g. "Jurassic Park"). To use this agent for retrieving texts
(e.g. Wikipedia Entries), you can store label-less examples with the
'--retriever-task' argument and switch '--retriever-mode' to 'keys'.
</pre> 
<p class="definition">Definition at line <a class="el" href="../../df/d06/agents_2tfidf__retriever_2tfidf__retriever_8py_source.html#l00034">34</a> of file <a class="el" href="../../df/d06/agents_2tfidf__retriever_2tfidf__retriever_8py_source.html">tfidf_retriever.py</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a41828d27aad3bd78da51c74d24350f46"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41828d27aad3bd78da51c74d24350f46">&#9670;&nbsp;</a></span>__init__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.agents.tfidf_retriever.tfidf_retriever.TfidfRetrieverAgent.__init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>opt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>shared</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d06/agents_2tfidf__retriever_2tfidf__retriever_8py_source.html#l00133">133</a> of file <a class="el" href="../../df/d06/agents_2tfidf__retriever_2tfidf__retriever_8py_source.html">tfidf_retriever.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <span class="keyword">def </span>__init__(self, opt, shared=None):</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        super().__init__(opt, shared)</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        self.id = <span class="stringliteral">&#39;SparseTfidfRetrieverAgent&#39;</span></div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        <span class="keywordflow">if</span> <span class="keywordflow">not</span> opt.get(<span class="stringliteral">&#39;model_file&#39;</span>) <span class="keywordflow">or</span> opt[<span class="stringliteral">&#39;model_file&#39;</span>] == <span class="stringliteral">&#39;&#39;</span>:</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;            <span class="keywordflow">raise</span> RuntimeError(<span class="stringliteral">&#39;Must set --model_file&#39;</span>)</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        opt[<span class="stringliteral">&#39;retriever_dbpath&#39;</span>] = opt[<span class="stringliteral">&#39;model_file&#39;</span>] + <span class="stringliteral">&#39;.db&#39;</span></div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;        opt[<span class="stringliteral">&#39;retriever_tfidfpath&#39;</span>] = opt[<span class="stringliteral">&#39;model_file&#39;</span>] + <span class="stringliteral">&#39;.tfidf&#39;</span></div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        self.db_path = opt[<span class="stringliteral">&#39;retriever_dbpath&#39;</span>]</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        self.tfidf_path = opt[<span class="stringliteral">&#39;retriever_tfidfpath&#39;</span>]</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        self.tfidf_args = AttrDict(</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;            {</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;                <span class="stringliteral">&#39;db_path&#39;</span>: opt[<span class="stringliteral">&#39;retriever_dbpath&#39;</span>],</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                <span class="stringliteral">&#39;out_dir&#39;</span>: opt[<span class="stringliteral">&#39;retriever_tfidfpath&#39;</span>],</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;                <span class="stringliteral">&#39;ngram&#39;</span>: opt[<span class="stringliteral">&#39;retriever_ngram&#39;</span>],</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;                <span class="stringliteral">&#39;hash_size&#39;</span>: opt[<span class="stringliteral">&#39;retriever_hashsize&#39;</span>],</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;                <span class="stringliteral">&#39;tokenizer&#39;</span>: opt[<span class="stringliteral">&#39;retriever_tokenizer&#39;</span>],</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;                <span class="stringliteral">&#39;num_workers&#39;</span>: opt[<span class="stringliteral">&#39;retriever_numworkers&#39;</span>],</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;            }</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        )</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        <span class="keywordflow">if</span> <span class="keywordflow">not</span> os.path.exists(self.db_path):</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;            conn = sqlite3.connect(self.db_path)</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;            c = conn.cursor()</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;            c.execute(</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;                <span class="stringliteral">&#39;CREATE TABLE documents &#39;</span> <span class="stringliteral">&#39;(id INTEGER PRIMARY KEY, text, value);&#39;</span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;            )</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;            conn.commit()</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;            conn.close()</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        self.db = DocDB(db_path=opt[<span class="stringliteral">&#39;retriever_dbpath&#39;</span>])</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        <span class="keywordflow">if</span> os.path.exists(self.tfidf_path + <span class="stringliteral">&#39;.npz&#39;</span>):</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;            <span class="keywordflow">if</span> shared <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;                self.ranker = TfidfDocRanker(</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;                    tfidf_path=opt[<span class="stringliteral">&#39;retriever_tfidfpath&#39;</span>], strict=<span class="keyword">False</span></div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;                )</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;            <span class="keywordflow">else</span>:</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                self.ranker = shared[<span class="stringliteral">&#39;doc_ranker&#39;</span>]</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        self.ret_mode = opt[<span class="stringliteral">&#39;retriever_mode&#39;</span>]</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        self.cands_hash = {}  <span class="comment"># cache for candidates</span></div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        self.triples_to_add = []  <span class="comment"># in case we want to add more entries</span></div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        clen = opt.get(<span class="stringliteral">&#39;tfidf_context_length&#39;</span>, -1)</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        self.context_length = clen <span class="keywordflow">if</span> clen &gt;= 0 <span class="keywordflow">else</span> <span class="keywordtype">None</span></div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        self.include_labels = opt.get(<span class="stringliteral">&#39;tfidf_include_labels&#39;</span>, <span class="keyword">True</span>)</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        self.reset()</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a6113bcdd2792d70156ca64cc57187692"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6113bcdd2792d70156ca64cc57187692">&#9670;&nbsp;</a></span>act()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.agents.tfidf_retriever.tfidf_retriever.TfidfRetrieverAgent.act </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d06/agents_2tfidf__retriever_2tfidf__retriever_8py_source.html#l00266">266</a> of file <a class="el" href="../../df/d06/agents_2tfidf__retriever_2tfidf__retriever_8py_source.html">tfidf_retriever.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <span class="keyword">def </span>act(self):</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;        obs = self.observation</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        reply = {}</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;        reply[<span class="stringliteral">&#39;id&#39;</span>] = self.getID()</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        <span class="keywordflow">if</span> <span class="stringliteral">&#39;labels&#39;</span> <span class="keywordflow">in</span> obs:</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;            <span class="keywordflow">return</span> self.train_act()</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        <span class="keywordflow">if</span> <span class="stringliteral">&#39;text&#39;</span> <span class="keywordflow">in</span> obs:</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;            self.rebuild()  <span class="comment"># no-op if nothing has been queued to store</span></div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;            doc_ids, doc_scores = self.ranker.closest_docs(</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;                obs[<span class="stringliteral">&#39;text&#39;</span>], self.opt.get(<span class="stringliteral">&#39;retriever_num_retrieved&#39;</span>, 5)</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;            )</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;            <span class="keywordflow">if</span> <span class="keyword">False</span> <span class="keywordflow">and</span> obs.get(<span class="stringliteral">&#39;label_candidates&#39;</span>):  <span class="comment"># TODO: Alex (doesn&#39;t work)</span></div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;                <span class="comment"># these are better selection than stored facts</span></div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;                <span class="comment"># rank these options instead</span></div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;                cands = obs[<span class="stringliteral">&#39;label_candidates&#39;</span>]</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                cands_id = <a class="code" href="../../dd/de4/namespacegenerate__task__list.html#a78e725c3dd7e8fbdb5c3044ec1bc3a81">id</a>(cands)</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;                <span class="keywordflow">if</span> cands_id <span class="keywordflow">not</span> <span class="keywordflow">in</span> self.cands_hash:</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;                    <span class="comment"># cache candidate set</span></div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;                    <span class="comment"># will not update if cand set changes contents</span></div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;                    c_list = list(cands)</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;                    self.cands_hash[cands_id] = (</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;                        <a class="code" href="../../d4/da3/namespaceparlai_1_1agents_1_1tfidf__retriever_1_1build__tfidf.html#acce651a5b40c5a3b4009181f22c69eaa">get_tfidf_matrix</a>(<a class="code" href="../../d4/da3/namespaceparlai_1_1agents_1_1tfidf__retriever_1_1build__tfidf.html#af51dc8629608fd04435739ba76b1e8f2">live_count_matrix</a>(self.tfidf_args, c_list)),</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;                        c_list,</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;                    )</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;                c_ids, c_scores = self.ranker.closest_docs(</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;                    obs[<span class="stringliteral">&#39;text&#39;</span>],</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;                    self.opt.get(<span class="stringliteral">&#39;retriever_num_retrieved&#39;</span>, 5),</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;                    matrix=self.cands_hash[cands_id][0],</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;                )</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;                reply[<span class="stringliteral">&#39;text_candidates&#39;</span>] = [</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;                    self.cands_hash[cands_id][1][cid] <span class="keywordflow">for</span> cid <span class="keywordflow">in</span> c_ids</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;                ]</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;                reply[<span class="stringliteral">&#39;candidate_scores&#39;</span>] = c_scores</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;                <span class="keywordflow">if</span> len(reply[<span class="stringliteral">&#39;text_candidates&#39;</span>]) &gt; 0:</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;                    reply[<span class="stringliteral">&#39;text&#39;</span>] = reply[<span class="stringliteral">&#39;text_candidates&#39;</span>][0]</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;                <span class="keywordflow">else</span>:</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;                    reply[<span class="stringliteral">&#39;text&#39;</span>] = <span class="stringliteral">&#39;&#39;</span></div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;            <span class="keywordflow">elif</span> len(doc_ids) &gt; 0:</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;                <span class="comment"># return stored fact</span></div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;                <span class="comment"># total = sum(doc_scores)</span></div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;                <span class="comment"># doc_probs = [d / total for d in doc_scores]</span></div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;                <span class="comment"># returned</span></div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;                picks = [self.doc2txt(<a class="code" href="../../de/d7c/namespacelanguage__model_1_1eval__ppl.html#a7d12ee00479673c5c8d1f6d01faa272a">int</a>(did)) <span class="keywordflow">for</span> did <span class="keywordflow">in</span> doc_ids]</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;                pick = self.doc2txt(<a class="code" href="../../de/d7c/namespacelanguage__model_1_1eval__ppl.html#a7d12ee00479673c5c8d1f6d01faa272a">int</a>(doc_ids[0]))  <span class="comment"># select best response</span></div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;                <span class="keywordflow">if</span> self.opt.get(<span class="stringliteral">&#39;remove_title&#39;</span>, <span class="keyword">False</span>):</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;                    picks = [<span class="stringliteral">&#39;\n&#39;</span>.join(p.split(<span class="stringliteral">&#39;\n&#39;</span>)[1:]) <span class="keywordflow">for</span> p <span class="keywordflow">in</span> picks]</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;                    pick = <span class="stringliteral">&#39;\n&#39;</span>.join(pick.split(<span class="stringliteral">&#39;\n&#39;</span>)[1:])</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;                reply[<span class="stringliteral">&#39;text_candidates&#39;</span>] = picks</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;                reply[<span class="stringliteral">&#39;candidate_scores&#39;</span>] = doc_scores</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;                <span class="comment"># could pick single choice based on probability scores?</span></div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;                <span class="comment"># pick = int(choice(doc_ids, p=doc_probs))</span></div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;                reply[<span class="stringliteral">&#39;text&#39;</span>] = pick</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;            <span class="keywordflow">else</span>:</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;                <span class="comment"># no cands and nothing found, return generic response</span></div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;                reply[<span class="stringliteral">&#39;text&#39;</span>] = choice(</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;                    [</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;                        <span class="stringliteral">&#39;Can you say something more interesting?&#39;</span>,</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;                        <span class="stringliteral">&#39;Why are you being so short with me?&#39;</span>,</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;                        <span class="stringliteral">&#39;What are you really thinking?&#39;</span>,</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;                        <span class="stringliteral">&#39;Can you expand on that?&#39;</span>,</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;                    ]</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;                )</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;        <span class="keywordflow">return</span> reply</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;<div class="ttc" id="namespaceparlai_1_1agents_1_1tfidf__retriever_1_1build__tfidf_html_af51dc8629608fd04435739ba76b1e8f2"><div class="ttname"><a href="../../d4/da3/namespaceparlai_1_1agents_1_1tfidf__retriever_1_1build__tfidf.html#af51dc8629608fd04435739ba76b1e8f2">parlai.agents.tfidf_retriever.build_tfidf.live_count_matrix</a></div><div class="ttdeci">def live_count_matrix(args, cands)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de8/build__tfidf_8py_source.html#l00093">build_tfidf.py:93</a></div></div>
<div class="ttc" id="namespacegenerate__task__list_html_a78e725c3dd7e8fbdb5c3044ec1bc3a81"><div class="ttname"><a href="../../dd/de4/namespacegenerate__task__list.html#a78e725c3dd7e8fbdb5c3044ec1bc3a81">generate_task_list.id</a></div><div class="ttdeci">id</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d7e/generate__task__list_8py_source.html#l00033">generate_task_list.py:33</a></div></div>
<div class="ttc" id="namespacelanguage__model_1_1eval__ppl_html_a7d12ee00479673c5c8d1f6d01faa272a"><div class="ttname"><a href="../../de/d7c/namespacelanguage__model_1_1eval__ppl.html#a7d12ee00479673c5c8d1f6d01faa272a">language_model.eval_ppl.int</a></div><div class="ttdeci">int</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d84/projects_2convai2_2baselines_2language__model_2eval__ppl_8py_source.html#l00102">eval_ppl.py:102</a></div></div>
<div class="ttc" id="namespaceparlai_1_1agents_1_1tfidf__retriever_1_1build__tfidf_html_acce651a5b40c5a3b4009181f22c69eaa"><div class="ttname"><a href="../../d4/da3/namespaceparlai_1_1agents_1_1tfidf__retriever_1_1build__tfidf.html#acce651a5b40c5a3b4009181f22c69eaa">parlai.agents.tfidf_retriever.build_tfidf.get_tfidf_matrix</a></div><div class="ttdeci">def get_tfidf_matrix(cnts)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/de8/build__tfidf_8py_source.html#l00268">build_tfidf.py:268</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3d8b2fdf6981564efc1a4db42029b4f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d8b2fdf6981564efc1a4db42029b4f0">&#9670;&nbsp;</a></span>add_cmdline_args()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.agents.tfidf_retriever.tfidf_retriever.TfidfRetrieverAgent.add_cmdline_args </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>parser</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d06/agents_2tfidf__retriever_2tfidf__retriever_8py_source.html#l00055">55</a> of file <a class="el" href="../../df/d06/agents_2tfidf__retriever_2tfidf__retriever_8py_source.html">tfidf_retriever.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <span class="keyword">def </span><a class="code" href="../../d3/d7d/namespaceparlai_1_1agents_1_1drqa_1_1config.html#a62fdd5554f1da6be0cba185271058320">add_cmdline_args</a>(parser):</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;        parser = parser.add_argument_group(<span class="stringliteral">&#39;Retriever Arguments&#39;</span>)</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        parser.add_argument(</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;            <span class="stringliteral">&#39;--retriever-numworkers&#39;</span>,</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;            type=int,</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;            default=<span class="keywordtype">None</span>,</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;            help=<span class="stringliteral">&#39;Number of CPU processes (for tokenizing, etc)&#39;</span>,</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        )</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        parser.add_argument(</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;            <span class="stringliteral">&#39;--retriever-ngram&#39;</span>,</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;            type=int,</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;            default=2,</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;            help=<span class="stringliteral">&#39;Use up to N-size n-grams (e.g. 2 = unigrams + bigrams)&#39;</span>,</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        )</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;        parser.add_argument(</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;            <span class="stringliteral">&#39;--retriever-hashsize&#39;</span>,</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;            type=int,</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;            default=<a class="code" href="../../de/d7c/namespacelanguage__model_1_1eval__ppl.html#a7d12ee00479673c5c8d1f6d01faa272a">int</a>(math.pow(2, 24)),</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;            help=<span class="stringliteral">&#39;Number of buckets to use for hashing ngrams&#39;</span>,</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        )</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        parser.add_argument(</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;            <span class="stringliteral">&#39;--retriever-tokenizer&#39;</span>,</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;            type=str,</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;            default=<span class="stringliteral">&#39;simple&#39;</span>,</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;            help=<span class="stringliteral">&#39;String option specifying tokenizer type to use &#39;</span> <span class="stringliteral">&#39;(e.g. &quot;corenlp&quot;)&#39;</span>,</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;        )</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;        parser.add_argument(</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;            <span class="stringliteral">&#39;--retriever-num-retrieved&#39;</span>,</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;            default=5,</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;            type=int,</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;            help=<span class="stringliteral">&#39;How many docs to retrieve.&#39;</span>,</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        )</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;        parser.add_argument(</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;            <span class="stringliteral">&#39;--retriever-mode&#39;</span>,</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;            choices=[<span class="stringliteral">&#39;keys&#39;</span>, <span class="stringliteral">&#39;values&#39;</span>],</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;            default=<span class="stringliteral">&#39;values&#39;</span>,</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;            help=<span class="stringliteral">&#39;Whether to retrieve the stored key or the stored value.&#39;</span>,</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        )</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        parser.add_argument(</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;            <span class="stringliteral">&#39;--remove-title&#39;</span>,</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;            type=<span class="stringliteral">&#39;bool&#39;</span>,</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;            default=<span class="keyword">False</span>,</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;            help=<span class="stringliteral">&#39;Whether to remove the title from the retrieved passage&#39;</span>,</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        )</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        parser.add_argument(</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;            <span class="stringliteral">&#39;--retriever-mode&#39;</span>,</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;            choices=[<span class="stringliteral">&#39;keys&#39;</span>, <span class="stringliteral">&#39;values&#39;</span>],</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;            default=<span class="stringliteral">&#39;values&#39;</span>,</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;            help=<span class="stringliteral">&#39;Whether to retrieve the stored key or the stored value. For &#39;</span></div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;            <span class="stringliteral">&#39;example, if you want to return the text of an example, use &#39;</span></div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;            <span class="stringliteral">&#39;keys here; if you want to return the label, use values here.&#39;</span>,</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        )</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        parser.add_argument(</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;            <span class="stringliteral">&#39;--index-by-int-id&#39;</span>,</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;            type=<span class="stringliteral">&#39;bool&#39;</span>,</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;            default=<span class="keyword">True</span>,</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;            help=<span class="stringliteral">&#39;Whether to index into database by doc id as an integer. This \</span></div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="stringliteral">                  defaults to true for DBs built using ParlAI; for the DrQA \</span></div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="stringliteral">                  wiki dump, it is necessary to set this to False to \</span></div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="stringliteral">                  index into the DB appropriately&#39;</span>,</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        )</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        parser.add_argument(</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;            <span class="stringliteral">&#39;--tfidf-context-length&#39;</span>,</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;            default=-1,</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;            type=int,</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;            help=<span class="stringliteral">&#39;Number of past utterances to remember when &#39;</span></div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;            <span class="stringliteral">&#39;building flattened batches of data in multi-&#39;</span></div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;            <span class="stringliteral">&#39;example episodes.&#39;</span>,</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        )</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        parser.add_argument(</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;            <span class="stringliteral">&#39;--tfidf-include-labels&#39;</span>,</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;            default=<span class="keyword">True</span>,</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;            type=<span class="stringliteral">&#39;bool&#39;</span>,</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;            help=<span class="stringliteral">&#39;Specifies whether or not to include labels &#39;</span></div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;            <span class="stringliteral">&#39;as past utterances when building flattened &#39;</span></div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;            <span class="stringliteral">&#39;batches of data in multi-example episodes.&#39;</span>,</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        )</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;</div><div class="ttc" id="namespaceparlai_1_1agents_1_1drqa_1_1config_html_a62fdd5554f1da6be0cba185271058320"><div class="ttname"><a href="../../d3/d7d/namespaceparlai_1_1agents_1_1drqa_1_1config.html#a62fdd5554f1da6be0cba185271058320">parlai.agents.drqa.config.add_cmdline_args</a></div><div class="ttdeci">def add_cmdline_args(parser)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/deb/config_8py_source.html#l00010">config.py:10</a></div></div>
<div class="ttc" id="namespacelanguage__model_1_1eval__ppl_html_a7d12ee00479673c5c8d1f6d01faa272a"><div class="ttname"><a href="../../de/d7c/namespacelanguage__model_1_1eval__ppl.html#a7d12ee00479673c5c8d1f6d01faa272a">language_model.eval_ppl.int</a></div><div class="ttdeci">int</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d84/projects_2convai2_2baselines_2language__model_2eval__ppl_8py_source.html#l00102">eval_ppl.py:102</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af3dec5fd8d3fb89229f00d919bfcd565"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3dec5fd8d3fb89229f00d919bfcd565">&#9670;&nbsp;</a></span>doc2txt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.agents.tfidf_retriever.tfidf_retriever.TfidfRetrieverAgent.doc2txt </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>docid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d06/agents_2tfidf__retriever_2tfidf__retriever_8py_source.html#l00199">199</a> of file <a class="el" href="../../df/d06/agents_2tfidf__retriever_2tfidf__retriever_8py_source.html">tfidf_retriever.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <span class="keyword">def </span>doc2txt(self, docid):</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        <span class="keywordflow">if</span> <span class="keywordflow">not</span> self.opt.get(<span class="stringliteral">&#39;index_by_int_id&#39;</span>, <span class="keyword">True</span>):</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;            docid = self.ranker.get_doc_id(docid)</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        <span class="keywordflow">if</span> self.ret_mode == <span class="stringliteral">&#39;keys&#39;</span>:</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;            <span class="keywordflow">return</span> self.db.get_doc_text(docid)</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        <span class="keywordflow">elif</span> self.ret_mode == <span class="stringliteral">&#39;values&#39;</span>:</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;            <span class="keywordflow">return</span> self.db.get_doc_value(docid)</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;            <span class="keywordflow">raise</span> RuntimeError(</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;                <span class="stringliteral">&#39;Retrieve mode {} not yet supported.&#39;</span>.<a class="code" href="../../d4/d94/namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils.html#a32e2e2022b824fbaf80c747160b52a76">format</a>(self.ret_mode)</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;            )</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;</div><div class="ttc" id="namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils_html_a32e2e2022b824fbaf80c747160b52a76"><div class="ttname"><a href="../../d4/d94/namespaceparlai_1_1chat__service_1_1services_1_1messenger_1_1shared__utils.html#a32e2e2022b824fbaf80c747160b52a76">parlai.chat_service.services.messenger.shared_utils.format</a></div><div class="ttdeci">format</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/da3/chat__service_2services_2messenger_2shared__utils_8py_source.html#l00029">shared_utils.py:29</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a97a3e0824539ff7df230ccaee5cdda20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97a3e0824539ff7df230ccaee5cdda20">&#9670;&nbsp;</a></span>eval()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.agents.tfidf_retriever.tfidf_retriever.TfidfRetrieverAgent.eval </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d06/agents_2tfidf__retriever_2tfidf__retriever_8py_source.html#l00196">196</a> of file <a class="el" href="../../df/d06/agents_2tfidf__retriever_2tfidf__retriever_8py_source.html">tfidf_retriever.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <span class="keyword">def </span>eval(self):</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        self.training = <span class="keyword">False</span></div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a id="a434a29fe242e98aef091ec1e277d420f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a434a29fe242e98aef091ec1e277d420f">&#9670;&nbsp;</a></span>rebuild()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.agents.tfidf_retriever.tfidf_retriever.TfidfRetrieverAgent.rebuild </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d06/agents_2tfidf__retriever_2tfidf__retriever_8py_source.html#l00211">211</a> of file <a class="el" href="../../df/d06/agents_2tfidf__retriever_2tfidf__retriever_8py_source.html">tfidf_retriever.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <span class="keyword">def </span>rebuild(self):</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        <span class="keywordflow">if</span> len(self.triples_to_add) &gt; 0:</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;            self.db.add(self.triples_to_add)</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;            self.triples_to_add.clear()</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;            <span class="comment"># rebuild tfidf</span></div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;            build_tfidf(self.tfidf_args)</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;            self.ranker = TfidfDocRanker(tfidf_path=self.tfidf_path, strict=<span class="keyword">False</span>)</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a id="a4d9e8962cb44451758ea13b09b8dbd86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d9e8962cb44451758ea13b09b8dbd86">&#9670;&nbsp;</a></span>reset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.agents.tfidf_retriever.tfidf_retriever.TfidfRetrieverAgent.reset </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d06/agents_2tfidf__retriever_2tfidf__retriever_8py_source.html#l00187">187</a> of file <a class="el" href="../../df/d06/agents_2tfidf__retriever_2tfidf__retriever_8py_source.html">tfidf_retriever.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <span class="keyword">def </span>reset(self):</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        super().reset()</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        self.episode_done = <span class="keyword">False</span></div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        self.current = []</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        self.context = deque(maxlen=self.context_length)</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a id="af740335de006f8ead33b632afa1c4dcd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af740335de006f8ead33b632afa1c4dcd">&#9670;&nbsp;</a></span>save()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.agents.tfidf_retriever.tfidf_retriever.TfidfRetrieverAgent.save </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>path</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d06/agents_2tfidf__retriever_2tfidf__retriever_8py_source.html#l00219">219</a> of file <a class="el" href="../../df/d06/agents_2tfidf__retriever_2tfidf__retriever_8py_source.html">tfidf_retriever.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <span class="keyword">def </span>save(self, path=None):</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        self.rebuild()</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        with open(self.opt[<span class="stringliteral">&#39;model_file&#39;</span>] + <span class="stringliteral">&#39;.opt&#39;</span>, <span class="stringliteral">&#39;w&#39;</span>) <span class="keyword">as</span> handle:</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;            json.dump(self.opt, handle)</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        with open(self.opt[<span class="stringliteral">&#39;model_file&#39;</span>], <span class="stringliteral">&#39;w&#39;</span>) <span class="keyword">as</span> f:</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;            f.write(<span class="stringliteral">&#39;\n&#39;</span>)</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a id="afb395d155be90f557a1e8fc0cb38e94e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb395d155be90f557a1e8fc0cb38e94e">&#9670;&nbsp;</a></span>share()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.agents.tfidf_retriever.tfidf_retriever.TfidfRetrieverAgent.share </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d06/agents_2tfidf__retriever_2tfidf__retriever_8py_source.html#l00182">182</a> of file <a class="el" href="../../df/d06/agents_2tfidf__retriever_2tfidf__retriever_8py_source.html">tfidf_retriever.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <span class="keyword">def </span>share(self):</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        shared = super().share()</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        shared[<span class="stringliteral">&#39;doc_ranker&#39;</span>] = self.ranker</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        <span class="keywordflow">return</span> shared</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a id="abc3ce26084466682f25980e176d3ce38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc3ce26084466682f25980e176d3ce38">&#9670;&nbsp;</a></span>train()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.agents.tfidf_retriever.tfidf_retriever.TfidfRetrieverAgent.train </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>mode</em> = <code>True</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d06/agents_2tfidf__retriever_2tfidf__retriever_8py_source.html#l00193">193</a> of file <a class="el" href="../../df/d06/agents_2tfidf__retriever_2tfidf__retriever_8py_source.html">tfidf_retriever.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="keyword">def </span><a class="code" href="../../d2/d65/namespaceprojects_1_1mastering__the__dungeon_1_1mturk_1_1tasks_1_1MTD_1_1run.html#a36a5f4f6f9df0611a6818610518d2cf0">train</a>(self, mode=True):</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        self.training = mode</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;</div><div class="ttc" id="namespaceprojects_1_1mastering__the__dungeon_1_1mturk_1_1tasks_1_1MTD_1_1run_html_a36a5f4f6f9df0611a6818610518d2cf0"><div class="ttname"><a href="../../d2/d65/namespaceprojects_1_1mastering__the__dungeon_1_1mturk_1_1tasks_1_1MTD_1_1run.html#a36a5f4f6f9df0611a6818610518d2cf0">projects.mastering_the_dungeon.mturk.tasks.MTD.run.train</a></div><div class="ttdeci">def train(opt, round_index, machine_index, file_index, train_data, valid_data, valid_weights=None, save_all=True, return_acc_len=False, seq2seq=False)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d69/projects_2mastering__the__dungeon_2mturk_2tasks_2MTD_2run_8py_source.html#l00182">run.py:182</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a424c899b5755606c32c7d6a85989ce92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a424c899b5755606c32c7d6a85989ce92">&#9670;&nbsp;</a></span>train_act()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def parlai.agents.tfidf_retriever.tfidf_retriever.TfidfRetrieverAgent.train_act </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d06/agents_2tfidf__retriever_2tfidf__retriever_8py_source.html#l00226">226</a> of file <a class="el" href="../../df/d06/agents_2tfidf__retriever_2tfidf__retriever_8py_source.html">tfidf_retriever.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="keyword">def </span>train_act(self):</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        <span class="keywordflow">if</span> (</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;            <span class="stringliteral">&#39;ordered&#39;</span> <span class="keywordflow">not</span> <span class="keywordflow">in</span> self.opt.get(<span class="stringliteral">&#39;datatype&#39;</span>, <span class="stringliteral">&#39;train:ordered&#39;</span>)</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;            <span class="keywordflow">or</span> self.opt.get(<span class="stringliteral">&#39;batchsize&#39;</span>, 1) != 1</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;            <span class="keywordflow">or</span> self.opt.get(<span class="stringliteral">&#39;numthreads&#39;</span>, 1) != 1</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;            <span class="keywordflow">or</span> self.opt.get(<span class="stringliteral">&#39;num_epochs&#39;</span>, 1) != 1</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        ):</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;            <span class="keywordflow">raise</span> RuntimeError(</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                <span class="stringliteral">&#39;Need to set --batchsize 1, --numthreads 1, \</span></div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<span class="stringliteral">            --datatype train:ordered, --num_epochs 1&#39;</span></div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;            )</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        obs = self.observation</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        self.current.append(obs)</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        self.episode_done = obs.get(<span class="stringliteral">&#39;episode_done&#39;</span>, <span class="keyword">False</span>)</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        <span class="keywordflow">if</span> self.episode_done:</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;            <span class="keywordflow">for</span> ex <span class="keywordflow">in</span> self.current:</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                <span class="keywordflow">if</span> <span class="stringliteral">&#39;text&#39;</span> <span class="keywordflow">in</span> ex:</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;                    text = ex[<span class="stringliteral">&#39;text&#39;</span>]</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;                    self.context.append(text)</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;                    <span class="keywordflow">if</span> len(self.context) &gt; 1:</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                        text = <span class="stringliteral">&#39;\n&#39;</span>.join(self.context)</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;                <span class="comment"># add labels to context</span></div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;                labels = ex.get(<span class="stringliteral">&#39;labels&#39;</span>, ex.get(<span class="stringliteral">&#39;eval_labels&#39;</span>))</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;                label = <span class="keywordtype">None</span></div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;                <span class="keywordflow">if</span> labels <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;                    label = random.choice(labels)</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                    <span class="keywordflow">if</span> self.include_labels:</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                        self.context.append(label)</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                <span class="comment"># use None for ID to auto-assign doc ids--we don&#39;t need to</span></div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                <span class="comment"># ever reverse-lookup them</span></div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                self.triples_to_add.append((<span class="keywordtype">None</span>, text, label))</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;            self.episode_done = <span class="keyword">False</span></div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;            self.current.clear()</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;            self.context.clear()</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        <span class="keywordflow">return</span> {<span class="stringliteral">&#39;id&#39;</span>: self.getID(), <span class="stringliteral">&#39;text&#39;</span>: obs.get(<span class="stringliteral">&#39;labels&#39;</span>, [<span class="stringliteral">&#39;I don\&#39;t know&#39;</span>])[0]}</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a452d71ce3d6e2a52d37d8f305c6ffc2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a452d71ce3d6e2a52d37d8f305c6ffc2a">&#9670;&nbsp;</a></span>cands_hash</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">parlai.agents.tfidf_retriever.tfidf_retriever.TfidfRetrieverAgent.cands_hash</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d06/agents_2tfidf__retriever_2tfidf__retriever_8py_source.html#l00174">174</a> of file <a class="el" href="../../df/d06/agents_2tfidf__retriever_2tfidf__retriever_8py_source.html">tfidf_retriever.py</a>.</p>

</div>
</div>
<a id="ae783880e187479263a6c70a9aa5e4192"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae783880e187479263a6c70a9aa5e4192">&#9670;&nbsp;</a></span>context</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">parlai.agents.tfidf_retriever.tfidf_retriever.TfidfRetrieverAgent.context</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d06/agents_2tfidf__retriever_2tfidf__retriever_8py_source.html#l00191">191</a> of file <a class="el" href="../../df/d06/agents_2tfidf__retriever_2tfidf__retriever_8py_source.html">tfidf_retriever.py</a>.</p>

</div>
</div>
<a id="a7578f4be8dd7922d5fbf7ca3148066f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7578f4be8dd7922d5fbf7ca3148066f3">&#9670;&nbsp;</a></span>context_length</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">parlai.agents.tfidf_retriever.tfidf_retriever.TfidfRetrieverAgent.context_length</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d06/agents_2tfidf__retriever_2tfidf__retriever_8py_source.html#l00178">178</a> of file <a class="el" href="../../df/d06/agents_2tfidf__retriever_2tfidf__retriever_8py_source.html">tfidf_retriever.py</a>.</p>

</div>
</div>
<a id="a31354a5f1b5f330864fd4dc89d24a858"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31354a5f1b5f330864fd4dc89d24a858">&#9670;&nbsp;</a></span>current</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">parlai.agents.tfidf_retriever.tfidf_retriever.TfidfRetrieverAgent.current</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d06/agents_2tfidf__retriever_2tfidf__retriever_8py_source.html#l00190">190</a> of file <a class="el" href="../../df/d06/agents_2tfidf__retriever_2tfidf__retriever_8py_source.html">tfidf_retriever.py</a>.</p>

</div>
</div>
<a id="abd5c27e6f3d7456f3e1c3f86e150b623"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd5c27e6f3d7456f3e1c3f86e150b623">&#9670;&nbsp;</a></span>db</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">parlai.agents.tfidf_retriever.tfidf_retriever.TfidfRetrieverAgent.db</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d06/agents_2tfidf__retriever_2tfidf__retriever_8py_source.html#l00165">165</a> of file <a class="el" href="../../df/d06/agents_2tfidf__retriever_2tfidf__retriever_8py_source.html">tfidf_retriever.py</a>.</p>

</div>
</div>
<a id="a2ef924a4c453d858e3f219ec9b3b5ccf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ef924a4c453d858e3f219ec9b3b5ccf">&#9670;&nbsp;</a></span>db_path</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">parlai.agents.tfidf_retriever.tfidf_retriever.TfidfRetrieverAgent.db_path</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d06/agents_2tfidf__retriever_2tfidf__retriever_8py_source.html#l00142">142</a> of file <a class="el" href="../../df/d06/agents_2tfidf__retriever_2tfidf__retriever_8py_source.html">tfidf_retriever.py</a>.</p>

</div>
</div>
<a id="a47f6aa16c2ed129ea197b1a6c2094f1c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47f6aa16c2ed129ea197b1a6c2094f1c">&#9670;&nbsp;</a></span>episode_done</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">parlai.agents.tfidf_retriever.tfidf_retriever.TfidfRetrieverAgent.episode_done</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d06/agents_2tfidf__retriever_2tfidf__retriever_8py_source.html#l00189">189</a> of file <a class="el" href="../../df/d06/agents_2tfidf__retriever_2tfidf__retriever_8py_source.html">tfidf_retriever.py</a>.</p>

</div>
</div>
<a id="aed60a70d24ee40222693ee15f3bb7400"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed60a70d24ee40222693ee15f3bb7400">&#9670;&nbsp;</a></span>id</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">parlai.agents.tfidf_retriever.tfidf_retriever.TfidfRetrieverAgent.id</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d06/agents_2tfidf__retriever_2tfidf__retriever_8py_source.html#l00135">135</a> of file <a class="el" href="../../df/d06/agents_2tfidf__retriever_2tfidf__retriever_8py_source.html">tfidf_retriever.py</a>.</p>

</div>
</div>
<a id="af88bd8f286096dfa2da00ac418ddba60"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af88bd8f286096dfa2da00ac418ddba60">&#9670;&nbsp;</a></span>include_labels</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">parlai.agents.tfidf_retriever.tfidf_retriever.TfidfRetrieverAgent.include_labels</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d06/agents_2tfidf__retriever_2tfidf__retriever_8py_source.html#l00179">179</a> of file <a class="el" href="../../df/d06/agents_2tfidf__retriever_2tfidf__retriever_8py_source.html">tfidf_retriever.py</a>.</p>

</div>
</div>
<a id="aef0b3013cea8b9f2b1564a350a2d5ce2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef0b3013cea8b9f2b1564a350a2d5ce2">&#9670;&nbsp;</a></span>ranker</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">parlai.agents.tfidf_retriever.tfidf_retriever.TfidfRetrieverAgent.ranker</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d06/agents_2tfidf__retriever_2tfidf__retriever_8py_source.html#l00168">168</a> of file <a class="el" href="../../df/d06/agents_2tfidf__retriever_2tfidf__retriever_8py_source.html">tfidf_retriever.py</a>.</p>

</div>
</div>
<a id="ab32af649d68ec82588e0b200f8ff11ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab32af649d68ec82588e0b200f8ff11ac">&#9670;&nbsp;</a></span>ret_mode</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">parlai.agents.tfidf_retriever.tfidf_retriever.TfidfRetrieverAgent.ret_mode</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d06/agents_2tfidf__retriever_2tfidf__retriever_8py_source.html#l00173">173</a> of file <a class="el" href="../../df/d06/agents_2tfidf__retriever_2tfidf__retriever_8py_source.html">tfidf_retriever.py</a>.</p>

</div>
</div>
<a id="a531f5122614612a3b386926632f1ae32"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a531f5122614612a3b386926632f1ae32">&#9670;&nbsp;</a></span>tfidf_args</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">parlai.agents.tfidf_retriever.tfidf_retriever.TfidfRetrieverAgent.tfidf_args</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d06/agents_2tfidf__retriever_2tfidf__retriever_8py_source.html#l00145">145</a> of file <a class="el" href="../../df/d06/agents_2tfidf__retriever_2tfidf__retriever_8py_source.html">tfidf_retriever.py</a>.</p>

</div>
</div>
<a id="a505cd0341627439a8648726aa122e02c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a505cd0341627439a8648726aa122e02c">&#9670;&nbsp;</a></span>tfidf_path</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">parlai.agents.tfidf_retriever.tfidf_retriever.TfidfRetrieverAgent.tfidf_path</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d06/agents_2tfidf__retriever_2tfidf__retriever_8py_source.html#l00143">143</a> of file <a class="el" href="../../df/d06/agents_2tfidf__retriever_2tfidf__retriever_8py_source.html">tfidf_retriever.py</a>.</p>

</div>
</div>
<a id="a45b473e654ccb533f900903e154430fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45b473e654ccb533f900903e154430fd">&#9670;&nbsp;</a></span>training</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">parlai.agents.tfidf_retriever.tfidf_retriever.TfidfRetrieverAgent.training</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d06/agents_2tfidf__retriever_2tfidf__retriever_8py_source.html#l00194">194</a> of file <a class="el" href="../../df/d06/agents_2tfidf__retriever_2tfidf__retriever_8py_source.html">tfidf_retriever.py</a>.</p>

</div>
</div>
<a id="a7f513dbbd924cff1eb534294e59cec75"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f513dbbd924cff1eb534294e59cec75">&#9670;&nbsp;</a></span>triples_to_add</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">parlai.agents.tfidf_retriever.tfidf_retriever.TfidfRetrieverAgent.triples_to_add</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/d06/agents_2tfidf__retriever_2tfidf__retriever_8py_source.html#l00175">175</a> of file <a class="el" href="../../df/d06/agents_2tfidf__retriever_2tfidf__retriever_8py_source.html">tfidf_retriever.py</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>parlai/agents/tfidf_retriever/<a class="el" href="../../df/d06/agents_2tfidf__retriever_2tfidf__retriever_8py_source.html">tfidf_retriever.py</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
